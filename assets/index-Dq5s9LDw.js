(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();function Np(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ga={exports:{}},Ko={},Ka={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd;function Ig(){if(wd)return Ne;wd=1;var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,_={};function P(N,T,ne){this.props=N,this.context=T,this.refs=_,this.updater=ne||E}P.prototype.isReactComponent={},P.prototype.setState=function(N,T){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,T,"setState")},P.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function M(){}M.prototype=P.prototype;function D(N,T,ne){this.props=N,this.context=T,this.refs=_,this.updater=ne||E}var b=D.prototype=new M;b.constructor=D,C(b,P.prototype),b.isPureReactComponent=!0;var R=Array.isArray,G=Object.prototype.hasOwnProperty,q={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function te(N,T,ne){var ee,ie={},ae=null,ce=null;if(T!=null)for(ee in T.ref!==void 0&&(ce=T.ref),T.key!==void 0&&(ae=""+T.key),T)G.call(T,ee)&&!Q.hasOwnProperty(ee)&&(ie[ee]=T[ee]);var pe=arguments.length-2;if(pe===1)ie.children=ne;else if(1<pe){for(var ve=Array(pe),Se=0;Se<pe;Se++)ve[Se]=arguments[Se+2];ie.children=ve}if(N&&N.defaultProps)for(ee in pe=N.defaultProps,pe)ie[ee]===void 0&&(ie[ee]=pe[ee]);return{$$typeof:n,type:N,key:ae,ref:ce,props:ie,_owner:q.current}}function Z(N,T){return{$$typeof:n,type:N.type,key:T,ref:N.ref,props:N.props,_owner:N._owner}}function H(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function $(N){var T={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ne){return T[ne]})}var B=/\/+/g;function W(N,T){return typeof N=="object"&&N!==null&&N.key!=null?$(""+N.key):T.toString(36)}function x(N,T,ne,ee,ie){var ae=typeof N;(ae==="undefined"||ae==="boolean")&&(N=null);var ce=!1;if(N===null)ce=!0;else switch(ae){case"string":case"number":ce=!0;break;case"object":switch(N.$$typeof){case n:case o:ce=!0}}if(ce)return ce=N,ie=ie(ce),N=ee===""?"."+W(ce,0):ee,R(ie)?(ne="",N!=null&&(ne=N.replace(B,"$&/")+"/"),x(ie,T,ne,"",function(Se){return Se})):ie!=null&&(H(ie)&&(ie=Z(ie,ne+(!ie.key||ce&&ce.key===ie.key?"":(""+ie.key).replace(B,"$&/")+"/")+N)),T.push(ie)),1;if(ce=0,ee=ee===""?".":ee+":",R(N))for(var pe=0;pe<N.length;pe++){ae=N[pe];var ve=ee+W(ae,pe);ce+=x(ae,T,ne,ve,ie)}else if(ve=S(N),typeof ve=="function")for(N=ve.call(N),pe=0;!(ae=N.next()).done;)ae=ae.value,ve=ee+W(ae,pe++),ce+=x(ae,T,ne,ve,ie);else if(ae==="object")throw T=String(N),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return ce}function L(N,T,ne){if(N==null)return N;var ee=[],ie=0;return x(N,ee,"","",function(ae){return T.call(ne,ae,ie++)}),ee}function z(N){if(N._status===-1){var T=N._result;T=T(),T.then(function(ne){(N._status===0||N._status===-1)&&(N._status=1,N._result=ne)},function(ne){(N._status===0||N._status===-1)&&(N._status=2,N._result=ne)}),N._status===-1&&(N._status=0,N._result=T)}if(N._status===1)return N._result.default;throw N._result}var U={current:null},A={transition:null},j={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:A,ReactCurrentOwner:q};function F(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:L,forEach:function(N,T,ne){L(N,function(){T.apply(this,arguments)},ne)},count:function(N){var T=0;return L(N,function(){T++}),T},toArray:function(N){return L(N,function(T){return T})||[]},only:function(N){if(!H(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ne.Component=P,Ne.Fragment=i,Ne.Profiler=a,Ne.PureComponent=D,Ne.StrictMode=l,Ne.Suspense=h,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,Ne.act=F,Ne.cloneElement=function(N,T,ne){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ee=C({},N.props),ie=N.key,ae=N.ref,ce=N._owner;if(T!=null){if(T.ref!==void 0&&(ae=T.ref,ce=q.current),T.key!==void 0&&(ie=""+T.key),N.type&&N.type.defaultProps)var pe=N.type.defaultProps;for(ve in T)G.call(T,ve)&&!Q.hasOwnProperty(ve)&&(ee[ve]=T[ve]===void 0&&pe!==void 0?pe[ve]:T[ve])}var ve=arguments.length-2;if(ve===1)ee.children=ne;else if(1<ve){pe=Array(ve);for(var Se=0;Se<ve;Se++)pe[Se]=arguments[Se+2];ee.children=pe}return{$$typeof:n,type:N.type,key:ie,ref:ae,props:ee,_owner:ce}},Ne.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},Ne.createElement=te,Ne.createFactory=function(N){var T=te.bind(null,N);return T.type=N,T},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(N){return{$$typeof:p,render:N}},Ne.isValidElement=H,Ne.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:z}},Ne.memo=function(N,T){return{$$typeof:g,type:N,compare:T===void 0?null:T}},Ne.startTransition=function(N){var T=A.transition;A.transition={};try{N()}finally{A.transition=T}},Ne.unstable_act=F,Ne.useCallback=function(N,T){return U.current.useCallback(N,T)},Ne.useContext=function(N){return U.current.useContext(N)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(N){return U.current.useDeferredValue(N)},Ne.useEffect=function(N,T){return U.current.useEffect(N,T)},Ne.useId=function(){return U.current.useId()},Ne.useImperativeHandle=function(N,T,ne){return U.current.useImperativeHandle(N,T,ne)},Ne.useInsertionEffect=function(N,T){return U.current.useInsertionEffect(N,T)},Ne.useLayoutEffect=function(N,T){return U.current.useLayoutEffect(N,T)},Ne.useMemo=function(N,T){return U.current.useMemo(N,T)},Ne.useReducer=function(N,T,ne){return U.current.useReducer(N,T,ne)},Ne.useRef=function(N){return U.current.useRef(N)},Ne.useState=function(N){return U.current.useState(N)},Ne.useSyncExternalStore=function(N,T,ne){return U.current.useSyncExternalStore(N,T,ne)},Ne.useTransition=function(){return U.current.useTransition()},Ne.version="18.3.1",Ne}var Sd;function pi(){return Sd||(Sd=1,Ka.exports=Ig()),Ka.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed;function Rg(){if(Ed)return Ko;Ed=1;var n=pi(),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(p,h,g){var m,v={},S=null,E=null;g!==void 0&&(S=""+g),h.key!==void 0&&(S=""+h.key),h.ref!==void 0&&(E=h.ref);for(m in h)l.call(h,m)&&!c.hasOwnProperty(m)&&(v[m]=h[m]);if(p&&p.defaultProps)for(m in h=p.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:o,type:p,key:S,ref:E,props:v,_owner:a.current}}return Ko.Fragment=i,Ko.jsx=d,Ko.jsxs=d,Ko}var Nd;function $g(){return Nd||(Nd=1,Ga.exports=Rg()),Ga.exports}var w=$g(),V=pi();const J=Np(V),_p=V.createContext({theme:"light",toggleTheme:()=>{}}),Dg=()=>V.useContext(_p),Ag=({children:n})=>{const[o,i]=V.useState("light");V.useEffect(()=>{const a=localStorage.getItem("theme");if(a)i(a);else{const c=window.matchMedia("(prefers-color-scheme: dark)").matches;i(c?"dark":"light")}},[]),V.useEffect(()=>{document.documentElement.setAttribute("data-theme",o),localStorage.setItem("theme",o)},[o]);const l=()=>{i(a=>a==="light"?"dark":"light")};return w.jsx(_p.Provider,{value:{theme:o,toggleTheme:l},children:n})},Lg=()=>{const{theme:n,toggleTheme:o}=Dg();return w.jsx("button",{onClick:o,className:"theme-toggle",title:`Switch to ${n==="light"?"dark":"light"} theme`,children:n==="light"?"🌙":"☀️"})},Fg=()=>[{name:"Tutorial",path:"./templates/tutorialDialogue.json",content:{name:"",characters:{},startNodeId:"",nodes:{}}}];function ut(n){if(typeof n=="string"||typeof n=="number")return""+n;let o="";if(Array.isArray(n))for(let i=0,l;i<n.length;i++)(l=ut(n[i]))!==""&&(o+=(o&&" ")+l);else for(let i in n)n[i]&&(o+=(o&&" ")+i);return o}var Qa={exports:{}},Za={},Ja={exports:{}},eu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d;function Og(){if(_d)return eu;_d=1;var n=pi();function o(v,S){return v===S&&(v!==0||1/v===1/S)||v!==v&&S!==S}var i=typeof Object.is=="function"?Object.is:o,l=n.useState,a=n.useEffect,c=n.useLayoutEffect,d=n.useDebugValue;function p(v,S){var E=S(),C=l({inst:{value:E,getSnapshot:S}}),_=C[0].inst,P=C[1];return c(function(){_.value=E,_.getSnapshot=S,h(_)&&P({inst:_})},[v,E,S]),a(function(){return h(_)&&P({inst:_}),v(function(){h(_)&&P({inst:_})})},[v]),d(E),E}function h(v){var S=v.getSnapshot;v=v.value;try{var E=S();return!i(v,E)}catch{return!0}}function g(v,S){return S()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:p;return eu.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,eu}var kd;function Hg(){return kd||(kd=1,Ja.exports=Og()),Ja.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd;function Vg(){if(Cd)return Za;Cd=1;var n=pi(),o=Hg();function i(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var l=typeof Object.is=="function"?Object.is:i,a=o.useSyncExternalStore,c=n.useRef,d=n.useEffect,p=n.useMemo,h=n.useDebugValue;return Za.useSyncExternalStoreWithSelector=function(g,m,v,S,E){var C=c(null);if(C.current===null){var _={hasValue:!1,value:null};C.current=_}else _=C.current;C=p(function(){function M(q){if(!D){if(D=!0,b=q,q=S(q),E!==void 0&&_.hasValue){var Q=_.value;if(E(Q,q))return R=Q}return R=q}if(Q=R,l(b,q))return Q;var te=S(q);return E!==void 0&&E(Q,te)?(b=q,Q):(b=q,R=te)}var D=!1,b,R,G=v===void 0?null:v;return[function(){return M(m())},G===null?void 0:function(){return M(G())}]},[m,v,S,E]);var P=a(g,C[0],C[1]);return d(function(){_.hasValue=!0,_.value=P},[P]),h(P),P},Za}var jd;function Bg(){return jd||(jd=1,Qa.exports=Vg()),Qa.exports}var qg=Bg();const Ug=Np(qg),Pd=n=>{let o;const i=new Set,l=(m,v)=>{const S=typeof m=="function"?m(o):m;if(!Object.is(S,o)){const E=o;o=v??(typeof S!="object"||S===null)?S:Object.assign({},o,S),i.forEach(C=>C(o,E))}},a=()=>o,h={setState:l,getState:a,getInitialState:()=>g,subscribe:m=>(i.add(m),()=>i.delete(m)),destroy:()=>{i.clear()}},g=o=n(l,a,h);return h},bg=n=>n?Pd(n):Pd,{useDebugValue:Wg}=J,{useSyncExternalStoreWithSelector:Yg}=Ug,Xg=n=>n;function kp(n,o=Xg,i){const l=Yg(n.subscribe,n.getState,n.getServerState||n.getInitialState,o,i);return Wg(l),l}const Md=(n,o)=>{const i=bg(n),l=(a,c=o)=>kp(i,a,c);return Object.assign(l,i),l},Gg=(n,o)=>n?Md(n,o):Md;function st(n,o){if(Object.is(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;if(n instanceof Map&&o instanceof Map){if(n.size!==o.size)return!1;for(const[l,a]of n)if(!Object.is(a,o.get(l)))return!1;return!0}if(n instanceof Set&&o instanceof Set){if(n.size!==o.size)return!1;for(const l of n)if(!o.has(l))return!1;return!0}const i=Object.keys(n);if(i.length!==Object.keys(o).length)return!1;for(const l of i)if(!Object.prototype.hasOwnProperty.call(o,l)||!Object.is(n[l],o[l]))return!1;return!0}var Kg={value:()=>{}};function ol(){for(var n=0,o=arguments.length,i={},l;n<o;++n){if(!(l=arguments[n]+"")||l in i||/[\s.]/.test(l))throw new Error("illegal type: "+l);i[l]=[]}return new Ws(i)}function Ws(n){this._=n}function Qg(n,o){return n.trim().split(/^|\s+/).map(function(i){var l="",a=i.indexOf(".");if(a>=0&&(l=i.slice(a+1),i=i.slice(0,a)),i&&!o.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:l}})}Ws.prototype=ol.prototype={constructor:Ws,on:function(n,o){var i=this._,l=Qg(n+"",i),a,c=-1,d=l.length;if(arguments.length<2){for(;++c<d;)if((a=(n=l[c]).type)&&(a=Zg(i[a],n.name)))return a;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++c<d;)if(a=(n=l[c]).type)i[a]=Td(i[a],n.name,o);else if(o==null)for(a in i)i[a]=Td(i[a],n.name,null);return this},copy:function(){var n={},o=this._;for(var i in o)n[i]=o[i].slice();return new Ws(n)},call:function(n,o){if((a=arguments.length-2)>0)for(var i=new Array(a),l=0,a,c;l<a;++l)i[l]=arguments[l+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(c=this._[n],l=0,a=c.length;l<a;++l)c[l].value.apply(o,i)},apply:function(n,o,i){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var l=this._[n],a=0,c=l.length;a<c;++a)l[a].value.apply(o,i)}};function Zg(n,o){for(var i=0,l=n.length,a;i<l;++i)if((a=n[i]).name===o)return a.value}function Td(n,o,i){for(var l=0,a=n.length;l<a;++l)if(n[l].name===o){n[l]=Kg,n=n.slice(0,l).concat(n.slice(l+1));break}return i!=null&&n.push({name:o,value:i}),n}var mu="http://www.w3.org/1999/xhtml";const zd={svg:"http://www.w3.org/2000/svg",xhtml:mu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function il(n){var o=n+="",i=o.indexOf(":");return i>=0&&(o=n.slice(0,i))!=="xmlns"&&(n=n.slice(i+1)),zd.hasOwnProperty(o)?{space:zd[o],local:n}:n}function Jg(n){return function(){var o=this.ownerDocument,i=this.namespaceURI;return i===mu&&o.documentElement.namespaceURI===mu?o.createElement(n):o.createElementNS(i,n)}}function ey(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Cp(n){var o=il(n);return(o.local?ey:Jg)(o)}function ty(){}function zu(n){return n==null?ty:function(){return this.querySelector(n)}}function ny(n){typeof n!="function"&&(n=zu(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,p=l[a]=new Array(d),h,g,m=0;m<d;++m)(h=c[m])&&(g=n.call(h,h.__data__,m,c))&&("__data__"in h&&(g.__data__=h.__data__),p[m]=g);return new Ct(l,this._parents)}function ry(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function oy(){return[]}function jp(n){return n==null?oy:function(){return this.querySelectorAll(n)}}function iy(n){return function(){return ry(n.apply(this,arguments))}}function sy(n){typeof n=="function"?n=iy(n):n=jp(n);for(var o=this._groups,i=o.length,l=[],a=[],c=0;c<i;++c)for(var d=o[c],p=d.length,h,g=0;g<p;++g)(h=d[g])&&(l.push(n.call(h,h.__data__,g,d)),a.push(h));return new Ct(l,a)}function Pp(n){return function(){return this.matches(n)}}function Mp(n){return function(o){return o.matches(n)}}var ly=Array.prototype.find;function ay(n){return function(){return ly.call(this.children,n)}}function uy(){return this.firstElementChild}function cy(n){return this.select(n==null?uy:ay(typeof n=="function"?n:Mp(n)))}var fy=Array.prototype.filter;function dy(){return Array.from(this.children)}function py(n){return function(){return fy.call(this.children,n)}}function hy(n){return this.selectAll(n==null?dy:py(typeof n=="function"?n:Mp(n)))}function my(n){typeof n!="function"&&(n=Pp(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,p=l[a]=[],h,g=0;g<d;++g)(h=c[g])&&n.call(h,h.__data__,g,c)&&p.push(h);return new Ct(l,this._parents)}function Tp(n){return new Array(n.length)}function gy(){return new Ct(this._enter||this._groups.map(Tp),this._parents)}function Ks(n,o){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=o}Ks.prototype={constructor:Ks,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,o){return this._parent.insertBefore(n,o)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function yy(n){return function(){return n}}function vy(n,o,i,l,a,c){for(var d=0,p,h=o.length,g=c.length;d<g;++d)(p=o[d])?(p.__data__=c[d],l[d]=p):i[d]=new Ks(n,c[d]);for(;d<h;++d)(p=o[d])&&(a[d]=p)}function xy(n,o,i,l,a,c,d){var p,h,g=new Map,m=o.length,v=c.length,S=new Array(m),E;for(p=0;p<m;++p)(h=o[p])&&(S[p]=E=d.call(h,h.__data__,p,o)+"",g.has(E)?a[p]=h:g.set(E,h));for(p=0;p<v;++p)E=d.call(n,c[p],p,c)+"",(h=g.get(E))?(l[p]=h,h.__data__=c[p],g.delete(E)):i[p]=new Ks(n,c[p]);for(p=0;p<m;++p)(h=o[p])&&g.get(S[p])===h&&(a[p]=h)}function wy(n){return n.__data__}function Sy(n,o){if(!arguments.length)return Array.from(this,wy);var i=o?xy:vy,l=this._parents,a=this._groups;typeof n!="function"&&(n=yy(n));for(var c=a.length,d=new Array(c),p=new Array(c),h=new Array(c),g=0;g<c;++g){var m=l[g],v=a[g],S=v.length,E=Ey(n.call(m,m&&m.__data__,g,l)),C=E.length,_=p[g]=new Array(C),P=d[g]=new Array(C),M=h[g]=new Array(S);i(m,v,_,P,M,E,o);for(var D=0,b=0,R,G;D<C;++D)if(R=_[D]){for(D>=b&&(b=D+1);!(G=P[b])&&++b<C;);R._next=G||null}}return d=new Ct(d,l),d._enter=p,d._exit=h,d}function Ey(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Ny(){return new Ct(this._exit||this._groups.map(Tp),this._parents)}function _y(n,o,i){var l=this.enter(),a=this,c=this.exit();return typeof n=="function"?(l=n(l),l&&(l=l.selection())):l=l.append(n+""),o!=null&&(a=o(a),a&&(a=a.selection())),i==null?c.remove():i(c),l&&a?l.merge(a).order():a}function ky(n){for(var o=n.selection?n.selection():n,i=this._groups,l=o._groups,a=i.length,c=l.length,d=Math.min(a,c),p=new Array(a),h=0;h<d;++h)for(var g=i[h],m=l[h],v=g.length,S=p[h]=new Array(v),E,C=0;C<v;++C)(E=g[C]||m[C])&&(S[C]=E);for(;h<a;++h)p[h]=i[h];return new Ct(p,this._parents)}function Cy(){for(var n=this._groups,o=-1,i=n.length;++o<i;)for(var l=n[o],a=l.length-1,c=l[a],d;--a>=0;)(d=l[a])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function jy(n){n||(n=Py);function o(v,S){return v&&S?n(v.__data__,S.__data__):!v-!S}for(var i=this._groups,l=i.length,a=new Array(l),c=0;c<l;++c){for(var d=i[c],p=d.length,h=a[c]=new Array(p),g,m=0;m<p;++m)(g=d[m])&&(h[m]=g);h.sort(o)}return new Ct(a,this._parents).order()}function Py(n,o){return n<o?-1:n>o?1:n>=o?0:NaN}function My(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function Ty(){return Array.from(this)}function zy(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length;a<c;++a){var d=l[a];if(d)return d}return null}function Iy(){let n=0;for(const o of this)++n;return n}function Ry(){return!this.node()}function $y(n){for(var o=this._groups,i=0,l=o.length;i<l;++i)for(var a=o[i],c=0,d=a.length,p;c<d;++c)(p=a[c])&&n.call(p,p.__data__,c,a);return this}function Dy(n){return function(){this.removeAttribute(n)}}function Ay(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Ly(n,o){return function(){this.setAttribute(n,o)}}function Fy(n,o){return function(){this.setAttributeNS(n.space,n.local,o)}}function Oy(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttribute(n):this.setAttribute(n,i)}}function Hy(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,i)}}function Vy(n,o){var i=il(n);if(arguments.length<2){var l=this.node();return i.local?l.getAttributeNS(i.space,i.local):l.getAttribute(i)}return this.each((o==null?i.local?Ay:Dy:typeof o=="function"?i.local?Hy:Oy:i.local?Fy:Ly)(i,o))}function zp(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function By(n){return function(){this.style.removeProperty(n)}}function qy(n,o,i){return function(){this.style.setProperty(n,o,i)}}function Uy(n,o,i){return function(){var l=o.apply(this,arguments);l==null?this.style.removeProperty(n):this.style.setProperty(n,l,i)}}function by(n,o,i){return arguments.length>1?this.each((o==null?By:typeof o=="function"?Uy:qy)(n,o,i??"")):so(this.node(),n)}function so(n,o){return n.style.getPropertyValue(o)||zp(n).getComputedStyle(n,null).getPropertyValue(o)}function Wy(n){return function(){delete this[n]}}function Yy(n,o){return function(){this[n]=o}}function Xy(n,o){return function(){var i=o.apply(this,arguments);i==null?delete this[n]:this[n]=i}}function Gy(n,o){return arguments.length>1?this.each((o==null?Wy:typeof o=="function"?Xy:Yy)(n,o)):this.node()[n]}function Ip(n){return n.trim().split(/^|\s+/)}function Iu(n){return n.classList||new Rp(n)}function Rp(n){this._node=n,this._names=Ip(n.getAttribute("class")||"")}Rp.prototype={add:function(n){var o=this._names.indexOf(n);o<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var o=this._names.indexOf(n);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function $p(n,o){for(var i=Iu(n),l=-1,a=o.length;++l<a;)i.add(o[l])}function Dp(n,o){for(var i=Iu(n),l=-1,a=o.length;++l<a;)i.remove(o[l])}function Ky(n){return function(){$p(this,n)}}function Qy(n){return function(){Dp(this,n)}}function Zy(n,o){return function(){(o.apply(this,arguments)?$p:Dp)(this,n)}}function Jy(n,o){var i=Ip(n+"");if(arguments.length<2){for(var l=Iu(this.node()),a=-1,c=i.length;++a<c;)if(!l.contains(i[a]))return!1;return!0}return this.each((typeof o=="function"?Zy:o?Ky:Qy)(i,o))}function e0(){this.textContent=""}function t0(n){return function(){this.textContent=n}}function n0(n){return function(){var o=n.apply(this,arguments);this.textContent=o??""}}function r0(n){return arguments.length?this.each(n==null?e0:(typeof n=="function"?n0:t0)(n)):this.node().textContent}function o0(){this.innerHTML=""}function i0(n){return function(){this.innerHTML=n}}function s0(n){return function(){var o=n.apply(this,arguments);this.innerHTML=o??""}}function l0(n){return arguments.length?this.each(n==null?o0:(typeof n=="function"?s0:i0)(n)):this.node().innerHTML}function a0(){this.nextSibling&&this.parentNode.appendChild(this)}function u0(){return this.each(a0)}function c0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function f0(){return this.each(c0)}function d0(n){var o=typeof n=="function"?n:Cp(n);return this.select(function(){return this.appendChild(o.apply(this,arguments))})}function p0(){return null}function h0(n,o){var i=typeof n=="function"?n:Cp(n),l=o==null?p0:typeof o=="function"?o:zu(o);return this.select(function(){return this.insertBefore(i.apply(this,arguments),l.apply(this,arguments)||null)})}function m0(){var n=this.parentNode;n&&n.removeChild(this)}function g0(){return this.each(m0)}function y0(){var n=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function v0(){var n=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function x0(n){return this.select(n?v0:y0)}function w0(n){return arguments.length?this.property("__data__",n):this.node().__data__}function S0(n){return function(o){n.call(this,o,this.__data__)}}function E0(n){return n.trim().split(/^|\s+/).map(function(o){var i="",l=o.indexOf(".");return l>=0&&(i=o.slice(l+1),o=o.slice(0,l)),{type:o,name:i}})}function N0(n){return function(){var o=this.__on;if(o){for(var i=0,l=-1,a=o.length,c;i<a;++i)c=o[i],(!n.type||c.type===n.type)&&c.name===n.name?this.removeEventListener(c.type,c.listener,c.options):o[++l]=c;++l?o.length=l:delete this.__on}}}function _0(n,o,i){return function(){var l=this.__on,a,c=S0(o);if(l){for(var d=0,p=l.length;d<p;++d)if((a=l[d]).type===n.type&&a.name===n.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=c,a.options=i),a.value=o;return}}this.addEventListener(n.type,c,i),a={type:n.type,name:n.name,value:o,listener:c,options:i},l?l.push(a):this.__on=[a]}}function k0(n,o,i){var l=E0(n+""),a,c=l.length,d;if(arguments.length<2){var p=this.node().__on;if(p){for(var h=0,g=p.length,m;h<g;++h)for(a=0,m=p[h];a<c;++a)if((d=l[a]).type===m.type&&d.name===m.name)return m.value}return}for(p=o?_0:N0,a=0;a<c;++a)this.each(p(l[a],o,i));return this}function Ap(n,o,i){var l=zp(n),a=l.CustomEvent;typeof a=="function"?a=new a(o,i):(a=l.document.createEvent("Event"),i?(a.initEvent(o,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(o,!1,!1)),n.dispatchEvent(a)}function C0(n,o){return function(){return Ap(this,n,o)}}function j0(n,o){return function(){return Ap(this,n,o.apply(this,arguments))}}function P0(n,o){return this.each((typeof o=="function"?j0:C0)(n,o))}function*M0(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length,d;a<c;++a)(d=l[a])&&(yield d)}var Lp=[null];function Ct(n,o){this._groups=n,this._parents=o}function hi(){return new Ct([[document.documentElement]],Lp)}function T0(){return this}Ct.prototype=hi.prototype={constructor:Ct,select:ny,selectAll:sy,selectChild:cy,selectChildren:hy,filter:my,data:Sy,enter:gy,exit:Ny,join:_y,merge:ky,selection:T0,order:Cy,sort:jy,call:My,nodes:Ty,node:zy,size:Iy,empty:Ry,each:$y,attr:Vy,style:by,property:Gy,classed:Jy,text:r0,html:l0,raise:u0,lower:f0,append:d0,insert:h0,remove:g0,clone:x0,datum:w0,on:k0,dispatch:P0,[Symbol.iterator]:M0};function Yt(n){return typeof n=="string"?new Ct([[document.querySelector(n)]],[document.documentElement]):new Ct([[n]],Lp)}function z0(n){let o;for(;o=n.sourceEvent;)n=o;return n}function an(n,o){if(n=z0(n),o===void 0&&(o=n.currentTarget),o){var i=o.ownerSVGElement||o;if(i.createSVGPoint){var l=i.createSVGPoint();return l.x=n.clientX,l.y=n.clientY,l=l.matrixTransform(o.getScreenCTM().inverse()),[l.x,l.y]}if(o.getBoundingClientRect){var a=o.getBoundingClientRect();return[n.clientX-a.left-o.clientLeft,n.clientY-a.top-o.clientTop]}}return[n.pageX,n.pageY]}const I0={passive:!1},ii={capture:!0,passive:!1};function tu(n){n.stopImmediatePropagation()}function no(n){n.preventDefault(),n.stopImmediatePropagation()}function Fp(n){var o=n.document.documentElement,i=Yt(n).on("dragstart.drag",no,ii);"onselectstart"in o?i.on("selectstart.drag",no,ii):(o.__noselect=o.style.MozUserSelect,o.style.MozUserSelect="none")}function Op(n,o){var i=n.document.documentElement,l=Yt(n).on("dragstart.drag",null);o&&(l.on("click.drag",no,ii),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in i?l.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const As=n=>()=>n;function gu(n,{sourceEvent:o,subject:i,target:l,identifier:a,active:c,x:d,y:p,dx:h,dy:g,dispatch:m}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:p,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:m}})}gu.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function R0(n){return!n.ctrlKey&&!n.button}function $0(){return this.parentNode}function D0(n,o){return o??{x:n.x,y:n.y}}function A0(){return navigator.maxTouchPoints||"ontouchstart"in this}function L0(){var n=R0,o=$0,i=D0,l=A0,a={},c=ol("start","drag","end"),d=0,p,h,g,m,v=0;function S(R){R.on("mousedown.drag",E).filter(l).on("touchstart.drag",P).on("touchmove.drag",M,I0).on("touchend.drag touchcancel.drag",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(R,G){if(!(m||!n.call(this,R,G))){var q=b(this,o.call(this,R,G),R,G,"mouse");q&&(Yt(R.view).on("mousemove.drag",C,ii).on("mouseup.drag",_,ii),Fp(R.view),tu(R),g=!1,p=R.clientX,h=R.clientY,q("start",R))}}function C(R){if(no(R),!g){var G=R.clientX-p,q=R.clientY-h;g=G*G+q*q>v}a.mouse("drag",R)}function _(R){Yt(R.view).on("mousemove.drag mouseup.drag",null),Op(R.view,g),no(R),a.mouse("end",R)}function P(R,G){if(n.call(this,R,G)){var q=R.changedTouches,Q=o.call(this,R,G),te=q.length,Z,H;for(Z=0;Z<te;++Z)(H=b(this,Q,R,G,q[Z].identifier,q[Z]))&&(tu(R),H("start",R,q[Z]))}}function M(R){var G=R.changedTouches,q=G.length,Q,te;for(Q=0;Q<q;++Q)(te=a[G[Q].identifier])&&(no(R),te("drag",R,G[Q]))}function D(R){var G=R.changedTouches,q=G.length,Q,te;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),Q=0;Q<q;++Q)(te=a[G[Q].identifier])&&(tu(R),te("end",R,G[Q]))}function b(R,G,q,Q,te,Z){var H=c.copy(),$=an(Z||q,G),B,W,x;if((x=i.call(R,new gu("beforestart",{sourceEvent:q,target:S,identifier:te,active:d,x:$[0],y:$[1],dx:0,dy:0,dispatch:H}),Q))!=null)return B=x.x-$[0]||0,W=x.y-$[1]||0,function L(z,U,A){var j=$,F;switch(z){case"start":a[te]=L,F=d++;break;case"end":delete a[te],--d;case"drag":$=an(A||U,G),F=d;break}H.call(z,R,new gu(z,{sourceEvent:U,subject:x,target:S,identifier:te,active:F,x:$[0]+B,y:$[1]+W,dx:$[0]-j[0],dy:$[1]-j[1],dispatch:H}),Q)}}return S.filter=function(R){return arguments.length?(n=typeof R=="function"?R:As(!!R),S):n},S.container=function(R){return arguments.length?(o=typeof R=="function"?R:As(R),S):o},S.subject=function(R){return arguments.length?(i=typeof R=="function"?R:As(R),S):i},S.touchable=function(R){return arguments.length?(l=typeof R=="function"?R:As(!!R),S):l},S.on=function(){var R=c.on.apply(c,arguments);return R===c?S:R},S.clickDistance=function(R){return arguments.length?(v=(R=+R)*R,S):Math.sqrt(v)},S}function Ru(n,o,i){n.prototype=o.prototype=i,i.constructor=n}function Hp(n,o){var i=Object.create(n.prototype);for(var l in o)i[l]=o[l];return i}function mi(){}var si=.7,Qs=1/si,ro="\\s*([+-]?\\d+)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F0=/^#([0-9a-f]{3,8})$/,O0=new RegExp(`^rgb\\(${ro},${ro},${ro}\\)$`),H0=new RegExp(`^rgb\\(${un},${un},${un}\\)$`),V0=new RegExp(`^rgba\\(${ro},${ro},${ro},${li}\\)$`),B0=new RegExp(`^rgba\\(${un},${un},${un},${li}\\)$`),q0=new RegExp(`^hsl\\(${li},${un},${un}\\)$`),U0=new RegExp(`^hsla\\(${li},${un},${un},${li}\\)$`),Id={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ru(mi,ai,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Rd,formatHex:Rd,formatHex8:b0,formatHsl:W0,formatRgb:$d,toString:$d});function Rd(){return this.rgb().formatHex()}function b0(){return this.rgb().formatHex8()}function W0(){return Vp(this).formatHsl()}function $d(){return this.rgb().formatRgb()}function ai(n){var o,i;return n=(n+"").trim().toLowerCase(),(o=F0.exec(n))?(i=o[1].length,o=parseInt(o[1],16),i===6?Dd(o):i===3?new yt(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):i===8?Ls(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):i===4?Ls(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=O0.exec(n))?new yt(o[1],o[2],o[3],1):(o=H0.exec(n))?new yt(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=V0.exec(n))?Ls(o[1],o[2],o[3],o[4]):(o=B0.exec(n))?Ls(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=q0.exec(n))?Fd(o[1],o[2]/100,o[3]/100,1):(o=U0.exec(n))?Fd(o[1],o[2]/100,o[3]/100,o[4]):Id.hasOwnProperty(n)?Dd(Id[n]):n==="transparent"?new yt(NaN,NaN,NaN,0):null}function Dd(n){return new yt(n>>16&255,n>>8&255,n&255,1)}function Ls(n,o,i,l){return l<=0&&(n=o=i=NaN),new yt(n,o,i,l)}function Y0(n){return n instanceof mi||(n=ai(n)),n?(n=n.rgb(),new yt(n.r,n.g,n.b,n.opacity)):new yt}function yu(n,o,i,l){return arguments.length===1?Y0(n):new yt(n,o,i,l??1)}function yt(n,o,i,l){this.r=+n,this.g=+o,this.b=+i,this.opacity=+l}Ru(yt,yu,Hp(mi,{brighter(n){return n=n==null?Qs:Math.pow(Qs,n),new yt(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?si:Math.pow(si,n),new yt(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new yt(Er(this.r),Er(this.g),Er(this.b),Zs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ad,formatHex:Ad,formatHex8:X0,formatRgb:Ld,toString:Ld}));function Ad(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}`}function X0(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}${wr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ld(){const n=Zs(this.opacity);return`${n===1?"rgb(":"rgba("}${Er(this.r)}, ${Er(this.g)}, ${Er(this.b)}${n===1?")":`, ${n})`}`}function Zs(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Er(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function wr(n){return n=Er(n),(n<16?"0":"")+n.toString(16)}function Fd(n,o,i,l){return l<=0?n=o=i=NaN:i<=0||i>=1?n=o=NaN:o<=0&&(n=NaN),new Xt(n,o,i,l)}function Vp(n){if(n instanceof Xt)return new Xt(n.h,n.s,n.l,n.opacity);if(n instanceof mi||(n=ai(n)),!n)return new Xt;if(n instanceof Xt)return n;n=n.rgb();var o=n.r/255,i=n.g/255,l=n.b/255,a=Math.min(o,i,l),c=Math.max(o,i,l),d=NaN,p=c-a,h=(c+a)/2;return p?(o===c?d=(i-l)/p+(i<l)*6:i===c?d=(l-o)/p+2:d=(o-i)/p+4,p/=h<.5?c+a:2-c-a,d*=60):p=h>0&&h<1?0:d,new Xt(d,p,h,n.opacity)}function G0(n,o,i,l){return arguments.length===1?Vp(n):new Xt(n,o,i,l??1)}function Xt(n,o,i,l){this.h=+n,this.s=+o,this.l=+i,this.opacity=+l}Ru(Xt,G0,Hp(mi,{brighter(n){return n=n==null?Qs:Math.pow(Qs,n),new Xt(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?si:Math.pow(si,n),new Xt(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,o=isNaN(n)||isNaN(this.s)?0:this.s,i=this.l,l=i+(i<.5?i:1-i)*o,a=2*i-l;return new yt(nu(n>=240?n-240:n+120,a,l),nu(n,a,l),nu(n<120?n+240:n-120,a,l),this.opacity)},clamp(){return new Xt(Od(this.h),Fs(this.s),Fs(this.l),Zs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Zs(this.opacity);return`${n===1?"hsl(":"hsla("}${Od(this.h)}, ${Fs(this.s)*100}%, ${Fs(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Od(n){return n=(n||0)%360,n<0?n+360:n}function Fs(n){return Math.max(0,Math.min(1,n||0))}function nu(n,o,i){return(n<60?o+(i-o)*n/60:n<180?i:n<240?o+(i-o)*(240-n)/60:o)*255}const Bp=n=>()=>n;function K0(n,o){return function(i){return n+i*o}}function Q0(n,o,i){return n=Math.pow(n,i),o=Math.pow(o,i)-n,i=1/i,function(l){return Math.pow(n+l*o,i)}}function Z0(n){return(n=+n)==1?qp:function(o,i){return i-o?Q0(o,i,n):Bp(isNaN(o)?i:o)}}function qp(n,o){var i=o-n;return i?K0(n,i):Bp(isNaN(n)?o:n)}const Hd=function n(o){var i=Z0(o);function l(a,c){var d=i((a=yu(a)).r,(c=yu(c)).r),p=i(a.g,c.g),h=i(a.b,c.b),g=qp(a.opacity,c.opacity);return function(m){return a.r=d(m),a.g=p(m),a.b=h(m),a.opacity=g(m),a+""}}return l.gamma=n,l}(1);function Zn(n,o){return n=+n,o=+o,function(i){return n*(1-i)+o*i}}var vu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ru=new RegExp(vu.source,"g");function J0(n){return function(){return n}}function ev(n){return function(o){return n(o)+""}}function tv(n,o){var i=vu.lastIndex=ru.lastIndex=0,l,a,c,d=-1,p=[],h=[];for(n=n+"",o=o+"";(l=vu.exec(n))&&(a=ru.exec(o));)(c=a.index)>i&&(c=o.slice(i,c),p[d]?p[d]+=c:p[++d]=c),(l=l[0])===(a=a[0])?p[d]?p[d]+=a:p[++d]=a:(p[++d]=null,h.push({i:d,x:Zn(l,a)})),i=ru.lastIndex;return i<o.length&&(c=o.slice(i),p[d]?p[d]+=c:p[++d]=c),p.length<2?h[0]?ev(h[0].x):J0(o):(o=h.length,function(g){for(var m=0,v;m<o;++m)p[(v=h[m]).i]=v.x(g);return p.join("")})}var Vd=180/Math.PI,xu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Up(n,o,i,l,a,c){var d,p,h;return(d=Math.sqrt(n*n+o*o))&&(n/=d,o/=d),(h=n*i+o*l)&&(i-=n*h,l-=o*h),(p=Math.sqrt(i*i+l*l))&&(i/=p,l/=p,h/=p),n*l<o*i&&(n=-n,o=-o,h=-h,d=-d),{translateX:a,translateY:c,rotate:Math.atan2(o,n)*Vd,skewX:Math.atan(h)*Vd,scaleX:d,scaleY:p}}var Os;function nv(n){const o=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return o.isIdentity?xu:Up(o.a,o.b,o.c,o.d,o.e,o.f)}function rv(n){return n==null||(Os||(Os=document.createElementNS("http://www.w3.org/2000/svg","g")),Os.setAttribute("transform",n),!(n=Os.transform.baseVal.consolidate()))?xu:(n=n.matrix,Up(n.a,n.b,n.c,n.d,n.e,n.f))}function bp(n,o,i,l){function a(g){return g.length?g.pop()+" ":""}function c(g,m,v,S,E,C){if(g!==v||m!==S){var _=E.push("translate(",null,o,null,i);C.push({i:_-4,x:Zn(g,v)},{i:_-2,x:Zn(m,S)})}else(v||S)&&E.push("translate("+v+o+S+i)}function d(g,m,v,S){g!==m?(g-m>180?m+=360:m-g>180&&(g+=360),S.push({i:v.push(a(v)+"rotate(",null,l)-2,x:Zn(g,m)})):m&&v.push(a(v)+"rotate("+m+l)}function p(g,m,v,S){g!==m?S.push({i:v.push(a(v)+"skewX(",null,l)-2,x:Zn(g,m)}):m&&v.push(a(v)+"skewX("+m+l)}function h(g,m,v,S,E,C){if(g!==v||m!==S){var _=E.push(a(E)+"scale(",null,",",null,")");C.push({i:_-4,x:Zn(g,v)},{i:_-2,x:Zn(m,S)})}else(v!==1||S!==1)&&E.push(a(E)+"scale("+v+","+S+")")}return function(g,m){var v=[],S=[];return g=n(g),m=n(m),c(g.translateX,g.translateY,m.translateX,m.translateY,v,S),d(g.rotate,m.rotate,v,S),p(g.skewX,m.skewX,v,S),h(g.scaleX,g.scaleY,m.scaleX,m.scaleY,v,S),g=m=null,function(E){for(var C=-1,_=S.length,P;++C<_;)v[(P=S[C]).i]=P.x(E);return v.join("")}}}var ov=bp(nv,"px, ","px)","deg)"),iv=bp(rv,", ",")",")"),sv=1e-12;function Bd(n){return((n=Math.exp(n))+1/n)/2}function lv(n){return((n=Math.exp(n))-1/n)/2}function av(n){return((n=Math.exp(2*n))-1)/(n+1)}const uv=function n(o,i,l){function a(c,d){var p=c[0],h=c[1],g=c[2],m=d[0],v=d[1],S=d[2],E=m-p,C=v-h,_=E*E+C*C,P,M;if(_<sv)M=Math.log(S/g)/o,P=function(Q){return[p+Q*E,h+Q*C,g*Math.exp(o*Q*M)]};else{var D=Math.sqrt(_),b=(S*S-g*g+l*_)/(2*g*i*D),R=(S*S-g*g-l*_)/(2*S*i*D),G=Math.log(Math.sqrt(b*b+1)-b),q=Math.log(Math.sqrt(R*R+1)-R);M=(q-G)/o,P=function(Q){var te=Q*M,Z=Bd(G),H=g/(i*D)*(Z*av(o*te+G)-lv(G));return[p+H*E,h+H*C,g*Z/Bd(o*te+G)]}}return P.duration=M*1e3*o/Math.SQRT2,P}return a.rho=function(c){var d=Math.max(.001,+c),p=d*d,h=p*p;return n(d,p,h)},a}(Math.SQRT2,2,4);var lo=0,ni=0,Qo=0,Wp=1e3,Js,ri,el=0,Nr=0,sl=0,ui=typeof performance=="object"&&performance.now?performance:Date,Yp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function $u(){return Nr||(Yp(cv),Nr=ui.now()+sl)}function cv(){Nr=0}function tl(){this._call=this._time=this._next=null}tl.prototype=Xp.prototype={constructor:tl,restart:function(n,o,i){if(typeof n!="function")throw new TypeError("callback is not a function");i=(i==null?$u():+i)+(o==null?0:+o),!this._next&&ri!==this&&(ri?ri._next=this:Js=this,ri=this),this._call=n,this._time=i,wu()},stop:function(){this._call&&(this._call=null,this._time=1/0,wu())}};function Xp(n,o,i){var l=new tl;return l.restart(n,o,i),l}function fv(){$u(),++lo;for(var n=Js,o;n;)(o=Nr-n._time)>=0&&n._call.call(void 0,o),n=n._next;--lo}function qd(){Nr=(el=ui.now())+sl,lo=ni=0;try{fv()}finally{lo=0,pv(),Nr=0}}function dv(){var n=ui.now(),o=n-el;o>Wp&&(sl-=o,el=n)}function pv(){for(var n,o=Js,i,l=1/0;o;)o._call?(l>o._time&&(l=o._time),n=o,o=o._next):(i=o._next,o._next=null,o=n?n._next=i:Js=i);ri=n,wu(l)}function wu(n){if(!lo){ni&&(ni=clearTimeout(ni));var o=n-Nr;o>24?(n<1/0&&(ni=setTimeout(qd,n-ui.now()-sl)),Qo&&(Qo=clearInterval(Qo))):(Qo||(el=ui.now(),Qo=setInterval(dv,Wp)),lo=1,Yp(qd))}}function Ud(n,o,i){var l=new tl;return o=o==null?0:+o,l.restart(a=>{l.stop(),n(a+o)},o,i),l}var hv=ol("start","end","cancel","interrupt"),mv=[],Gp=0,bd=1,Su=2,Ys=3,Wd=4,Eu=5,Xs=6;function ll(n,o,i,l,a,c){var d=n.__transition;if(!d)n.__transition={};else if(i in d)return;gv(n,i,{name:o,index:l,group:a,on:hv,tween:mv,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:Gp})}function Du(n,o){var i=Kt(n,o);if(i.state>Gp)throw new Error("too late; already scheduled");return i}function cn(n,o){var i=Kt(n,o);if(i.state>Ys)throw new Error("too late; already running");return i}function Kt(n,o){var i=n.__transition;if(!i||!(i=i[o]))throw new Error("transition not found");return i}function gv(n,o,i){var l=n.__transition,a;l[o]=i,i.timer=Xp(c,0,i.time);function c(g){i.state=bd,i.timer.restart(d,i.delay,i.time),i.delay<=g&&d(g-i.delay)}function d(g){var m,v,S,E;if(i.state!==bd)return h();for(m in l)if(E=l[m],E.name===i.name){if(E.state===Ys)return Ud(d);E.state===Wd?(E.state=Xs,E.timer.stop(),E.on.call("interrupt",n,n.__data__,E.index,E.group),delete l[m]):+m<o&&(E.state=Xs,E.timer.stop(),E.on.call("cancel",n,n.__data__,E.index,E.group),delete l[m])}if(Ud(function(){i.state===Ys&&(i.state=Wd,i.timer.restart(p,i.delay,i.time),p(g))}),i.state=Su,i.on.call("start",n,n.__data__,i.index,i.group),i.state===Su){for(i.state=Ys,a=new Array(S=i.tween.length),m=0,v=-1;m<S;++m)(E=i.tween[m].value.call(n,n.__data__,i.index,i.group))&&(a[++v]=E);a.length=v+1}}function p(g){for(var m=g<i.duration?i.ease.call(null,g/i.duration):(i.timer.restart(h),i.state=Eu,1),v=-1,S=a.length;++v<S;)a[v].call(n,m);i.state===Eu&&(i.on.call("end",n,n.__data__,i.index,i.group),h())}function h(){i.state=Xs,i.timer.stop(),delete l[o];for(var g in l)return;delete n.__transition}}function Gs(n,o){var i=n.__transition,l,a,c=!0,d;if(i){o=o==null?null:o+"";for(d in i){if((l=i[d]).name!==o){c=!1;continue}a=l.state>Su&&l.state<Eu,l.state=Xs,l.timer.stop(),l.on.call(a?"interrupt":"cancel",n,n.__data__,l.index,l.group),delete i[d]}c&&delete n.__transition}}function yv(n){return this.each(function(){Gs(this,n)})}function vv(n,o){var i,l;return function(){var a=cn(this,n),c=a.tween;if(c!==i){l=i=c;for(var d=0,p=l.length;d<p;++d)if(l[d].name===o){l=l.slice(),l.splice(d,1);break}}a.tween=l}}function xv(n,o,i){var l,a;if(typeof i!="function")throw new Error;return function(){var c=cn(this,n),d=c.tween;if(d!==l){a=(l=d).slice();for(var p={name:o,value:i},h=0,g=a.length;h<g;++h)if(a[h].name===o){a[h]=p;break}h===g&&a.push(p)}c.tween=a}}function wv(n,o){var i=this._id;if(n+="",arguments.length<2){for(var l=Kt(this.node(),i).tween,a=0,c=l.length,d;a<c;++a)if((d=l[a]).name===n)return d.value;return null}return this.each((o==null?vv:xv)(i,n,o))}function Au(n,o,i){var l=n._id;return n.each(function(){var a=cn(this,l);(a.value||(a.value={}))[o]=i.apply(this,arguments)}),function(a){return Kt(a,l).value[o]}}function Kp(n,o){var i;return(typeof o=="number"?Zn:o instanceof ai?Hd:(i=ai(o))?(o=i,Hd):tv)(n,o)}function Sv(n){return function(){this.removeAttribute(n)}}function Ev(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Nv(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttribute(n);return d===a?null:d===l?c:c=o(l=d,i)}}function _v(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttributeNS(n.space,n.local);return d===a?null:d===l?c:c=o(l=d,i)}}function kv(n,o,i){var l,a,c;return function(){var d,p=i(this),h;return p==null?void this.removeAttribute(n):(d=this.getAttribute(n),h=p+"",d===h?null:d===l&&h===a?c:(a=h,c=o(l=d,p)))}}function Cv(n,o,i){var l,a,c;return function(){var d,p=i(this),h;return p==null?void this.removeAttributeNS(n.space,n.local):(d=this.getAttributeNS(n.space,n.local),h=p+"",d===h?null:d===l&&h===a?c:(a=h,c=o(l=d,p)))}}function jv(n,o){var i=il(n),l=i==="transform"?iv:Kp;return this.attrTween(n,typeof o=="function"?(i.local?Cv:kv)(i,l,Au(this,"attr."+n,o)):o==null?(i.local?Ev:Sv)(i):(i.local?_v:Nv)(i,l,o))}function Pv(n,o){return function(i){this.setAttribute(n,o.call(this,i))}}function Mv(n,o){return function(i){this.setAttributeNS(n.space,n.local,o.call(this,i))}}function Tv(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&Mv(n,c)),i}return a._value=o,a}function zv(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&Pv(n,c)),i}return a._value=o,a}function Iv(n,o){var i="attr."+n;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(o==null)return this.tween(i,null);if(typeof o!="function")throw new Error;var l=il(n);return this.tween(i,(l.local?Tv:zv)(l,o))}function Rv(n,o){return function(){Du(this,n).delay=+o.apply(this,arguments)}}function $v(n,o){return o=+o,function(){Du(this,n).delay=o}}function Dv(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?Rv:$v)(o,n)):Kt(this.node(),o).delay}function Av(n,o){return function(){cn(this,n).duration=+o.apply(this,arguments)}}function Lv(n,o){return o=+o,function(){cn(this,n).duration=o}}function Fv(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?Av:Lv)(o,n)):Kt(this.node(),o).duration}function Ov(n,o){if(typeof o!="function")throw new Error;return function(){cn(this,n).ease=o}}function Hv(n){var o=this._id;return arguments.length?this.each(Ov(o,n)):Kt(this.node(),o).ease}function Vv(n,o){return function(){var i=o.apply(this,arguments);if(typeof i!="function")throw new Error;cn(this,n).ease=i}}function Bv(n){if(typeof n!="function")throw new Error;return this.each(Vv(this._id,n))}function qv(n){typeof n!="function"&&(n=Pp(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,p=l[a]=[],h,g=0;g<d;++g)(h=c[g])&&n.call(h,h.__data__,g,c)&&p.push(h);return new Tn(l,this._parents,this._name,this._id)}function Uv(n){if(n._id!==this._id)throw new Error;for(var o=this._groups,i=n._groups,l=o.length,a=i.length,c=Math.min(l,a),d=new Array(l),p=0;p<c;++p)for(var h=o[p],g=i[p],m=h.length,v=d[p]=new Array(m),S,E=0;E<m;++E)(S=h[E]||g[E])&&(v[E]=S);for(;p<l;++p)d[p]=o[p];return new Tn(d,this._parents,this._name,this._id)}function bv(n){return(n+"").trim().split(/^|\s+/).every(function(o){var i=o.indexOf(".");return i>=0&&(o=o.slice(0,i)),!o||o==="start"})}function Wv(n,o,i){var l,a,c=bv(o)?Du:cn;return function(){var d=c(this,n),p=d.on;p!==l&&(a=(l=p).copy()).on(o,i),d.on=a}}function Yv(n,o){var i=this._id;return arguments.length<2?Kt(this.node(),i).on.on(n):this.each(Wv(i,n,o))}function Xv(n){return function(){var o=this.parentNode;for(var i in this.__transition)if(+i!==n)return;o&&o.removeChild(this)}}function Gv(){return this.on("end.remove",Xv(this._id))}function Kv(n){var o=this._name,i=this._id;typeof n!="function"&&(n=zu(n));for(var l=this._groups,a=l.length,c=new Array(a),d=0;d<a;++d)for(var p=l[d],h=p.length,g=c[d]=new Array(h),m,v,S=0;S<h;++S)(m=p[S])&&(v=n.call(m,m.__data__,S,p))&&("__data__"in m&&(v.__data__=m.__data__),g[S]=v,ll(g[S],o,i,S,g,Kt(m,i)));return new Tn(c,this._parents,o,i)}function Qv(n){var o=this._name,i=this._id;typeof n!="function"&&(n=jp(n));for(var l=this._groups,a=l.length,c=[],d=[],p=0;p<a;++p)for(var h=l[p],g=h.length,m,v=0;v<g;++v)if(m=h[v]){for(var S=n.call(m,m.__data__,v,h),E,C=Kt(m,i),_=0,P=S.length;_<P;++_)(E=S[_])&&ll(E,o,i,_,S,C);c.push(S),d.push(m)}return new Tn(c,d,o,i)}var Zv=hi.prototype.constructor;function Jv(){return new Zv(this._groups,this._parents)}function ex(n,o){var i,l,a;return function(){var c=so(this,n),d=(this.style.removeProperty(n),so(this,n));return c===d?null:c===i&&d===l?a:a=o(i=c,l=d)}}function Qp(n){return function(){this.style.removeProperty(n)}}function tx(n,o,i){var l,a=i+"",c;return function(){var d=so(this,n);return d===a?null:d===l?c:c=o(l=d,i)}}function nx(n,o,i){var l,a,c;return function(){var d=so(this,n),p=i(this),h=p+"";return p==null&&(h=p=(this.style.removeProperty(n),so(this,n))),d===h?null:d===l&&h===a?c:(a=h,c=o(l=d,p))}}function rx(n,o){var i,l,a,c="style."+o,d="end."+c,p;return function(){var h=cn(this,n),g=h.on,m=h.value[c]==null?p||(p=Qp(o)):void 0;(g!==i||a!==m)&&(l=(i=g).copy()).on(d,a=m),h.on=l}}function ox(n,o,i){var l=(n+="")=="transform"?ov:Kp;return o==null?this.styleTween(n,ex(n,l)).on("end.style."+n,Qp(n)):typeof o=="function"?this.styleTween(n,nx(n,l,Au(this,"style."+n,o))).each(rx(this._id,n)):this.styleTween(n,tx(n,l,o),i).on("end.style."+n,null)}function ix(n,o,i){return function(l){this.style.setProperty(n,o.call(this,l),i)}}function sx(n,o,i){var l,a;function c(){var d=o.apply(this,arguments);return d!==a&&(l=(a=d)&&ix(n,d,i)),l}return c._value=o,c}function lx(n,o,i){var l="style."+(n+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(o==null)return this.tween(l,null);if(typeof o!="function")throw new Error;return this.tween(l,sx(n,o,i??""))}function ax(n){return function(){this.textContent=n}}function ux(n){return function(){var o=n(this);this.textContent=o??""}}function cx(n){return this.tween("text",typeof n=="function"?ux(Au(this,"text",n)):ax(n==null?"":n+""))}function fx(n){return function(o){this.textContent=n.call(this,o)}}function dx(n){var o,i;function l(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&fx(a)),o}return l._value=n,l}function px(n){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,dx(n))}function hx(){for(var n=this._name,o=this._id,i=Zp(),l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],p=d.length,h,g=0;g<p;++g)if(h=d[g]){var m=Kt(h,o);ll(h,n,i,g,d,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Tn(l,this._parents,n,i)}function mx(){var n,o,i=this,l=i._id,a=i.size();return new Promise(function(c,d){var p={value:d},h={value:function(){--a===0&&c()}};i.each(function(){var g=cn(this,l),m=g.on;m!==n&&(o=(n=m).copy(),o._.cancel.push(p),o._.interrupt.push(p),o._.end.push(h)),g.on=o}),a===0&&c()})}var gx=0;function Tn(n,o,i,l){this._groups=n,this._parents=o,this._name=i,this._id=l}function Zp(){return++gx}var jn=hi.prototype;Tn.prototype={constructor:Tn,select:Kv,selectAll:Qv,selectChild:jn.selectChild,selectChildren:jn.selectChildren,filter:qv,merge:Uv,selection:Jv,transition:hx,call:jn.call,nodes:jn.nodes,node:jn.node,size:jn.size,empty:jn.empty,each:jn.each,on:Yv,attr:jv,attrTween:Iv,style:ox,styleTween:lx,text:cx,textTween:px,remove:Gv,tween:wv,delay:Dv,duration:Fv,ease:Hv,easeVarying:Bv,end:mx,[Symbol.iterator]:jn[Symbol.iterator]};function yx(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var vx={time:null,delay:0,duration:250,ease:yx};function xx(n,o){for(var i;!(i=n.__transition)||!(i=i[o]);)if(!(n=n.parentNode))throw new Error(`transition ${o} not found`);return i}function wx(n){var o,i;n instanceof Tn?(o=n._id,n=n._name):(o=Zp(),(i=vx).time=$u(),n=n==null?null:n+"");for(var l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],p=d.length,h,g=0;g<p;++g)(h=d[g])&&ll(h,n,o,g,d,i||xx(h,o));return new Tn(l,this._parents,n,o)}hi.prototype.interrupt=yv;hi.prototype.transition=wx;const Hs=n=>()=>n;function Sx(n,{sourceEvent:o,target:i,transform:l,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:a}})}function Mn(n,o,i){this.k=n,this.x=o,this.y=i}Mn.prototype={constructor:Mn,scale:function(n){return n===1?this:new Mn(this.k*n,this.x,this.y)},translate:function(n,o){return n===0&o===0?this:new Mn(this.k,this.x+this.k*n,this.y+this.k*o)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tr=new Mn(1,0,0);Mn.prototype;function ou(n){n.stopImmediatePropagation()}function Zo(n){n.preventDefault(),n.stopImmediatePropagation()}function Ex(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function Nx(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Yd(){return this.__zoom||tr}function _x(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function kx(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cx(n,o,i){var l=n.invertX(o[0][0])-i[0][0],a=n.invertX(o[1][0])-i[1][0],c=n.invertY(o[0][1])-i[0][1],d=n.invertY(o[1][1])-i[1][1];return n.translate(a>l?(l+a)/2:Math.min(0,l)||Math.max(0,a),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function jx(){var n=Ex,o=Nx,i=Cx,l=_x,a=kx,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],p=250,h=uv,g=ol("start","zoom","end"),m,v,S,E=500,C=150,_=0,P=10;function M(x){x.property("__zoom",Yd).on("wheel.zoom",te,{passive:!1}).on("mousedown.zoom",Z).on("dblclick.zoom",H).filter(a).on("touchstart.zoom",$).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}M.transform=function(x,L,z,U){var A=x.selection?x.selection():x;A.property("__zoom",Yd),x!==A?G(x,L,z,U):A.interrupt().each(function(){q(this,arguments).event(U).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},M.scaleBy=function(x,L,z,U){M.scaleTo(x,function(){var A=this.__zoom.k,j=typeof L=="function"?L.apply(this,arguments):L;return A*j},z,U)},M.scaleTo=function(x,L,z,U){M.transform(x,function(){var A=o.apply(this,arguments),j=this.__zoom,F=z==null?R(A):typeof z=="function"?z.apply(this,arguments):z,N=j.invert(F),T=typeof L=="function"?L.apply(this,arguments):L;return i(b(D(j,T),F,N),A,d)},z,U)},M.translateBy=function(x,L,z,U){M.transform(x,function(){return i(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof z=="function"?z.apply(this,arguments):z),o.apply(this,arguments),d)},null,U)},M.translateTo=function(x,L,z,U,A){M.transform(x,function(){var j=o.apply(this,arguments),F=this.__zoom,N=U==null?R(j):typeof U=="function"?U.apply(this,arguments):U;return i(tr.translate(N[0],N[1]).scale(F.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof z=="function"?-z.apply(this,arguments):-z),j,d)},U,A)};function D(x,L){return L=Math.max(c[0],Math.min(c[1],L)),L===x.k?x:new Mn(L,x.x,x.y)}function b(x,L,z){var U=L[0]-z[0]*x.k,A=L[1]-z[1]*x.k;return U===x.x&&A===x.y?x:new Mn(x.k,U,A)}function R(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function G(x,L,z,U){x.on("start.zoom",function(){q(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){q(this,arguments).event(U).end()}).tween("zoom",function(){var A=this,j=arguments,F=q(A,j).event(U),N=o.apply(A,j),T=z==null?R(N):typeof z=="function"?z.apply(A,j):z,ne=Math.max(N[1][0]-N[0][0],N[1][1]-N[0][1]),ee=A.__zoom,ie=typeof L=="function"?L.apply(A,j):L,ae=h(ee.invert(T).concat(ne/ee.k),ie.invert(T).concat(ne/ie.k));return function(ce){if(ce===1)ce=ie;else{var pe=ae(ce),ve=ne/pe[2];ce=new Mn(ve,T[0]-pe[0]*ve,T[1]-pe[1]*ve)}F.zoom(null,ce)}})}function q(x,L,z){return!z&&x.__zooming||new Q(x,L)}function Q(x,L){this.that=x,this.args=L,this.active=0,this.sourceEvent=null,this.extent=o.apply(x,L),this.taps=0}Q.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,L){return this.mouse&&x!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var L=Yt(this.that).datum();g.call(x,this.that,new Sx(x,{sourceEvent:this.sourceEvent,target:M,type:x,transform:this.that.__zoom,dispatch:g}),L)}};function te(x,...L){if(!n.apply(this,arguments))return;var z=q(this,L).event(x),U=this.__zoom,A=Math.max(c[0],Math.min(c[1],U.k*Math.pow(2,l.apply(this,arguments)))),j=an(x);if(z.wheel)(z.mouse[0][0]!==j[0]||z.mouse[0][1]!==j[1])&&(z.mouse[1]=U.invert(z.mouse[0]=j)),clearTimeout(z.wheel);else{if(U.k===A)return;z.mouse=[j,U.invert(j)],Gs(this),z.start()}Zo(x),z.wheel=setTimeout(F,C),z.zoom("mouse",i(b(D(U,A),z.mouse[0],z.mouse[1]),z.extent,d));function F(){z.wheel=null,z.end()}}function Z(x,...L){if(S||!n.apply(this,arguments))return;var z=x.currentTarget,U=q(this,L,!0).event(x),A=Yt(x.view).on("mousemove.zoom",T,!0).on("mouseup.zoom",ne,!0),j=an(x,z),F=x.clientX,N=x.clientY;Fp(x.view),ou(x),U.mouse=[j,this.__zoom.invert(j)],Gs(this),U.start();function T(ee){if(Zo(ee),!U.moved){var ie=ee.clientX-F,ae=ee.clientY-N;U.moved=ie*ie+ae*ae>_}U.event(ee).zoom("mouse",i(b(U.that.__zoom,U.mouse[0]=an(ee,z),U.mouse[1]),U.extent,d))}function ne(ee){A.on("mousemove.zoom mouseup.zoom",null),Op(ee.view,U.moved),Zo(ee),U.event(ee).end()}}function H(x,...L){if(n.apply(this,arguments)){var z=this.__zoom,U=an(x.changedTouches?x.changedTouches[0]:x,this),A=z.invert(U),j=z.k*(x.shiftKey?.5:2),F=i(b(D(z,j),U,A),o.apply(this,L),d);Zo(x),p>0?Yt(this).transition().duration(p).call(G,F,U,x):Yt(this).call(M.transform,F,U,x)}}function $(x,...L){if(n.apply(this,arguments)){var z=x.touches,U=z.length,A=q(this,L,x.changedTouches.length===U).event(x),j,F,N,T;for(ou(x),F=0;F<U;++F)N=z[F],T=an(N,this),T=[T,this.__zoom.invert(T),N.identifier],A.touch0?!A.touch1&&A.touch0[2]!==T[2]&&(A.touch1=T,A.taps=0):(A.touch0=T,j=!0,A.taps=1+!!m);m&&(m=clearTimeout(m)),j&&(A.taps<2&&(v=T[0],m=setTimeout(function(){m=null},E)),Gs(this),A.start())}}function B(x,...L){if(this.__zooming){var z=q(this,L).event(x),U=x.changedTouches,A=U.length,j,F,N,T;for(Zo(x),j=0;j<A;++j)F=U[j],N=an(F,this),z.touch0&&z.touch0[2]===F.identifier?z.touch0[0]=N:z.touch1&&z.touch1[2]===F.identifier&&(z.touch1[0]=N);if(F=z.that.__zoom,z.touch1){var ne=z.touch0[0],ee=z.touch0[1],ie=z.touch1[0],ae=z.touch1[1],ce=(ce=ie[0]-ne[0])*ce+(ce=ie[1]-ne[1])*ce,pe=(pe=ae[0]-ee[0])*pe+(pe=ae[1]-ee[1])*pe;F=D(F,Math.sqrt(ce/pe)),N=[(ne[0]+ie[0])/2,(ne[1]+ie[1])/2],T=[(ee[0]+ae[0])/2,(ee[1]+ae[1])/2]}else if(z.touch0)N=z.touch0[0],T=z.touch0[1];else return;z.zoom("touch",i(b(F,N,T),z.extent,d))}}function W(x,...L){if(this.__zooming){var z=q(this,L).event(x),U=x.changedTouches,A=U.length,j,F;for(ou(x),S&&clearTimeout(S),S=setTimeout(function(){S=null},E),j=0;j<A;++j)F=U[j],z.touch0&&z.touch0[2]===F.identifier?delete z.touch0:z.touch1&&z.touch1[2]===F.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(F=an(F,this),Math.hypot(v[0]-F[0],v[1]-F[1])<P)){var N=Yt(this).on("dblclick.zoom");N&&N.apply(this,arguments)}}}return M.wheelDelta=function(x){return arguments.length?(l=typeof x=="function"?x:Hs(+x),M):l},M.filter=function(x){return arguments.length?(n=typeof x=="function"?x:Hs(!!x),M):n},M.touchable=function(x){return arguments.length?(a=typeof x=="function"?x:Hs(!!x),M):a},M.extent=function(x){return arguments.length?(o=typeof x=="function"?x:Hs([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),M):o},M.scaleExtent=function(x){return arguments.length?(c[0]=+x[0],c[1]=+x[1],M):[c[0],c[1]]},M.translateExtent=function(x){return arguments.length?(d[0][0]=+x[0][0],d[1][0]=+x[1][0],d[0][1]=+x[0][1],d[1][1]=+x[1][1],M):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},M.constrain=function(x){return arguments.length?(i=x,M):i},M.duration=function(x){return arguments.length?(p=+x,M):p},M.interpolate=function(x){return arguments.length?(h=x,M):h},M.on=function(){var x=g.on.apply(g,arguments);return x===g?M:x},M.clickDistance=function(x){return arguments.length?(_=(x=+x)*x,M):Math.sqrt(_)},M.tapDistance=function(x){return arguments.length?(P=+x,M):P},M}var iu={exports:{}},gt={},su={exports:{}},lu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd;function Px(){return Xd||(Xd=1,function(n){function o(A,j){var F=A.length;A.push(j);e:for(;0<F;){var N=F-1>>>1,T=A[N];if(0<a(T,j))A[N]=j,A[F]=T,F=N;else break e}}function i(A){return A.length===0?null:A[0]}function l(A){if(A.length===0)return null;var j=A[0],F=A.pop();if(F!==j){A[0]=F;e:for(var N=0,T=A.length,ne=T>>>1;N<ne;){var ee=2*(N+1)-1,ie=A[ee],ae=ee+1,ce=A[ae];if(0>a(ie,F))ae<T&&0>a(ce,ie)?(A[N]=ce,A[ae]=F,N=ae):(A[N]=ie,A[ee]=F,N=ee);else if(ae<T&&0>a(ce,F))A[N]=ce,A[ae]=F,N=ae;else break e}}return j}function a(A,j){var F=A.sortIndex-j.sortIndex;return F!==0?F:A.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();n.unstable_now=function(){return d.now()-p}}var h=[],g=[],m=1,v=null,S=3,E=!1,C=!1,_=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var j=i(g);j!==null;){if(j.callback===null)l(g);else if(j.startTime<=A)l(g),j.sortIndex=j.expirationTime,o(h,j);else break;j=i(g)}}function R(A){if(_=!1,b(A),!C)if(i(h)!==null)C=!0,z(G);else{var j=i(g);j!==null&&U(R,j.startTime-A)}}function G(A,j){C=!1,_&&(_=!1,M(te),te=-1),E=!0;var F=S;try{for(b(j),v=i(h);v!==null&&(!(v.expirationTime>j)||A&&!$());){var N=v.callback;if(typeof N=="function"){v.callback=null,S=v.priorityLevel;var T=N(v.expirationTime<=j);j=n.unstable_now(),typeof T=="function"?v.callback=T:v===i(h)&&l(h),b(j)}else l(h);v=i(h)}if(v!==null)var ne=!0;else{var ee=i(g);ee!==null&&U(R,ee.startTime-j),ne=!1}return ne}finally{v=null,S=F,E=!1}}var q=!1,Q=null,te=-1,Z=5,H=-1;function $(){return!(n.unstable_now()-H<Z)}function B(){if(Q!==null){var A=n.unstable_now();H=A;var j=!0;try{j=Q(!0,A)}finally{j?W():(q=!1,Q=null)}}else q=!1}var W;if(typeof D=="function")W=function(){D(B)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,L=x.port2;x.port1.onmessage=B,W=function(){L.postMessage(null)}}else W=function(){P(B,0)};function z(A){Q=A,q||(q=!0,W())}function U(A,j){te=P(function(){A(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(A){A.callback=null},n.unstable_continueExecution=function(){C||E||(C=!0,z(G))},n.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<A?Math.floor(1e3/A):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return i(h)},n.unstable_next=function(A){switch(S){case 1:case 2:case 3:var j=3;break;default:j=S}var F=S;S=j;try{return A()}finally{S=F}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(A,j){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=S;S=A;try{return j()}finally{S=F}},n.unstable_scheduleCallback=function(A,j,F){var N=n.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?N+F:N):F=N,A){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=F+T,A={id:m++,callback:j,priorityLevel:A,startTime:F,expirationTime:T,sortIndex:-1},F>N?(A.sortIndex=F,o(g,A),i(h)===null&&A===i(g)&&(_?(M(te),te=-1):_=!0,U(R,F-N))):(A.sortIndex=T,o(h,A),C||E||(C=!0,z(G))),A},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(A){var j=S;return function(){var F=S;S=j;try{return A.apply(this,arguments)}finally{S=F}}}}(lu)),lu}var Gd;function Mx(){return Gd||(Gd=1,su.exports=Px()),su.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd;function Tx(){if(Kd)return gt;Kd=1;var n=pi(),o=Mx();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,a={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(a[e]=t,e=0;e<t.length;e++)l.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function S(e){return h.call(v,e)?!0:h.call(m,e)?!1:g.test(e)?v[e]=!0:(m[e]=!0,!1)}function E(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,r,s){if(t===null||typeof t>"u"||E(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _(e,t,r,s,u,f,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=y}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new _(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,D);P[t]=new _(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,D);P[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,D);P[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});function b(e,t,r,s){var u=P.hasOwnProperty(t)?P[t]:null;(u!==null?u.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,r,u,s)&&(r=null),s||u===null?S(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,s=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var R=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),q=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),$=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),A=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=A&&e[A]||e["@@iterator"],typeof e=="function"?e:null)}var F=Object.assign,N;function T(e){if(N===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return`
`+N+e}var ne=!1;function ee(e,t){if(!e||ne)return"";ne=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(K){var s=K}Reflect.construct(e,[],t)}else{try{t.call()}catch(K){s=K}e.call(t.prototype)}else{try{throw Error()}catch(K){s=K}e()}}catch(K){if(K&&s&&typeof K.stack=="string"){for(var u=K.stack.split(`
`),f=s.stack.split(`
`),y=u.length-1,k=f.length-1;1<=y&&0<=k&&u[y]!==f[k];)k--;for(;1<=y&&0<=k;y--,k--)if(u[y]!==f[k]){if(y!==1||k!==1)do if(y--,k--,0>k||u[y]!==f[k]){var I=`
`+u[y].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=y&&0<=k);break}}}finally{ne=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?T(e):""}function ie(e){switch(e.tag){case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case q:return"Portal";case Z:return"Profiler";case te:return"StrictMode";case W:return"Suspense";case x:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $:return(e.displayName||"Context")+".Consumer";case H:return(e._context.displayName||"Context")+".Provider";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case z:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}function ce(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(t);case 8:return t===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Se(e){var t=ve(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Le(e){e._valueTracker||(e._valueTracker=Se(e))}function We(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=ve(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function et(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tt(e,t){var r=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fe(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=pe(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vt(e,t){t=t.checked,t!=null&&b(e,"checked",t,!1)}function je(e,t){vt(e,t);var r=pe(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qe(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qe(e,t.type,pe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ye(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qe(e,t,r){(t!=="number"||et(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xt=Array.isArray;function jt(e,t,r,s){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&s&&(e[r].defaultSelected=!0)}else{for(r=""+pe(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Qt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fn(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(xt(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:pe(r)}}function Pt(e,t){var r=pe(t.value),s=pe(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function dn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ft,pn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ft=Ft||document.createElement("div"),Ft.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ft.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ot(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Oe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wt=["Webkit","ms","Moz","O"];Object.keys(Oe).forEach(function(e){wt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oe[t]=Oe[e]})});function Jt(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Oe.hasOwnProperty(e)&&Oe[e]?(""+t).trim():t+"px"}function en(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,u=Jt(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,u):e[r]=u}}var hn=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(e,t){if(t){if(hn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function ct(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mn=null;function rr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gn=null,tn=null,yn=null;function nn(e){if(e=Do(e)){if(typeof gn!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Qi(t),gn(e.stateNode,e.type,t))}}function yi(e){tn?yn?yn.push(e):yn=[e]:tn=e}function vi(){if(tn){var e=tn,t=yn;if(yn=tn=null,nn(e),t)for(e=0;e<t.length;e++)nn(t[e])}}function xi(e,t){return e(t)}function wi(){}var fo=!1;function Si(e,t,r){if(fo)return e(t,r);fo=!0;try{return xi(e,t,r)}finally{fo=!1,(tn!==null||yn!==null)&&(wi(),vi())}}function or(e,t){var r=e.stateNode;if(r===null)return null;var s=Qi(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var po=!1;if(p)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){po=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{po=!1}function cl(e,t,r,s,u,f,y,k,I){var K=Array.prototype.slice.call(arguments,3);try{t.apply(r,K)}catch(oe){this.onError(oe)}}var sr=!1,kr=null,Cr=!1,ho=null,fl={onError:function(e){sr=!0,kr=e}};function dl(e,t,r,s,u,f,y,k,I){sr=!1,kr=null,cl.apply(fl,arguments)}function Ei(e,t,r,s,u,f,y,k,I){if(dl.apply(this,arguments),sr){if(sr){var K=kr;sr=!1,kr=null}else throw Error(i(198));Cr||(Cr=!0,ho=K)}}function vn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ni(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _i(e){if(vn(e)!==e)throw Error(i(188))}function pl(e){var t=e.alternate;if(!t){if(t=vn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,s=t;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(s=u.return,s!==null){r=s;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return _i(u),e;if(f===s)return _i(u),t;f=f.sibling}throw Error(i(188))}if(r.return!==s.return)r=u,s=f;else{for(var y=!1,k=u.child;k;){if(k===r){y=!0,r=u,s=f;break}if(k===s){y=!0,s=u,r=f;break}k=k.sibling}if(!y){for(k=f.child;k;){if(k===r){y=!0,r=f,s=u;break}if(k===s){y=!0,s=f,r=u;break}k=k.sibling}if(!y)throw Error(i(189))}}if(r.alternate!==s)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function ki(e){return e=pl(e),e!==null?Ci(e):null}function Ci(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ci(e);if(t!==null)return t;e=e.sibling}return null}var ji=o.unstable_scheduleCallback,Pi=o.unstable_cancelCallback,Mi=o.unstable_shouldYield,hl=o.unstable_requestPaint,Re=o.unstable_now,ml=o.unstable_getCurrentPriorityLevel,mo=o.unstable_ImmediatePriority,Ti=o.unstable_UserBlockingPriority,jr=o.unstable_NormalPriority,zi=o.unstable_LowPriority,Ii=o.unstable_IdlePriority,Pr=null,Mt=null;function go(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Pr,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Qh,Gh=Math.log,Kh=Math.LN2;function Qh(e){return e>>>=0,e===0?32:31-(Gh(e)/Kh|0)|0}var Ri=64,$i=4194304;function yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Di(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,u=e.suspendedLanes,f=e.pingedLanes,y=r&268435455;if(y!==0){var k=y&~u;k!==0?s=yo(k):(f&=y,f!==0&&(s=yo(f)))}else y=r&~u,y!==0?s=yo(y):f!==0&&(s=yo(f));if(s===0)return 0;if(t!==0&&t!==s&&!(t&u)&&(u=s&-s,f=t&-t,u>=f||u===16&&(f&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Ht(t),u=1<<r,s|=e[r],t&=~u;return s}function Zh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jh(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-Ht(f),k=1<<y,I=u[y];I===-1?(!(k&r)||k&s)&&(u[y]=Zh(k,t)):I<=t&&(e.expiredLanes|=k),f&=~k}}function gl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ku(){var e=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),e}function yl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=r}function em(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Ht(r),f=1<<u;t[u]=0,s[u]=-1,e[u]=-1,r&=~f}}function vl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ht(r),u=1<<s;u&t|e[s]&t&&(e[s]|=t),r&=~u}}var Pe=0;function Qu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zu,xl,Ju,ec,tc,wl=!1,Ai=[],In=null,Rn=null,$n=null,xo=new Map,wo=new Map,Dn=[],tm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nc(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(t.pointerId)}}function So(e,t,r,s,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Do(t),t!==null&&xl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function nm(e,t,r,s,u){switch(t){case"focusin":return In=So(In,e,t,r,s,u),!0;case"dragenter":return Rn=So(Rn,e,t,r,s,u),!0;case"mouseover":return $n=So($n,e,t,r,s,u),!0;case"pointerover":var f=u.pointerId;return xo.set(f,So(xo.get(f)||null,e,t,r,s,u)),!0;case"gotpointercapture":return f=u.pointerId,wo.set(f,So(wo.get(f)||null,e,t,r,s,u)),!0}return!1}function rc(e){var t=lr(e.target);if(t!==null){var r=vn(t);if(r!==null){if(t=r.tag,t===13){if(t=Ni(r),t!==null){e.blockedOn=t,tc(e.priority,function(){Ju(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=El(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);mn=s,r.target.dispatchEvent(s),mn=null}else return t=Do(r),t!==null&&xl(t),e.blockedOn=r,!1;t.shift()}return!0}function oc(e,t,r){Li(e)&&r.delete(t)}function rm(){wl=!1,In!==null&&Li(In)&&(In=null),Rn!==null&&Li(Rn)&&(Rn=null),$n!==null&&Li($n)&&($n=null),xo.forEach(oc),wo.forEach(oc)}function Eo(e,t){e.blockedOn===t&&(e.blockedOn=null,wl||(wl=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,rm)))}function No(e){function t(u){return Eo(u,e)}if(0<Ai.length){Eo(Ai[0],e);for(var r=1;r<Ai.length;r++){var s=Ai[r];s.blockedOn===e&&(s.blockedOn=null)}}for(In!==null&&Eo(In,e),Rn!==null&&Eo(Rn,e),$n!==null&&Eo($n,e),xo.forEach(t),wo.forEach(t),r=0;r<Dn.length;r++)s=Dn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Dn.length&&(r=Dn[0],r.blockedOn===null);)rc(r),r.blockedOn===null&&Dn.shift()}var Mr=R.ReactCurrentBatchConfig,Fi=!0;function om(e,t,r,s){var u=Pe,f=Mr.transition;Mr.transition=null;try{Pe=1,Sl(e,t,r,s)}finally{Pe=u,Mr.transition=f}}function im(e,t,r,s){var u=Pe,f=Mr.transition;Mr.transition=null;try{Pe=4,Sl(e,t,r,s)}finally{Pe=u,Mr.transition=f}}function Sl(e,t,r,s){if(Fi){var u=El(e,t,r,s);if(u===null)Ol(e,t,s,Oi,r),nc(e,s);else if(nm(u,e,t,r,s))s.stopPropagation();else if(nc(e,s),t&4&&-1<tm.indexOf(e)){for(;u!==null;){var f=Do(u);if(f!==null&&Zu(f),f=El(e,t,r,s),f===null&&Ol(e,t,s,Oi,r),f===u)break;u=f}u!==null&&s.stopPropagation()}else Ol(e,t,s,null,r)}}var Oi=null;function El(e,t,r,s){if(Oi=null,e=rr(s),e=lr(e),e!==null)if(t=vn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ni(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oi=e,null}function ic(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ml()){case mo:return 1;case Ti:return 4;case jr:case zi:return 16;case Ii:return 536870912;default:return 16}default:return 16}}var An=null,Nl=null,Hi=null;function sc(){if(Hi)return Hi;var e,t=Nl,r=t.length,s,u="value"in An?An.value:An.textContent,f=u.length;for(e=0;e<r&&t[e]===u[e];e++);var y=r-e;for(s=1;s<=y&&t[r-s]===u[f-s];s++);return Hi=u.slice(e,1<s?1-s:void 0)}function Vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function lc(){return!1}function Et(e){function t(r,s,u,f,y){this._reactName=r,this._targetInst=u,this.type=s,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(r=e[k],this[k]=r?r(f):f[k]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:lc,this.isPropagationStopped=lc,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),t}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=Et(Tr),_o=F({},Tr,{view:0,detail:0}),sm=Et(_o),kl,Cl,ko,qi=F({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ko&&(ko&&e.type==="mousemove"?(kl=e.screenX-ko.screenX,Cl=e.screenY-ko.screenY):Cl=kl=0,ko=e),kl)},movementY:function(e){return"movementY"in e?e.movementY:Cl}}),ac=Et(qi),lm=F({},qi,{dataTransfer:0}),am=Et(lm),um=F({},_o,{relatedTarget:0}),jl=Et(um),cm=F({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=Et(cm),dm=F({},Tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pm=Et(dm),hm=F({},Tr,{data:0}),uc=Et(hm),mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ym[e])?!!t[e]:!1}function Pl(){return vm}var xm=F({},_o,{key:function(e){if(e.key){var t=mm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(e){return e.type==="keypress"?Vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wm=Et(xm),Sm=F({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cc=Et(Sm),Em=F({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),Nm=Et(Em),_m=F({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),km=Et(_m),Cm=F({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jm=Et(Cm),Pm=[9,13,27,32],Ml=p&&"CompositionEvent"in window,Co=null;p&&"documentMode"in document&&(Co=document.documentMode);var Mm=p&&"TextEvent"in window&&!Co,fc=p&&(!Ml||Co&&8<Co&&11>=Co),dc=" ",pc=!1;function hc(e,t){switch(e){case"keyup":return Pm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function Tm(e,t){switch(e){case"compositionend":return mc(t);case"keypress":return t.which!==32?null:(pc=!0,dc);case"textInput":return e=t.data,e===dc&&pc?null:e;default:return null}}function zm(e,t){if(zr)return e==="compositionend"||!Ml&&hc(e,t)?(e=sc(),Hi=Nl=An=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fc&&t.locale!=="ko"?null:t.data;default:return null}}var Im={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Im[e.type]:t==="textarea"}function yc(e,t,r,s){yi(s),t=Xi(t,"onChange"),0<t.length&&(r=new _l("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var jo=null,Po=null;function Rm(e){Dc(e,0)}function Ui(e){var t=Ar(e);if(We(t))return e}function $m(e,t){if(e==="change")return t}var vc=!1;if(p){var Tl;if(p){var zl="oninput"in document;if(!zl){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),zl=typeof xc.oninput=="function"}Tl=zl}else Tl=!1;vc=Tl&&(!document.documentMode||9<document.documentMode)}function wc(){jo&&(jo.detachEvent("onpropertychange",Sc),Po=jo=null)}function Sc(e){if(e.propertyName==="value"&&Ui(Po)){var t=[];yc(t,Po,e,rr(e)),Si(Rm,t)}}function Dm(e,t,r){e==="focusin"?(wc(),jo=t,Po=r,jo.attachEvent("onpropertychange",Sc)):e==="focusout"&&wc()}function Am(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ui(Po)}function Lm(e,t){if(e==="click")return Ui(t)}function Fm(e,t){if(e==="input"||e==="change")return Ui(t)}function Om(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Om;function Mo(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var u=r[s];if(!h.call(t,u)||!Vt(e[u],t[u]))return!1}return!0}function Ec(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nc(e,t){var r=Ec(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ec(r)}}function _c(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_c(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kc(){for(var e=window,t=et();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=et(e.document)}return t}function Il(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hm(e){var t=kc(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_c(r.ownerDocument.documentElement,r)){if(s!==null&&Il(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,f=Math.min(s.start,u);s=s.end===void 0?f:Math.min(s.end,u),!e.extend&&f>s&&(u=s,s=f,f=u),u=Nc(r,f);var y=Nc(r,s);u&&y&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),f>s?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vm=p&&"documentMode"in document&&11>=document.documentMode,Ir=null,Rl=null,To=null,$l=!1;function Cc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$l||Ir==null||Ir!==et(s)||(s=Ir,"selectionStart"in s&&Il(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),To&&Mo(To,s)||(To=s,s=Xi(Rl,"onSelect"),0<s.length&&(t=new _l("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Ir)))}function bi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Rr={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},Dl={},jc={};p&&(jc=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function Wi(e){if(Dl[e])return Dl[e];if(!Rr[e])return e;var t=Rr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jc)return Dl[e]=t[r];return e}var Pc=Wi("animationend"),Mc=Wi("animationiteration"),Tc=Wi("animationstart"),zc=Wi("transitionend"),Ic=new Map,Rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){Ic.set(e,t),c(t,[e])}for(var Al=0;Al<Rc.length;Al++){var Ll=Rc[Al],Bm=Ll.toLowerCase(),qm=Ll[0].toUpperCase()+Ll.slice(1);Ln(Bm,"on"+qm)}Ln(Pc,"onAnimationEnd"),Ln(Mc,"onAnimationIteration"),Ln(Tc,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(zc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Um=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function $c(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Ei(s,t,void 0,e),e.currentTarget=null}function Dc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],u=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var y=s.length-1;0<=y;y--){var k=s[y],I=k.instance,K=k.currentTarget;if(k=k.listener,I!==f&&u.isPropagationStopped())break e;$c(u,k,K),f=I}else for(y=0;y<s.length;y++){if(k=s[y],I=k.instance,K=k.currentTarget,k=k.listener,I!==f&&u.isPropagationStopped())break e;$c(u,k,K),f=I}}}if(Cr)throw e=ho,Cr=!1,ho=null,e}function Te(e,t){var r=t[bl];r===void 0&&(r=t[bl]=new Set);var s=e+"__bubble";r.has(s)||(Ac(t,e,2,!1),r.add(s))}function Fl(e,t,r){var s=0;t&&(s|=4),Ac(r,e,s,t)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function Io(e){if(!e[Yi]){e[Yi]=!0,l.forEach(function(r){r!=="selectionchange"&&(Um.has(r)||Fl(r,!1,e),Fl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yi]||(t[Yi]=!0,Fl("selectionchange",!1,t))}}function Ac(e,t,r,s){switch(ic(t)){case 1:var u=om;break;case 4:u=im;break;default:u=Sl}r=u.bind(null,t,r,e),u=void 0,!po||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Ol(e,t,r,s,u){var f=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var k=s.stateNode.containerInfo;if(k===u||k.nodeType===8&&k.parentNode===u)break;if(y===4)for(y=s.return;y!==null;){var I=y.tag;if((I===3||I===4)&&(I=y.stateNode.containerInfo,I===u||I.nodeType===8&&I.parentNode===u))return;y=y.return}for(;k!==null;){if(y=lr(k),y===null)return;if(I=y.tag,I===5||I===6){s=f=y;continue e}k=k.parentNode}}s=s.return}Si(function(){var K=f,oe=rr(r),se=[];e:{var re=Ic.get(e);if(re!==void 0){var ue=_l,de=e;switch(e){case"keypress":if(Vi(r)===0)break e;case"keydown":case"keyup":ue=wm;break;case"focusin":de="focus",ue=jl;break;case"focusout":de="blur",ue=jl;break;case"beforeblur":case"afterblur":ue=jl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=am;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Nm;break;case Pc:case Mc:case Tc:ue=fm;break;case zc:ue=km;break;case"scroll":ue=sm;break;case"wheel":ue=jm;break;case"copy":case"cut":case"paste":ue=pm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=cc}var he=(t&4)!==0,Be=!he&&e==="scroll",Y=he?re!==null?re+"Capture":null:re;he=[];for(var O=K,X;O!==null;){X=O;var le=X.stateNode;if(X.tag===5&&le!==null&&(X=le,Y!==null&&(le=or(O,Y),le!=null&&he.push(Ro(O,le,X)))),Be)break;O=O.return}0<he.length&&(re=new ue(re,de,null,r,oe),se.push({event:re,listeners:he}))}}if(!(t&7)){e:{if(re=e==="mouseover"||e==="pointerover",ue=e==="mouseout"||e==="pointerout",re&&r!==mn&&(de=r.relatedTarget||r.fromElement)&&(lr(de)||de[xn]))break e;if((ue||re)&&(re=oe.window===oe?oe:(re=oe.ownerDocument)?re.defaultView||re.parentWindow:window,ue?(de=r.relatedTarget||r.toElement,ue=K,de=de?lr(de):null,de!==null&&(Be=vn(de),de!==Be||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=K),ue!==de)){if(he=ac,le="onMouseLeave",Y="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(he=cc,le="onPointerLeave",Y="onPointerEnter",O="pointer"),Be=ue==null?re:Ar(ue),X=de==null?re:Ar(de),re=new he(le,O+"leave",ue,r,oe),re.target=Be,re.relatedTarget=X,le=null,lr(oe)===K&&(he=new he(Y,O+"enter",de,r,oe),he.target=X,he.relatedTarget=Be,le=he),Be=le,ue&&de)t:{for(he=ue,Y=de,O=0,X=he;X;X=$r(X))O++;for(X=0,le=Y;le;le=$r(le))X++;for(;0<O-X;)he=$r(he),O--;for(;0<X-O;)Y=$r(Y),X--;for(;O--;){if(he===Y||Y!==null&&he===Y.alternate)break t;he=$r(he),Y=$r(Y)}he=null}else he=null;ue!==null&&Lc(se,re,ue,he,!1),de!==null&&Be!==null&&Lc(se,Be,de,he,!0)}}e:{if(re=K?Ar(K):window,ue=re.nodeName&&re.nodeName.toLowerCase(),ue==="select"||ue==="input"&&re.type==="file")var me=$m;else if(gc(re))if(vc)me=Fm;else{me=Am;var xe=Dm}else(ue=re.nodeName)&&ue.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(me=Lm);if(me&&(me=me(e,K))){yc(se,me,r,oe);break e}xe&&xe(e,re,K),e==="focusout"&&(xe=re._wrapperState)&&xe.controlled&&re.type==="number"&&Qe(re,"number",re.value)}switch(xe=K?Ar(K):window,e){case"focusin":(gc(xe)||xe.contentEditable==="true")&&(Ir=xe,Rl=K,To=null);break;case"focusout":To=Rl=Ir=null;break;case"mousedown":$l=!0;break;case"contextmenu":case"mouseup":case"dragend":$l=!1,Cc(se,r,oe);break;case"selectionchange":if(Vm)break;case"keydown":case"keyup":Cc(se,r,oe)}var we;if(Ml)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else zr?hc(e,r)&&(Ee="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ee="onCompositionStart");Ee&&(fc&&r.locale!=="ko"&&(zr||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&zr&&(we=sc()):(An=oe,Nl="value"in An?An.value:An.textContent,zr=!0)),xe=Xi(K,Ee),0<xe.length&&(Ee=new uc(Ee,e,null,r,oe),se.push({event:Ee,listeners:xe}),we?Ee.data=we:(we=mc(r),we!==null&&(Ee.data=we)))),(we=Mm?Tm(e,r):zm(e,r))&&(K=Xi(K,"onBeforeInput"),0<K.length&&(oe=new uc("onBeforeInput","beforeinput",null,r,oe),se.push({event:oe,listeners:K}),oe.data=we))}Dc(se,t)})}function Ro(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xi(e,t){for(var r=t+"Capture",s=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=or(e,r),f!=null&&s.unshift(Ro(e,f,u)),f=or(e,t),f!=null&&s.push(Ro(e,f,u))),e=e.return}return s}function $r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lc(e,t,r,s,u){for(var f=t._reactName,y=[];r!==null&&r!==s;){var k=r,I=k.alternate,K=k.stateNode;if(I!==null&&I===s)break;k.tag===5&&K!==null&&(k=K,u?(I=or(r,f),I!=null&&y.unshift(Ro(r,I,k))):u||(I=or(r,f),I!=null&&y.push(Ro(r,I,k)))),r=r.return}y.length!==0&&e.push({event:t,listeners:y})}var bm=/\r\n?/g,Wm=/\u0000|\uFFFD/g;function Fc(e){return(typeof e=="string"?e:""+e).replace(bm,`
`).replace(Wm,"")}function Gi(e,t,r){if(t=Fc(t),Fc(e)!==t&&r)throw Error(i(425))}function Ki(){}var Hl=null,Vl=null;function Bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,Ym=typeof clearTimeout=="function"?clearTimeout:void 0,Oc=typeof Promise=="function"?Promise:void 0,Xm=typeof queueMicrotask=="function"?queueMicrotask:typeof Oc<"u"?function(e){return Oc.resolve(null).then(e).catch(Gm)}:ql;function Gm(e){setTimeout(function(){throw e})}function Ul(e,t){var r=t,s=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(s===0){e.removeChild(u),No(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=u}while(r);No(t)}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),rn="__reactFiber$"+Dr,$o="__reactProps$"+Dr,xn="__reactContainer$"+Dr,bl="__reactEvents$"+Dr,Km="__reactListeners$"+Dr,Qm="__reactHandles$"+Dr;function lr(e){var t=e[rn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xn]||r[rn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hc(e);e!==null;){if(r=e[rn])return r;e=Hc(e)}return t}e=r,r=e.parentNode}return null}function Do(e){return e=e[rn]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Qi(e){return e[$o]||null}var Wl=[],Lr=-1;function On(e){return{current:e}}function ze(e){0>Lr||(e.current=Wl[Lr],Wl[Lr]=null,Lr--)}function Me(e,t){Lr++,Wl[Lr]=e.current,e.current=t}var Hn={},nt=On(Hn),ft=On(!1),ar=Hn;function Fr(e,t){var r=e.type.contextTypes;if(!r)return Hn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in r)u[f]=t[f];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function dt(e){return e=e.childContextTypes,e!=null}function Zi(){ze(ft),ze(nt)}function Vc(e,t,r){if(nt.current!==Hn)throw Error(i(168));Me(nt,t),Me(ft,r)}function Bc(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var u in s)if(!(u in t))throw Error(i(108,ce(e)||"Unknown",u));return F({},r,s)}function Ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,ar=nt.current,Me(nt,e),Me(ft,ft.current),!0}function qc(e,t,r){var s=e.stateNode;if(!s)throw Error(i(169));r?(e=Bc(e,t,ar),s.__reactInternalMemoizedMergedChildContext=e,ze(ft),ze(nt),Me(nt,e)):ze(ft),Me(ft,r)}var wn=null,es=!1,Yl=!1;function Uc(e){wn===null?wn=[e]:wn.push(e)}function Zm(e){es=!0,Uc(e)}function Vn(){if(!Yl&&wn!==null){Yl=!0;var e=0,t=Pe;try{var r=wn;for(Pe=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}wn=null,es=!1}catch(u){throw wn!==null&&(wn=wn.slice(e+1)),ji(mo,Vn),u}finally{Pe=t,Yl=!1}}return null}var Or=[],Hr=0,ts=null,ns=0,Tt=[],zt=0,ur=null,Sn=1,En="";function cr(e,t){Or[Hr++]=ns,Or[Hr++]=ts,ts=e,ns=t}function bc(e,t,r){Tt[zt++]=Sn,Tt[zt++]=En,Tt[zt++]=ur,ur=e;var s=Sn;e=En;var u=32-Ht(s)-1;s&=~(1<<u),r+=1;var f=32-Ht(t)+u;if(30<f){var y=u-u%5;f=(s&(1<<y)-1).toString(32),s>>=y,u-=y,Sn=1<<32-Ht(t)+u|r<<u|s,En=f+e}else Sn=1<<f|r<<u|s,En=e}function Xl(e){e.return!==null&&(cr(e,1),bc(e,1,0))}function Gl(e){for(;e===ts;)ts=Or[--Hr],Or[Hr]=null,ns=Or[--Hr],Or[Hr]=null;for(;e===ur;)ur=Tt[--zt],Tt[zt]=null,En=Tt[--zt],Tt[zt]=null,Sn=Tt[--zt],Tt[zt]=null}var Nt=null,_t=null,Ie=!1,Bt=null;function Wc(e,t){var r=Dt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Yc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,_t=Fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ur!==null?{id:Sn,overflow:En}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nt=e,_t=null,!0):!1;default:return!1}}function Kl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ql(e){if(Ie){var t=_t;if(t){var r=t;if(!Yc(e,t)){if(Kl(e))throw Error(i(418));t=Fn(r.nextSibling);var s=Nt;t&&Yc(e,t)?Wc(s,r):(e.flags=e.flags&-4097|2,Ie=!1,Nt=e)}}else{if(Kl(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ie=!1,Nt=e}}}function Xc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function rs(e){if(e!==Nt)return!1;if(!Ie)return Xc(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bl(e.type,e.memoizedProps)),t&&(t=_t)){if(Kl(e))throw Gc(),Error(i(418));for(;t;)Wc(e,t),t=Fn(t.nextSibling)}if(Xc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_t=Fn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Nt?Fn(e.stateNode.nextSibling):null;return!0}function Gc(){for(var e=_t;e;)e=Fn(e.nextSibling)}function Vr(){_t=Nt=null,Ie=!1}function Zl(e){Bt===null?Bt=[e]:Bt.push(e)}var Jm=R.ReactCurrentBatchConfig;function Ao(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var s=r.stateNode}if(!s)throw Error(i(147,e));var u=s,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(y){var k=u.refs;y===null?delete k[f]:k[f]=y},t._stringRef=f,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function os(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kc(e){var t=e._init;return t(e._payload)}function Qc(e){function t(Y,O){if(e){var X=Y.deletions;X===null?(Y.deletions=[O],Y.flags|=16):X.push(O)}}function r(Y,O){if(!e)return null;for(;O!==null;)t(Y,O),O=O.sibling;return null}function s(Y,O){for(Y=new Map;O!==null;)O.key!==null?Y.set(O.key,O):Y.set(O.index,O),O=O.sibling;return Y}function u(Y,O){return Y=Gn(Y,O),Y.index=0,Y.sibling=null,Y}function f(Y,O,X){return Y.index=X,e?(X=Y.alternate,X!==null?(X=X.index,X<O?(Y.flags|=2,O):X):(Y.flags|=2,O)):(Y.flags|=1048576,O)}function y(Y){return e&&Y.alternate===null&&(Y.flags|=2),Y}function k(Y,O,X,le){return O===null||O.tag!==6?(O=qa(X,Y.mode,le),O.return=Y,O):(O=u(O,X),O.return=Y,O)}function I(Y,O,X,le){var me=X.type;return me===Q?oe(Y,O,X.props.children,le,X.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===z&&Kc(me)===O.type)?(le=u(O,X.props),le.ref=Ao(Y,O,X),le.return=Y,le):(le=Ps(X.type,X.key,X.props,null,Y.mode,le),le.ref=Ao(Y,O,X),le.return=Y,le)}function K(Y,O,X,le){return O===null||O.tag!==4||O.stateNode.containerInfo!==X.containerInfo||O.stateNode.implementation!==X.implementation?(O=Ua(X,Y.mode,le),O.return=Y,O):(O=u(O,X.children||[]),O.return=Y,O)}function oe(Y,O,X,le,me){return O===null||O.tag!==7?(O=vr(X,Y.mode,le,me),O.return=Y,O):(O=u(O,X),O.return=Y,O)}function se(Y,O,X){if(typeof O=="string"&&O!==""||typeof O=="number")return O=qa(""+O,Y.mode,X),O.return=Y,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return X=Ps(O.type,O.key,O.props,null,Y.mode,X),X.ref=Ao(Y,null,O),X.return=Y,X;case q:return O=Ua(O,Y.mode,X),O.return=Y,O;case z:var le=O._init;return se(Y,le(O._payload),X)}if(xt(O)||j(O))return O=vr(O,Y.mode,X,null),O.return=Y,O;os(Y,O)}return null}function re(Y,O,X,le){var me=O!==null?O.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return me!==null?null:k(Y,O,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return X.key===me?I(Y,O,X,le):null;case q:return X.key===me?K(Y,O,X,le):null;case z:return me=X._init,re(Y,O,me(X._payload),le)}if(xt(X)||j(X))return me!==null?null:oe(Y,O,X,le,null);os(Y,X)}return null}function ue(Y,O,X,le,me){if(typeof le=="string"&&le!==""||typeof le=="number")return Y=Y.get(X)||null,k(O,Y,""+le,me);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case G:return Y=Y.get(le.key===null?X:le.key)||null,I(O,Y,le,me);case q:return Y=Y.get(le.key===null?X:le.key)||null,K(O,Y,le,me);case z:var xe=le._init;return ue(Y,O,X,xe(le._payload),me)}if(xt(le)||j(le))return Y=Y.get(X)||null,oe(O,Y,le,me,null);os(O,le)}return null}function de(Y,O,X,le){for(var me=null,xe=null,we=O,Ee=O=0,Ge=null;we!==null&&Ee<X.length;Ee++){we.index>Ee?(Ge=we,we=null):Ge=we.sibling;var Ce=re(Y,we,X[Ee],le);if(Ce===null){we===null&&(we=Ge);break}e&&we&&Ce.alternate===null&&t(Y,we),O=f(Ce,O,Ee),xe===null?me=Ce:xe.sibling=Ce,xe=Ce,we=Ge}if(Ee===X.length)return r(Y,we),Ie&&cr(Y,Ee),me;if(we===null){for(;Ee<X.length;Ee++)we=se(Y,X[Ee],le),we!==null&&(O=f(we,O,Ee),xe===null?me=we:xe.sibling=we,xe=we);return Ie&&cr(Y,Ee),me}for(we=s(Y,we);Ee<X.length;Ee++)Ge=ue(we,Y,Ee,X[Ee],le),Ge!==null&&(e&&Ge.alternate!==null&&we.delete(Ge.key===null?Ee:Ge.key),O=f(Ge,O,Ee),xe===null?me=Ge:xe.sibling=Ge,xe=Ge);return e&&we.forEach(function(Kn){return t(Y,Kn)}),Ie&&cr(Y,Ee),me}function he(Y,O,X,le){var me=j(X);if(typeof me!="function")throw Error(i(150));if(X=me.call(X),X==null)throw Error(i(151));for(var xe=me=null,we=O,Ee=O=0,Ge=null,Ce=X.next();we!==null&&!Ce.done;Ee++,Ce=X.next()){we.index>Ee?(Ge=we,we=null):Ge=we.sibling;var Kn=re(Y,we,Ce.value,le);if(Kn===null){we===null&&(we=Ge);break}e&&we&&Kn.alternate===null&&t(Y,we),O=f(Kn,O,Ee),xe===null?me=Kn:xe.sibling=Kn,xe=Kn,we=Ge}if(Ce.done)return r(Y,we),Ie&&cr(Y,Ee),me;if(we===null){for(;!Ce.done;Ee++,Ce=X.next())Ce=se(Y,Ce.value,le),Ce!==null&&(O=f(Ce,O,Ee),xe===null?me=Ce:xe.sibling=Ce,xe=Ce);return Ie&&cr(Y,Ee),me}for(we=s(Y,we);!Ce.done;Ee++,Ce=X.next())Ce=ue(we,Y,Ee,Ce.value,le),Ce!==null&&(e&&Ce.alternate!==null&&we.delete(Ce.key===null?Ee:Ce.key),O=f(Ce,O,Ee),xe===null?me=Ce:xe.sibling=Ce,xe=Ce);return e&&we.forEach(function(zg){return t(Y,zg)}),Ie&&cr(Y,Ee),me}function Be(Y,O,X,le){if(typeof X=="object"&&X!==null&&X.type===Q&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case G:e:{for(var me=X.key,xe=O;xe!==null;){if(xe.key===me){if(me=X.type,me===Q){if(xe.tag===7){r(Y,xe.sibling),O=u(xe,X.props.children),O.return=Y,Y=O;break e}}else if(xe.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===z&&Kc(me)===xe.type){r(Y,xe.sibling),O=u(xe,X.props),O.ref=Ao(Y,xe,X),O.return=Y,Y=O;break e}r(Y,xe);break}else t(Y,xe);xe=xe.sibling}X.type===Q?(O=vr(X.props.children,Y.mode,le,X.key),O.return=Y,Y=O):(le=Ps(X.type,X.key,X.props,null,Y.mode,le),le.ref=Ao(Y,O,X),le.return=Y,Y=le)}return y(Y);case q:e:{for(xe=X.key;O!==null;){if(O.key===xe)if(O.tag===4&&O.stateNode.containerInfo===X.containerInfo&&O.stateNode.implementation===X.implementation){r(Y,O.sibling),O=u(O,X.children||[]),O.return=Y,Y=O;break e}else{r(Y,O);break}else t(Y,O);O=O.sibling}O=Ua(X,Y.mode,le),O.return=Y,Y=O}return y(Y);case z:return xe=X._init,Be(Y,O,xe(X._payload),le)}if(xt(X))return de(Y,O,X,le);if(j(X))return he(Y,O,X,le);os(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,O!==null&&O.tag===6?(r(Y,O.sibling),O=u(O,X),O.return=Y,Y=O):(r(Y,O),O=qa(X,Y.mode,le),O.return=Y,Y=O),y(Y)):r(Y,O)}return Be}var Br=Qc(!0),Zc=Qc(!1),is=On(null),ss=null,qr=null,Jl=null;function ea(){Jl=qr=ss=null}function ta(e){var t=is.current;ze(is),e._currentValue=t}function na(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Ur(e,t){ss=e,Jl=qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pt=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Jl!==e)if(e={context:e,memoizedValue:t,next:null},qr===null){if(ss===null)throw Error(i(308));qr=e,ss.dependencies={lanes:0,firstContext:e}}else qr=qr.next=e;return t}var fr=null;function ra(e){fr===null?fr=[e]:fr.push(e)}function Jc(e,t,r,s){var u=t.interleaved;return u===null?(r.next=r,ra(t)):(r.next=u.next,u.next=r),t.interleaved=r,Nn(e,s)}function Nn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bn=!1;function oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ef(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ke&2){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,Nn(e,r)}return u=s.interleaved,u===null?(t.next=t,ra(s)):(t.next=u.next,u.next=t),s.interleaved=t,Nn(e,r)}function ls(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,vl(e,r)}}function tf(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?u=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?u=f=t:f=f.next=t}else u=f=t;r={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function as(e,t,r,s){var u=e.updateQueue;Bn=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,k=u.shared.pending;if(k!==null){u.shared.pending=null;var I=k,K=I.next;I.next=null,y===null?f=K:y.next=K,y=I;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,k=oe.lastBaseUpdate,k!==y&&(k===null?oe.firstBaseUpdate=K:k.next=K,oe.lastBaseUpdate=I))}if(f!==null){var se=u.baseState;y=0,oe=K=I=null,k=f;do{var re=k.lane,ue=k.eventTime;if((s&re)===re){oe!==null&&(oe=oe.next={eventTime:ue,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var de=e,he=k;switch(re=t,ue=r,he.tag){case 1:if(de=he.payload,typeof de=="function"){se=de.call(ue,se,re);break e}se=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=he.payload,re=typeof de=="function"?de.call(ue,se,re):de,re==null)break e;se=F({},se,re);break e;case 2:Bn=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,re=u.effects,re===null?u.effects=[k]:re.push(k))}else ue={eventTime:ue,lane:re,tag:k.tag,payload:k.payload,callback:k.callback,next:null},oe===null?(K=oe=ue,I=se):oe=oe.next=ue,y|=re;if(k=k.next,k===null){if(k=u.shared.pending,k===null)break;re=k,k=re.next,re.next=null,u.lastBaseUpdate=re,u.shared.pending=null}}while(!0);if(oe===null&&(I=se),u.baseState=I,u.firstBaseUpdate=K,u.lastBaseUpdate=oe,t=u.shared.interleaved,t!==null){u=t;do y|=u.lane,u=u.next;while(u!==t)}else f===null&&(u.shared.lanes=0);hr|=y,e.lanes=y,e.memoizedState=se}}function nf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],u=s.callback;if(u!==null){if(s.callback=null,s=r,typeof u!="function")throw Error(i(191,u));u.call(s)}}}var Lo={},on=On(Lo),Fo=On(Lo),Oo=On(Lo);function dr(e){if(e===Lo)throw Error(i(174));return e}function ia(e,t){switch(Me(Oo,t),Me(Fo,e),Me(on,Lo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lt(t,e)}ze(on),Me(on,t)}function br(){ze(on),ze(Fo),ze(Oo)}function rf(e){dr(Oo.current);var t=dr(on.current),r=Lt(t,e.type);t!==r&&(Me(Fo,e),Me(on,r))}function sa(e){Fo.current===e&&(ze(on),ze(Fo))}var $e=On(0);function us(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function aa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var cs=R.ReactCurrentDispatcher,ua=R.ReactCurrentBatchConfig,pr=0,De=null,Ue=null,Ye=null,fs=!1,Ho=!1,Vo=0,eg=0;function rt(){throw Error(i(321))}function ca(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vt(e[r],t[r]))return!1;return!0}function fa(e,t,r,s,u,f){if(pr=f,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cs.current=e===null||e.memoizedState===null?og:ig,e=r(s,u),Ho){f=0;do{if(Ho=!1,Vo=0,25<=f)throw Error(i(301));f+=1,Ye=Ue=null,t.updateQueue=null,cs.current=sg,e=r(s,u)}while(Ho)}if(cs.current=hs,t=Ue!==null&&Ue.next!==null,pr=0,Ye=Ue=De=null,fs=!1,t)throw Error(i(300));return e}function da(){var e=Vo!==0;return Vo=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?De.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Rt(){if(Ue===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Ye===null?De.memoizedState:Ye.next;if(t!==null)Ye=t,Ue=e;else{if(e===null)throw Error(i(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ye===null?De.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Bo(e,t){return typeof t=="function"?t(e):t}function pa(e){var t=Rt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=Ue,u=s.baseQueue,f=r.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}s.baseQueue=u=f,r.pending=null}if(u!==null){f=u.next,s=s.baseState;var k=y=null,I=null,K=f;do{var oe=K.lane;if((pr&oe)===oe)I!==null&&(I=I.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),s=K.hasEagerState?K.eagerState:e(s,K.action);else{var se={lane:oe,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};I===null?(k=I=se,y=s):I=I.next=se,De.lanes|=oe,hr|=oe}K=K.next}while(K!==null&&K!==f);I===null?y=s:I.next=k,Vt(s,t.memoizedState)||(pt=!0),t.memoizedState=s,t.baseState=y,t.baseQueue=I,r.lastRenderedState=s}if(e=r.interleaved,e!==null){u=e;do f=u.lane,De.lanes|=f,hr|=f,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ha(e){var t=Rt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=r.dispatch,u=r.pending,f=t.memoizedState;if(u!==null){r.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);Vt(f,t.memoizedState)||(pt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,s]}function of(){}function sf(e,t){var r=De,s=Rt(),u=t(),f=!Vt(s.memoizedState,u);if(f&&(s.memoizedState=u,pt=!0),s=s.queue,ma(uf.bind(null,r,s,e),[e]),s.getSnapshot!==t||f||Ye!==null&&Ye.memoizedState.tag&1){if(r.flags|=2048,qo(9,af.bind(null,r,s,u,t),void 0,null),Xe===null)throw Error(i(349));pr&30||lf(r,t,u)}return u}function lf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function af(e,t,r,s){t.value=r,t.getSnapshot=s,cf(t)&&ff(e)}function uf(e,t,r){return r(function(){cf(t)&&ff(e)})}function cf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vt(e,r)}catch{return!0}}function ff(e){var t=Nn(e,1);t!==null&&Wt(t,e,1,-1)}function df(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:e},t.queue=e,e=e.dispatch=rg.bind(null,De,e),[t.memoizedState,e]}function qo(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function pf(){return Rt().memoizedState}function ds(e,t,r,s){var u=sn();De.flags|=e,u.memoizedState=qo(1|t,r,void 0,s===void 0?null:s)}function ps(e,t,r,s){var u=Rt();s=s===void 0?null:s;var f=void 0;if(Ue!==null){var y=Ue.memoizedState;if(f=y.destroy,s!==null&&ca(s,y.deps)){u.memoizedState=qo(t,r,f,s);return}}De.flags|=e,u.memoizedState=qo(1|t,r,f,s)}function hf(e,t){return ds(8390656,8,e,t)}function ma(e,t){return ps(2048,8,e,t)}function mf(e,t){return ps(4,2,e,t)}function gf(e,t){return ps(4,4,e,t)}function yf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vf(e,t,r){return r=r!=null?r.concat([e]):null,ps(4,4,yf.bind(null,t,e),r)}function ga(){}function xf(e,t){var r=Rt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ca(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function wf(e,t){var r=Rt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ca(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Sf(e,t,r){return pr&21?(Vt(r,t)||(r=Ku(),De.lanes|=r,hr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=r)}function tg(e,t){var r=Pe;Pe=r!==0&&4>r?r:4,e(!0);var s=ua.transition;ua.transition={};try{e(!1),t()}finally{Pe=r,ua.transition=s}}function Ef(){return Rt().memoizedState}function ng(e,t,r){var s=Yn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Nf(e))_f(t,r);else if(r=Jc(e,t,r,s),r!==null){var u=at();Wt(r,e,s,u),kf(r,t,s)}}function rg(e,t,r){var s=Yn(e),u={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Nf(e))_f(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,k=f(y,r);if(u.hasEagerState=!0,u.eagerState=k,Vt(k,y)){var I=t.interleaved;I===null?(u.next=u,ra(t)):(u.next=I.next,I.next=u),t.interleaved=u;return}}catch{}finally{}r=Jc(e,t,u,s),r!==null&&(u=at(),Wt(r,e,s,u),kf(r,t,s))}}function Nf(e){var t=e.alternate;return e===De||t!==null&&t===De}function _f(e,t){Ho=fs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kf(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,vl(e,r)}}var hs={readContext:It,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},og={readContext:It,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:hf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ds(4194308,4,yf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return ds(4,2,e,t)},useMemo:function(e,t){var r=sn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=sn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=ng.bind(null,De,e),[s.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:df,useDebugValue:ga,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=df(!1),t=e[0];return e=tg.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=De,u=sn();if(Ie){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),Xe===null)throw Error(i(349));pr&30||lf(s,t,r)}u.memoizedState=r;var f={value:r,getSnapshot:t};return u.queue=f,hf(uf.bind(null,s,f,e),[e]),s.flags|=2048,qo(9,af.bind(null,s,f,r,t),void 0,null),r},useId:function(){var e=sn(),t=Xe.identifierPrefix;if(Ie){var r=En,s=Sn;r=(s&~(1<<32-Ht(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=eg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ig={readContext:It,useCallback:xf,useContext:It,useEffect:ma,useImperativeHandle:vf,useInsertionEffect:mf,useLayoutEffect:gf,useMemo:wf,useReducer:pa,useRef:pf,useState:function(){return pa(Bo)},useDebugValue:ga,useDeferredValue:function(e){var t=Rt();return Sf(t,Ue.memoizedState,e)},useTransition:function(){var e=pa(Bo)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:of,useSyncExternalStore:sf,useId:Ef,unstable_isNewReconciler:!1},sg={readContext:It,useCallback:xf,useContext:It,useEffect:ma,useImperativeHandle:vf,useInsertionEffect:mf,useLayoutEffect:gf,useMemo:wf,useReducer:ha,useRef:pf,useState:function(){return ha(Bo)},useDebugValue:ga,useDeferredValue:function(e){var t=Rt();return Ue===null?t.memoizedState=e:Sf(t,Ue.memoizedState,e)},useTransition:function(){var e=ha(Bo)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:of,useSyncExternalStore:sf,useId:Ef,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=F({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ya(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:F({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ms={isMounted:function(e){return(e=e._reactInternals)?vn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=at(),u=Yn(e),f=_n(s,u);f.payload=t,r!=null&&(f.callback=r),t=qn(e,f,u),t!==null&&(Wt(t,e,u,s),ls(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=at(),u=Yn(e),f=_n(s,u);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=qn(e,f,u),t!==null&&(Wt(t,e,u,s),ls(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=at(),s=Yn(e),u=_n(r,s);u.tag=2,t!=null&&(u.callback=t),t=qn(e,u,s),t!==null&&(Wt(t,e,s,r),ls(t,e,s))}};function Cf(e,t,r,s,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,y):t.prototype&&t.prototype.isPureReactComponent?!Mo(r,s)||!Mo(u,f):!0}function jf(e,t,r){var s=!1,u=Hn,f=t.contextType;return typeof f=="object"&&f!==null?f=It(f):(u=dt(t)?ar:nt.current,s=t.contextTypes,f=(s=s!=null)?Fr(e,u):Hn),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ms,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),t}function Pf(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&ms.enqueueReplaceState(t,t.state,null)}function va(e,t,r,s){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},oa(e);var f=t.contextType;typeof f=="object"&&f!==null?u.context=It(f):(f=dt(t)?ar:nt.current,u.context=Fr(e,f)),u.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(ya(e,t,f,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&ms.enqueueReplaceState(u,u.state,null),as(e,r,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Wr(e,t){try{var r="",s=t;do r+=ie(s),s=s.return;while(s);var u=r}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:u,digest:null}}function xa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function wa(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var lg=typeof WeakMap=="function"?WeakMap:Map;function Mf(e,t,r){r=_n(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Es||(Es=!0,Da=s),wa(e,t)},r}function Tf(e,t,r){r=_n(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=t.value;r.payload=function(){return s(u)},r.callback=function(){wa(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){wa(e,t),typeof s!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),r}function zf(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new lg;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(r)||(u.add(r),e=Sg.bind(null,e,t,r),t.then(e,e))}function If(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rf(e,t,r,s,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_n(-1,1),t.tag=2,qn(r,t,1))),r.lanes|=1),e)}var ag=R.ReactCurrentOwner,pt=!1;function lt(e,t,r,s){t.child=e===null?Zc(t,null,r,s):Br(t,e.child,r,s)}function $f(e,t,r,s,u){r=r.render;var f=t.ref;return Ur(t,u),s=fa(e,t,r,s,f,u),r=da(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,kn(e,t,u)):(Ie&&r&&Xl(t),t.flags|=1,lt(e,t,s,u),t.child)}function Df(e,t,r,s,u){if(e===null){var f=r.type;return typeof f=="function"&&!Ba(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,Af(e,t,f,s,u)):(e=Ps(r.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&u)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(y,s)&&e.ref===t.ref)return kn(e,t,u)}return t.flags|=1,e=Gn(f,s),e.ref=t.ref,e.return=t,t.child=e}function Af(e,t,r,s,u){if(e!==null){var f=e.memoizedProps;if(Mo(f,s)&&e.ref===t.ref)if(pt=!1,t.pendingProps=s=f,(e.lanes&u)!==0)e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,kn(e,t,u)}return Sa(e,t,r,s,u)}function Lf(e,t,r){var s=t.pendingProps,u=s.children,f=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Xr,kt),kt|=r;else{if(!(r&1073741824))return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(Xr,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=f!==null?f.baseLanes:r,Me(Xr,kt),kt|=s}else f!==null?(s=f.baseLanes|r,t.memoizedState=null):s=r,Me(Xr,kt),kt|=s;return lt(e,t,u,r),t.child}function Ff(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,r,s,u){var f=dt(r)?ar:nt.current;return f=Fr(t,f),Ur(t,u),r=fa(e,t,r,s,f,u),s=da(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,kn(e,t,u)):(Ie&&s&&Xl(t),t.flags|=1,lt(e,t,r,u),t.child)}function Of(e,t,r,s,u){if(dt(r)){var f=!0;Ji(t)}else f=!1;if(Ur(t,u),t.stateNode===null)ys(e,t),jf(t,r,s),va(t,r,s,u),s=!0;else if(e===null){var y=t.stateNode,k=t.memoizedProps;y.props=k;var I=y.context,K=r.contextType;typeof K=="object"&&K!==null?K=It(K):(K=dt(r)?ar:nt.current,K=Fr(t,K));var oe=r.getDerivedStateFromProps,se=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function";se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==s||I!==K)&&Pf(t,y,s,K),Bn=!1;var re=t.memoizedState;y.state=re,as(t,s,y,u),I=t.memoizedState,k!==s||re!==I||ft.current||Bn?(typeof oe=="function"&&(ya(t,r,oe,s),I=t.memoizedState),(k=Bn||Cf(t,r,k,s,re,I,K))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=I),y.props=s,y.state=I,y.context=K,s=k):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{y=t.stateNode,ef(e,t),k=t.memoizedProps,K=t.type===t.elementType?k:qt(t.type,k),y.props=K,se=t.pendingProps,re=y.context,I=r.contextType,typeof I=="object"&&I!==null?I=It(I):(I=dt(r)?ar:nt.current,I=Fr(t,I));var ue=r.getDerivedStateFromProps;(oe=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==se||re!==I)&&Pf(t,y,s,I),Bn=!1,re=t.memoizedState,y.state=re,as(t,s,y,u);var de=t.memoizedState;k!==se||re!==de||ft.current||Bn?(typeof ue=="function"&&(ya(t,r,ue,s),de=t.memoizedState),(K=Bn||Cf(t,r,K,s,re,de,I)||!1)?(oe||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,de,I),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,de,I)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||k===e.memoizedProps&&re===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&re===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=de),y.props=s,y.state=de,y.context=I,s=K):(typeof y.componentDidUpdate!="function"||k===e.memoizedProps&&re===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&re===e.memoizedState||(t.flags|=1024),s=!1)}return Ea(e,t,r,s,f,u)}function Ea(e,t,r,s,u,f){Ff(e,t);var y=(t.flags&128)!==0;if(!s&&!y)return u&&qc(t,r,!1),kn(e,t,f);s=t.stateNode,ag.current=t;var k=y&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&y?(t.child=Br(t,e.child,null,f),t.child=Br(t,null,k,f)):lt(e,t,k,f),t.memoizedState=s.state,u&&qc(t,r,!0),t.child}function Hf(e){var t=e.stateNode;t.pendingContext?Vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vc(e,t.context,!1),ia(e,t.containerInfo)}function Vf(e,t,r,s,u){return Vr(),Zl(u),t.flags|=256,lt(e,t,r,s),t.child}var Na={dehydrated:null,treeContext:null,retryLane:0};function _a(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bf(e,t,r){var s=t.pendingProps,u=$e.current,f=!1,y=(t.flags&128)!==0,k;if((k=y)||(k=e!==null&&e.memoizedState===null?!1:(u&2)!==0),k?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Me($e,u&1),e===null)return Ql(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(y=s.children,e=s.fallback,f?(s=t.mode,f=t.child,y={mode:"hidden",children:y},!(s&1)&&f!==null?(f.childLanes=0,f.pendingProps=y):f=Ms(y,s,0,null),e=vr(e,s,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=_a(r),t.memoizedState=Na,e):ka(t,y));if(u=e.memoizedState,u!==null&&(k=u.dehydrated,k!==null))return ug(e,t,y,s,k,u,r);if(f){f=s.fallback,y=t.mode,u=e.child,k=u.sibling;var I={mode:"hidden",children:s.children};return!(y&1)&&t.child!==u?(s=t.child,s.childLanes=0,s.pendingProps=I,t.deletions=null):(s=Gn(u,I),s.subtreeFlags=u.subtreeFlags&14680064),k!==null?f=Gn(k,f):(f=vr(f,y,r,null),f.flags|=2),f.return=t,s.return=t,s.sibling=f,t.child=s,s=f,f=t.child,y=e.child.memoizedState,y=y===null?_a(r):{baseLanes:y.baseLanes|r,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~r,t.memoizedState=Na,s}return f=e.child,e=f.sibling,s=Gn(f,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function ka(e,t){return t=Ms({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gs(e,t,r,s){return s!==null&&Zl(s),Br(t,e.child,null,r),e=ka(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ug(e,t,r,s,u,f,y){if(r)return t.flags&256?(t.flags&=-257,s=xa(Error(i(422))),gs(e,t,y,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=s.fallback,u=t.mode,s=Ms({mode:"visible",children:s.children},u,0,null),f=vr(f,u,y,null),f.flags|=2,s.return=t,f.return=t,s.sibling=f,t.child=s,t.mode&1&&Br(t,e.child,null,y),t.child.memoizedState=_a(y),t.memoizedState=Na,f);if(!(t.mode&1))return gs(e,t,y,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var k=s.dgst;return s=k,f=Error(i(419)),s=xa(f,s,void 0),gs(e,t,y,s)}if(k=(y&e.childLanes)!==0,pt||k){if(s=Xe,s!==null){switch(y&-y){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(s.suspendedLanes|y)?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,Nn(e,u),Wt(s,e,u,-1))}return Va(),s=xa(Error(i(421))),gs(e,t,y,s)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Eg.bind(null,e),u._reactRetry=t,null):(e=f.treeContext,_t=Fn(u.nextSibling),Nt=t,Ie=!0,Bt=null,e!==null&&(Tt[zt++]=Sn,Tt[zt++]=En,Tt[zt++]=ur,Sn=e.id,En=e.overflow,ur=t),t=ka(t,s.children),t.flags|=4096,t)}function qf(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),na(e.return,t,r)}function Ca(e,t,r,s,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=r,f.tailMode=u)}function Uf(e,t,r){var s=t.pendingProps,u=s.revealOrder,f=s.tail;if(lt(e,t,s.children,r),s=$e.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qf(e,r,t);else if(e.tag===19)qf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Me($e,s),!(t.mode&1))t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&us(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),Ca(t,!1,u,r,f);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&us(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}Ca(t,!0,r,null,f);break;case"together":Ca(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ys(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=Gn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cg(e,t,r){switch(t.tag){case 3:Hf(t),Vr();break;case 5:rf(t);break;case 1:dt(t.type)&&Ji(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,u=t.memoizedProps.value;Me(is,s._currentValue),s._currentValue=u;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Me($e,$e.current&1),t.flags|=128,null):r&t.child.childLanes?Bf(e,t,r):(Me($e,$e.current&1),e=kn(e,t,r),e!==null?e.sibling:null);Me($e,$e.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Uf(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Me($e,$e.current),s)break;return null;case 22:case 23:return t.lanes=0,Lf(e,t,r)}return kn(e,t,r)}var bf,ja,Wf,Yf;bf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ja=function(){},Wf=function(e,t,r,s){var u=e.memoizedProps;if(u!==s){e=t.stateNode,dr(on.current);var f=null;switch(r){case"input":u=tt(e,u),s=tt(e,s),f=[];break;case"select":u=F({},u,{value:void 0}),s=F({},s,{value:void 0}),f=[];break;case"textarea":u=Qt(e,u),s=Qt(e,s),f=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ki)}St(r,s);var y;r=null;for(K in u)if(!s.hasOwnProperty(K)&&u.hasOwnProperty(K)&&u[K]!=null)if(K==="style"){var k=u[K];for(y in k)k.hasOwnProperty(y)&&(r||(r={}),r[y]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(a.hasOwnProperty(K)?f||(f=[]):(f=f||[]).push(K,null));for(K in s){var I=s[K];if(k=u!=null?u[K]:void 0,s.hasOwnProperty(K)&&I!==k&&(I!=null||k!=null))if(K==="style")if(k){for(y in k)!k.hasOwnProperty(y)||I&&I.hasOwnProperty(y)||(r||(r={}),r[y]="");for(y in I)I.hasOwnProperty(y)&&k[y]!==I[y]&&(r||(r={}),r[y]=I[y])}else r||(f||(f=[]),f.push(K,r)),r=I;else K==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,k=k?k.__html:void 0,I!=null&&k!==I&&(f=f||[]).push(K,I)):K==="children"?typeof I!="string"&&typeof I!="number"||(f=f||[]).push(K,""+I):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(a.hasOwnProperty(K)?(I!=null&&K==="onScroll"&&Te("scroll",e),f||k===I||(f=[])):(f=f||[]).push(K,I))}r&&(f=f||[]).push("style",r);var K=f;(t.updateQueue=K)&&(t.flags|=4)}},Yf=function(e,t,r,s){r!==s&&(t.flags|=4)};function Uo(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function fg(e,t,r){var s=t.pendingProps;switch(Gl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return dt(t.type)&&Zi(),ot(t),null;case 3:return s=t.stateNode,br(),ze(ft),ze(nt),aa(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(Fa(Bt),Bt=null))),ja(e,t),ot(t),null;case 5:sa(t);var u=dr(Oo.current);if(r=t.type,e!==null&&t.stateNode!=null)Wf(e,t,r,s,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return ot(t),null}if(e=dr(on.current),rs(t)){s=t.stateNode,r=t.type;var f=t.memoizedProps;switch(s[rn]=t,s[$o]=f,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",s),Te("close",s);break;case"iframe":case"object":case"embed":Te("load",s);break;case"video":case"audio":for(u=0;u<zo.length;u++)Te(zo[u],s);break;case"source":Te("error",s);break;case"img":case"image":case"link":Te("error",s),Te("load",s);break;case"details":Te("toggle",s);break;case"input":Fe(s,f),Te("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!f.multiple},Te("invalid",s);break;case"textarea":fn(s,f),Te("invalid",s)}St(r,f),u=null;for(var y in f)if(f.hasOwnProperty(y)){var k=f[y];y==="children"?typeof k=="string"?s.textContent!==k&&(f.suppressHydrationWarning!==!0&&Gi(s.textContent,k,e),u=["children",k]):typeof k=="number"&&s.textContent!==""+k&&(f.suppressHydrationWarning!==!0&&Gi(s.textContent,k,e),u=["children",""+k]):a.hasOwnProperty(y)&&k!=null&&y==="onScroll"&&Te("scroll",s)}switch(r){case"input":Le(s),ye(s,f,!0);break;case"textarea":Le(s),dn(s);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(s.onclick=Ki)}s=u,t.updateQueue=s,s!==null&&(t.flags|=4)}else{y=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zt(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=y.createElement(r,{is:s.is}):(e=y.createElement(r),r==="select"&&(y=e,s.multiple?y.multiple=!0:s.size&&(y.size=s.size))):e=y.createElementNS(e,r),e[rn]=t,e[$o]=s,bf(e,t,!1,!1),t.stateNode=e;e:{switch(y=ct(r,s),r){case"dialog":Te("cancel",e),Te("close",e),u=s;break;case"iframe":case"object":case"embed":Te("load",e),u=s;break;case"video":case"audio":for(u=0;u<zo.length;u++)Te(zo[u],e);u=s;break;case"source":Te("error",e),u=s;break;case"img":case"image":case"link":Te("error",e),Te("load",e),u=s;break;case"details":Te("toggle",e),u=s;break;case"input":Fe(e,s),u=tt(e,s),Te("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=F({},s,{value:void 0}),Te("invalid",e);break;case"textarea":fn(e,s),u=Qt(e,s),Te("invalid",e);break;default:u=s}St(r,u),k=u;for(f in k)if(k.hasOwnProperty(f)){var I=k[f];f==="style"?en(e,I):f==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&pn(e,I)):f==="children"?typeof I=="string"?(r!=="textarea"||I!=="")&&Ot(e,I):typeof I=="number"&&Ot(e,""+I):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?I!=null&&f==="onScroll"&&Te("scroll",e):I!=null&&b(e,f,I,y))}switch(r){case"input":Le(e),ye(e,s,!1);break;case"textarea":Le(e),dn(e);break;case"option":s.value!=null&&e.setAttribute("value",""+pe(s.value));break;case"select":e.multiple=!!s.multiple,f=s.value,f!=null?jt(e,!!s.multiple,f,!1):s.defaultValue!=null&&jt(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Ki)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)Yf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(r=dr(Oo.current),dr(on.current),rs(t)){if(s=t.stateNode,r=t.memoizedProps,s[rn]=t,(f=s.nodeValue!==r)&&(e=Nt,e!==null))switch(e.tag){case 3:Gi(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gi(s.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[rn]=t,t.stateNode=s}return ot(t),null;case 13:if(ze($e),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&_t!==null&&t.mode&1&&!(t.flags&128))Gc(),Vr(),t.flags|=98560,f=!1;else if(f=rs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[rn]=t}else Vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),f=!1}else Bt!==null&&(Fa(Bt),Bt=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?be===0&&(be=3):Va())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return br(),ja(e,t),e===null&&Io(t.stateNode.containerInfo),ot(t),null;case 10:return ta(t.type._context),ot(t),null;case 17:return dt(t.type)&&Zi(),ot(t),null;case 19:if(ze($e),f=t.memoizedState,f===null)return ot(t),null;if(s=(t.flags&128)!==0,y=f.rendering,y===null)if(s)Uo(f,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(y=us(e),y!==null){for(t.flags|=128,Uo(f,!1),s=y.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)f=r,e=s,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Me($e,$e.current&1|2),t.child}e=e.sibling}f.tail!==null&&Re()>Gr&&(t.flags|=128,s=!0,Uo(f,!1),t.lanes=4194304)}else{if(!s)if(e=us(y),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Uo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Ie)return ot(t),null}else 2*Re()-f.renderingStartTime>Gr&&r!==1073741824&&(t.flags|=128,s=!0,Uo(f,!1),t.lanes=4194304);f.isBackwards?(y.sibling=t.child,t.child=y):(r=f.last,r!==null?r.sibling=y:t.child=y,f.last=y)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Re(),t.sibling=null,r=$e.current,Me($e,s?r&1|2:r&1),t):(ot(t),null);case 22:case 23:return Ha(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?kt&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function dg(e,t){switch(Gl(t),t.tag){case 1:return dt(t.type)&&Zi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return br(),ze(ft),ze(nt),aa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sa(t),null;case 13:if(ze($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze($e),null;case 4:return br(),null;case 10:return ta(t.type._context),null;case 22:case 23:return Ha(),null;case 24:return null;default:return null}}var vs=!1,it=!1,pg=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Yr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){He(e,t,s)}else r.current=null}function Pa(e,t,r){try{r()}catch(s){He(e,t,s)}}var Xf=!1;function hg(e,t){if(Hl=Fi,e=kc(),Il(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var u=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,k=-1,I=-1,K=0,oe=0,se=e,re=null;t:for(;;){for(var ue;se!==r||u!==0&&se.nodeType!==3||(k=y+u),se!==f||s!==0&&se.nodeType!==3||(I=y+s),se.nodeType===3&&(y+=se.nodeValue.length),(ue=se.firstChild)!==null;)re=se,se=ue;for(;;){if(se===e)break t;if(re===r&&++K===u&&(k=y),re===f&&++oe===s&&(I=y),(ue=se.nextSibling)!==null)break;se=re,re=se.parentNode}se=ue}r=k===-1||I===-1?null:{start:k,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vl={focusedElem:e,selectionRange:r},Fi=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var de=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var he=de.memoizedProps,Be=de.memoizedState,Y=t.stateNode,O=Y.getSnapshotBeforeUpdate(t.elementType===t.type?he:qt(t.type,he),Be);Y.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var X=t.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(le){He(t,t.return,le)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return de=Xf,Xf=!1,de}function bo(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&Pa(t,r,f)}u=u.next}while(u!==s)}}function xs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Ma(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Gf(e){var t=e.alternate;t!==null&&(e.alternate=null,Gf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rn],delete t[$o],delete t[bl],delete t[Km],delete t[Qm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kf(e){return e.tag===5||e.tag===3||e.tag===4}function Qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ta(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ki));else if(s!==4&&(e=e.child,e!==null))for(Ta(e,t,r),e=e.sibling;e!==null;)Ta(e,t,r),e=e.sibling}function za(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(za(e,t,r),e=e.sibling;e!==null;)za(e,t,r),e=e.sibling}var Ze=null,Ut=!1;function Un(e,t,r){for(r=r.child;r!==null;)Zf(e,t,r),r=r.sibling}function Zf(e,t,r){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Pr,r)}catch{}switch(r.tag){case 5:it||Yr(r,t);case 6:var s=Ze,u=Ut;Ze=null,Un(e,t,r),Ze=s,Ut=u,Ze!==null&&(Ut?(e=Ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ze.removeChild(r.stateNode));break;case 18:Ze!==null&&(Ut?(e=Ze,r=r.stateNode,e.nodeType===8?Ul(e.parentNode,r):e.nodeType===1&&Ul(e,r),No(e)):Ul(Ze,r.stateNode));break;case 4:s=Ze,u=Ut,Ze=r.stateNode.containerInfo,Ut=!0,Un(e,t,r),Ze=s,Ut=u;break;case 0:case 11:case 14:case 15:if(!it&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var f=u,y=f.destroy;f=f.tag,y!==void 0&&(f&2||f&4)&&Pa(r,t,y),u=u.next}while(u!==s)}Un(e,t,r);break;case 1:if(!it&&(Yr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(k){He(r,t,k)}Un(e,t,r);break;case 21:Un(e,t,r);break;case 22:r.mode&1?(it=(s=it)||r.memoizedState!==null,Un(e,t,r),it=s):Un(e,t,r);break;default:Un(e,t,r)}}function Jf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pg),t.forEach(function(s){var u=Ng.bind(null,e,s);r.has(s)||(r.add(s),s.then(u,u))})}}function bt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];try{var f=e,y=t,k=y;e:for(;k!==null;){switch(k.tag){case 5:Ze=k.stateNode,Ut=!1;break e;case 3:Ze=k.stateNode.containerInfo,Ut=!0;break e;case 4:Ze=k.stateNode.containerInfo,Ut=!0;break e}k=k.return}if(Ze===null)throw Error(i(160));Zf(f,y,u),Ze=null,Ut=!1;var I=u.alternate;I!==null&&(I.return=null),u.return=null}catch(K){He(u,t,K)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ed(t,e),t=t.sibling}function ed(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),ln(e),s&4){try{bo(3,e,e.return),xs(3,e)}catch(he){He(e,e.return,he)}try{bo(5,e,e.return)}catch(he){He(e,e.return,he)}}break;case 1:bt(t,e),ln(e),s&512&&r!==null&&Yr(r,r.return);break;case 5:if(bt(t,e),ln(e),s&512&&r!==null&&Yr(r,r.return),e.flags&32){var u=e.stateNode;try{Ot(u,"")}catch(he){He(e,e.return,he)}}if(s&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,y=r!==null?r.memoizedProps:f,k=e.type,I=e.updateQueue;if(e.updateQueue=null,I!==null)try{k==="input"&&f.type==="radio"&&f.name!=null&&vt(u,f),ct(k,y);var K=ct(k,f);for(y=0;y<I.length;y+=2){var oe=I[y],se=I[y+1];oe==="style"?en(u,se):oe==="dangerouslySetInnerHTML"?pn(u,se):oe==="children"?Ot(u,se):b(u,oe,se,K)}switch(k){case"input":je(u,f);break;case"textarea":Pt(u,f);break;case"select":var re=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var ue=f.value;ue!=null?jt(u,!!f.multiple,ue,!1):re!==!!f.multiple&&(f.defaultValue!=null?jt(u,!!f.multiple,f.defaultValue,!0):jt(u,!!f.multiple,f.multiple?[]:"",!1))}u[$o]=f}catch(he){He(e,e.return,he)}}break;case 6:if(bt(t,e),ln(e),s&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(he){He(e,e.return,he)}}break;case 3:if(bt(t,e),ln(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{No(t.containerInfo)}catch(he){He(e,e.return,he)}break;case 4:bt(t,e),ln(e);break;case 13:bt(t,e),ln(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||($a=Re())),s&4&&Jf(e);break;case 22:if(oe=r!==null&&r.memoizedState!==null,e.mode&1?(it=(K=it)||oe,bt(t,e),it=K):bt(t,e),ln(e),s&8192){if(K=e.memoizedState!==null,(e.stateNode.isHidden=K)&&!oe&&e.mode&1)for(fe=e,oe=e.child;oe!==null;){for(se=fe=oe;fe!==null;){switch(re=fe,ue=re.child,re.tag){case 0:case 11:case 14:case 15:bo(4,re,re.return);break;case 1:Yr(re,re.return);var de=re.stateNode;if(typeof de.componentWillUnmount=="function"){s=re,r=re.return;try{t=s,de.props=t.memoizedProps,de.state=t.memoizedState,de.componentWillUnmount()}catch(he){He(s,r,he)}}break;case 5:Yr(re,re.return);break;case 22:if(re.memoizedState!==null){rd(se);continue}}ue!==null?(ue.return=re,fe=ue):rd(se)}oe=oe.sibling}e:for(oe=null,se=e;;){if(se.tag===5){if(oe===null){oe=se;try{u=se.stateNode,K?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(k=se.stateNode,I=se.memoizedProps.style,y=I!=null&&I.hasOwnProperty("display")?I.display:null,k.style.display=Jt("display",y))}catch(he){He(e,e.return,he)}}}else if(se.tag===6){if(oe===null)try{se.stateNode.nodeValue=K?"":se.memoizedProps}catch(he){He(e,e.return,he)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===e)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===e)break e;for(;se.sibling===null;){if(se.return===null||se.return===e)break e;oe===se&&(oe=null),se=se.return}oe===se&&(oe=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:bt(t,e),ln(e),s&4&&Jf(e);break;case 21:break;default:bt(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Kf(r)){var s=r;break e}r=r.return}throw Error(i(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(Ot(u,""),s.flags&=-33);var f=Qf(e);za(e,f,u);break;case 3:case 4:var y=s.stateNode.containerInfo,k=Qf(e);Ta(e,k,y);break;default:throw Error(i(161))}}catch(I){He(e,e.return,I)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mg(e,t,r){fe=e,td(e)}function td(e,t,r){for(var s=(e.mode&1)!==0;fe!==null;){var u=fe,f=u.child;if(u.tag===22&&s){var y=u.memoizedState!==null||vs;if(!y){var k=u.alternate,I=k!==null&&k.memoizedState!==null||it;k=vs;var K=it;if(vs=y,(it=I)&&!K)for(fe=u;fe!==null;)y=fe,I=y.child,y.tag===22&&y.memoizedState!==null?od(u):I!==null?(I.return=y,fe=I):od(u);for(;f!==null;)fe=f,td(f),f=f.sibling;fe=u,vs=k,it=K}nd(e)}else u.subtreeFlags&8772&&f!==null?(f.return=u,fe=f):nd(e)}}function nd(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||xs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!it)if(r===null)s.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:qt(t.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&nf(t,f,s);break;case 3:var y=t.updateQueue;if(y!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}nf(t,y,r)}break;case 5:var k=t.stateNode;if(r===null&&t.flags&4){r=k;var I=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&r.focus();break;case"img":I.src&&(r.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var K=t.alternate;if(K!==null){var oe=K.memoizedState;if(oe!==null){var se=oe.dehydrated;se!==null&&No(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}it||t.flags&512&&Ma(t)}catch(re){He(t,t.return,re)}}if(t===e){fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,fe=r;break}fe=t.return}}function rd(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,fe=r;break}fe=t.return}}function od(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xs(4,t)}catch(I){He(t,r,I)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var u=t.return;try{s.componentDidMount()}catch(I){He(t,u,I)}}var f=t.return;try{Ma(t)}catch(I){He(t,f,I)}break;case 5:var y=t.return;try{Ma(t)}catch(I){He(t,y,I)}}}catch(I){He(t,t.return,I)}if(t===e){fe=null;break}var k=t.sibling;if(k!==null){k.return=t.return,fe=k;break}fe=t.return}}var gg=Math.ceil,ws=R.ReactCurrentDispatcher,Ia=R.ReactCurrentOwner,$t=R.ReactCurrentBatchConfig,ke=0,Xe=null,qe=null,Je=0,kt=0,Xr=On(0),be=0,Wo=null,hr=0,Ss=0,Ra=0,Yo=null,ht=null,$a=0,Gr=1/0,Cn=null,Es=!1,Da=null,bn=null,Ns=!1,Wn=null,_s=0,Xo=0,Aa=null,ks=-1,Cs=0;function at(){return ke&6?Re():ks!==-1?ks:ks=Re()}function Yn(e){return e.mode&1?ke&2&&Je!==0?Je&-Je:Jm.transition!==null?(Cs===0&&(Cs=Ku()),Cs):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:ic(e.type)),e):1}function Wt(e,t,r,s){if(50<Xo)throw Xo=0,Aa=null,Error(i(185));vo(e,r,s),(!(ke&2)||e!==Xe)&&(e===Xe&&(!(ke&2)&&(Ss|=r),be===4&&Xn(e,Je)),mt(e,s),r===1&&ke===0&&!(t.mode&1)&&(Gr=Re()+500,es&&Vn()))}function mt(e,t){var r=e.callbackNode;Jh(e,t);var s=Di(e,e===Xe?Je:0);if(s===0)r!==null&&Pi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Pi(r),t===1)e.tag===0?Zm(sd.bind(null,e)):Uc(sd.bind(null,e)),Xm(function(){!(ke&6)&&Vn()}),r=null;else{switch(Qu(s)){case 1:r=mo;break;case 4:r=Ti;break;case 16:r=jr;break;case 536870912:r=Ii;break;default:r=jr}r=hd(r,id.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function id(e,t){if(ks=-1,Cs=0,ke&6)throw Error(i(327));var r=e.callbackNode;if(Kr()&&e.callbackNode!==r)return null;var s=Di(e,e===Xe?Je:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=js(e,s);else{t=s;var u=ke;ke|=2;var f=ad();(Xe!==e||Je!==t)&&(Cn=null,Gr=Re()+500,gr(e,t));do try{xg();break}catch(k){ld(e,k)}while(!0);ea(),ws.current=f,ke=u,qe!==null?t=0:(Xe=null,Je=0,t=be)}if(t!==0){if(t===2&&(u=gl(e),u!==0&&(s=u,t=La(e,u))),t===1)throw r=Wo,gr(e,0),Xn(e,s),mt(e,Re()),r;if(t===6)Xn(e,s);else{if(u=e.current.alternate,!(s&30)&&!yg(u)&&(t=js(e,s),t===2&&(f=gl(e),f!==0&&(s=f,t=La(e,f))),t===1))throw r=Wo,gr(e,0),Xn(e,s),mt(e,Re()),r;switch(e.finishedWork=u,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:yr(e,ht,Cn);break;case 3:if(Xn(e,s),(s&130023424)===s&&(t=$a+500-Re(),10<t)){if(Di(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){at(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=ql(yr.bind(null,e,ht,Cn),t);break}yr(e,ht,Cn);break;case 4:if(Xn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,u=-1;0<s;){var y=31-Ht(s);f=1<<y,y=t[y],y>u&&(u=y),s&=~f}if(s=u,s=Re()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*gg(s/1960))-s,10<s){e.timeoutHandle=ql(yr.bind(null,e,ht,Cn),s);break}yr(e,ht,Cn);break;case 5:yr(e,ht,Cn);break;default:throw Error(i(329))}}}return mt(e,Re()),e.callbackNode===r?id.bind(null,e):null}function La(e,t){var r=Yo;return e.current.memoizedState.isDehydrated&&(gr(e,t).flags|=256),e=js(e,t),e!==2&&(t=ht,ht=r,t!==null&&Fa(t)),e}function Fa(e){ht===null?ht=e:ht.push.apply(ht,e)}function yg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var u=r[s],f=u.getSnapshot;u=u.value;try{if(!Vt(f(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t){for(t&=~Ra,t&=~Ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ht(t),s=1<<r;e[r]=-1,t&=~s}}function sd(e){if(ke&6)throw Error(i(327));Kr();var t=Di(e,0);if(!(t&1))return mt(e,Re()),null;var r=js(e,t);if(e.tag!==0&&r===2){var s=gl(e);s!==0&&(t=s,r=La(e,s))}if(r===1)throw r=Wo,gr(e,0),Xn(e,t),mt(e,Re()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,ht,Cn),mt(e,Re()),null}function Oa(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&(Gr=Re()+500,es&&Vn())}}function mr(e){Wn!==null&&Wn.tag===0&&!(ke&6)&&Kr();var t=ke;ke|=1;var r=$t.transition,s=Pe;try{if($t.transition=null,Pe=1,e)return e()}finally{Pe=s,$t.transition=r,ke=t,!(ke&6)&&Vn()}}function Ha(){kt=Xr.current,ze(Xr)}function gr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Ym(r)),qe!==null)for(r=qe.return;r!==null;){var s=r;switch(Gl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Zi();break;case 3:br(),ze(ft),ze(nt),aa();break;case 5:sa(s);break;case 4:br();break;case 13:ze($e);break;case 19:ze($e);break;case 10:ta(s.type._context);break;case 22:case 23:Ha()}r=r.return}if(Xe=e,qe=e=Gn(e.current,null),Je=kt=t,be=0,Wo=null,Ra=Ss=hr=0,ht=Yo=null,fr!==null){for(t=0;t<fr.length;t++)if(r=fr[t],s=r.interleaved,s!==null){r.interleaved=null;var u=s.next,f=r.pending;if(f!==null){var y=f.next;f.next=u,s.next=y}r.pending=s}fr=null}return e}function ld(e,t){do{var r=qe;try{if(ea(),cs.current=hs,fs){for(var s=De.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}fs=!1}if(pr=0,Ye=Ue=De=null,Ho=!1,Vo=0,Ia.current=null,r===null||r.return===null){be=1,Wo=t,qe=null;break}e:{var f=e,y=r.return,k=r,I=t;if(t=Je,k.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=I,oe=k,se=oe.tag;if(!(oe.mode&1)&&(se===0||se===11||se===15)){var re=oe.alternate;re?(oe.updateQueue=re.updateQueue,oe.memoizedState=re.memoizedState,oe.lanes=re.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ue=If(y);if(ue!==null){ue.flags&=-257,Rf(ue,y,k,f,t),ue.mode&1&&zf(f,K,t),t=ue,I=K;var de=t.updateQueue;if(de===null){var he=new Set;he.add(I),t.updateQueue=he}else de.add(I);break e}else{if(!(t&1)){zf(f,K,t),Va();break e}I=Error(i(426))}}else if(Ie&&k.mode&1){var Be=If(y);if(Be!==null){!(Be.flags&65536)&&(Be.flags|=256),Rf(Be,y,k,f,t),Zl(Wr(I,k));break e}}f=I=Wr(I,k),be!==4&&(be=2),Yo===null?Yo=[f]:Yo.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var Y=Mf(f,I,t);tf(f,Y);break e;case 1:k=I;var O=f.type,X=f.stateNode;if(!(f.flags&128)&&(typeof O.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(bn===null||!bn.has(X)))){f.flags|=65536,t&=-t,f.lanes|=t;var le=Tf(f,k,t);tf(f,le);break e}}f=f.return}while(f!==null)}cd(r)}catch(me){t=me,qe===r&&r!==null&&(qe=r=r.return);continue}break}while(!0)}function ad(){var e=ws.current;return ws.current=hs,e===null?hs:e}function Va(){(be===0||be===3||be===2)&&(be=4),Xe===null||!(hr&268435455)&&!(Ss&268435455)||Xn(Xe,Je)}function js(e,t){var r=ke;ke|=2;var s=ad();(Xe!==e||Je!==t)&&(Cn=null,gr(e,t));do try{vg();break}catch(u){ld(e,u)}while(!0);if(ea(),ke=r,ws.current=s,qe!==null)throw Error(i(261));return Xe=null,Je=0,be}function vg(){for(;qe!==null;)ud(qe)}function xg(){for(;qe!==null&&!Mi();)ud(qe)}function ud(e){var t=pd(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?cd(e):qe=t,Ia.current=null}function cd(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=dg(r,t),r!==null){r.flags&=32767,qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,qe=null;return}}else if(r=fg(r,t,kt),r!==null){qe=r;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);be===0&&(be=5)}function yr(e,t,r){var s=Pe,u=$t.transition;try{$t.transition=null,Pe=1,wg(e,t,r,s)}finally{$t.transition=u,Pe=s}return null}function wg(e,t,r,s){do Kr();while(Wn!==null);if(ke&6)throw Error(i(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(em(e,f),e===Xe&&(qe=Xe=null,Je=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ns||(Ns=!0,hd(jr,function(){return Kr(),null})),f=(r.flags&15990)!==0,r.subtreeFlags&15990||f){f=$t.transition,$t.transition=null;var y=Pe;Pe=1;var k=ke;ke|=4,Ia.current=null,hg(e,r),ed(r,e),Hm(Vl),Fi=!!Hl,Vl=Hl=null,e.current=r,mg(r),hl(),ke=k,Pe=y,$t.transition=f}else e.current=r;if(Ns&&(Ns=!1,Wn=e,_s=u),f=e.pendingLanes,f===0&&(bn=null),go(r.stateNode),mt(e,Re()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],s(u.value,{componentStack:u.stack,digest:u.digest});if(Es)throw Es=!1,e=Da,Da=null,e;return _s&1&&e.tag!==0&&Kr(),f=e.pendingLanes,f&1?e===Aa?Xo++:(Xo=0,Aa=e):Xo=0,Vn(),null}function Kr(){if(Wn!==null){var e=Qu(_s),t=$t.transition,r=Pe;try{if($t.transition=null,Pe=16>e?16:e,Wn===null)var s=!1;else{if(e=Wn,Wn=null,_s=0,ke&6)throw Error(i(331));var u=ke;for(ke|=4,fe=e.current;fe!==null;){var f=fe,y=f.child;if(fe.flags&16){var k=f.deletions;if(k!==null){for(var I=0;I<k.length;I++){var K=k[I];for(fe=K;fe!==null;){var oe=fe;switch(oe.tag){case 0:case 11:case 15:bo(8,oe,f)}var se=oe.child;if(se!==null)se.return=oe,fe=se;else for(;fe!==null;){oe=fe;var re=oe.sibling,ue=oe.return;if(Gf(oe),oe===K){fe=null;break}if(re!==null){re.return=ue,fe=re;break}fe=ue}}}var de=f.alternate;if(de!==null){var he=de.child;if(he!==null){de.child=null;do{var Be=he.sibling;he.sibling=null,he=Be}while(he!==null)}}fe=f}}if(f.subtreeFlags&2064&&y!==null)y.return=f,fe=y;else e:for(;fe!==null;){if(f=fe,f.flags&2048)switch(f.tag){case 0:case 11:case 15:bo(9,f,f.return)}var Y=f.sibling;if(Y!==null){Y.return=f.return,fe=Y;break e}fe=f.return}}var O=e.current;for(fe=O;fe!==null;){y=fe;var X=y.child;if(y.subtreeFlags&2064&&X!==null)X.return=y,fe=X;else e:for(y=O;fe!==null;){if(k=fe,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:xs(9,k)}}catch(me){He(k,k.return,me)}if(k===y){fe=null;break e}var le=k.sibling;if(le!==null){le.return=k.return,fe=le;break e}fe=k.return}}if(ke=u,Vn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Pr,e)}catch{}s=!0}return s}finally{Pe=r,$t.transition=t}}return!1}function fd(e,t,r){t=Wr(r,t),t=Mf(e,t,1),e=qn(e,t,1),t=at(),e!==null&&(vo(e,1,t),mt(e,t))}function He(e,t,r){if(e.tag===3)fd(e,e,r);else for(;t!==null;){if(t.tag===3){fd(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(bn===null||!bn.has(s))){e=Wr(r,e),e=Tf(t,e,1),t=qn(t,e,1),e=at(),t!==null&&(vo(t,1,e),mt(t,e));break}}t=t.return}}function Sg(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&r,Xe===e&&(Je&r)===r&&(be===4||be===3&&(Je&130023424)===Je&&500>Re()-$a?gr(e,0):Ra|=r),mt(e,t)}function dd(e,t){t===0&&(e.mode&1?(t=$i,$i<<=1,!($i&130023424)&&($i=4194304)):t=1);var r=at();e=Nn(e,t),e!==null&&(vo(e,t,r),mt(e,r))}function Eg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),dd(e,r)}function Ng(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),dd(e,r)}var pd;pd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)pt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return pt=!1,cg(e,t,r);pt=!!(e.flags&131072)}else pt=!1,Ie&&t.flags&1048576&&bc(t,ns,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ys(e,t),e=t.pendingProps;var u=Fr(t,nt.current);Ur(t,r),u=fa(null,t,s,e,u,r);var f=da();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(s)?(f=!0,Ji(t)):f=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,oa(t),u.updater=ms,t.stateNode=u,u._reactInternals=t,va(t,s,e,r),t=Ea(null,t,s,!0,f,r)):(t.tag=0,Ie&&f&&Xl(t),lt(null,t,u,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ys(e,t),e=t.pendingProps,u=s._init,s=u(s._payload),t.type=s,u=t.tag=kg(s),e=qt(s,e),u){case 0:t=Sa(null,t,s,e,r);break e;case 1:t=Of(null,t,s,e,r);break e;case 11:t=$f(null,t,s,e,r);break e;case 14:t=Df(null,t,s,qt(s.type,e),r);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:qt(s,u),Sa(e,t,s,u,r);case 1:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:qt(s,u),Of(e,t,s,u,r);case 3:e:{if(Hf(t),e===null)throw Error(i(387));s=t.pendingProps,f=t.memoizedState,u=f.element,ef(e,t),as(t,s,null,r);var y=t.memoizedState;if(s=y.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){u=Wr(Error(i(423)),t),t=Vf(e,t,s,r,u);break e}else if(s!==u){u=Wr(Error(i(424)),t),t=Vf(e,t,s,r,u);break e}else for(_t=Fn(t.stateNode.containerInfo.firstChild),Nt=t,Ie=!0,Bt=null,r=Zc(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vr(),s===u){t=kn(e,t,r);break e}lt(e,t,s,r)}t=t.child}return t;case 5:return rf(t),e===null&&Ql(t),s=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,y=u.children,Bl(s,u)?y=null:f!==null&&Bl(s,f)&&(t.flags|=32),Ff(e,t),lt(e,t,y,r),t.child;case 6:return e===null&&Ql(t),null;case 13:return Bf(e,t,r);case 4:return ia(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Br(t,null,s,r):lt(e,t,s,r),t.child;case 11:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:qt(s,u),$f(e,t,s,u,r);case 7:return lt(e,t,t.pendingProps,r),t.child;case 8:return lt(e,t,t.pendingProps.children,r),t.child;case 12:return lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,u=t.pendingProps,f=t.memoizedProps,y=u.value,Me(is,s._currentValue),s._currentValue=y,f!==null)if(Vt(f.value,y)){if(f.children===u.children&&!ft.current){t=kn(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var k=f.dependencies;if(k!==null){y=f.child;for(var I=k.firstContext;I!==null;){if(I.context===s){if(f.tag===1){I=_n(-1,r&-r),I.tag=2;var K=f.updateQueue;if(K!==null){K=K.shared;var oe=K.pending;oe===null?I.next=I:(I.next=oe.next,oe.next=I),K.pending=I}}f.lanes|=r,I=f.alternate,I!==null&&(I.lanes|=r),na(f.return,r,t),k.lanes|=r;break}I=I.next}}else if(f.tag===10)y=f.type===t.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(i(341));y.lanes|=r,k=y.alternate,k!==null&&(k.lanes|=r),na(y,r,t),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}lt(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,s=t.pendingProps.children,Ur(t,r),u=It(u),s=s(u),t.flags|=1,lt(e,t,s,r),t.child;case 14:return s=t.type,u=qt(s,t.pendingProps),u=qt(s.type,u),Df(e,t,s,u,r);case 15:return Af(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:qt(s,u),ys(e,t),t.tag=1,dt(s)?(e=!0,Ji(t)):e=!1,Ur(t,r),jf(t,s,u),va(t,s,u,r),Ea(null,t,s,!0,e,r);case 19:return Uf(e,t,r);case 22:return Lf(e,t,r)}throw Error(i(156,t.tag))};function hd(e,t){return ji(e,t)}function _g(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,r,s){return new _g(e,t,r,s)}function Ba(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kg(e){if(typeof e=="function")return Ba(e)?1:0;if(e!=null){if(e=e.$$typeof,e===B)return 11;if(e===L)return 14}return 2}function Gn(e,t){var r=e.alternate;return r===null?(r=Dt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ps(e,t,r,s,u,f){var y=2;if(s=e,typeof e=="function")Ba(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case Q:return vr(r.children,u,f,t);case te:y=8,u|=8;break;case Z:return e=Dt(12,r,t,u|2),e.elementType=Z,e.lanes=f,e;case W:return e=Dt(13,r,t,u),e.elementType=W,e.lanes=f,e;case x:return e=Dt(19,r,t,u),e.elementType=x,e.lanes=f,e;case U:return Ms(r,u,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:y=10;break e;case $:y=9;break e;case B:y=11;break e;case L:y=14;break e;case z:y=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Dt(y,r,t,u),t.elementType=e,t.type=s,t.lanes=f,t}function vr(e,t,r,s){return e=Dt(7,e,s,t),e.lanes=r,e}function Ms(e,t,r,s){return e=Dt(22,e,s,t),e.elementType=U,e.lanes=r,e.stateNode={isHidden:!1},e}function qa(e,t,r){return e=Dt(6,e,null,t),e.lanes=r,e}function Ua(e,t,r){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cg(e,t,r,s,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yl(0),this.expirationTimes=yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function ba(e,t,r,s,u,f,y,k,I){return e=new Cg(e,t,r,k,I),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Dt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},oa(f),e}function jg(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function md(e){if(!e)return Hn;e=e._reactInternals;e:{if(vn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(dt(r))return Bc(e,r,t)}return t}function gd(e,t,r,s,u,f,y,k,I){return e=ba(r,s,!0,e,u,f,y,k,I),e.context=md(null),r=e.current,s=at(),u=Yn(r),f=_n(s,u),f.callback=t??null,qn(r,f,u),e.current.lanes=u,vo(e,u,s),mt(e,s),e}function Ts(e,t,r,s){var u=t.current,f=at(),y=Yn(u);return r=md(r),t.context===null?t.context=r:t.pendingContext=r,t=_n(f,y),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=qn(u,t,y),e!==null&&(Wt(e,u,y,f),ls(e,u,y)),y}function zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wa(e,t){yd(e,t),(e=e.alternate)&&yd(e,t)}var vd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ya(e){this._internalRoot=e}Is.prototype.render=Ya.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Ts(e,t,null,null)},Is.prototype.unmount=Ya.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mr(function(){Ts(null,e,null,null)}),t[xn]=null}};function Is(e){this._internalRoot=e}Is.prototype.unstable_scheduleHydration=function(e){if(e){var t=ec();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dn.length&&t!==0&&t<Dn[r].priority;r++);Dn.splice(r,0,e),r===0&&rc(e)}};function Xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xd(){}function Pg(e,t,r,s,u){if(u){if(typeof s=="function"){var f=s;s=function(){var K=zs(y);f.call(K)}}var y=gd(t,s,e,0,null,!1,!1,"",xd);return e._reactRootContainer=y,e[xn]=y.current,Io(e.nodeType===8?e.parentNode:e),mr(),y}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var k=s;s=function(){var K=zs(I);k.call(K)}}var I=ba(e,0,!1,null,null,!1,!1,"",xd);return e._reactRootContainer=I,e[xn]=I.current,Io(e.nodeType===8?e.parentNode:e),mr(function(){Ts(t,I,r,s)}),I}function $s(e,t,r,s,u){var f=r._reactRootContainer;if(f){var y=f;if(typeof u=="function"){var k=u;u=function(){var I=zs(y);k.call(I)}}Ts(t,y,e,u)}else y=Pg(r,t,e,u,s);return zs(y)}Zu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yo(t.pendingLanes);r!==0&&(vl(t,r|1),mt(t,Re()),!(ke&6)&&(Gr=Re()+500,Vn()))}break;case 13:mr(function(){var s=Nn(e,1);if(s!==null){var u=at();Wt(s,e,1,u)}}),Wa(e,1)}},xl=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var r=at();Wt(t,e,134217728,r)}Wa(e,134217728)}},Ju=function(e){if(e.tag===13){var t=Yn(e),r=Nn(e,t);if(r!==null){var s=at();Wt(r,e,t,s)}Wa(e,t)}},ec=function(){return Pe},tc=function(e,t){var r=Pe;try{return Pe=e,t()}finally{Pe=r}},gn=function(e,t,r){switch(t){case"input":if(je(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var u=Qi(s);if(!u)throw Error(i(90));We(s),je(s,u)}}}break;case"textarea":Pt(e,r);break;case"select":t=r.value,t!=null&&jt(e,!!r.multiple,t,!1)}},xi=Oa,wi=mr;var Mg={usingClientEntryPoint:!1,Events:[Do,Ar,Qi,yi,vi,Oa]},Go={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tg={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ki(e),e===null?null:e.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Pr=Ds.inject(Tg),Mt=Ds}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mg,gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xa(t))throw Error(i(200));return jg(e,t,null,r)},gt.createRoot=function(e,t){if(!Xa(e))throw Error(i(299));var r=!1,s="",u=vd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=ba(e,1,!1,null,null,r,!1,s,u),e[xn]=t.current,Io(e.nodeType===8?e.parentNode:e),new Ya(t)},gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=ki(t),e=e===null?null:e.stateNode,e},gt.flushSync=function(e){return mr(e)},gt.hydrate=function(e,t,r){if(!Rs(t))throw Error(i(200));return $s(null,e,t,!0,r)},gt.hydrateRoot=function(e,t,r){if(!Xa(e))throw Error(i(405));var s=r!=null&&r.hydratedSources||null,u=!1,f="",y=vd;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),t=gd(t,null,e,1,r??null,u,!1,f,y),e[xn]=t.current,Io(e),s)for(e=0;e<s.length;e++)r=s[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new Is(t)},gt.render=function(e,t,r){if(!Rs(t))throw Error(i(200));return $s(null,e,t,!1,r)},gt.unmountComponentAtNode=function(e){if(!Rs(e))throw Error(i(40));return e._reactRootContainer?(mr(function(){$s(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1},gt.unstable_batchedUpdates=Oa,gt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Rs(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return $s(e,t,r,!1,s)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var Qd;function Jp(){if(Qd)return iu.exports;Qd=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),iu.exports=Tx(),iu.exports}Jp();const al=V.createContext(null),zx=al.Provider,zn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,o)=>`Couldn't create edge for ${n?"target":"source"} handle id: "${n?o.targetHandle:o.sourceHandle}", edge id: ${o.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},eh=zn.error001();function Ae(n,o){const i=V.useContext(al);if(i===null)throw new Error(eh);return kp(i,n,o)}const Ke=()=>{const n=V.useContext(al);if(n===null)throw new Error(eh);return V.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe,destroy:n.destroy}),[n])},Ix=n=>n.userSelectionActive?"none":"all";function th({position:n,children:o,className:i,style:l,...a}){const c=Ae(Ix),d=`${n}`.split("-");return J.createElement("div",{className:ut(["react-flow__panel",i,...d]),style:{...l,pointerEvents:c},...a},o)}function Rx({proOptions:n,position:o="bottom-right"}){return n!=null&&n.hideAttribution?null:J.createElement(th,{position:o,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},J.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const $x=({x:n,y:o,label:i,labelStyle:l={},labelShowBg:a=!0,labelBgStyle:c={},labelBgPadding:d=[2,4],labelBgBorderRadius:p=2,children:h,className:g,...m})=>{const v=V.useRef(null),[S,E]=V.useState({x:0,y:0,width:0,height:0}),C=ut(["react-flow__edge-textwrapper",g]);return V.useEffect(()=>{if(v.current){const _=v.current.getBBox();E({x:_.x,y:_.y,width:_.width,height:_.height})}},[i]),typeof i>"u"||!i?null:J.createElement("g",{transform:`translate(${n-S.width/2} ${o-S.height/2})`,className:C,visibility:S.width?"visible":"hidden",...m},a&&J.createElement("rect",{width:S.width+2*d[0],x:-d[0],y:-d[1],height:S.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:p,ry:p}),J.createElement("text",{className:"react-flow__edge-text",y:S.height/2,dy:"0.3em",ref:v,style:l},i),h)};var Dx=V.memo($x);const Lu=n=>({width:n.offsetWidth,height:n.offsetHeight}),ao=(n,o=0,i=1)=>Math.min(Math.max(n,o),i),Fu=(n={x:0,y:0},o)=>({x:ao(n.x,o[0][0],o[1][0]),y:ao(n.y,o[0][1],o[1][1])}),Zd=(n,o,i)=>n<o?ao(Math.abs(n-o),1,50)/50:n>i?-ao(Math.abs(n-i),1,50)/50:0,nh=(n,o)=>{const i=Zd(n.x,35,o.width-35)*20,l=Zd(n.y,35,o.height-35)*20;return[i,l]},rh=n=>{var o;return((o=n.getRootNode)==null?void 0:o.call(n))||(window==null?void 0:window.document)},Ax=(n,o)=>({x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x2,o.x2),y2:Math.max(n.y2,o.y2)}),Ou=({x:n,y:o,width:i,height:l})=>({x:n,y:o,x2:n+i,y2:o+l}),Lx=({x:n,y:o,x2:i,y2:l})=>({x:n,y:o,width:i-n,height:l-o}),Jd=n=>({...n.positionAbsolute||{x:0,y:0},width:n.width||0,height:n.height||0}),Nu=(n,o)=>{const i=Math.max(0,Math.min(n.x+n.width,o.x+o.width)-Math.max(n.x,o.x)),l=Math.max(0,Math.min(n.y+n.height,o.y+o.height)-Math.max(n.y,o.y));return Math.ceil(i*l)},Fx=n=>At(n.width)&&At(n.height)&&At(n.x)&&At(n.y),At=n=>!isNaN(n)&&isFinite(n),Ve=Symbol.for("internals"),oh=["Enter"," ","Escape"],Ox=(n,o)=>{},Hx=n=>"nativeEvent"in n;function _u(n){var a,c;const o=Hx(n)?n.nativeEvent:n,i=((c=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:c[0])||n.target;return["INPUT","SELECT","TEXTAREA"].includes(i==null?void 0:i.nodeName)||(i==null?void 0:i.hasAttribute("contenteditable"))||!!(i!=null&&i.closest(".nokey"))}const ih=n=>"clientX"in n,nr=(n,o)=>{var c,d;const i=ih(n),l=i?n.clientX:(c=n.touches)==null?void 0:c[0].clientX,a=i?n.clientY:(d=n.touches)==null?void 0:d[0].clientY;return{x:l-((o==null?void 0:o.left)??0),y:a-((o==null?void 0:o.top)??0)}},nl=()=>{var n;return typeof navigator<"u"&&((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.indexOf("Mac"))>=0},gi=({id:n,path:o,labelX:i,labelY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:S,interactionWidth:E=20})=>J.createElement(J.Fragment,null,J.createElement("path",{id:n,style:m,d:o,fill:"none",className:"react-flow__edge-path",markerEnd:v,markerStart:S}),E&&J.createElement("path",{d:o,fill:"none",strokeOpacity:0,strokeWidth:E,className:"react-flow__edge-interaction"}),a&&At(i)&&At(l)?J.createElement(Dx,{x:i,y:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:g}):null);gi.displayName="BaseEdge";function Jo(n,o,i){return i===void 0?i:l=>{const a=o().edges.find(c=>c.id===n);a&&i(l,{...a})}}function sh({sourceX:n,sourceY:o,targetX:i,targetY:l}){const a=Math.abs(i-n)/2,c=i<n?i+a:i-a,d=Math.abs(l-o)/2,p=l<o?l+d:l-d;return[c,p,a,d]}function lh({sourceX:n,sourceY:o,targetX:i,targetY:l,sourceControlX:a,sourceControlY:c,targetControlX:d,targetControlY:p}){const h=n*.125+a*.375+d*.375+i*.125,g=o*.125+c*.375+p*.375+l*.125,m=Math.abs(h-n),v=Math.abs(g-o);return[h,g,m,v]}var _r;(function(n){n.Strict="strict",n.Loose="loose"})(_r||(_r={}));var Sr;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(Sr||(Sr={}));var ci;(function(n){n.Partial="partial",n.Full="full"})(ci||(ci={}));var Pn;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(Pn||(Pn={}));var uo;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(uo||(uo={}));var ge;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(ge||(ge={}));function ep({pos:n,x1:o,y1:i,x2:l,y2:a}){return n===ge.Left||n===ge.Right?[.5*(o+l),i]:[o,.5*(i+a)]}function ah({sourceX:n,sourceY:o,sourcePosition:i=ge.Bottom,targetX:l,targetY:a,targetPosition:c=ge.Top}){const[d,p]=ep({pos:i,x1:n,y1:o,x2:l,y2:a}),[h,g]=ep({pos:c,x1:l,y1:a,x2:n,y2:o}),[m,v,S,E]=lh({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:d,sourceControlY:p,targetControlX:h,targetControlY:g});return[`M${n},${o} C${d},${p} ${h},${g} ${l},${a}`,m,v,S,E]}const Hu=V.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,sourcePosition:a=ge.Bottom,targetPosition:c=ge.Top,label:d,labelStyle:p,labelShowBg:h,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:S,markerEnd:E,markerStart:C,interactionWidth:_})=>{const[P,M,D]=ah({sourceX:n,sourceY:o,sourcePosition:a,targetX:i,targetY:l,targetPosition:c});return J.createElement(gi,{path:P,labelX:M,labelY:D,label:d,labelStyle:p,labelShowBg:h,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:S,markerEnd:E,markerStart:C,interactionWidth:_})});Hu.displayName="SimpleBezierEdge";const tp={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},Vx=({source:n,sourcePosition:o=ge.Bottom,target:i})=>o===ge.Left||o===ge.Right?n.x<i.x?{x:1,y:0}:{x:-1,y:0}:n.y<i.y?{x:0,y:1}:{x:0,y:-1},np=(n,o)=>Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2));function Bx({source:n,sourcePosition:o=ge.Bottom,target:i,targetPosition:l=ge.Top,center:a,offset:c}){const d=tp[o],p=tp[l],h={x:n.x+d.x*c,y:n.y+d.y*c},g={x:i.x+p.x*c,y:i.y+p.y*c},m=Vx({source:h,sourcePosition:o,target:g}),v=m.x!==0?"x":"y",S=m[v];let E=[],C,_;const P={x:0,y:0},M={x:0,y:0},[D,b,R,G]=sh({sourceX:n.x,sourceY:n.y,targetX:i.x,targetY:i.y});if(d[v]*p[v]===-1){C=a.x??D,_=a.y??b;const Q=[{x:C,y:h.y},{x:C,y:g.y}],te=[{x:h.x,y:_},{x:g.x,y:_}];d[v]===S?E=v==="x"?Q:te:E=v==="x"?te:Q}else{const Q=[{x:h.x,y:g.y}],te=[{x:g.x,y:h.y}];if(v==="x"?E=d.x===S?te:Q:E=d.y===S?Q:te,o===l){const W=Math.abs(n[v]-i[v]);if(W<=c){const x=Math.min(c-1,c-W);d[v]===S?P[v]=(h[v]>n[v]?-1:1)*x:M[v]=(g[v]>i[v]?-1:1)*x}}if(o!==l){const W=v==="x"?"y":"x",x=d[v]===p[W],L=h[W]>g[W],z=h[W]<g[W];(d[v]===1&&(!x&&L||x&&z)||d[v]!==1&&(!x&&z||x&&L))&&(E=v==="x"?Q:te)}const Z={x:h.x+P.x,y:h.y+P.y},H={x:g.x+M.x,y:g.y+M.y},$=Math.max(Math.abs(Z.x-E[0].x),Math.abs(H.x-E[0].x)),B=Math.max(Math.abs(Z.y-E[0].y),Math.abs(H.y-E[0].y));$>=B?(C=(Z.x+H.x)/2,_=E[0].y):(C=E[0].x,_=(Z.y+H.y)/2)}return[[n,{x:h.x+P.x,y:h.y+P.y},...E,{x:g.x+M.x,y:g.y+M.y},i],C,_,R,G]}function qx(n,o,i,l){const a=Math.min(np(n,o)/2,np(o,i)/2,l),{x:c,y:d}=o;if(n.x===c&&c===i.x||n.y===d&&d===i.y)return`L${c} ${d}`;if(n.y===d){const g=n.x<i.x?-1:1,m=n.y<i.y?1:-1;return`L ${c+a*g},${d}Q ${c},${d} ${c},${d+a*m}`}const p=n.x<i.x?1:-1,h=n.y<i.y?-1:1;return`L ${c},${d+a*h}Q ${c},${d} ${c+a*p},${d}`}function ku({sourceX:n,sourceY:o,sourcePosition:i=ge.Bottom,targetX:l,targetY:a,targetPosition:c=ge.Top,borderRadius:d=5,centerX:p,centerY:h,offset:g=20}){const[m,v,S,E,C]=Bx({source:{x:n,y:o},sourcePosition:i,target:{x:l,y:a},targetPosition:c,center:{x:p,y:h},offset:g});return[m.reduce((P,M,D)=>{let b="";return D>0&&D<m.length-1?b=qx(m[D-1],M,m[D+1],d):b=`${D===0?"M":"L"}${M.x} ${M.y}`,P+=b,P},""),v,S,E,C]}const ul=V.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:g,style:m,sourcePosition:v=ge.Bottom,targetPosition:S=ge.Top,markerEnd:E,markerStart:C,pathOptions:_,interactionWidth:P})=>{const[M,D,b]=ku({sourceX:n,sourceY:o,sourcePosition:v,targetX:i,targetY:l,targetPosition:S,borderRadius:_==null?void 0:_.borderRadius,offset:_==null?void 0:_.offset});return J.createElement(gi,{path:M,labelX:D,labelY:b,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:E,markerStart:C,interactionWidth:P})});ul.displayName="SmoothStepEdge";const Vu=V.memo(n=>{var o;return J.createElement(ul,{...n,pathOptions:V.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})});Vu.displayName="StepEdge";function Ux({sourceX:n,sourceY:o,targetX:i,targetY:l}){const[a,c,d,p]=sh({sourceX:n,sourceY:o,targetX:i,targetY:l});return[`M ${n},${o}L ${i},${l}`,a,c,d,p]}const Bu=V.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:S,interactionWidth:E})=>{const[C,_,P]=Ux({sourceX:n,sourceY:o,targetX:i,targetY:l});return J.createElement(gi,{path:C,labelX:_,labelY:P,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:S,interactionWidth:E})});Bu.displayName="StraightEdge";function Vs(n,o){return n>=0?.5*n:o*25*Math.sqrt(-n)}function rp({pos:n,x1:o,y1:i,x2:l,y2:a,c}){switch(n){case ge.Left:return[o-Vs(o-l,c),i];case ge.Right:return[o+Vs(l-o,c),i];case ge.Top:return[o,i-Vs(i-a,c)];case ge.Bottom:return[o,i+Vs(a-i,c)]}}function uh({sourceX:n,sourceY:o,sourcePosition:i=ge.Bottom,targetX:l,targetY:a,targetPosition:c=ge.Top,curvature:d=.25}){const[p,h]=rp({pos:i,x1:n,y1:o,x2:l,y2:a,c:d}),[g,m]=rp({pos:c,x1:l,y1:a,x2:n,y2:o,c:d}),[v,S,E,C]=lh({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:p,sourceControlY:h,targetControlX:g,targetControlY:m});return[`M${n},${o} C${p},${h} ${g},${m} ${l},${a}`,v,S,E,C]}const rl=V.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,sourcePosition:a=ge.Bottom,targetPosition:c=ge.Top,label:d,labelStyle:p,labelShowBg:h,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:S,markerEnd:E,markerStart:C,pathOptions:_,interactionWidth:P})=>{const[M,D,b]=uh({sourceX:n,sourceY:o,sourcePosition:a,targetX:i,targetY:l,targetPosition:c,curvature:_==null?void 0:_.curvature});return J.createElement(gi,{path:M,labelX:D,labelY:b,label:d,labelStyle:p,labelShowBg:h,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:S,markerEnd:E,markerStart:C,interactionWidth:P})});rl.displayName="BezierEdge";const qu=V.createContext(null),bx=qu.Provider;qu.Consumer;const Wx=()=>V.useContext(qu),Yx=n=>"id"in n&&"source"in n&&"target"in n,Xx=({source:n,sourceHandle:o,target:i,targetHandle:l})=>`reactflow__edge-${n}${o||""}-${i}${l||""}`,Cu=(n,o)=>typeof n>"u"?"":typeof n=="string"?n:`${o?`${o}__`:""}${Object.keys(n).sort().map(l=>`${l}=${n[l]}`).join("&")}`,Gx=(n,o)=>o.some(i=>i.source===n.source&&i.target===n.target&&(i.sourceHandle===n.sourceHandle||!i.sourceHandle&&!n.sourceHandle)&&(i.targetHandle===n.targetHandle||!i.targetHandle&&!n.targetHandle)),Kx=(n,o)=>{if(!n.source||!n.target)return o;let i;return Yx(n)?i={...n}:i={...n,id:Xx(n)},Gx(i,o)?o:o.concat(i)},ju=({x:n,y:o},[i,l,a],c,[d,p])=>{const h={x:(n-i)/a,y:(o-l)/a};return c?{x:d*Math.round(h.x/d),y:p*Math.round(h.y/p)}:h},ch=({x:n,y:o},[i,l,a])=>({x:n*a+i,y:o*a+l}),oo=(n,o=[0,0])=>{if(!n)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const i=(n.width??0)*o[0],l=(n.height??0)*o[1],a={x:n.position.x-i,y:n.position.y-l};return{...a,positionAbsolute:n.positionAbsolute?{x:n.positionAbsolute.x-i,y:n.positionAbsolute.y-l}:a}},Uu=(n,o=[0,0])=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const i=n.reduce((l,a)=>{const{x:c,y:d}=oo(a,o).positionAbsolute;return Ax(l,Ou({x:c,y:d,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Lx(i)},fh=(n,o,[i,l,a]=[0,0,1],c=!1,d=!1,p=[0,0])=>{const h={x:(o.x-i)/a,y:(o.y-l)/a,width:o.width/a,height:o.height/a},g=[];return n.forEach(m=>{const{width:v,height:S,selectable:E=!0,hidden:C=!1}=m;if(d&&!E||C)return!1;const{positionAbsolute:_}=oo(m,p),P={x:_.x,y:_.y,width:v||0,height:S||0},M=Nu(h,P),D=typeof v>"u"||typeof S>"u"||v===null||S===null,b=c&&M>0,R=(v||0)*(S||0);(D||b||M>=R||m.dragging)&&g.push(m)}),g},dh=(n,o)=>{const i=n.map(l=>l.id);return o.filter(l=>i.includes(l.source)||i.includes(l.target))},ph=(n,o,i,l,a,c=.1)=>{const d=o/(n.width*(1+c)),p=i/(n.height*(1+c)),h=Math.min(d,p),g=ao(h,l,a),m=n.x+n.width/2,v=n.y+n.height/2,S=o/2-m*g,E=i/2-v*g;return{x:S,y:E,zoom:g}},xr=(n,o=0)=>n.transition().duration(o);function op(n,o,i,l){return(o[i]||[]).reduce((a,c)=>{var d,p;return`${n.id}-${c.id}-${i}`!==l&&a.push({id:c.id||null,type:i,nodeId:n.id,x:(((d=n.positionAbsolute)==null?void 0:d.x)??0)+c.x+c.width/2,y:(((p=n.positionAbsolute)==null?void 0:p.y)??0)+c.y+c.height/2}),a},[])}function Qx(n,o,i,l,a,c){const{x:d,y:p}=nr(n),g=o.elementsFromPoint(d,p).find(C=>C.classList.contains("react-flow__handle"));if(g){const C=g.getAttribute("data-nodeid");if(C){const _=bu(void 0,g),P=g.getAttribute("data-handleid"),M=c({nodeId:C,id:P,type:_});if(M){const D=a.find(b=>b.nodeId===C&&b.type===_&&b.id===P);return{handle:{id:P,type:_,nodeId:C,x:(D==null?void 0:D.x)||i.x,y:(D==null?void 0:D.y)||i.y},validHandleResult:M}}}}let m=[],v=1/0;if(a.forEach(C=>{const _=Math.sqrt((C.x-i.x)**2+(C.y-i.y)**2);if(_<=l){const P=c(C);_<=v&&(_<v?m=[{handle:C,validHandleResult:P}]:_===v&&m.push({handle:C,validHandleResult:P}),v=_)}}),!m.length)return{handle:null,validHandleResult:hh()};if(m.length===1)return m[0];const S=m.some(({validHandleResult:C})=>C.isValid),E=m.some(({handle:C})=>C.type==="target");return m.find(({handle:C,validHandleResult:_})=>E?C.type==="target":S?_.isValid:!0)||m[0]}const Zx={source:null,target:null,sourceHandle:null,targetHandle:null},hh=()=>({handleDomNode:null,isValid:!1,connection:Zx,endHandle:null});function mh(n,o,i,l,a,c,d){const p=a==="target",h=d.querySelector(`.react-flow__handle[data-id="${n==null?void 0:n.nodeId}-${n==null?void 0:n.id}-${n==null?void 0:n.type}"]`),g={...hh(),handleDomNode:h};if(h){const m=bu(void 0,h),v=h.getAttribute("data-nodeid"),S=h.getAttribute("data-handleid"),E=h.classList.contains("connectable"),C=h.classList.contains("connectableend"),_={source:p?v:i,sourceHandle:p?S:l,target:p?i:v,targetHandle:p?l:S};g.connection=_,E&&C&&(o===_r.Strict?p&&m==="source"||!p&&m==="target":v!==i||S!==l)&&(g.endHandle={nodeId:v,handleId:S,type:m},g.isValid=c(_))}return g}function Jx({nodes:n,nodeId:o,handleId:i,handleType:l}){return n.reduce((a,c)=>{if(c[Ve]){const{handleBounds:d}=c[Ve];let p=[],h=[];d&&(p=op(c,d,"source",`${o}-${i}-${l}`),h=op(c,d,"target",`${o}-${i}-${l}`)),a.push(...p,...h)}return a},[])}function bu(n,o){return n||(o!=null&&o.classList.contains("target")?"target":o!=null&&o.classList.contains("source")?"source":null)}function au(n){n==null||n.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function ew(n,o){let i=null;return o?i="valid":n&&!o&&(i="invalid"),i}function gh({event:n,handleId:o,nodeId:i,onConnect:l,isTarget:a,getState:c,setState:d,isValidConnection:p,edgeUpdaterType:h,onReconnectEnd:g}){const m=rh(n.target),{connectionMode:v,domNode:S,autoPanOnConnect:E,connectionRadius:C,onConnectStart:_,panBy:P,getNodes:M,cancelConnection:D}=c();let b=0,R;const{x:G,y:q}=nr(n),Q=m==null?void 0:m.elementFromPoint(G,q),te=bu(h,Q),Z=S==null?void 0:S.getBoundingClientRect();if(!Z||!te)return;let H,$=nr(n,Z),B=!1,W=null,x=!1,L=null;const z=Jx({nodes:M(),nodeId:i,handleId:o,handleType:te}),U=()=>{if(!E)return;const[F,N]=nh($,Z);P({x:F,y:N}),b=requestAnimationFrame(U)};d({connectionPosition:$,connectionStatus:null,connectionNodeId:i,connectionHandleId:o,connectionHandleType:te,connectionStartHandle:{nodeId:i,handleId:o,type:te},connectionEndHandle:null}),_==null||_(n,{nodeId:i,handleId:o,handleType:te});function A(F){const{transform:N}=c();$=nr(F,Z);const{handle:T,validHandleResult:ne}=Qx(F,m,ju($,N,!1,[1,1]),C,z,ee=>mh(ee,v,i,o,a?"target":"source",p,m));if(R=T,B||(U(),B=!0),L=ne.handleDomNode,W=ne.connection,x=ne.isValid,d({connectionPosition:R&&x?ch({x:R.x,y:R.y},N):$,connectionStatus:ew(!!R,x),connectionEndHandle:ne.endHandle}),!R&&!x&&!L)return au(H);W.source!==W.target&&L&&(au(H),H=L,L.classList.add("connecting","react-flow__handle-connecting"),L.classList.toggle("valid",x),L.classList.toggle("react-flow__handle-valid",x))}function j(F){var N,T;(R||L)&&W&&x&&(l==null||l(W)),(T=(N=c()).onConnectEnd)==null||T.call(N,F),h&&(g==null||g(F)),au(H),D(),cancelAnimationFrame(b),B=!1,x=!1,W=null,L=null,m.removeEventListener("mousemove",A),m.removeEventListener("mouseup",j),m.removeEventListener("touchmove",A),m.removeEventListener("touchend",j)}m.addEventListener("mousemove",A),m.addEventListener("mouseup",j),m.addEventListener("touchmove",A),m.addEventListener("touchend",j)}const ip=()=>!0,tw=n=>({connectionStartHandle:n.connectionStartHandle,connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName}),nw=(n,o,i)=>l=>{const{connectionStartHandle:a,connectionEndHandle:c,connectionClickStartHandle:d}=l;return{connecting:(a==null?void 0:a.nodeId)===n&&(a==null?void 0:a.handleId)===o&&(a==null?void 0:a.type)===i||(c==null?void 0:c.nodeId)===n&&(c==null?void 0:c.handleId)===o&&(c==null?void 0:c.type)===i,clickConnecting:(d==null?void 0:d.nodeId)===n&&(d==null?void 0:d.handleId)===o&&(d==null?void 0:d.type)===i}},yh=V.forwardRef(({type:n="source",position:o=ge.Top,isValidConnection:i,isConnectable:l=!0,isConnectableStart:a=!0,isConnectableEnd:c=!0,id:d,onConnect:p,children:h,className:g,onMouseDown:m,onTouchStart:v,...S},E)=>{var Z,H;const C=d||null,_=n==="target",P=Ke(),M=Wx(),{connectOnClick:D,noPanClassName:b}=Ae(tw,st),{connecting:R,clickConnecting:G}=Ae(nw(M,C,n),st);M||(H=(Z=P.getState()).onError)==null||H.call(Z,"010",zn.error010());const q=$=>{const{defaultEdgeOptions:B,onConnect:W,hasDefaultEdges:x}=P.getState(),L={...B,...$};if(x){const{edges:z,setEdges:U}=P.getState();U(Kx(L,z))}W==null||W(L),p==null||p(L)},Q=$=>{if(!M)return;const B=ih($);a&&(B&&$.button===0||!B)&&gh({event:$,handleId:C,nodeId:M,onConnect:q,isTarget:_,getState:P.getState,setState:P.setState,isValidConnection:i||P.getState().isValidConnection||ip}),B?m==null||m($):v==null||v($)},te=$=>{const{onClickConnectStart:B,onClickConnectEnd:W,connectionClickStartHandle:x,connectionMode:L,isValidConnection:z}=P.getState();if(!M||!x&&!a)return;if(!x){B==null||B($,{nodeId:M,handleId:C,handleType:n}),P.setState({connectionClickStartHandle:{nodeId:M,type:n,handleId:C}});return}const U=rh($.target),A=i||z||ip,{connection:j,isValid:F}=mh({nodeId:M,id:C,type:n},L,x.nodeId,x.handleId||null,x.type,A,U);F&&q(j),W==null||W($),P.setState({connectionClickStartHandle:null})};return J.createElement("div",{"data-handleid":C,"data-nodeid":M,"data-handlepos":o,"data-id":`${M}-${C}-${n}`,className:ut(["react-flow__handle",`react-flow__handle-${o}`,"nodrag",b,g,{source:!_,target:_,connectable:l,connectablestart:a,connectableend:c,connecting:G,connectionindicator:l&&(a&&!R||c&&R)}]),onMouseDown:Q,onTouchStart:Q,onClick:D?te:void 0,ref:E,...S},h)});yh.displayName="Handle";var co=V.memo(yh);const vh=({data:n,isConnectable:o,targetPosition:i=ge.Top,sourcePosition:l=ge.Bottom})=>J.createElement(J.Fragment,null,J.createElement(co,{type:"target",position:i,isConnectable:o}),n==null?void 0:n.label,J.createElement(co,{type:"source",position:l,isConnectable:o}));vh.displayName="DefaultNode";var Pu=V.memo(vh);const xh=({data:n,isConnectable:o,sourcePosition:i=ge.Bottom})=>J.createElement(J.Fragment,null,n==null?void 0:n.label,J.createElement(co,{type:"source",position:i,isConnectable:o}));xh.displayName="InputNode";var wh=V.memo(xh);const Sh=({data:n,isConnectable:o,targetPosition:i=ge.Top})=>J.createElement(J.Fragment,null,J.createElement(co,{type:"target",position:i,isConnectable:o}),n==null?void 0:n.label);Sh.displayName="OutputNode";var Eh=V.memo(Sh);const Wu=()=>null;Wu.displayName="GroupNode";const rw=n=>({selectedNodes:n.getNodes().filter(o=>o.selected),selectedEdges:n.edges.filter(o=>o.selected).map(o=>({...o}))}),Bs=n=>n.id;function ow(n,o){return st(n.selectedNodes.map(Bs),o.selectedNodes.map(Bs))&&st(n.selectedEdges.map(Bs),o.selectedEdges.map(Bs))}const Nh=V.memo(({onSelectionChange:n})=>{const o=Ke(),{selectedNodes:i,selectedEdges:l}=Ae(rw,ow);return V.useEffect(()=>{const a={nodes:i,edges:l};n==null||n(a),o.getState().onSelectionChange.forEach(c=>c(a))},[i,l,n]),null});Nh.displayName="SelectionListener";const iw=n=>!!n.onSelectionChange;function sw({onSelectionChange:n}){const o=Ae(iw);return n||o?J.createElement(Nh,{onSelectionChange:n}):null}const lw=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset});function Qr(n,o){V.useEffect(()=>{typeof n<"u"&&o(n)},[n])}function _e(n,o,i){V.useEffect(()=>{typeof o<"u"&&i({[n]:o})},[o])}const aw=({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,onConnect:a,onConnectStart:c,onConnectEnd:d,onClickConnectStart:p,onClickConnectEnd:h,nodesDraggable:g,nodesConnectable:m,nodesFocusable:v,edgesFocusable:S,edgesUpdatable:E,elevateNodesOnSelect:C,minZoom:_,maxZoom:P,nodeExtent:M,onNodesChange:D,onEdgesChange:b,elementsSelectable:R,connectionMode:G,snapGrid:q,snapToGrid:Q,translateExtent:te,connectOnClick:Z,defaultEdgeOptions:H,fitView:$,fitViewOptions:B,onNodesDelete:W,onEdgesDelete:x,onNodeDrag:L,onNodeDragStart:z,onNodeDragStop:U,onSelectionDrag:A,onSelectionDragStart:j,onSelectionDragStop:F,noPanClassName:N,nodeOrigin:T,rfId:ne,autoPanOnConnect:ee,autoPanOnNodeDrag:ie,onError:ae,connectionRadius:ce,isValidConnection:pe,nodeDragThreshold:ve})=>{const{setNodes:Se,setEdges:Le,setDefaultNodesAndEdges:We,setMinZoom:et,setMaxZoom:tt,setTranslateExtent:Fe,setNodeExtent:vt,reset:je}=Ae(lw,st),ye=Ke();return V.useEffect(()=>{const Qe=l==null?void 0:l.map(xt=>({...xt,...H}));return We(i,Qe),()=>{je()}},[]),_e("defaultEdgeOptions",H,ye.setState),_e("connectionMode",G,ye.setState),_e("onConnect",a,ye.setState),_e("onConnectStart",c,ye.setState),_e("onConnectEnd",d,ye.setState),_e("onClickConnectStart",p,ye.setState),_e("onClickConnectEnd",h,ye.setState),_e("nodesDraggable",g,ye.setState),_e("nodesConnectable",m,ye.setState),_e("nodesFocusable",v,ye.setState),_e("edgesFocusable",S,ye.setState),_e("edgesUpdatable",E,ye.setState),_e("elementsSelectable",R,ye.setState),_e("elevateNodesOnSelect",C,ye.setState),_e("snapToGrid",Q,ye.setState),_e("snapGrid",q,ye.setState),_e("onNodesChange",D,ye.setState),_e("onEdgesChange",b,ye.setState),_e("connectOnClick",Z,ye.setState),_e("fitViewOnInit",$,ye.setState),_e("fitViewOnInitOptions",B,ye.setState),_e("onNodesDelete",W,ye.setState),_e("onEdgesDelete",x,ye.setState),_e("onNodeDrag",L,ye.setState),_e("onNodeDragStart",z,ye.setState),_e("onNodeDragStop",U,ye.setState),_e("onSelectionDrag",A,ye.setState),_e("onSelectionDragStart",j,ye.setState),_e("onSelectionDragStop",F,ye.setState),_e("noPanClassName",N,ye.setState),_e("nodeOrigin",T,ye.setState),_e("rfId",ne,ye.setState),_e("autoPanOnConnect",ee,ye.setState),_e("autoPanOnNodeDrag",ie,ye.setState),_e("onError",ae,ye.setState),_e("connectionRadius",ce,ye.setState),_e("isValidConnection",pe,ye.setState),_e("nodeDragThreshold",ve,ye.setState),Qr(n,Se),Qr(o,Le),Qr(_,et),Qr(P,tt),Qr(te,Fe),Qr(M,vt),null},sp={display:"none"},uw={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},_h="react-flow__node-desc",kh="react-flow__edge-desc",cw="react-flow__aria-live",fw=n=>n.ariaLiveMessage;function dw({rfId:n}){const o=Ae(fw);return J.createElement("div",{id:`${cw}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:uw},o)}function pw({rfId:n,disableKeyboardA11y:o}){return J.createElement(J.Fragment,null,J.createElement("div",{id:`${_h}-${n}`,style:sp},"Press enter or space to select a node.",!o&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),J.createElement("div",{id:`${kh}-${n}`,style:sp},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!o&&J.createElement(dw,{rfId:n}))}var fi=(n=null,o={actInsideInputWithModifier:!0})=>{const[i,l]=V.useState(!1),a=V.useRef(!1),c=V.useRef(new Set([])),[d,p]=V.useMemo(()=>{if(n!==null){const g=(Array.isArray(n)?n:[n]).filter(v=>typeof v=="string").map(v=>v.split("+")),m=g.reduce((v,S)=>v.concat(...S),[]);return[g,m]}return[[],[]]},[n]);return V.useEffect(()=>{const h=typeof document<"u"?document:null,g=(o==null?void 0:o.target)||h;if(n!==null){const m=E=>{if(a.current=E.ctrlKey||E.metaKey||E.shiftKey,(!a.current||a.current&&!o.actInsideInputWithModifier)&&_u(E))return!1;const _=ap(E.code,p);c.current.add(E[_]),lp(d,c.current,!1)&&(E.preventDefault(),l(!0))},v=E=>{if((!a.current||a.current&&!o.actInsideInputWithModifier)&&_u(E))return!1;const _=ap(E.code,p);lp(d,c.current,!0)?(l(!1),c.current.clear()):c.current.delete(E[_]),E.key==="Meta"&&c.current.clear(),a.current=!1},S=()=>{c.current.clear(),l(!1)};return g==null||g.addEventListener("keydown",m),g==null||g.addEventListener("keyup",v),window.addEventListener("blur",S),()=>{g==null||g.removeEventListener("keydown",m),g==null||g.removeEventListener("keyup",v),window.removeEventListener("blur",S)}}},[n,l]),i};function lp(n,o,i){return n.filter(l=>i||l.length===o.size).some(l=>l.every(a=>o.has(a)))}function ap(n,o){return o.includes(n)?"code":"key"}function Ch(n,o,i,l){var p,h;const a=n.parentNode||n.parentId;if(!a)return i;const c=o.get(a),d=oo(c,l);return Ch(c,o,{x:(i.x??0)+d.x,y:(i.y??0)+d.y,z:(((p=c[Ve])==null?void 0:p.z)??0)>(i.z??0)?((h=c[Ve])==null?void 0:h.z)??0:i.z??0},l)}function jh(n,o,i){n.forEach(l=>{var c;const a=l.parentNode||l.parentId;if(a&&!n.has(a))throw new Error(`Parent node ${a} not found`);if(a||i!=null&&i[l.id]){const{x:d,y:p,z:h}=Ch(l,n,{...l.position,z:((c=l[Ve])==null?void 0:c.z)??0},o);l.positionAbsolute={x:d,y:p},l[Ve].z=h,i!=null&&i[l.id]&&(l[Ve].isParent=!0)}})}function uu(n,o,i,l){const a=new Map,c={},d=l?1e3:0;return n.forEach(p=>{var E;const h=(At(p.zIndex)?p.zIndex:0)+(p.selected?d:0),g=o.get(p.id),m={...p,positionAbsolute:{x:p.position.x,y:p.position.y}},v=p.parentNode||p.parentId;v&&(c[v]=!0);const S=(g==null?void 0:g.type)&&(g==null?void 0:g.type)!==p.type;Object.defineProperty(m,Ve,{enumerable:!1,value:{handleBounds:S||(E=g==null?void 0:g[Ve])==null?void 0:E.handleBounds,z:h}}),a.set(p.id,m)}),jh(a,i,c),a}function Ph(n,o={}){const{getNodes:i,width:l,height:a,minZoom:c,maxZoom:d,d3Zoom:p,d3Selection:h,fitViewOnInitDone:g,fitViewOnInit:m,nodeOrigin:v}=n(),S=o.initial&&!g&&m;if(p&&h&&(S||!o.initial)){const C=i().filter(P=>{var D;const M=o.includeHiddenNodes?P.width&&P.height:!P.hidden;return(D=o.nodes)!=null&&D.length?M&&o.nodes.some(b=>b.id===P.id):M}),_=C.every(P=>P.width&&P.height);if(C.length>0&&_){const P=Uu(C,v),{x:M,y:D,zoom:b}=ph(P,l,a,o.minZoom??c,o.maxZoom??d,o.padding??.1),R=tr.translate(M,D).scale(b);return typeof o.duration=="number"&&o.duration>0?p.transform(xr(h,o.duration),R):p.transform(h,R),!0}}return!1}function hw(n,o){return n.forEach(i=>{const l=o.get(i.id);l&&o.set(l.id,{...l,[Ve]:l[Ve],selected:i.selected})}),new Map(o)}function mw(n,o){return o.map(i=>{const l=n.find(a=>a.id===i.id);return l&&(i.selected=l.selected),i})}function qs({changedNodes:n,changedEdges:o,get:i,set:l}){const{nodeInternals:a,edges:c,onNodesChange:d,onEdgesChange:p,hasDefaultNodes:h,hasDefaultEdges:g}=i();n!=null&&n.length&&(h&&l({nodeInternals:hw(n,a)}),d==null||d(n)),o!=null&&o.length&&(g&&l({edges:mw(o,c)}),p==null||p(o))}const Zr=()=>{},gw={zoomIn:Zr,zoomOut:Zr,zoomTo:Zr,getZoom:()=>1,setViewport:Zr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Zr,fitBounds:Zr,project:n=>n,screenToFlowPosition:n=>n,flowToScreenPosition:n=>n,viewportInitialized:!1},yw=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection}),vw=()=>{const n=Ke(),{d3Zoom:o,d3Selection:i}=Ae(yw,st);return V.useMemo(()=>i&&o?{zoomIn:a=>o.scaleBy(xr(i,a==null?void 0:a.duration),1.2),zoomOut:a=>o.scaleBy(xr(i,a==null?void 0:a.duration),1/1.2),zoomTo:(a,c)=>o.scaleTo(xr(i,c==null?void 0:c.duration),a),getZoom:()=>n.getState().transform[2],setViewport:(a,c)=>{const[d,p,h]=n.getState().transform,g=tr.translate(a.x??d,a.y??p).scale(a.zoom??h);o.transform(xr(i,c==null?void 0:c.duration),g)},getViewport:()=>{const[a,c,d]=n.getState().transform;return{x:a,y:c,zoom:d}},fitView:a=>Ph(n.getState,a),setCenter:(a,c,d)=>{const{width:p,height:h,maxZoom:g}=n.getState(),m=typeof(d==null?void 0:d.zoom)<"u"?d.zoom:g,v=p/2-a*m,S=h/2-c*m,E=tr.translate(v,S).scale(m);o.transform(xr(i,d==null?void 0:d.duration),E)},fitBounds:(a,c)=>{const{width:d,height:p,minZoom:h,maxZoom:g}=n.getState(),{x:m,y:v,zoom:S}=ph(a,d,p,h,g,(c==null?void 0:c.padding)??.1),E=tr.translate(m,v).scale(S);o.transform(xr(i,c==null?void 0:c.duration),E)},project:a=>{const{transform:c,snapToGrid:d,snapGrid:p}=n.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),ju(a,c,d,p)},screenToFlowPosition:a=>{const{transform:c,snapToGrid:d,snapGrid:p,domNode:h}=n.getState();if(!h)return a;const{x:g,y:m}=h.getBoundingClientRect(),v={x:a.x-g,y:a.y-m};return ju(v,c,d,p)},flowToScreenPosition:a=>{const{transform:c,domNode:d}=n.getState();if(!d)return a;const{x:p,y:h}=d.getBoundingClientRect(),g=ch(a,c);return{x:g.x+p,y:g.y+h}},viewportInitialized:!0}:gw,[o,i])};function Yu(){const n=vw(),o=Ke(),i=V.useCallback(()=>o.getState().getNodes().map(_=>({..._})),[]),l=V.useCallback(_=>o.getState().nodeInternals.get(_),[]),a=V.useCallback(()=>{const{edges:_=[]}=o.getState();return _.map(P=>({...P}))},[]),c=V.useCallback(_=>{const{edges:P=[]}=o.getState();return P.find(M=>M.id===_)},[]),d=V.useCallback(_=>{const{getNodes:P,setNodes:M,hasDefaultNodes:D,onNodesChange:b}=o.getState(),R=P(),G=typeof _=="function"?_(R):_;if(D)M(G);else if(b){const q=G.length===0?R.map(Q=>({type:"remove",id:Q.id})):G.map(Q=>({item:Q,type:"reset"}));b(q)}},[]),p=V.useCallback(_=>{const{edges:P=[],setEdges:M,hasDefaultEdges:D,onEdgesChange:b}=o.getState(),R=typeof _=="function"?_(P):_;if(D)M(R);else if(b){const G=R.length===0?P.map(q=>({type:"remove",id:q.id})):R.map(q=>({item:q,type:"reset"}));b(G)}},[]),h=V.useCallback(_=>{const P=Array.isArray(_)?_:[_],{getNodes:M,setNodes:D,hasDefaultNodes:b,onNodesChange:R}=o.getState();if(b){const q=[...M(),...P];D(q)}else if(R){const G=P.map(q=>({item:q,type:"add"}));R(G)}},[]),g=V.useCallback(_=>{const P=Array.isArray(_)?_:[_],{edges:M=[],setEdges:D,hasDefaultEdges:b,onEdgesChange:R}=o.getState();if(b)D([...M,...P]);else if(R){const G=P.map(q=>({item:q,type:"add"}));R(G)}},[]),m=V.useCallback(()=>{const{getNodes:_,edges:P=[],transform:M}=o.getState(),[D,b,R]=M;return{nodes:_().map(G=>({...G})),edges:P.map(G=>({...G})),viewport:{x:D,y:b,zoom:R}}},[]),v=V.useCallback(({nodes:_,edges:P})=>{const{nodeInternals:M,getNodes:D,edges:b,hasDefaultNodes:R,hasDefaultEdges:G,onNodesDelete:q,onEdgesDelete:Q,onNodesChange:te,onEdgesChange:Z}=o.getState(),H=(_||[]).map(L=>L.id),$=(P||[]).map(L=>L.id),B=D().reduce((L,z)=>{const U=z.parentNode||z.parentId,A=!H.includes(z.id)&&U&&L.find(F=>F.id===U);return(typeof z.deletable=="boolean"?z.deletable:!0)&&(H.includes(z.id)||A)&&L.push(z),L},[]),W=b.filter(L=>typeof L.deletable=="boolean"?L.deletable:!0),x=W.filter(L=>$.includes(L.id));if(B||x){const L=dh(B,W),z=[...x,...L],U=z.reduce((A,j)=>(A.includes(j.id)||A.push(j.id),A),[]);if((G||R)&&(G&&o.setState({edges:b.filter(A=>!U.includes(A.id))}),R&&(B.forEach(A=>{M.delete(A.id)}),o.setState({nodeInternals:new Map(M)}))),U.length>0&&(Q==null||Q(z),Z&&Z(U.map(A=>({id:A,type:"remove"})))),B.length>0&&(q==null||q(B),te)){const A=B.map(j=>({id:j.id,type:"remove"}));te(A)}}},[]),S=V.useCallback(_=>{const P=Fx(_),M=P?null:o.getState().nodeInternals.get(_.id);return!P&&!M?[null,null,P]:[P?_:Jd(M),M,P]},[]),E=V.useCallback((_,P=!0,M)=>{const[D,b,R]=S(_);return D?(M||o.getState().getNodes()).filter(G=>{if(!R&&(G.id===b.id||!G.positionAbsolute))return!1;const q=Jd(G),Q=Nu(q,D);return P&&Q>0||Q>=D.width*D.height}):[]},[]),C=V.useCallback((_,P,M=!0)=>{const[D]=S(_);if(!D)return!1;const b=Nu(D,P);return M&&b>0||b>=D.width*D.height},[]);return V.useMemo(()=>({...n,getNodes:i,getNode:l,getEdges:a,getEdge:c,setNodes:d,setEdges:p,addNodes:h,addEdges:g,toObject:m,deleteElements:v,getIntersectingNodes:E,isNodeIntersecting:C}),[n,i,l,a,c,d,p,h,g,m,v,E,C])}const xw={actInsideInputWithModifier:!1};var ww=({deleteKeyCode:n,multiSelectionKeyCode:o})=>{const i=Ke(),{deleteElements:l}=Yu(),a=fi(n,xw),c=fi(o);V.useEffect(()=>{if(a){const{edges:d,getNodes:p}=i.getState(),h=p().filter(m=>m.selected),g=d.filter(m=>m.selected);l({nodes:h,edges:g}),i.setState({nodesSelectionActive:!1})}},[a]),V.useEffect(()=>{i.setState({multiSelectionActive:c})},[c])};function Sw(n){const o=Ke();V.useEffect(()=>{let i;const l=()=>{var c,d;if(!n.current)return;const a=Lu(n.current);(a.height===0||a.width===0)&&((d=(c=o.getState()).onError)==null||d.call(c,"004",zn.error004())),o.setState({width:a.width||500,height:a.height||500})};return l(),window.addEventListener("resize",l),n.current&&(i=new ResizeObserver(()=>l()),i.observe(n.current)),()=>{window.removeEventListener("resize",l),i&&n.current&&i.unobserve(n.current)}},[])}const Xu={position:"absolute",width:"100%",height:"100%",top:0,left:0},Ew=(n,o)=>n.x!==o.x||n.y!==o.y||n.zoom!==o.k,Us=n=>({x:n.x,y:n.y,zoom:n.k}),Jr=(n,o)=>n.target.closest(`.${o}`),up=(n,o)=>o===2&&Array.isArray(n)&&n.includes(2),cp=n=>{const o=n.ctrlKey&&nl()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*o},Nw=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection,d3ZoomHandler:n.d3ZoomHandler,userSelectionActive:n.userSelectionActive}),_w=({onMove:n,onMoveStart:o,onMoveEnd:i,onPaneContextMenu:l,zoomOnScroll:a=!0,zoomOnPinch:c=!0,panOnScroll:d=!1,panOnScrollSpeed:p=.5,panOnScrollMode:h=Sr.Free,zoomOnDoubleClick:g=!0,elementsSelectable:m,panOnDrag:v=!0,defaultViewport:S,translateExtent:E,minZoom:C,maxZoom:_,zoomActivationKeyCode:P,preventScrolling:M=!0,children:D,noWheelClassName:b,noPanClassName:R})=>{const G=V.useRef(),q=Ke(),Q=V.useRef(!1),te=V.useRef(!1),Z=V.useRef(null),H=V.useRef({x:0,y:0,zoom:0}),{d3Zoom:$,d3Selection:B,d3ZoomHandler:W,userSelectionActive:x}=Ae(Nw,st),L=fi(P),z=V.useRef(0),U=V.useRef(!1),A=V.useRef();return Sw(Z),V.useEffect(()=>{if(Z.current){const j=Z.current.getBoundingClientRect(),F=jx().scaleExtent([C,_]).translateExtent(E),N=Yt(Z.current).call(F),T=tr.translate(S.x,S.y).scale(ao(S.zoom,C,_)),ne=[[0,0],[j.width,j.height]],ee=F.constrain()(T,ne,E);F.transform(N,ee),F.wheelDelta(cp),q.setState({d3Zoom:F,d3Selection:N,d3ZoomHandler:N.on("wheel.zoom"),transform:[ee.x,ee.y,ee.k],domNode:Z.current.closest(".react-flow")})}},[]),V.useEffect(()=>{B&&$&&(d&&!L&&!x?B.on("wheel.zoom",j=>{if(Jr(j,b))return!1;j.preventDefault(),j.stopImmediatePropagation();const F=B.property("__zoom").k||1;if(j.ctrlKey&&c){const pe=an(j),ve=cp(j),Se=F*Math.pow(2,ve);$.scaleTo(B,Se,pe,j);return}const N=j.deltaMode===1?20:1;let T=h===Sr.Vertical?0:j.deltaX*N,ne=h===Sr.Horizontal?0:j.deltaY*N;!nl()&&j.shiftKey&&h!==Sr.Vertical&&(T=j.deltaY*N,ne=0),$.translateBy(B,-(T/F)*p,-(ne/F)*p,{internal:!0});const ee=Us(B.property("__zoom")),{onViewportChangeStart:ie,onViewportChange:ae,onViewportChangeEnd:ce}=q.getState();clearTimeout(A.current),U.current||(U.current=!0,o==null||o(j,ee),ie==null||ie(ee)),U.current&&(n==null||n(j,ee),ae==null||ae(ee),A.current=setTimeout(()=>{i==null||i(j,ee),ce==null||ce(ee),U.current=!1},150))},{passive:!1}):typeof W<"u"&&B.on("wheel.zoom",function(j,F){if(!M&&j.type==="wheel"&&!j.ctrlKey||Jr(j,b))return null;j.preventDefault(),W.call(this,j,F)},{passive:!1}))},[x,d,h,B,$,W,L,c,M,b,o,n,i]),V.useEffect(()=>{$&&$.on("start",j=>{var T,ne;if(!j.sourceEvent||j.sourceEvent.internal)return null;z.current=(T=j.sourceEvent)==null?void 0:T.button;const{onViewportChangeStart:F}=q.getState(),N=Us(j.transform);Q.current=!0,H.current=N,((ne=j.sourceEvent)==null?void 0:ne.type)==="mousedown"&&q.setState({paneDragging:!0}),F==null||F(N),o==null||o(j.sourceEvent,N)})},[$,o]),V.useEffect(()=>{$&&(x&&!Q.current?$.on("zoom",null):x||$.on("zoom",j=>{var N;const{onViewportChange:F}=q.getState();if(q.setState({transform:[j.transform.x,j.transform.y,j.transform.k]}),te.current=!!(l&&up(v,z.current??0)),(n||F)&&!((N=j.sourceEvent)!=null&&N.internal)){const T=Us(j.transform);F==null||F(T),n==null||n(j.sourceEvent,T)}}))},[x,$,n,v,l]),V.useEffect(()=>{$&&$.on("end",j=>{if(!j.sourceEvent||j.sourceEvent.internal)return null;const{onViewportChangeEnd:F}=q.getState();if(Q.current=!1,q.setState({paneDragging:!1}),l&&up(v,z.current??0)&&!te.current&&l(j.sourceEvent),te.current=!1,(i||F)&&Ew(H.current,j.transform)){const N=Us(j.transform);H.current=N,clearTimeout(G.current),G.current=setTimeout(()=>{F==null||F(N),i==null||i(j.sourceEvent,N)},d?150:0)}})},[$,d,v,i,l]),V.useEffect(()=>{$&&$.filter(j=>{const F=L||a,N=c&&j.ctrlKey;if((v===!0||Array.isArray(v)&&v.includes(1))&&j.button===1&&j.type==="mousedown"&&(Jr(j,"react-flow__node")||Jr(j,"react-flow__edge")))return!0;if(!v&&!F&&!d&&!g&&!c||x||!g&&j.type==="dblclick"||Jr(j,b)&&j.type==="wheel"||Jr(j,R)&&(j.type!=="wheel"||d&&j.type==="wheel"&&!L)||!c&&j.ctrlKey&&j.type==="wheel"||!F&&!d&&!N&&j.type==="wheel"||!v&&(j.type==="mousedown"||j.type==="touchstart")||Array.isArray(v)&&!v.includes(j.button)&&j.type==="mousedown")return!1;const T=Array.isArray(v)&&v.includes(j.button)||!j.button||j.button<=1;return(!j.ctrlKey||j.type==="wheel")&&T})},[x,$,a,c,d,g,v,m,L]),J.createElement("div",{className:"react-flow__renderer",ref:Z,style:Xu},D)},kw=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function Cw(){const{userSelectionActive:n,userSelectionRect:o}=Ae(kw,st);return n&&o?J.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:o.width,height:o.height,transform:`translate(${o.x}px, ${o.y}px)`}}):null}function fp(n,o){const i=o.parentNode||o.parentId,l=n.find(a=>a.id===i);if(l){const a=o.position.x+o.width-l.width,c=o.position.y+o.height-l.height;if(a>0||c>0||o.position.x<0||o.position.y<0){if(l.style={...l.style},l.style.width=l.style.width??l.width,l.style.height=l.style.height??l.height,a>0&&(l.style.width+=a),c>0&&(l.style.height+=c),o.position.x<0){const d=Math.abs(o.position.x);l.position.x=l.position.x-d,l.style.width+=d,o.position.x=0}if(o.position.y<0){const d=Math.abs(o.position.y);l.position.y=l.position.y-d,l.style.height+=d,o.position.y=0}l.width=l.style.width,l.height=l.style.height}}}function jw(n,o){if(n.some(l=>l.type==="reset"))return n.filter(l=>l.type==="reset").map(l=>l.item);const i=n.filter(l=>l.type==="add").map(l=>l.item);return o.reduce((l,a)=>{const c=n.filter(p=>p.id===a.id);if(c.length===0)return l.push(a),l;const d={...a};for(const p of c)if(p)switch(p.type){case"select":{d.selected=p.selected;break}case"position":{typeof p.position<"u"&&(d.position=p.position),typeof p.positionAbsolute<"u"&&(d.positionAbsolute=p.positionAbsolute),typeof p.dragging<"u"&&(d.dragging=p.dragging),d.expandParent&&fp(l,d);break}case"dimensions":{typeof p.dimensions<"u"&&(d.width=p.dimensions.width,d.height=p.dimensions.height),typeof p.updateStyle<"u"&&(d.style={...d.style||{},...p.dimensions}),typeof p.resizing=="boolean"&&(d.resizing=p.resizing),d.expandParent&&fp(l,d);break}case"remove":return l}return l.push(d),l},i)}function Mh(n,o){return jw(n,o)}const Jn=(n,o)=>({id:n,type:"select",selected:o});function to(n,o){return n.reduce((i,l)=>{const a=o.includes(l.id);return!l.selected&&a?(l.selected=!0,i.push(Jn(l.id,!0))):l.selected&&!a&&(l.selected=!1,i.push(Jn(l.id,!1))),i},[])}const cu=(n,o)=>i=>{i.target===o.current&&(n==null||n(i))},Pw=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,dragging:n.paneDragging}),Th=V.memo(({isSelecting:n,selectionMode:o=ci.Full,panOnDrag:i,onSelectionStart:l,onSelectionEnd:a,onPaneClick:c,onPaneContextMenu:d,onPaneScroll:p,onPaneMouseEnter:h,onPaneMouseMove:g,onPaneMouseLeave:m,children:v})=>{const S=V.useRef(null),E=Ke(),C=V.useRef(0),_=V.useRef(0),P=V.useRef(),{userSelectionActive:M,elementsSelectable:D,dragging:b}=Ae(Pw,st),R=()=>{E.setState({userSelectionActive:!1,userSelectionRect:null}),C.current=0,_.current=0},G=W=>{c==null||c(W),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},q=W=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){W.preventDefault();return}d==null||d(W)},Q=p?W=>p(W):void 0,te=W=>{const{resetSelectedElements:x,domNode:L}=E.getState();if(P.current=L==null?void 0:L.getBoundingClientRect(),!D||!n||W.button!==0||W.target!==S.current||!P.current)return;const{x:z,y:U}=nr(W,P.current);x(),E.setState({userSelectionRect:{width:0,height:0,startX:z,startY:U,x:z,y:U}}),l==null||l(W)},Z=W=>{const{userSelectionRect:x,nodeInternals:L,edges:z,transform:U,onNodesChange:A,onEdgesChange:j,nodeOrigin:F,getNodes:N}=E.getState();if(!n||!P.current||!x)return;E.setState({userSelectionActive:!0,nodesSelectionActive:!1});const T=nr(W,P.current),ne=x.startX??0,ee=x.startY??0,ie={...x,x:T.x<ne?T.x:ne,y:T.y<ee?T.y:ee,width:Math.abs(T.x-ne),height:Math.abs(T.y-ee)},ae=N(),ce=fh(L,ie,U,o===ci.Partial,!0,F),pe=dh(ce,z).map(Se=>Se.id),ve=ce.map(Se=>Se.id);if(C.current!==ve.length){C.current=ve.length;const Se=to(ae,ve);Se.length&&(A==null||A(Se))}if(_.current!==pe.length){_.current=pe.length;const Se=to(z,pe);Se.length&&(j==null||j(Se))}E.setState({userSelectionRect:ie})},H=W=>{if(W.button!==0)return;const{userSelectionRect:x}=E.getState();!M&&x&&W.target===S.current&&(G==null||G(W)),E.setState({nodesSelectionActive:C.current>0}),R(),a==null||a(W)},$=W=>{M&&(E.setState({nodesSelectionActive:C.current>0}),a==null||a(W)),R()},B=D&&(n||M);return J.createElement("div",{className:ut(["react-flow__pane",{dragging:b,selection:n}]),onClick:B?void 0:cu(G,S),onContextMenu:cu(q,S),onWheel:cu(Q,S),onMouseEnter:B?void 0:h,onMouseDown:B?te:void 0,onMouseMove:B?Z:g,onMouseUp:B?H:void 0,onMouseLeave:B?$:m,ref:S,style:Xu},v,J.createElement(Cw,null))});Th.displayName="Pane";function zh(n,o){const i=n.parentNode||n.parentId;if(!i)return!1;const l=o.get(i);return l?l.selected?!0:zh(l,o):!1}function dp(n,o,i){let l=n;do{if(l!=null&&l.matches(o))return!0;if(l===i.current)return!1;l=l.parentElement}while(l);return!1}function Mw(n,o,i,l){return Array.from(n.values()).filter(a=>(a.selected||a.id===l)&&(!a.parentNode||a.parentId||!zh(a,n))&&(a.draggable||o&&typeof a.draggable>"u")).map(a=>{var c,d;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:i.x-(((c=a.positionAbsolute)==null?void 0:c.x)??0),y:i.y-(((d=a.positionAbsolute)==null?void 0:d.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function Tw(n,o){return!o||o==="parent"?o:[o[0],[o[1][0]-(n.width||0),o[1][1]-(n.height||0)]]}function Ih(n,o,i,l,a=[0,0],c){const d=Tw(n,n.extent||l);let p=d;const h=n.parentNode||n.parentId;if(n.extent==="parent"&&!n.expandParent)if(h&&n.width&&n.height){const v=i.get(h),{x:S,y:E}=oo(v,a).positionAbsolute;p=v&&At(S)&&At(E)&&At(v.width)&&At(v.height)?[[S+n.width*a[0],E+n.height*a[1]],[S+v.width-n.width+n.width*a[0],E+v.height-n.height+n.height*a[1]]]:p}else c==null||c("005",zn.error005()),p=d;else if(n.extent&&h&&n.extent!=="parent"){const v=i.get(h),{x:S,y:E}=oo(v,a).positionAbsolute;p=[[n.extent[0][0]+S,n.extent[0][1]+E],[n.extent[1][0]+S,n.extent[1][1]+E]]}let g={x:0,y:0};if(h){const v=i.get(h);g=oo(v,a).positionAbsolute}const m=p&&p!=="parent"?Fu(o,p):o;return{position:{x:m.x-g.x,y:m.y-g.y},positionAbsolute:m}}function fu({nodeId:n,dragItems:o,nodeInternals:i}){const l=o.map(a=>({...i.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[n?l.find(a=>a.id===n):l[0],l]}const pp=(n,o,i,l)=>{const a=o.querySelectorAll(n);if(!a||!a.length)return null;const c=Array.from(a),d=o.getBoundingClientRect(),p={x:d.width*l[0],y:d.height*l[1]};return c.map(h=>{const g=h.getBoundingClientRect();return{id:h.getAttribute("data-handleid"),position:h.getAttribute("data-handlepos"),x:(g.left-d.left-p.x)/i,y:(g.top-d.top-p.y)/i,...Lu(h)}})};function ei(n,o,i){return i===void 0?i:l=>{const a=o().nodeInternals.get(n);a&&i(l,{...a})}}function Mu({id:n,store:o,unselect:i=!1,nodeRef:l}){const{addSelectedNodes:a,unselectNodesAndEdges:c,multiSelectionActive:d,nodeInternals:p,onError:h}=o.getState(),g=p.get(n);if(!g){h==null||h("012",zn.error012(n));return}o.setState({nodesSelectionActive:!1}),g.selected?(i||g.selected&&d)&&(c({nodes:[g],edges:[]}),requestAnimationFrame(()=>{var m;return(m=l==null?void 0:l.current)==null?void 0:m.blur()})):a([n])}function zw(){const n=Ke();return V.useCallback(({sourceEvent:i})=>{const{transform:l,snapGrid:a,snapToGrid:c}=n.getState(),d=i.touches?i.touches[0].clientX:i.clientX,p=i.touches?i.touches[0].clientY:i.clientY,h={x:(d-l[0])/l[2],y:(p-l[1])/l[2]};return{xSnapped:c?a[0]*Math.round(h.x/a[0]):h.x,ySnapped:c?a[1]*Math.round(h.y/a[1]):h.y,...h}},[])}function du(n){return(o,i,l)=>n==null?void 0:n(o,l)}function Rh({nodeRef:n,disabled:o=!1,noDragClassName:i,handleSelector:l,nodeId:a,isSelectable:c,selectNodesOnDrag:d}){const p=Ke(),[h,g]=V.useState(!1),m=V.useRef([]),v=V.useRef({x:null,y:null}),S=V.useRef(0),E=V.useRef(null),C=V.useRef({x:0,y:0}),_=V.useRef(null),P=V.useRef(!1),M=V.useRef(!1),D=V.useRef(!1),b=zw();return V.useEffect(()=>{if(n!=null&&n.current){const R=Yt(n.current),G=({x:te,y:Z})=>{const{nodeInternals:H,onNodeDrag:$,onSelectionDrag:B,updateNodePositions:W,nodeExtent:x,snapGrid:L,snapToGrid:z,nodeOrigin:U,onError:A}=p.getState();v.current={x:te,y:Z};let j=!1,F={x:0,y:0,x2:0,y2:0};if(m.current.length>1&&x){const T=Uu(m.current,U);F=Ou(T)}if(m.current=m.current.map(T=>{const ne={x:te-T.distance.x,y:Z-T.distance.y};z&&(ne.x=L[0]*Math.round(ne.x/L[0]),ne.y=L[1]*Math.round(ne.y/L[1]));const ee=[[x[0][0],x[0][1]],[x[1][0],x[1][1]]];m.current.length>1&&x&&!T.extent&&(ee[0][0]=T.positionAbsolute.x-F.x+x[0][0],ee[1][0]=T.positionAbsolute.x+(T.width??0)-F.x2+x[1][0],ee[0][1]=T.positionAbsolute.y-F.y+x[0][1],ee[1][1]=T.positionAbsolute.y+(T.height??0)-F.y2+x[1][1]);const ie=Ih(T,ne,H,ee,U,A);return j=j||T.position.x!==ie.position.x||T.position.y!==ie.position.y,T.position=ie.position,T.positionAbsolute=ie.positionAbsolute,T}),!j)return;W(m.current,!0,!0),g(!0);const N=a?$:du(B);if(N&&_.current){const[T,ne]=fu({nodeId:a,dragItems:m.current,nodeInternals:H});N(_.current,T,ne)}},q=()=>{if(!E.current)return;const[te,Z]=nh(C.current,E.current);if(te!==0||Z!==0){const{transform:H,panBy:$}=p.getState();v.current.x=(v.current.x??0)-te/H[2],v.current.y=(v.current.y??0)-Z/H[2],$({x:te,y:Z})&&G(v.current)}S.current=requestAnimationFrame(q)},Q=te=>{var U;const{nodeInternals:Z,multiSelectionActive:H,nodesDraggable:$,unselectNodesAndEdges:B,onNodeDragStart:W,onSelectionDragStart:x}=p.getState();M.current=!0;const L=a?W:du(x);(!d||!c)&&!H&&a&&((U=Z.get(a))!=null&&U.selected||B()),a&&c&&d&&Mu({id:a,store:p,nodeRef:n});const z=b(te);if(v.current=z,m.current=Mw(Z,$,z,a),L&&m.current){const[A,j]=fu({nodeId:a,dragItems:m.current,nodeInternals:Z});L(te.sourceEvent,A,j)}};if(o)R.on(".drag",null);else{const te=L0().on("start",Z=>{const{domNode:H,nodeDragThreshold:$}=p.getState();$===0&&Q(Z),D.current=!1;const B=b(Z);v.current=B,E.current=(H==null?void 0:H.getBoundingClientRect())||null,C.current=nr(Z.sourceEvent,E.current)}).on("drag",Z=>{var W,x;const H=b(Z),{autoPanOnNodeDrag:$,nodeDragThreshold:B}=p.getState();if(Z.sourceEvent.type==="touchmove"&&Z.sourceEvent.touches.length>1&&(D.current=!0),!D.current){if(!P.current&&M.current&&$&&(P.current=!0,q()),!M.current){const L=H.xSnapped-(((W=v==null?void 0:v.current)==null?void 0:W.x)??0),z=H.ySnapped-(((x=v==null?void 0:v.current)==null?void 0:x.y)??0);Math.sqrt(L*L+z*z)>B&&Q(Z)}(v.current.x!==H.xSnapped||v.current.y!==H.ySnapped)&&m.current&&M.current&&(_.current=Z.sourceEvent,C.current=nr(Z.sourceEvent,E.current),G(H))}}).on("end",Z=>{if(!(!M.current||D.current)&&(g(!1),P.current=!1,M.current=!1,cancelAnimationFrame(S.current),m.current)){const{updateNodePositions:H,nodeInternals:$,onNodeDragStop:B,onSelectionDragStop:W}=p.getState(),x=a?B:du(W);if(H(m.current,!1,!1),x){const[L,z]=fu({nodeId:a,dragItems:m.current,nodeInternals:$});x(Z.sourceEvent,L,z)}}}).filter(Z=>{const H=Z.target;return!Z.button&&(!i||!dp(H,`.${i}`,n))&&(!l||dp(H,l,n))});return R.call(te),()=>{R.on(".drag",null)}}}},[n,o,i,l,c,p,a,d,b]),h}function $h(){const n=Ke();return V.useCallback(i=>{const{nodeInternals:l,nodeExtent:a,updateNodePositions:c,getNodes:d,snapToGrid:p,snapGrid:h,onError:g,nodesDraggable:m}=n.getState(),v=d().filter(D=>D.selected&&(D.draggable||m&&typeof D.draggable>"u")),S=p?h[0]:5,E=p?h[1]:5,C=i.isShiftPressed?4:1,_=i.x*S*C,P=i.y*E*C,M=v.map(D=>{if(D.positionAbsolute){const b={x:D.positionAbsolute.x+_,y:D.positionAbsolute.y+P};p&&(b.x=h[0]*Math.round(b.x/h[0]),b.y=h[1]*Math.round(b.y/h[1]));const{positionAbsolute:R,position:G}=Ih(D,b,l,a,void 0,g);D.position=G,D.positionAbsolute=R}return D});c(M,!0,!1)},[])}const io={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ti=n=>{const o=({id:i,type:l,data:a,xPos:c,yPos:d,xPosOrigin:p,yPosOrigin:h,selected:g,onClick:m,onMouseEnter:v,onMouseMove:S,onMouseLeave:E,onContextMenu:C,onDoubleClick:_,style:P,className:M,isDraggable:D,isSelectable:b,isConnectable:R,isFocusable:G,selectNodesOnDrag:q,sourcePosition:Q,targetPosition:te,hidden:Z,resizeObserver:H,dragHandle:$,zIndex:B,isParent:W,noDragClassName:x,noPanClassName:L,initialized:z,disableKeyboardA11y:U,ariaLabel:A,rfId:j,hasHandleBounds:F})=>{const N=Ke(),T=V.useRef(null),ne=V.useRef(null),ee=V.useRef(Q),ie=V.useRef(te),ae=V.useRef(l),ce=b||D||m||v||S||E,pe=$h(),ve=ei(i,N.getState,v),Se=ei(i,N.getState,S),Le=ei(i,N.getState,E),We=ei(i,N.getState,C),et=ei(i,N.getState,_),tt=je=>{const{nodeDragThreshold:ye}=N.getState();if(b&&(!q||!D||ye>0)&&Mu({id:i,store:N,nodeRef:T}),m){const Qe=N.getState().nodeInternals.get(i);Qe&&m(je,{...Qe})}},Fe=je=>{if(!_u(je)&&!U)if(oh.includes(je.key)&&b){const ye=je.key==="Escape";Mu({id:i,store:N,unselect:ye,nodeRef:T})}else D&&g&&Object.prototype.hasOwnProperty.call(io,je.key)&&(N.setState({ariaLiveMessage:`Moved selected node ${je.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~c}, y: ${~~d}`}),pe({x:io[je.key].x,y:io[je.key].y,isShiftPressed:je.shiftKey}))};V.useEffect(()=>()=>{ne.current&&(H==null||H.unobserve(ne.current),ne.current=null)},[]),V.useEffect(()=>{if(T.current&&!Z){const je=T.current;(!z||!F||ne.current!==je)&&(ne.current&&(H==null||H.unobserve(ne.current)),H==null||H.observe(je),ne.current=je)}},[Z,z,F]),V.useEffect(()=>{const je=ae.current!==l,ye=ee.current!==Q,Qe=ie.current!==te;T.current&&(je||ye||Qe)&&(je&&(ae.current=l),ye&&(ee.current=Q),Qe&&(ie.current=te),N.getState().updateNodeDimensions([{id:i,nodeElement:T.current,forceUpdate:!0}]))},[i,l,Q,te]);const vt=Rh({nodeRef:T,disabled:Z||!D,noDragClassName:x,handleSelector:$,nodeId:i,isSelectable:b,selectNodesOnDrag:q});return Z?null:J.createElement("div",{className:ut(["react-flow__node",`react-flow__node-${l}`,{[L]:D},M,{selected:g,selectable:b,parent:W,dragging:vt}]),ref:T,style:{zIndex:B,transform:`translate(${p}px,${h}px)`,pointerEvents:ce?"all":"none",visibility:z?"visible":"hidden",...P},"data-id":i,"data-testid":`rf__node-${i}`,onMouseEnter:ve,onMouseMove:Se,onMouseLeave:Le,onContextMenu:We,onClick:tt,onDoubleClick:et,onKeyDown:G?Fe:void 0,tabIndex:G?0:void 0,role:G?"button":void 0,"aria-describedby":U?void 0:`${_h}-${j}`,"aria-label":A},J.createElement(bx,{value:i},J.createElement(n,{id:i,data:a,type:l,xPos:c,yPos:d,selected:g,isConnectable:R,sourcePosition:Q,targetPosition:te,dragging:vt,dragHandle:$,zIndex:B})))};return o.displayName="NodeWrapper",V.memo(o)};const Iw=n=>{const o=n.getNodes().filter(i=>i.selected);return{...Uu(o,n.nodeOrigin),transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`,userSelectionActive:n.userSelectionActive}};function Rw({onSelectionContextMenu:n,noPanClassName:o,disableKeyboardA11y:i}){const l=Ke(),{width:a,height:c,x:d,y:p,transformString:h,userSelectionActive:g}=Ae(Iw,st),m=$h(),v=V.useRef(null);if(V.useEffect(()=>{var C;i||(C=v.current)==null||C.focus({preventScroll:!0})},[i]),Rh({nodeRef:v}),g||!a||!c)return null;const S=n?C=>{const _=l.getState().getNodes().filter(P=>P.selected);n(C,_)}:void 0,E=C=>{Object.prototype.hasOwnProperty.call(io,C.key)&&m({x:io[C.key].x,y:io[C.key].y,isShiftPressed:C.shiftKey})};return J.createElement("div",{className:ut(["react-flow__nodesselection","react-flow__container",o]),style:{transform:h}},J.createElement("div",{ref:v,className:"react-flow__nodesselection-rect",onContextMenu:S,tabIndex:i?void 0:-1,onKeyDown:i?void 0:E,style:{width:a,height:c,top:p,left:d}}))}var $w=V.memo(Rw);const Dw=n=>n.nodesSelectionActive,Dh=({children:n,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,deleteKeyCode:p,onMove:h,onMoveStart:g,onMoveEnd:m,selectionKeyCode:v,selectionOnDrag:S,selectionMode:E,onSelectionStart:C,onSelectionEnd:_,multiSelectionKeyCode:P,panActivationKeyCode:M,zoomActivationKeyCode:D,elementsSelectable:b,zoomOnScroll:R,zoomOnPinch:G,panOnScroll:q,panOnScrollSpeed:Q,panOnScrollMode:te,zoomOnDoubleClick:Z,panOnDrag:H,defaultViewport:$,translateExtent:B,minZoom:W,maxZoom:x,preventScrolling:L,onSelectionContextMenu:z,noWheelClassName:U,noPanClassName:A,disableKeyboardA11y:j})=>{const F=Ae(Dw),N=fi(v),T=fi(M),ne=T||H,ee=T||q,ie=N||S&&ne!==!0;return ww({deleteKeyCode:p,multiSelectionKeyCode:P}),J.createElement(_w,{onMove:h,onMoveStart:g,onMoveEnd:m,onPaneContextMenu:c,elementsSelectable:b,zoomOnScroll:R,zoomOnPinch:G,panOnScroll:ee,panOnScrollSpeed:Q,panOnScrollMode:te,zoomOnDoubleClick:Z,panOnDrag:!N&&ne,defaultViewport:$,translateExtent:B,minZoom:W,maxZoom:x,zoomActivationKeyCode:D,preventScrolling:L,noWheelClassName:U,noPanClassName:A},J.createElement(Th,{onSelectionStart:C,onSelectionEnd:_,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,panOnDrag:ne,isSelecting:!!ie,selectionMode:E},n,F&&J.createElement($w,{onSelectionContextMenu:z,noPanClassName:A,disableKeyboardA11y:j})))};Dh.displayName="FlowRenderer";var Aw=V.memo(Dh);function Lw(n){return Ae(V.useCallback(i=>n?fh(i.nodeInternals,{x:0,y:0,width:i.width,height:i.height},i.transform,!0):i.getNodes(),[n]))}function Fw(n){const o={input:ti(n.input||wh),default:ti(n.default||Pu),output:ti(n.output||Eh),group:ti(n.group||Wu)},i={},l=Object.keys(n).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,c)=>(a[c]=ti(n[c]||Pu),a),i);return{...o,...l}}const Ow=({x:n,y:o,width:i,height:l,origin:a})=>!i||!l?{x:n,y:o}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:n,y:o}:{x:n-i*a[0],y:o-l*a[1]},Hw=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,updateNodeDimensions:n.updateNodeDimensions,onError:n.onError}),Ah=n=>{const{nodesDraggable:o,nodesConnectable:i,nodesFocusable:l,elementsSelectable:a,updateNodeDimensions:c,onError:d}=Ae(Hw,st),p=Lw(n.onlyRenderVisibleElements),h=V.useRef(),g=V.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const m=new ResizeObserver(v=>{const S=v.map(E=>({id:E.target.getAttribute("data-id"),nodeElement:E.target,forceUpdate:!0}));c(S)});return h.current=m,m},[]);return V.useEffect(()=>()=>{var m;(m=h==null?void 0:h.current)==null||m.disconnect()},[]),J.createElement("div",{className:"react-flow__nodes",style:Xu},p.map(m=>{var G,q,Q;let v=m.type||"default";n.nodeTypes[v]||(d==null||d("003",zn.error003(v)),v="default");const S=n.nodeTypes[v]||n.nodeTypes.default,E=!!(m.draggable||o&&typeof m.draggable>"u"),C=!!(m.selectable||a&&typeof m.selectable>"u"),_=!!(m.connectable||i&&typeof m.connectable>"u"),P=!!(m.focusable||l&&typeof m.focusable>"u"),M=n.nodeExtent?Fu(m.positionAbsolute,n.nodeExtent):m.positionAbsolute,D=(M==null?void 0:M.x)??0,b=(M==null?void 0:M.y)??0,R=Ow({x:D,y:b,width:m.width??0,height:m.height??0,origin:n.nodeOrigin});return J.createElement(S,{key:m.id,id:m.id,className:m.className,style:m.style,type:v,data:m.data,sourcePosition:m.sourcePosition||ge.Bottom,targetPosition:m.targetPosition||ge.Top,hidden:m.hidden,xPos:D,yPos:b,xPosOrigin:R.x,yPosOrigin:R.y,selectNodesOnDrag:n.selectNodesOnDrag,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,selected:!!m.selected,isDraggable:E,isSelectable:C,isConnectable:_,isFocusable:P,resizeObserver:g,dragHandle:m.dragHandle,zIndex:((G=m[Ve])==null?void 0:G.z)??0,isParent:!!((q=m[Ve])!=null&&q.isParent),noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,initialized:!!m.width&&!!m.height,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,ariaLabel:m.ariaLabel,hasHandleBounds:!!((Q=m[Ve])!=null&&Q.handleBounds)})}))};Ah.displayName="NodeRenderer";var Vw=V.memo(Ah);const Bw=(n,o,i)=>i===ge.Left?n-o:i===ge.Right?n+o:n,qw=(n,o,i)=>i===ge.Top?n-o:i===ge.Bottom?n+o:n,hp="react-flow__edgeupdater",mp=({position:n,centerX:o,centerY:i,radius:l=10,onMouseDown:a,onMouseEnter:c,onMouseOut:d,type:p})=>J.createElement("circle",{onMouseDown:a,onMouseEnter:c,onMouseOut:d,className:ut([hp,`${hp}-${p}`]),cx:Bw(o,l,n),cy:qw(i,l,n),r:l,stroke:"transparent",fill:"transparent"}),Uw=()=>!0;var eo=n=>{const o=({id:i,className:l,type:a,data:c,onClick:d,onEdgeDoubleClick:p,selected:h,animated:g,label:m,labelStyle:v,labelShowBg:S,labelBgStyle:E,labelBgPadding:C,labelBgBorderRadius:_,style:P,source:M,target:D,sourceX:b,sourceY:R,targetX:G,targetY:q,sourcePosition:Q,targetPosition:te,elementsSelectable:Z,hidden:H,sourceHandleId:$,targetHandleId:B,onContextMenu:W,onMouseEnter:x,onMouseMove:L,onMouseLeave:z,reconnectRadius:U,onReconnect:A,onReconnectStart:j,onReconnectEnd:F,markerEnd:N,markerStart:T,rfId:ne,ariaLabel:ee,isFocusable:ie,isReconnectable:ae,pathOptions:ce,interactionWidth:pe,disableKeyboardA11y:ve})=>{const Se=V.useRef(null),[Le,We]=V.useState(!1),[et,tt]=V.useState(!1),Fe=Ke(),vt=V.useMemo(()=>`url('#${Cu(T,ne)}')`,[T,ne]),je=V.useMemo(()=>`url('#${Cu(N,ne)}')`,[N,ne]);if(H)return null;const ye=Oe=>{var ct;const{edges:wt,addSelectedEdges:Jt,unselectNodesAndEdges:en,multiSelectionActive:hn}=Fe.getState(),St=wt.find(mn=>mn.id===i);St&&(Z&&(Fe.setState({nodesSelectionActive:!1}),St.selected&&hn?(en({nodes:[],edges:[St]}),(ct=Se.current)==null||ct.blur()):Jt([i])),d&&d(Oe,St))},Qe=Jo(i,Fe.getState,p),xt=Jo(i,Fe.getState,W),jt=Jo(i,Fe.getState,x),Qt=Jo(i,Fe.getState,L),fn=Jo(i,Fe.getState,z),Pt=(Oe,wt)=>{if(Oe.button!==0)return;const{edges:Jt,isValidConnection:en}=Fe.getState(),hn=wt?D:M,St=(wt?B:$)||null,ct=wt?"target":"source",mn=en||Uw,rr=wt,gn=Jt.find(nn=>nn.id===i);tt(!0),j==null||j(Oe,gn,ct);const tn=nn=>{tt(!1),F==null||F(nn,gn,ct)};gh({event:Oe,handleId:St,nodeId:hn,onConnect:nn=>A==null?void 0:A(gn,nn),isTarget:rr,getState:Fe.getState,setState:Fe.setState,isValidConnection:mn,edgeUpdaterType:ct,onReconnectEnd:tn})},dn=Oe=>Pt(Oe,!0),Zt=Oe=>Pt(Oe,!1),Lt=()=>We(!0),Ft=()=>We(!1),pn=!Z&&!d,Ot=Oe=>{var wt;if(!ve&&oh.includes(Oe.key)&&Z){const{unselectNodesAndEdges:Jt,addSelectedEdges:en,edges:hn}=Fe.getState();Oe.key==="Escape"?((wt=Se.current)==null||wt.blur(),Jt({edges:[hn.find(ct=>ct.id===i)]})):en([i])}};return J.createElement("g",{className:ut(["react-flow__edge",`react-flow__edge-${a}`,l,{selected:h,animated:g,inactive:pn,updating:Le}]),onClick:ye,onDoubleClick:Qe,onContextMenu:xt,onMouseEnter:jt,onMouseMove:Qt,onMouseLeave:fn,onKeyDown:ie?Ot:void 0,tabIndex:ie?0:void 0,role:ie?"button":"img","data-testid":`rf__edge-${i}`,"aria-label":ee===null?void 0:ee||`Edge from ${M} to ${D}`,"aria-describedby":ie?`${kh}-${ne}`:void 0,ref:Se},!et&&J.createElement(n,{id:i,source:M,target:D,selected:h,animated:g,label:m,labelStyle:v,labelShowBg:S,labelBgStyle:E,labelBgPadding:C,labelBgBorderRadius:_,data:c,style:P,sourceX:b,sourceY:R,targetX:G,targetY:q,sourcePosition:Q,targetPosition:te,sourceHandleId:$,targetHandleId:B,markerStart:vt,markerEnd:je,pathOptions:ce,interactionWidth:pe}),ae&&J.createElement(J.Fragment,null,(ae==="source"||ae===!0)&&J.createElement(mp,{position:Q,centerX:b,centerY:R,radius:U,onMouseDown:dn,onMouseEnter:Lt,onMouseOut:Ft,type:"source"}),(ae==="target"||ae===!0)&&J.createElement(mp,{position:te,centerX:G,centerY:q,radius:U,onMouseDown:Zt,onMouseEnter:Lt,onMouseOut:Ft,type:"target"})))};return o.displayName="EdgeWrapper",V.memo(o)};function bw(n){const o={default:eo(n.default||rl),straight:eo(n.bezier||Bu),step:eo(n.step||Vu),smoothstep:eo(n.step||ul),simplebezier:eo(n.simplebezier||Hu)},i={},l=Object.keys(n).filter(a=>!["default","bezier"].includes(a)).reduce((a,c)=>(a[c]=eo(n[c]||rl),a),i);return{...o,...l}}function gp(n,o,i=null){const l=((i==null?void 0:i.x)||0)+o.x,a=((i==null?void 0:i.y)||0)+o.y,c=(i==null?void 0:i.width)||o.width,d=(i==null?void 0:i.height)||o.height;switch(n){case ge.Top:return{x:l+c/2,y:a};case ge.Right:return{x:l+c,y:a+d/2};case ge.Bottom:return{x:l+c/2,y:a+d};case ge.Left:return{x:l,y:a+d/2}}}function yp(n,o){return n?n.length===1||!o?n[0]:o&&n.find(i=>i.id===o)||null:null}const Ww=(n,o,i,l,a,c)=>{const d=gp(i,n,o),p=gp(c,l,a);return{sourceX:d.x,sourceY:d.y,targetX:p.x,targetY:p.y}};function Yw({sourcePos:n,targetPos:o,sourceWidth:i,sourceHeight:l,targetWidth:a,targetHeight:c,width:d,height:p,transform:h}){const g={x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x+i,o.x+a),y2:Math.max(n.y+l,o.y+c)};g.x===g.x2&&(g.x2+=1),g.y===g.y2&&(g.y2+=1);const m=Ou({x:(0-h[0])/h[2],y:(0-h[1])/h[2],width:d/h[2],height:p/h[2]}),v=Math.max(0,Math.min(m.x2,g.x2)-Math.max(m.x,g.x)),S=Math.max(0,Math.min(m.y2,g.y2)-Math.max(m.y,g.y));return Math.ceil(v*S)>0}function vp(n){var l,a,c,d,p;const o=((l=n==null?void 0:n[Ve])==null?void 0:l.handleBounds)||null,i=o&&(n==null?void 0:n.width)&&(n==null?void 0:n.height)&&typeof((a=n==null?void 0:n.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((c=n==null?void 0:n.positionAbsolute)==null?void 0:c.y)<"u";return[{x:((d=n==null?void 0:n.positionAbsolute)==null?void 0:d.x)||0,y:((p=n==null?void 0:n.positionAbsolute)==null?void 0:p.y)||0,width:(n==null?void 0:n.width)||0,height:(n==null?void 0:n.height)||0},o,!!i]}const Xw=[{level:0,isMaxLevel:!0,edges:[]}];function Gw(n,o,i=!1){let l=-1;const a=n.reduce((d,p)=>{var m,v;const h=At(p.zIndex);let g=h?p.zIndex:0;if(i){const S=o.get(p.target),E=o.get(p.source),C=p.selected||(S==null?void 0:S.selected)||(E==null?void 0:E.selected),_=Math.max(((m=E==null?void 0:E[Ve])==null?void 0:m.z)||0,((v=S==null?void 0:S[Ve])==null?void 0:v.z)||0,1e3);g=(h?p.zIndex:0)+(C?_:0)}return d[g]?d[g].push(p):d[g]=[p],l=g>l?g:l,d},{}),c=Object.entries(a).map(([d,p])=>{const h=+d;return{edges:p,level:h,isMaxLevel:h===l}});return c.length===0?Xw:c}function Kw(n,o,i){const l=Ae(V.useCallback(a=>n?a.edges.filter(c=>{const d=o.get(c.source),p=o.get(c.target);return(d==null?void 0:d.width)&&(d==null?void 0:d.height)&&(p==null?void 0:p.width)&&(p==null?void 0:p.height)&&Yw({sourcePos:d.positionAbsolute||{x:0,y:0},targetPos:p.positionAbsolute||{x:0,y:0},sourceWidth:d.width,sourceHeight:d.height,targetWidth:p.width,targetHeight:p.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[n,o]));return Gw(l,o,i)}const Qw=({color:n="none",strokeWidth:o=1})=>J.createElement("polyline",{style:{stroke:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Zw=({color:n="none",strokeWidth:o=1})=>J.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),xp={[uo.Arrow]:Qw,[uo.ArrowClosed]:Zw};function Jw(n){const o=Ke();return V.useMemo(()=>{var a,c;return Object.prototype.hasOwnProperty.call(xp,n)?xp[n]:((c=(a=o.getState()).onError)==null||c.call(a,"009",zn.error009(n)),null)},[n])}const e1=({id:n,type:o,color:i,width:l=12.5,height:a=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:p="auto-start-reverse"})=>{const h=Jw(o);return h?J.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${l}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:p,refX:"0",refY:"0"},J.createElement(h,{color:i,strokeWidth:d})):null},t1=({defaultColor:n,rfId:o})=>i=>{const l=[];return i.edges.reduce((a,c)=>([c.markerStart,c.markerEnd].forEach(d=>{if(d&&typeof d=="object"){const p=Cu(d,o);l.includes(p)||(a.push({id:p,color:d.color||n,...d}),l.push(p))}}),a),[]).sort((a,c)=>a.id.localeCompare(c.id))},Lh=({defaultColor:n,rfId:o})=>{const i=Ae(V.useCallback(t1({defaultColor:n,rfId:o}),[n,o]),(l,a)=>!(l.length!==a.length||l.some((c,d)=>c.id!==a[d].id)));return J.createElement("defs",null,i.map(l=>J.createElement(e1,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient})))};Lh.displayName="MarkerDefinitions";var n1=V.memo(Lh);const r1=n=>({nodesConnectable:n.nodesConnectable,edgesFocusable:n.edgesFocusable,edgesUpdatable:n.edgesUpdatable,elementsSelectable:n.elementsSelectable,width:n.width,height:n.height,connectionMode:n.connectionMode,nodeInternals:n.nodeInternals,onError:n.onError}),Fh=({defaultMarkerColor:n,onlyRenderVisibleElements:o,elevateEdgesOnSelect:i,rfId:l,edgeTypes:a,noPanClassName:c,onEdgeContextMenu:d,onEdgeMouseEnter:p,onEdgeMouseMove:h,onEdgeMouseLeave:g,onEdgeClick:m,onEdgeDoubleClick:v,onReconnect:S,onReconnectStart:E,onReconnectEnd:C,reconnectRadius:_,children:P,disableKeyboardA11y:M})=>{const{edgesFocusable:D,edgesUpdatable:b,elementsSelectable:R,width:G,height:q,connectionMode:Q,nodeInternals:te,onError:Z}=Ae(r1,st),H=Kw(o,te,i);return G?J.createElement(J.Fragment,null,H.map(({level:$,edges:B,isMaxLevel:W})=>J.createElement("svg",{key:$,style:{zIndex:$},width:G,height:q,className:"react-flow__edges react-flow__container"},W&&J.createElement(n1,{defaultColor:n,rfId:l}),J.createElement("g",null,B.map(x=>{const[L,z,U]=vp(te.get(x.source)),[A,j,F]=vp(te.get(x.target));if(!U||!F)return null;let N=x.type||"default";a[N]||(Z==null||Z("011",zn.error011(N)),N="default");const T=a[N]||a.default,ne=Q===_r.Strict?j.target:(j.target??[]).concat(j.source??[]),ee=yp(z.source,x.sourceHandle),ie=yp(ne,x.targetHandle),ae=(ee==null?void 0:ee.position)||ge.Bottom,ce=(ie==null?void 0:ie.position)||ge.Top,pe=!!(x.focusable||D&&typeof x.focusable>"u"),ve=x.reconnectable||x.updatable,Se=typeof S<"u"&&(ve||b&&typeof ve>"u");if(!ee||!ie)return Z==null||Z("008",zn.error008(ee,x)),null;const{sourceX:Le,sourceY:We,targetX:et,targetY:tt}=Ww(L,ee,ae,A,ie,ce);return J.createElement(T,{key:x.id,id:x.id,className:ut([x.className,c]),type:N,data:x.data,selected:!!x.selected,animated:!!x.animated,hidden:!!x.hidden,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,style:x.style,source:x.source,target:x.target,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerEnd:x.markerEnd,markerStart:x.markerStart,sourceX:Le,sourceY:We,targetX:et,targetY:tt,sourcePosition:ae,targetPosition:ce,elementsSelectable:R,onContextMenu:d,onMouseEnter:p,onMouseMove:h,onMouseLeave:g,onClick:m,onEdgeDoubleClick:v,onReconnect:S,onReconnectStart:E,onReconnectEnd:C,reconnectRadius:_,rfId:l,ariaLabel:x.ariaLabel,isFocusable:pe,isReconnectable:Se,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth,disableKeyboardA11y:M})})))),P):null};Fh.displayName="EdgeRenderer";var o1=V.memo(Fh);const i1=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function s1({children:n}){const o=Ae(i1);return J.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:o}},n)}function l1(n){const o=Yu(),i=V.useRef(!1);V.useEffect(()=>{!i.current&&o.viewportInitialized&&n&&(setTimeout(()=>n(o),1),i.current=!0)},[n,o.viewportInitialized])}const a1={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top},Oh=({nodeId:n,handleType:o,style:i,type:l=Pn.Bezier,CustomComponent:a,connectionStatus:c})=>{var q,Q,te;const{fromNode:d,handleId:p,toX:h,toY:g,connectionMode:m}=Ae(V.useCallback(Z=>({fromNode:Z.nodeInternals.get(n),handleId:Z.connectionHandleId,toX:(Z.connectionPosition.x-Z.transform[0])/Z.transform[2],toY:(Z.connectionPosition.y-Z.transform[1])/Z.transform[2],connectionMode:Z.connectionMode}),[n]),st),v=(q=d==null?void 0:d[Ve])==null?void 0:q.handleBounds;let S=v==null?void 0:v[o];if(m===_r.Loose&&(S=S||(v==null?void 0:v[o==="source"?"target":"source"])),!d||!S)return null;const E=p?S.find(Z=>Z.id===p):S[0],C=E?E.x+E.width/2:(d.width??0)/2,_=E?E.y+E.height/2:d.height??0,P=(((Q=d.positionAbsolute)==null?void 0:Q.x)??0)+C,M=(((te=d.positionAbsolute)==null?void 0:te.y)??0)+_,D=E==null?void 0:E.position,b=D?a1[D]:null;if(!D||!b)return null;if(a)return J.createElement(a,{connectionLineType:l,connectionLineStyle:i,fromNode:d,fromHandle:E,fromX:P,fromY:M,toX:h,toY:g,fromPosition:D,toPosition:b,connectionStatus:c});let R="";const G={sourceX:P,sourceY:M,sourcePosition:D,targetX:h,targetY:g,targetPosition:b};return l===Pn.Bezier?[R]=uh(G):l===Pn.Step?[R]=ku({...G,borderRadius:0}):l===Pn.SmoothStep?[R]=ku(G):l===Pn.SimpleBezier?[R]=ah(G):R=`M${P},${M} ${h},${g}`,J.createElement("path",{d:R,fill:"none",className:"react-flow__connection-path",style:i})};Oh.displayName="ConnectionLine";const u1=n=>({nodeId:n.connectionNodeId,handleType:n.connectionHandleType,nodesConnectable:n.nodesConnectable,connectionStatus:n.connectionStatus,width:n.width,height:n.height});function c1({containerStyle:n,style:o,type:i,component:l}){const{nodeId:a,handleType:c,nodesConnectable:d,width:p,height:h,connectionStatus:g}=Ae(u1,st);return!(a&&c&&p&&d)?null:J.createElement("svg",{style:n,width:p,height:h,className:"react-flow__edges react-flow__connectionline react-flow__container"},J.createElement("g",{className:ut(["react-flow__connection",g])},J.createElement(Oh,{nodeId:a,handleType:c,style:o,type:i,CustomComponent:l,connectionStatus:g})))}function wp(n,o){return V.useRef(null),Ke(),V.useMemo(()=>o(n),[n])}const Hh=({nodeTypes:n,edgeTypes:o,onMove:i,onMoveStart:l,onMoveEnd:a,onInit:c,onNodeClick:d,onEdgeClick:p,onNodeDoubleClick:h,onEdgeDoubleClick:g,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:S,onNodeContextMenu:E,onSelectionContextMenu:C,onSelectionStart:_,onSelectionEnd:P,connectionLineType:M,connectionLineStyle:D,connectionLineComponent:b,connectionLineContainerStyle:R,selectionKeyCode:G,selectionOnDrag:q,selectionMode:Q,multiSelectionKeyCode:te,panActivationKeyCode:Z,zoomActivationKeyCode:H,deleteKeyCode:$,onlyRenderVisibleElements:B,elementsSelectable:W,selectNodesOnDrag:x,defaultViewport:L,translateExtent:z,minZoom:U,maxZoom:A,preventScrolling:j,defaultMarkerColor:F,zoomOnScroll:N,zoomOnPinch:T,panOnScroll:ne,panOnScrollSpeed:ee,panOnScrollMode:ie,zoomOnDoubleClick:ae,panOnDrag:ce,onPaneClick:pe,onPaneMouseEnter:ve,onPaneMouseMove:Se,onPaneMouseLeave:Le,onPaneScroll:We,onPaneContextMenu:et,onEdgeContextMenu:tt,onEdgeMouseEnter:Fe,onEdgeMouseMove:vt,onEdgeMouseLeave:je,onReconnect:ye,onReconnectStart:Qe,onReconnectEnd:xt,reconnectRadius:jt,noDragClassName:Qt,noWheelClassName:fn,noPanClassName:Pt,elevateEdgesOnSelect:dn,disableKeyboardA11y:Zt,nodeOrigin:Lt,nodeExtent:Ft,rfId:pn})=>{const Ot=wp(n,Fw),Oe=wp(o,bw);return l1(c),J.createElement(Aw,{onPaneClick:pe,onPaneMouseEnter:ve,onPaneMouseMove:Se,onPaneMouseLeave:Le,onPaneContextMenu:et,onPaneScroll:We,deleteKeyCode:$,selectionKeyCode:G,selectionOnDrag:q,selectionMode:Q,onSelectionStart:_,onSelectionEnd:P,multiSelectionKeyCode:te,panActivationKeyCode:Z,zoomActivationKeyCode:H,elementsSelectable:W,onMove:i,onMoveStart:l,onMoveEnd:a,zoomOnScroll:N,zoomOnPinch:T,zoomOnDoubleClick:ae,panOnScroll:ne,panOnScrollSpeed:ee,panOnScrollMode:ie,panOnDrag:ce,defaultViewport:L,translateExtent:z,minZoom:U,maxZoom:A,onSelectionContextMenu:C,preventScrolling:j,noDragClassName:Qt,noWheelClassName:fn,noPanClassName:Pt,disableKeyboardA11y:Zt},J.createElement(s1,null,J.createElement(o1,{edgeTypes:Oe,onEdgeClick:p,onEdgeDoubleClick:g,onlyRenderVisibleElements:B,onEdgeContextMenu:tt,onEdgeMouseEnter:Fe,onEdgeMouseMove:vt,onEdgeMouseLeave:je,onReconnect:ye,onReconnectStart:Qe,onReconnectEnd:xt,reconnectRadius:jt,defaultMarkerColor:F,noPanClassName:Pt,elevateEdgesOnSelect:!!dn,disableKeyboardA11y:Zt,rfId:pn},J.createElement(c1,{style:D,type:M,component:b,containerStyle:R})),J.createElement("div",{className:"react-flow__edgelabel-renderer"}),J.createElement(Vw,{nodeTypes:Ot,onNodeClick:d,onNodeDoubleClick:h,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:S,onNodeContextMenu:E,selectNodesOnDrag:x,onlyRenderVisibleElements:B,noPanClassName:Pt,noDragClassName:Qt,disableKeyboardA11y:Zt,nodeOrigin:Lt,nodeExtent:Ft,rfId:pn})))};Hh.displayName="GraphView";var f1=V.memo(Hh);const Tu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Qn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Tu,nodeExtent:Tu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:_r.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Ox,isValidConnection:void 0},d1=()=>Gg((n,o)=>({...Qn,setNodes:i=>{const{nodeInternals:l,nodeOrigin:a,elevateNodesOnSelect:c}=o();n({nodeInternals:uu(i,l,a,c)})},getNodes:()=>Array.from(o().nodeInternals.values()),setEdges:i=>{const{defaultEdgeOptions:l={}}=o();n({edges:i.map(a=>({...l,...a}))})},setDefaultNodesAndEdges:(i,l)=>{const a=typeof i<"u",c=typeof l<"u",d=a?uu(i,new Map,o().nodeOrigin,o().elevateNodesOnSelect):new Map;n({nodeInternals:d,edges:c?l:[],hasDefaultNodes:a,hasDefaultEdges:c})},updateNodeDimensions:i=>{const{onNodesChange:l,nodeInternals:a,fitViewOnInit:c,fitViewOnInitDone:d,fitViewOnInitOptions:p,domNode:h,nodeOrigin:g}=o(),m=h==null?void 0:h.querySelector(".react-flow__viewport");if(!m)return;const v=window.getComputedStyle(m),{m22:S}=new window.DOMMatrixReadOnly(v.transform),E=i.reduce((_,P)=>{const M=a.get(P.id);if(M!=null&&M.hidden)a.set(M.id,{...M,[Ve]:{...M[Ve],handleBounds:void 0}});else if(M){const D=Lu(P.nodeElement);!!(D.width&&D.height&&(M.width!==D.width||M.height!==D.height||P.forceUpdate))&&(a.set(M.id,{...M,[Ve]:{...M[Ve],handleBounds:{source:pp(".source",P.nodeElement,S,g),target:pp(".target",P.nodeElement,S,g)}},...D}),_.push({id:M.id,type:"dimensions",dimensions:D}))}return _},[]);jh(a,g);const C=d||c&&!d&&Ph(o,{initial:!0,...p});n({nodeInternals:new Map(a),fitViewOnInitDone:C}),(E==null?void 0:E.length)>0&&(l==null||l(E))},updateNodePositions:(i,l=!0,a=!1)=>{const{triggerNodeChanges:c}=o(),d=i.map(p=>{const h={id:p.id,type:"position",dragging:a};return l&&(h.positionAbsolute=p.positionAbsolute,h.position=p.position),h});c(d)},triggerNodeChanges:i=>{const{onNodesChange:l,nodeInternals:a,hasDefaultNodes:c,nodeOrigin:d,getNodes:p,elevateNodesOnSelect:h}=o();if(i!=null&&i.length){if(c){const g=Mh(i,p()),m=uu(g,a,d,h);n({nodeInternals:m})}l==null||l(i)}},addSelectedNodes:i=>{const{multiSelectionActive:l,edges:a,getNodes:c}=o();let d,p=null;l?d=i.map(h=>Jn(h,!0)):(d=to(c(),i),p=to(a,[])),qs({changedNodes:d,changedEdges:p,get:o,set:n})},addSelectedEdges:i=>{const{multiSelectionActive:l,edges:a,getNodes:c}=o();let d,p=null;l?d=i.map(h=>Jn(h,!0)):(d=to(a,i),p=to(c(),[])),qs({changedNodes:p,changedEdges:d,get:o,set:n})},unselectNodesAndEdges:({nodes:i,edges:l}={})=>{const{edges:a,getNodes:c}=o(),d=i||c(),p=l||a,h=d.map(m=>(m.selected=!1,Jn(m.id,!1))),g=p.map(m=>Jn(m.id,!1));qs({changedNodes:h,changedEdges:g,get:o,set:n})},setMinZoom:i=>{const{d3Zoom:l,maxZoom:a}=o();l==null||l.scaleExtent([i,a]),n({minZoom:i})},setMaxZoom:i=>{const{d3Zoom:l,minZoom:a}=o();l==null||l.scaleExtent([a,i]),n({maxZoom:i})},setTranslateExtent:i=>{var l;(l=o().d3Zoom)==null||l.translateExtent(i),n({translateExtent:i})},resetSelectedElements:()=>{const{edges:i,getNodes:l}=o(),c=l().filter(p=>p.selected).map(p=>Jn(p.id,!1)),d=i.filter(p=>p.selected).map(p=>Jn(p.id,!1));qs({changedNodes:c,changedEdges:d,get:o,set:n})},setNodeExtent:i=>{const{nodeInternals:l}=o();l.forEach(a=>{a.positionAbsolute=Fu(a.position,i)}),n({nodeExtent:i,nodeInternals:new Map(l)})},panBy:i=>{const{transform:l,width:a,height:c,d3Zoom:d,d3Selection:p,translateExtent:h}=o();if(!d||!p||!i.x&&!i.y)return!1;const g=tr.translate(l[0]+i.x,l[1]+i.y).scale(l[2]),m=[[0,0],[a,c]],v=d==null?void 0:d.constrain()(g,m,h);return d.transform(p,v),l[0]!==v.x||l[1]!==v.y||l[2]!==v.k},cancelConnection:()=>n({connectionNodeId:Qn.connectionNodeId,connectionHandleId:Qn.connectionHandleId,connectionHandleType:Qn.connectionHandleType,connectionStatus:Qn.connectionStatus,connectionStartHandle:Qn.connectionStartHandle,connectionEndHandle:Qn.connectionEndHandle}),reset:()=>n({...Qn})}),Object.is),Vh=({children:n})=>{const o=V.useRef(null);return o.current||(o.current=d1()),J.createElement(zx,{value:o.current},n)};Vh.displayName="ReactFlowProvider";const Bh=({children:n})=>V.useContext(al)?J.createElement(J.Fragment,null,n):J.createElement(Vh,null,n);Bh.displayName="ReactFlowWrapper";const p1={input:wh,default:Pu,output:Eh,group:Wu},h1={default:rl,straight:Bu,step:Vu,smoothstep:ul,simplebezier:Hu},m1=[0,0],g1=[15,15],y1={x:0,y:0,zoom:1},v1={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},qh=V.forwardRef(({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,className:a,nodeTypes:c=p1,edgeTypes:d=h1,onNodeClick:p,onEdgeClick:h,onInit:g,onMove:m,onMoveStart:v,onMoveEnd:S,onConnect:E,onConnectStart:C,onConnectEnd:_,onClickConnectStart:P,onClickConnectEnd:M,onNodeMouseEnter:D,onNodeMouseMove:b,onNodeMouseLeave:R,onNodeContextMenu:G,onNodeDoubleClick:q,onNodeDragStart:Q,onNodeDrag:te,onNodeDragStop:Z,onNodesDelete:H,onEdgesDelete:$,onSelectionChange:B,onSelectionDragStart:W,onSelectionDrag:x,onSelectionDragStop:L,onSelectionContextMenu:z,onSelectionStart:U,onSelectionEnd:A,connectionMode:j=_r.Strict,connectionLineType:F=Pn.Bezier,connectionLineStyle:N,connectionLineComponent:T,connectionLineContainerStyle:ne,deleteKeyCode:ee="Backspace",selectionKeyCode:ie="Shift",selectionOnDrag:ae=!1,selectionMode:ce=ci.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:ve=nl()?"Meta":"Control",zoomActivationKeyCode:Se=nl()?"Meta":"Control",snapToGrid:Le=!1,snapGrid:We=g1,onlyRenderVisibleElements:et=!1,selectNodesOnDrag:tt=!0,nodesDraggable:Fe,nodesConnectable:vt,nodesFocusable:je,nodeOrigin:ye=m1,edgesFocusable:Qe,edgesUpdatable:xt,elementsSelectable:jt,defaultViewport:Qt=y1,minZoom:fn=.5,maxZoom:Pt=2,translateExtent:dn=Tu,preventScrolling:Zt=!0,nodeExtent:Lt,defaultMarkerColor:Ft="#b1b1b7",zoomOnScroll:pn=!0,zoomOnPinch:Ot=!0,panOnScroll:Oe=!1,panOnScrollSpeed:wt=.5,panOnScrollMode:Jt=Sr.Free,zoomOnDoubleClick:en=!0,panOnDrag:hn=!0,onPaneClick:St,onPaneMouseEnter:ct,onPaneMouseMove:mn,onPaneMouseLeave:rr,onPaneScroll:gn,onPaneContextMenu:tn,children:yn,onEdgeContextMenu:nn,onEdgeDoubleClick:yi,onEdgeMouseEnter:vi,onEdgeMouseMove:xi,onEdgeMouseLeave:wi,onEdgeUpdate:fo,onEdgeUpdateStart:Si,onEdgeUpdateEnd:or,onReconnect:po,onReconnectStart:ir,onReconnectEnd:cl,reconnectRadius:sr=10,edgeUpdaterRadius:kr=10,onNodesChange:Cr,onEdgesChange:ho,noDragClassName:fl="nodrag",noWheelClassName:dl="nowheel",noPanClassName:Ei="nopan",fitView:vn=!1,fitViewOptions:Ni,connectOnClick:_i=!0,attributionPosition:pl,proOptions:ki,defaultEdgeOptions:Ci,elevateNodesOnSelect:ji=!0,elevateEdgesOnSelect:Pi=!1,disableKeyboardA11y:Mi=!1,autoPanOnConnect:hl=!0,autoPanOnNodeDrag:Re=!0,connectionRadius:ml=20,isValidConnection:mo,onError:Ti,style:jr,id:zi,nodeDragThreshold:Ii,...Pr},Mt)=>{const go=zi||"1";return J.createElement("div",{...Pr,style:{...jr,...v1},ref:Mt,className:ut(["react-flow",a]),"data-testid":"rf__wrapper",id:zi},J.createElement(Bh,null,J.createElement(f1,{onInit:g,onMove:m,onMoveStart:v,onMoveEnd:S,onNodeClick:p,onEdgeClick:h,onNodeMouseEnter:D,onNodeMouseMove:b,onNodeMouseLeave:R,onNodeContextMenu:G,onNodeDoubleClick:q,nodeTypes:c,edgeTypes:d,connectionLineType:F,connectionLineStyle:N,connectionLineComponent:T,connectionLineContainerStyle:ne,selectionKeyCode:ie,selectionOnDrag:ae,selectionMode:ce,deleteKeyCode:ee,multiSelectionKeyCode:ve,panActivationKeyCode:pe,zoomActivationKeyCode:Se,onlyRenderVisibleElements:et,selectNodesOnDrag:tt,defaultViewport:Qt,translateExtent:dn,minZoom:fn,maxZoom:Pt,preventScrolling:Zt,zoomOnScroll:pn,zoomOnPinch:Ot,zoomOnDoubleClick:en,panOnScroll:Oe,panOnScrollSpeed:wt,panOnScrollMode:Jt,panOnDrag:hn,onPaneClick:St,onPaneMouseEnter:ct,onPaneMouseMove:mn,onPaneMouseLeave:rr,onPaneScroll:gn,onPaneContextMenu:tn,onSelectionContextMenu:z,onSelectionStart:U,onSelectionEnd:A,onEdgeContextMenu:nn,onEdgeDoubleClick:yi,onEdgeMouseEnter:vi,onEdgeMouseMove:xi,onEdgeMouseLeave:wi,onReconnect:po??fo,onReconnectStart:ir??Si,onReconnectEnd:cl??or,reconnectRadius:sr??kr,defaultMarkerColor:Ft,noDragClassName:fl,noWheelClassName:dl,noPanClassName:Ei,elevateEdgesOnSelect:Pi,rfId:go,disableKeyboardA11y:Mi,nodeOrigin:ye,nodeExtent:Lt}),J.createElement(aw,{nodes:n,edges:o,defaultNodes:i,defaultEdges:l,onConnect:E,onConnectStart:C,onConnectEnd:_,onClickConnectStart:P,onClickConnectEnd:M,nodesDraggable:Fe,nodesConnectable:vt,nodesFocusable:je,edgesFocusable:Qe,edgesUpdatable:xt,elementsSelectable:jt,elevateNodesOnSelect:ji,minZoom:fn,maxZoom:Pt,nodeExtent:Lt,onNodesChange:Cr,onEdgesChange:ho,snapToGrid:Le,snapGrid:We,connectionMode:j,translateExtent:dn,connectOnClick:_i,defaultEdgeOptions:Ci,fitView:vn,fitViewOptions:Ni,onNodesDelete:H,onEdgesDelete:$,onNodeDragStart:Q,onNodeDrag:te,onNodeDragStop:Z,onSelectionDrag:x,onSelectionDragStart:W,onSelectionDragStop:L,noPanClassName:Ei,nodeOrigin:ye,rfId:go,autoPanOnConnect:hl,autoPanOnNodeDrag:Re,onError:Ti,connectionRadius:ml,isValidConnection:mo,nodeDragThreshold:Ii}),J.createElement(sw,{onSelectionChange:B}),yn,J.createElement(Rx,{proOptions:ki,position:pl}),J.createElement(pw,{rfId:go,disableKeyboardA11y:Mi})))});qh.displayName="ReactFlow";function x1(){return J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},J.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function w1(){return J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},J.createElement("path",{d:"M0 0h32v4.2H0z"}))}function S1(){return J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},J.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function E1(){return J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},J.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function N1(){return J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},J.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const oi=({children:n,className:o,...i})=>J.createElement("button",{type:"button",className:ut(["react-flow__controls-button",o]),...i},n);oi.displayName="ControlButton";const _1=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom}),Uh=({style:n,showZoom:o=!0,showFitView:i=!0,showInteractive:l=!0,fitViewOptions:a,onZoomIn:c,onZoomOut:d,onFitView:p,onInteractiveChange:h,className:g,children:m,position:v="bottom-left"})=>{const S=Ke(),[E,C]=V.useState(!1),{isInteractive:_,minZoomReached:P,maxZoomReached:M}=Ae(_1,st),{zoomIn:D,zoomOut:b,fitView:R}=Yu();if(V.useEffect(()=>{C(!0)},[]),!E)return null;const G=()=>{D(),c==null||c()},q=()=>{b(),d==null||d()},Q=()=>{R(a),p==null||p()},te=()=>{S.setState({nodesDraggable:!_,nodesConnectable:!_,elementsSelectable:!_}),h==null||h(!_)};return J.createElement(th,{className:ut(["react-flow__controls",g]),position:v,style:n,"data-testid":"rf__controls"},o&&J.createElement(J.Fragment,null,J.createElement(oi,{onClick:G,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:M},J.createElement(x1,null)),J.createElement(oi,{onClick:q,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:P},J.createElement(w1,null))),i&&J.createElement(oi,{className:"react-flow__controls-fitview",onClick:Q,title:"fit view","aria-label":"fit view"},J.createElement(S1,null)),l&&J.createElement(oi,{className:"react-flow__controls-interactive",onClick:te,title:"toggle interactivity","aria-label":"toggle interactivity"},_?J.createElement(N1,null):J.createElement(E1,null)),m)};Uh.displayName="Controls";var k1=V.memo(Uh),Gt;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(Gt||(Gt={}));function C1({color:n,dimensions:o,lineWidth:i}){return J.createElement("path",{stroke:n,strokeWidth:i,d:`M${o[0]/2} 0 V${o[1]} M0 ${o[1]/2} H${o[0]}`})}function j1({color:n,radius:o}){return J.createElement("circle",{cx:o,cy:o,r:o,fill:n})}const P1={[Gt.Dots]:"#91919a",[Gt.Lines]:"#eee",[Gt.Cross]:"#e2e2e2"},M1={[Gt.Dots]:1,[Gt.Lines]:1,[Gt.Cross]:6},T1=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function bh({id:n,variant:o=Gt.Dots,gap:i=20,size:l,lineWidth:a=1,offset:c=2,color:d,style:p,className:h}){const g=V.useRef(null),{transform:m,patternId:v}=Ae(T1,st),S=d||P1[o],E=l||M1[o],C=o===Gt.Dots,_=o===Gt.Cross,P=Array.isArray(i)?i:[i,i],M=[P[0]*m[2]||1,P[1]*m[2]||1],D=E*m[2],b=_?[D,D]:M,R=C?[D/c,D/c]:[b[0]/c,b[1]/c];return J.createElement("svg",{className:ut(["react-flow__background",h]),style:{...p,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:g,"data-testid":"rf__background"},J.createElement("pattern",{id:v+n,x:m[0]%M[0],y:m[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${R[0]},-${R[1]})`},C?J.createElement(j1,{color:S,radius:D/c}):J.createElement(C1,{dimensions:b,color:S,lineWidth:a})),J.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${v+n})`}))}bh.displayName="Background";var z1=V.memo(bh);const I1=({onFormat:n})=>{const[o,i]=V.useState(!1),l=[{label:"B",format:"b",title:"Bold"},{label:"I",format:"i",title:"Italic"},{label:"~",format:"s",title:"Strikethrough"}],a={"Text Colors":["black","white","gray","silver","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua"],"Extended Colors":["darkred","crimson","tomato","coral","indianred","lightcoral","darkorange","orange","darkgreen","forestgreen","seagreen","darkseagreen","darkcyan","lightseagreen","darkturquoise","turquoise","darkblue","mediumblue","royalblue","cornflowerblue","darkviolet","blueviolet","darkorchid","mediumorchid"]};return w.jsxs("div",{className:"text-format-toolbar",children:[l.map(({label:c,format:d,title:p})=>w.jsx("button",{onClick:()=>n(d),title:p,className:"format-button",children:c},d)),w.jsx("div",{className:"format-divider"}),w.jsxs("div",{className:"color-picker-container",children:[w.jsxs("button",{onClick:()=>i(!o),className:"format-button color-picker-button",title:"Text Color",children:[w.jsx("span",{className:"color-icon",children:"A"}),w.jsx("span",{className:"color-dropdown-arrow",children:"▼"})]}),o&&w.jsx("div",{className:"color-picker-dropdown",children:Object.entries(a).map(([c,d])=>w.jsxs("div",{className:"color-category",children:[w.jsx("div",{className:"color-category-label",children:c}),w.jsx("div",{className:"color-grid",children:d.map(p=>w.jsx("button",{onClick:()=>{n("color",p),i(!1)},className:"color-option",style:{backgroundColor:p},title:p.charAt(0).toUpperCase()+p.slice(1)},p))})]},c))})]})]})},R1=(n,o,i,l,a)=>{const c=n.slice(o,i),d=n.slice(0,o),p=n.slice(i);if(l==="color"&&a){const v=`[color=${a}]`,S="[/color]";return o===i?{text:`${d}${v}${S}${p}`,newCursorPos:o+v.length}:{text:`${d}${v}${c}${S}${p}`,newCursorPos:i+v.length+S.length}}const h=`[${l}]`,g=`[/${l}]`;return o===i?{text:`${d}${h}${g}${p}`,newCursorPos:o+h.length}:{text:`${d}${h}${c}${g}${p}`,newCursorPos:i+h.length+g.length}},Gu=({value:n,onChange:o,placeholder:i,className:l=""})=>{const a=V.useRef(null),[c,d]=J.useState(n);V.useEffect(()=>{d(n)},[n]);const p=(g,m)=>{const v=a.current;if(!v)return;const{selectionStart:S,selectionEnd:E}=v,{text:C,newCursorPos:_}=R1(c,S,E,g,m);d(C),o(C),setTimeout(()=>{v.focus(),v.setSelectionRange(_,_)},0)},h=g=>{const m=g.target.value;d(m),console.log("TextInput handleChange:",m),o(m)};return w.jsxs("div",{className:"text-input-with-toolbar",children:[w.jsx(I1,{onFormat:p}),w.jsx("textarea",{ref:a,value:c,onChange:h,placeholder:i,className:`text-input ${l}`})]})},$1=({node:n,onUpdate:o})=>{const i=l=>{const a={...n,text:l};console.log("NodeInspector handleTextChange - after:",a),o(a)};return w.jsxs("div",{className:"inspector-content",children:[w.jsx("h3",{className:"inspector-title",children:"Node Settings"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Speaker:"}),w.jsx("input",{type:"text",value:n.speaker,onChange:l=>o({...n,speaker:l.target.value}),placeholder:"Who is speaking..."})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Default Text:"}),w.jsx(Gu,{value:n.text,onChange:i,placeholder:"Enter node text...",className:"node-text-input"}),w.jsxs("div",{className:"help-text",children:["Supports BBCode formatting: [b]bold[/b], [i]italic[/i], [s]strikethrough[/s], [color=red]colors[/color], and variables using ","{","$$variable_name","}"]})]})]})},er=({value:n,onChange:o,onEnter:i,suggestions:l=[],placeholder:a,className:c})=>{const[d,p]=V.useState(!1),[h,g]=V.useState(-1),m=V.useRef(null),v=V.useRef(null),S=V.useMemo(()=>n?l.filter(C=>C.toLowerCase().includes(n.toLowerCase())):l,[n,l]),E=C=>{C.key==="ArrowDown"?(C.preventDefault(),g(_=>Math.min(_+1,S.length-1))):C.key==="ArrowUp"?(C.preventDefault(),g(_=>Math.max(_-1,-1))):C.key==="Enter"&&i?(C.preventDefault(),i(n)):C.key==="Escape"&&p(!1)};return V.useEffect(()=>{const C=_=>{m.current&&!m.current.contains(_.target)&&v.current&&!v.current.contains(_.target)&&p(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),w.jsxs("div",{className:"autocomplete-container",children:[w.jsx("input",{ref:m,type:"text",value:n,onChange:C=>{o(C.target.value),p(!0)},onFocus:()=>p(!0),onKeyDown:E,placeholder:a,className:c}),d&&S.length>0&&w.jsx("div",{ref:v,className:"suggestions-list",children:S.map((C,_)=>w.jsx("div",{className:`suggestion-item ${_===h?"focused":""}`,onClick:()=>{o(C),p(!1)},onMouseEnter:()=>g(_),children:C},C))})]})},D1=({choice:n,onUpdate:o,availableNodes:i,onCreateNode:l,existingFlags:a=[],existingStateKeys:c=[]})=>{var h,g,m,v,S;const d=(E,C=!1,_)=>{var P;E&&(i.includes(E)?o(C&&_!==void 0?{...n,alternateDestinations:(P=n.alternateDestinations)==null?void 0:P.map((M,D)=>D===_?{...M,nextNodeId:E}:M)}:{...n,nextNodeId:E}):l==null||l(E))},p=()=>{o({...n,alternateDestinations:[...n.alternateDestinations||[],{nextNodeId:"",prerequisites:{requiredFlags:[],blockedFlags:[],stateConditions:[]}}]})};return w.jsxs("div",{className:"inspector-content",children:[w.jsx("h3",{className:"inspector-title",children:"Choice Settings"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Text:"}),w.jsx(Gu,{value:n.text,onChange:E=>o({...n,text:E}),placeholder:"Enter choice text...",className:"choice-text-input"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Next Node:"}),w.jsx("div",{className:"next-node-selector",children:w.jsxs("div",{className:"node-id-input",children:[w.jsx(er,{value:n.nextNodeId,onChange:E=>o({...n,nextNodeId:E}),onEnter:E=>d(E),suggestions:i,placeholder:"Select or create node..."}),w.jsx("button",{onClick:()=>d(n.nextNodeId),className:"quick-create-button",disabled:!n.nextNodeId||i.includes(n.nextNodeId),children:"Create Node"})]})})]}),w.jsxs("div",{className:"prerequisites-section",children:[w.jsx("h4",{children:"Prerequisites"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Required Flags:"}),w.jsx(er,{value:"",onChange:E=>{var C,_;o({...n,prerequisites:{...n.prerequisites||{},requiredFlags:((_=(C=n.prerequisites)==null?void 0:C.requiredFlags)==null?void 0:_.filter(P=>P!==E))||[]}})},suggestions:a,placeholder:"Add required flag..."}),w.jsx("div",{className:"flag-chips",children:(g=(h=n.prerequisites)==null?void 0:h.requiredFlags)==null?void 0:g.map(E=>w.jsxs("div",{className:"flag-chip",children:[E,w.jsx("button",{onClick:()=>{var C,_;return o({...n,prerequisites:{...n.prerequisites,requiredFlags:((_=(C=n.prerequisites)==null?void 0:C.requiredFlags)==null?void 0:_.filter(P=>P!==E))||[]}})},children:"×"})]},E))})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"State Conditions:"}),w.jsx("button",{onClick:()=>{var E;return o({...n,prerequisites:{...n.prerequisites,stateConditions:[...((E=n.prerequisites)==null?void 0:E.stateConditions)||[],{key:"",operator:"=",value:0}]}})},className:"add-condition-button",children:"Add Condition"}),(v=(m=n.prerequisites)==null?void 0:m.stateConditions)==null?void 0:v.map((E,C)=>w.jsxs("div",{className:"state-condition",children:[w.jsx(er,{value:E.key,onChange:_=>{var P,M;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(M=(P=n.prerequisites)==null?void 0:P.stateConditions)==null?void 0:M.map((D,b)=>b===C?{...D,key:_}:D)}})},suggestions:c,placeholder:"State key"}),w.jsxs("select",{className:"operator-select",value:E.operator,onChange:_=>{var P,M;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(M=(P=n.prerequisites)==null?void 0:P.stateConditions)==null?void 0:M.map((D,b)=>b===C?{...D,operator:_.target.value}:D)}})},children:[w.jsx("option",{value:"=",children:"="}),w.jsx("option",{value:">",children:">"}),w.jsx("option",{value:"<",children:"<"}),w.jsx("option",{value:">=",children:"≥"}),w.jsx("option",{value:"<=",children:"≤"})]}),w.jsx("input",{type:"number",value:E.value,onChange:_=>{var P,M;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(M=(P=n.prerequisites)==null?void 0:P.stateConditions)==null?void 0:M.map((D,b)=>b===C?{...D,value:Number(_.target.value)}:D)}})}}),w.jsx("button",{onClick:()=>{var _,P;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(P=(_=n.prerequisites)==null?void 0:_.stateConditions)==null?void 0:P.filter((M,D)=>D!==C)}})},className:"remove-condition-button",children:"×"})]},C))]})]}),w.jsxs("div",{className:"alternate-destinations-section",children:[w.jsxs("div",{className:"section-header",children:[w.jsx("h4",{children:"Alternate Destinations"}),w.jsx("button",{onClick:p,className:"add-section-button",children:"Add Alternate Path"})]}),(S=n.alternateDestinations)==null?void 0:S.map((E,C)=>{var _,P,M,D;return w.jsxs("div",{className:"alternate-destination",children:[w.jsxs("div",{className:"destination-header",children:[w.jsxs("h5",{children:["Alternate Path ",C+1]}),w.jsx("button",{onClick:()=>{var b;return o({...n,alternateDestinations:(b=n.alternateDestinations)==null?void 0:b.filter((R,G)=>G!==C)})},className:"remove-destination-button",children:"Remove"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Next Node:"}),w.jsx("div",{className:"next-node-selector",children:w.jsxs("div",{className:"node-id-input",children:[w.jsx(er,{value:E.nextNodeId,onChange:b=>{var R;return o({...n,alternateDestinations:(R=n.alternateDestinations)==null?void 0:R.map((G,q)=>q===C?{...G,nextNodeId:b}:G)})},onEnter:b=>d(b,!0,C),suggestions:i,placeholder:"Select or create node..."}),w.jsx("button",{onClick:()=>d(E.nextNodeId,!0,C),className:"quick-create-button",disabled:!E.nextNodeId||i.includes(E.nextNodeId),children:"Create Node"})]})})]}),w.jsxs("div",{className:"prerequisites-section",children:[w.jsx("h4",{children:"Prerequisites"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Required Flags:"}),w.jsx(er,{value:"",onChange:b=>{var G,q;const R=((G=E.prerequisites)==null?void 0:G.requiredFlags)||[];o({...n,alternateDestinations:(q=n.alternateDestinations)==null?void 0:q.map((Q,te)=>te===C?{...Q,prerequisites:{...Q.prerequisites,requiredFlags:[...R,b]}}:Q)})},suggestions:a,placeholder:"Add required flag..."}),w.jsx("div",{className:"flag-chips",children:(P=(_=E.prerequisites)==null?void 0:_.requiredFlags)==null?void 0:P.map(b=>w.jsxs("div",{className:"flag-chip",children:[b,w.jsx("button",{onClick:()=>{var R;return o({...n,alternateDestinations:(R=n.alternateDestinations)==null?void 0:R.map((G,q)=>{var Q;return q===C?{...G,prerequisites:{...G.prerequisites,requiredFlags:(Q=G.prerequisites.requiredFlags)==null?void 0:Q.filter(te=>te!==b)}}:G})})},children:"×"})]},b))})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"State Conditions:"}),w.jsx("button",{onClick:()=>{var b;return o({...n,alternateDestinations:(b=n.alternateDestinations)==null?void 0:b.map((R,G)=>{var q;return G===C?{...R,prerequisites:{...R.prerequisites,stateConditions:[...((q=R.prerequisites)==null?void 0:q.stateConditions)||[],{key:"",operator:"=",value:0}]}}:R})})},className:"add-condition-button",children:"Add Condition"}),(D=(M=E.prerequisites)==null?void 0:M.stateConditions)==null?void 0:D.map((b,R)=>w.jsxs("div",{className:"state-condition",children:[w.jsx(er,{value:b.key,onChange:G=>{var q;return o({...n,alternateDestinations:(q=n.alternateDestinations)==null?void 0:q.map((Q,te)=>{var Z;return te===C?{...Q,prerequisites:{...Q.prerequisites,stateConditions:(Z=Q.prerequisites.stateConditions)==null?void 0:Z.map((H,$)=>$===R?{...H,key:G}:H)}}:Q})})},suggestions:c,placeholder:"State key"}),w.jsxs("select",{className:"operator-select",value:b.operator,onChange:G=>{var q;return o({...n,alternateDestinations:(q=n.alternateDestinations)==null?void 0:q.map((Q,te)=>{var Z;return te===C?{...Q,prerequisites:{...Q.prerequisites,stateConditions:(Z=Q.prerequisites.stateConditions)==null?void 0:Z.map((H,$)=>$===R?{...H,operator:G.target.value}:H)}}:Q})})},children:[w.jsx("option",{value:"=",children:"="}),w.jsx("option",{value:">",children:">"}),w.jsx("option",{value:"<",children:"<"}),w.jsx("option",{value:">=",children:"≥"}),w.jsx("option",{value:"<=",children:"≤"})]}),w.jsx("input",{type:"number",value:b.value,onChange:G=>{var q;return o({...n,alternateDestinations:(q=n.alternateDestinations)==null?void 0:q.map((Q,te)=>{var Z;return te===C?{...Q,prerequisites:{...Q.prerequisites,stateConditions:(Z=Q.prerequisites.stateConditions)==null?void 0:Z.map((H,$)=>$===R?{...H,value:Number(G.target.value)}:H)}}:Q})})}}),w.jsx("button",{onClick:()=>{var G;return o({...n,alternateDestinations:(G=n.alternateDestinations)==null?void 0:G.map((q,Q)=>{var te;return Q===C?{...q,prerequisites:{...q.prerequisites,stateConditions:(te=q.prerequisites.stateConditions)==null?void 0:te.filter((Z,H)=>H!==R)}}:q})})},className:"remove-condition-button",children:"×"})]},R))]})]})]},C)})]})]})},A1=({alternateText:n,onUpdate:o,existingFlags:i=[],existingStateKeys:l=[]})=>{var a,c,d,p;return w.jsxs("div",{className:"inspector-content",children:[w.jsx("h3",{className:"inspector-title",children:"Alternate Text Settings"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Text:"}),w.jsx(Gu,{value:n.text,onChange:h=>o({...n,text:h}),placeholder:"Enter alternate text...",className:"alternate-text-input"}),w.jsxs("div",{className:"help-text",children:["Supports markdown and variables using ","{","$$variable_name","}"]})]}),w.jsxs("div",{className:"prerequisites-section",children:[w.jsx("h4",{children:"Prerequisites"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Required Flags:"}),w.jsx(er,{value:"",onChange:h=>{var v;const g=((v=n.prerequisites)==null?void 0:v.requiredFlags)||[],m={...n.prerequisites,requiredFlags:g.filter(S=>S!==h)||[]};o({...n,prerequisites:m})},suggestions:i,placeholder:"Add required flag..."}),w.jsx("div",{className:"flag-chips",children:(c=(a=n.prerequisites)==null?void 0:a.requiredFlags)==null?void 0:c.map(h=>w.jsxs("div",{className:"flag-chip",children:[h,w.jsx("button",{onClick:()=>{var g,m;return o({...n,prerequisites:{...n.prerequisites,requiredFlags:((m=(g=n==null?void 0:n.prerequisites)==null?void 0:g.requiredFlags)==null?void 0:m.filter(v=>v!==h))||[]}})},children:"×"})]},h))})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"State Conditions:"}),w.jsx("button",{onClick:()=>{var h;return o({...n,prerequisites:{...n.prerequisites,stateConditions:[...((h=n.prerequisites)==null?void 0:h.stateConditions)||[],{key:"",operator:"=",value:0}]}})},className:"add-condition-button",children:"Add Condition"}),(p=(d=n.prerequisites)==null?void 0:d.stateConditions)==null?void 0:p.map((h,g)=>w.jsxs("div",{className:"state-condition",children:[w.jsx(er,{value:h.key,onChange:m=>{var v,S;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(S=(v=n==null?void 0:n.prerequisites)==null?void 0:v.stateConditions)==null?void 0:S.map((E,C)=>C===g?{...E,key:m}:E)}})},suggestions:l,placeholder:"State key"}),w.jsxs("select",{value:h.operator,onChange:m=>{var v,S;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(S=(v=n==null?void 0:n.prerequisites)==null?void 0:v.stateConditions)==null?void 0:S.map((E,C)=>C===g?{...E,operator:m.target.value}:E)}})},children:[w.jsx("option",{value:"=",children:"="}),w.jsx("option",{value:">",children:">"}),w.jsx("option",{value:"<",children:"<"}),w.jsx("option",{value:">=",children:"≥"}),w.jsx("option",{value:"<=",children:"≤"})]}),w.jsx("input",{type:"number",value:h.value,onChange:m=>{var v,S;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(S=(v=n==null?void 0:n.prerequisites)==null?void 0:v.stateConditions)==null?void 0:S.map((E,C)=>C===g?{...E,value:Number(m.target.value)}:E)}})}}),w.jsx("button",{onClick:()=>{var m,v;return o({...n,prerequisites:{...n.prerequisites,stateConditions:((v=(m=n==null?void 0:n.prerequisites)==null?void 0:m.stateConditions)==null?void 0:v.filter((S,E)=>E!==g))||[]}})},className:"remove-condition-button",children:"×"})]},g))]})]})]})},L1=({target:n,node:o,onUpdate:i,availableNodes:l,onCreateNode:a,existingFlags:c,existingStateKeys:d})=>{console.log("Inspector render - target:",n),console.log("Inspector render - node:",o);const p=()=>{switch(n.type){case"node":return w.jsx($1,{node:o,onUpdate:i});case"choice":return w.jsx(D1,{choice:o.choices[n.index],onUpdate:h=>i({...o,choices:o.choices.map((g,m)=>m===n.index?h:g)}),availableNodes:l,onCreateNode:a,existingFlags:c,existingStateKeys:d});case"alternateText":return w.jsx(A1,{alternateText:o.alternateTexts[n.index],onUpdate:h=>{i({...o,alternateTexts:o.alternateTexts.map((g,m)=>m===n.index?h:g)})},existingFlags:c,existingStateKeys:d});default:return null}};return w.jsx("div",{className:"inspector",children:p()})},di=({text:n})=>{const o=i=>{const l=[];let a="",c=0;const d=/\[(\/?)(b|i|s|color=([^\]]+))\]/g;let p;for(;(p=d.exec(i))!==null;){const g=i.slice(c,p.index);g&&(a+=g);const[m,v,S,E]=p;if(v)a&&(l.push(w.jsx("span",{children:a},l.length)),a="");else if(a&&(l.push(w.jsx("span",{children:a},l.length)),a=""),S.startsWith("color=")){const C=E,_=i.indexOf("[/color]",p.index);if(_!==-1){const P=i.slice(p.index+m.length,_);l.push(w.jsx("span",{style:{color:C},children:P},l.length)),d.lastIndex=_+8}}else{const C={b:{fontWeight:"bold"},i:{fontStyle:"italic"},s:{textDecoration:"line-through"}},_=i.indexOf(`[/${S}]`,p.index);if(_!==-1){const P=i.slice(p.index+m.length,_);l.push(w.jsx("span",{style:C[S],children:P},l.length)),d.lastIndex=_+S.length+3}}c=d.lastIndex}const h=i.slice(c);return h&&l.push(w.jsx("span",{children:h},l.length)),l};return w.jsx("div",{className:"bbcode-text",children:o(n)})},Wh=({node:n,dialogueTree:o,isOpen:i,onClose:l,onSave:a,availableNodes:c,onCreateNode:d})=>{var Q,te,Z;const[p,h]=V.useState({...n}),[g,m]=V.useState(null),[v,S]=V.useState(n.emotion||""),[E,C]=V.useState(n.character||Object.keys(o.characters)[0]),[_,P]=V.useState(n.speaker||((Q=o.characters[E])==null?void 0:Q.name)||""),M=Object.keys(((te=o.characters[E])==null?void 0:te.portraits)||{}),{existingFlags:D,existingStateKeys:b}=J.useMemo(()=>{const H=new Set,$=new Set;return Object.values(o.nodes).forEach(B=>{var W;(W=B.alternateTexts)==null||W.forEach(x=>{var L,z,U,A,j,F;(z=(L=x.prerequisites)==null?void 0:L.requiredFlags)==null||z.forEach(N=>H.add(N)),(A=(U=x.prerequisites)==null?void 0:U.blockedFlags)==null||A.forEach(N=>H.add(N)),(F=(j=x.prerequisites)==null?void 0:j.stateConditions)==null||F.forEach(N=>{$.add(N.key)})}),B.choices.forEach(x=>{var L,z,U,A,j,F,N,T,ne,ee,ie;(z=(L=x.prerequisites)==null?void 0:L.requiredFlags)==null||z.forEach(ae=>H.add(ae)),(A=(U=x.prerequisites)==null?void 0:U.blockedFlags)==null||A.forEach(ae=>H.add(ae)),(F=(j=x.prerequisites)==null?void 0:j.stateConditions)==null||F.forEach(ae=>{$.add(ae.key)}),(T=(N=x.flagChanges)==null?void 0:N.add)==null||T.forEach(ae=>H.add(ae)),(ee=(ne=x.flagChanges)==null?void 0:ne.remove)==null||ee.forEach(ae=>H.add(ae)),(ie=x.stateChanges)==null||ie.forEach(ae=>{$.add(ae.key)})})}),{existingFlags:Array.from(H).sort(),existingStateKeys:Array.from($).sort()}},[o]),R=()=>{h(H=>({...H,choices:[...H.choices,{id:`choice_${Date.now()}`,text:"New choice",nextNodeId:c[0]||""}]}))},G=H=>{console.log("DialogueNodeEditor handleInspectorUpdate - before:",p),console.log("DialogueNodeEditor handleInspectorUpdate - update:",H),h(H),console.log("DialogueNodeEditor handleInspectorUpdate - after state set")},q=()=>{console.log("DialogueNodeEditor handleSave - before:",p);const H={...p,emotion:v,character:E,speaker:_};console.log("DialogueNodeEditor handleSave - after:",H),console.log("DialogueNodeEditor calling onSave with:",H),a(H),console.log("DialogueNodeEditor onSave called"),l()};return V.useEffect(()=>{S(n.emotion||"")},[n]),V.useEffect(()=>{h(H=>({...H,emotion:v}))},[v]),V.useEffect(()=>{h({...n})},[n]),V.useEffect(()=>{console.log("DialogueNodeEditor editedNode changed:",p)},[p]),V.useEffect(()=>{var H;n.speaker||P(((H=o.characters[E])==null?void 0:H.name)||"")},[E]),i?w.jsx("div",{className:"modal-overlay",children:w.jsxs("div",{className:"node-editor-modal",children:[w.jsxs("div",{className:"node-editor-header",children:[w.jsxs("div",{className:"node-editor-title",children:[w.jsx("h3",{children:"Edit Node"}),w.jsx("span",{className:"node-id",children:p.id})]}),w.jsx("button",{onClick:l,className:"close-button",children:"×"})]}),w.jsxs("div",{className:"node-editor-content",children:[w.jsxs("div",{className:"node-editor-main",children:[w.jsxs("div",{className:"editor-section",children:[w.jsx("div",{className:"editor-section-header",children:w.jsx("h4",{children:"Character"})}),w.jsxs("div",{className:"input-group",children:[w.jsx("label",{children:"Character:"}),w.jsx("select",{value:E,onChange:H=>C(H.target.value),children:Object.entries(o.characters).map(([H,$])=>w.jsx("option",{value:H,children:$.name},H))})]}),w.jsxs("div",{className:"input-group",children:[w.jsx("label",{children:"Display Name:"}),w.jsx("input",{type:"text",value:_,onChange:H=>P(H.target.value),placeholder:"Custom speaker name..."})]}),w.jsxs("div",{className:"input-group",children:[w.jsx("label",{children:"Emotion"}),w.jsxs("select",{value:v,onChange:H=>S(H.target.value),children:[w.jsx("option",{value:"",children:"Default"}),M.map(H=>w.jsx("option",{value:H,children:H},H))]})]})]}),w.jsxs("div",{className:"editor-section",children:[w.jsx("div",{className:"editor-section-header",children:w.jsx("h4",{children:"Default Text"})}),w.jsxs("div",{className:"node-preview",onClick:()=>m({type:"node",id:p.id}),children:[w.jsx("div",{className:"node-speaker",children:p.speaker}),w.jsx("div",{className:"node-text",children:w.jsx(di,{text:p.text})})]})]}),w.jsxs("div",{className:"editor-section",children:[w.jsxs("div",{className:"editor-section-header",children:[w.jsx("h4",{children:"Alternate Texts"}),w.jsx("button",{onClick:()=>{h(H=>({...H,alternateTexts:[...H.alternateTexts||[],{text:"",prerequisites:{}}]}))},className:"add-section-button",children:"Add Alternate Text"})]}),(Z=p.alternateTexts)==null?void 0:Z.map((H,$)=>{var B,W,x,L;return w.jsxs("div",{className:"alternate-text-preview",onClick:()=>m({type:"alternateText",id:p.id,index:$}),children:[w.jsxs("div",{className:"alternate-text-content",children:[w.jsx(di,{text:H.text||"(Empty text)"}),H.emotion&&w.jsxs("span",{className:"alternate-text-emotion",children:["• ",H.emotion]})]}),w.jsxs("div",{className:"alternate-text-conditions",children:[(W=(B=H.prerequisites)==null?void 0:B.requiredFlags)!=null&&W.length?w.jsxs("div",{className:"condition-tag",children:["Required: ",H.prerequisites.requiredFlags.join(", ")]}):null,(L=(x=H.prerequisites)==null?void 0:x.stateConditions)!=null&&L.length?w.jsxs("div",{className:"condition-tag",children:[H.prerequisites.stateConditions.length," condition(s)"]}):null]})]},$)})]}),w.jsxs("div",{className:"editor-section",children:[w.jsxs("div",{className:"editor-section-header",children:[w.jsx("h4",{children:"Choices"}),w.jsx("button",{onClick:R,className:"add-section-button",children:"Add Choice"})]}),p.choices.map((H,$)=>w.jsxs("div",{className:"choice-preview",onClick:()=>m({type:"choice",id:H.id,index:$}),children:[w.jsx("div",{className:"choice-text",children:H.text}),w.jsxs("div",{className:"choice-meta",children:[H.prerequisites&&w.jsx("span",{className:"condition-badge",children:"⚡"}),H.flagChanges&&w.jsx("span",{className:"flag-badge",children:"🚩"}),H.stateChanges&&H.stateChanges.length>0&&w.jsx("span",{className:"state-badge",children:"📊"}),"→ ",H.nextNodeId||"???"]})]},H.id))]})]}),g&&w.jsx("div",{className:"node-editor-inspector",children:w.jsx(L1,{target:g,node:p,onUpdate:G,availableNodes:c,onCreateNode:d,existingFlags:D,existingStateKeys:b})})]}),w.jsxs("div",{className:"node-editor-footer",children:[w.jsx("button",{onClick:q,className:"save-button",children:"Save Changes"}),w.jsx("button",{onClick:l,className:"cancel-button",children:"Cancel"})]})]})}):null},F1=({data:n,style:o})=>w.jsxs("div",{className:"dialogue-node",style:o,children:[w.jsx(co,{type:"target",position:ge.Left}),w.jsxs("div",{className:"dialogue-node-speaker",children:[n.speaker,n.emotion&&w.jsxs("span",{className:"dialogue-node-emotion",children:["• ",n.emotion]})]}),w.jsx("div",{className:"dialogue-node-text",children:w.jsx(di,{text:n.text})}),w.jsxs("div",{className:"dialogue-node-choices",children:[w.jsx("div",{className:"dialogue-node-choices-label",children:"Player options:"}),n.choices.map((i,l)=>{var a,c;return w.jsxs("div",{className:`dialogue-node-choice ${i.isLocked?"locked":""} ${i.isBlockable?"blockable":""} ${i.isBroken?"broken":""}`,title:i.isBroken?"Missing target node!":i.isLocked?`Required: ${(a=i.requiredFlags)==null?void 0:a.join(", ")}${i.blockedFlags?`
Blocked by: ${i.blockedFlags.join(", ")}`:""}`:i.isBlockable?`Can be blocked by: ${(c=i.blockedFlags)==null?void 0:c.join(", ")}`:"",children:["• ",i.text,i.isLocked&&w.jsx("span",{className:"lock-icon",children:"🔒"}),i.isBlockable&&w.jsx("span",{className:"block-icon",children:"⚠️"}),i.isBroken&&w.jsx("span",{className:"broken-icon",children:"⚡"})]},l)})]}),w.jsx(co,{type:"source",position:ge.Right})]}),O1={dialogueNode:F1},H1=n=>{const p=Math.ceil(n.text.length/35)*20,h=n.choices.length*30,g=n.choices.length>0?h+20:0;return 80+p+g},V1=({dialogueTree:n,onCreateNode:o,onUpdate:i})=>{const[l,a]=V.useState([]),[c,d]=V.useState([]),[p,h]=V.useState(null),[g,m]=V.useState(null),v=400,S=200,E=50,C=V.useCallback(()=>{const H=[],$=[],B=new Map,W=new Map,x=new Map;Object.entries(n.nodes).forEach(([z,U])=>{W.set(z,H1(U))});const L=(z,U,A)=>{if(A.has(z))return;A.add(z);const j=n.nodes[z];j&&(x.has(U)||x.set(U,[]),x.get(U).push(z),j.choices.forEach(F=>{var N;F.nextNodeId&&n.nodes[F.nextNodeId]&&L(F.nextNodeId,U+1,A),(N=F.alternateDestinations)==null||N.forEach(T=>{T.nextNodeId&&n.nodes[T.nextNodeId]&&L(T.nextNodeId,U+1,A)})}))};L(n.startNodeId,0,new Set),x.forEach((z,U)=>{const A=z.length;z.forEach((ee,ie)=>{var ve;const ae=U*v;let ce=(ie-(A-1)/2)*S;const pe=B.get(z[ie-1]);if(pe){const Se=W.get(z[ie-1])||0,Le=pe.y+Se+E;ce<Le&&(ce=Le)}if(ie>0){const Se=((ve=B.get(z[ie-1]))==null?void 0:ve.y)||0,We=(W.get(z[ie-1])||0)+E;ce-Se<We&&(ce=Se+We)}B.set(ee,{x:ae,y:ce})});const j=z.map(ee=>{const ie=B.get(ee),ae=W.get(ee)||0;return{y:(ie==null?void 0:ie.y)||0,height:ae}}),F=Math.min(...j.map(ee=>ee.y)),ne=-(Math.max(...j.map(ee=>ee.y+ee.height))-F)/2;z.forEach(ee=>{const ie=B.get(ee);ie&&B.set(ee,{x:ie.x,y:ie.y+ne})})}),Object.entries(n.nodes).forEach(([z,U])=>{const A=B.get(z)||{x:0,y:0};H.push({id:z,type:"dialogueNode",position:A,data:{text:U.text,speaker:U.speaker,emotion:U.emotion,choices:U.choices.map(j=>{var F,N,T,ne,ee;return{text:j.text,isLocked:((F=j.prerequisites)==null?void 0:F.requiredFlags)!==void 0,isBlockable:((N=j.prerequisites)==null?void 0:N.blockedFlags)!==void 0&&((T=j.prerequisites)==null?void 0:T.requiredFlags)===void 0,requiredFlags:(ne=j.prerequisites)==null?void 0:ne.requiredFlags,blockedFlags:(ee=j.prerequisites)==null?void 0:ee.blockedFlags,isBroken:!n.nodes[j.nextNodeId]}})},style:{width:250},draggable:!0}),U.choices.forEach((j,F)=>{var ne,ee,ie,ae,ce,pe,ve;const N=((ee=(ne=j.prerequisites)==null?void 0:ne.requiredFlags)==null?void 0:ee.length)||((ae=(ie=j.prerequisites)==null?void 0:ie.blockedFlags)==null?void 0:ae.length)||((pe=(ce=j.prerequisites)==null?void 0:ce.stateConditions)==null?void 0:pe.length),T={type:"bezier",sourceHandle:ge.Right,targetHandle:ge.Left,labelStyle:{fill:"var(--color-text)",fontWeight:500},labelBgStyle:{fill:"var(--color-background-tertiary)",stroke:"var(--color-border)",strokeWidth:1,color:"white",rx:4,ry:4},labelBgPadding:[4,4],labelBgBorderRadius:4};(ve=j.alternateDestinations)!=null&&ve.length?j.alternateDestinations.forEach((Se,Le)=>{$.push({...T,id:`${z}-${Se.nextNodeId}-alt-${Le}`,source:z,target:Se.nextNodeId,label:j.text,animated:!0,style:{strokeWidth:2,stroke:N?"var(--color-text-tertiary)":"var(--color-border)",strokeDasharray:N?"5 5":void 0},markerEnd:{type:uo.ArrowClosed,width:20,height:20,color:N?"var(--color-text-tertiary)":"var(--color-primary)"}})}):$.push({...T,id:`${z}-${j.nextNodeId}-${F}`,source:z,target:j.nextNodeId,label:j.text,style:{strokeWidth:2,stroke:N?"var(--color-text-tertiary)":"var(--color-border)",strokeDasharray:N?"5 5":void 0},markerEnd:{type:uo.ArrowClosed,width:20,height:20,color:N?"var(--color-text-tertiary)":"var(--color-border)"}})})}),a(H),d($)},[n]);J.useEffect(()=>{C()},[n,C]);const _=V.useCallback(H=>{a($=>Mh(H,$))},[]),P=V.useCallback((H,$)=>{$&&typeof $=="object"&&"id"in $&&typeof $.id=="string"&&(h($.id),m($.id))},[]),M=V.useCallback(H=>{if(!n)return;const $={...n,nodes:{...n.nodes,[H.id]:H}};i($),h(null)},[n,i]),D=V.useCallback(H=>{p&&(o==null||o(H))},[p,o]),b=V.useCallback((H,$)=>{$&&typeof $.id=="string"&&m($.id)},[]),R=V.useCallback((H,$)=>{$&&typeof $.id=="string"&&m($.id)},[]);V.useEffect(()=>{p||m(null)},[p]);const G=(H,$,B="both")=>{const W=new Set;return W.add(H),$.forEach(x=>{(B==="outgoing"||B==="both")&&x.source===H&&W.add(x.target),(B==="incoming"||B==="both")&&x.target===H&&W.add(x.source)}),W},q=V.useMemo(()=>g?G(g,c):null,[g,c]),Q=V.useMemo(()=>q?l.map(H=>({...H,style:{...H.style,opacity:q.has(H.id)?1:.2,transition:"opacity 0.3s ease-in-out"},className:q.has(H.id)?"connected-node":"unconnected-node"})):l,[l,q]),te=V.useMemo(()=>q?c.map(H=>({...H,style:{...H.style,opacity:q.has(H.source)&&q.has(H.target)?1:.2,transition:"opacity 0.3s ease-in-out"},className:q.has(H.source)&&q.has(H.target)?"connected-edge":"unconnected-edge"})):c,[c,q]),Z=V.useCallback(()=>{m(null)},[]);return w.jsxs(w.Fragment,{children:[w.jsx("div",{style:{height:"calc(100vh - 160px)",width:"100%"},children:w.jsxs(qh,{nodes:Q,edges:te,nodeTypes:O1,connectionLineType:Pn.SmoothStep,onNodesChange:_,onNodeDoubleClick:P,onNodeClick:b,onNodeDragStart:R,onPaneClick:Z,fitView:!0,children:[w.jsx(z1,{}),w.jsx(k1,{})]})}),p&&w.jsx(Wh,{node:n.nodes[p],dialogueTree:n,isOpen:!0,onClose:()=>h(null),onSave:M,availableNodes:Object.keys(n.nodes),onCreateNode:D})]})},Sp=(n,o)=>{console.log("Input text:",n),console.log("Variables:",o);const i=/\{\$\$([^}]+)\}/g,l=n.replace(i,(a,c)=>{const d=c.trim(),p=o[d];return console.log(`Matching: "${a}"`),console.log(`Variable name: "${d}"`),console.log(`Value found: ${p}`),p!==void 0?p.toString():"VALUE_NOT_FOUND"});return console.log("Output text:",l),l},pu=n=>{const o=/\{\$\$([^}]+)\}/g;return(n.match(o)||[]).map(l=>l.slice(3,-1).trim())},B1=(n,o)=>{if(!(n!=null&&n.character))return;const i=o[n.character];if(i!=null&&i.portraits)return n.emotion&&i.portraits[n.emotion]?i.portraits[n.emotion]:i.portraits[i.defaultEmotion]},q1=(n,o,i)=>{if(!n.prerequisites)return!0;const{requiredFlags:l,blockedFlags:a,stateConditions:c}=n.prerequisites;return!(l!=null&&l.some(d=>!o.has(d))||a!=null&&a.some(d=>o.has(d))||c!=null&&c.some(d=>!Yh(d,i)))},Yh=(n,o)=>{const i=o[n.key]??0;switch(n.operator){case"=":return i===n.value;case">":return i>n.value;case"<":return i<n.value;case">=":return i>=n.value;case"<=":return i<=n.value;default:return!1}},U1=(n,o)=>{if(!n.prerequisites)return"";const{requiredFlags:i,blockedFlags:l,stateConditions:a}=n.prerequisites,c=[];return i!=null&&i.some(d=>!o.has(d))&&c.push(`Required flags: ${i.join(", ")}`),l!=null&&l.some(d=>o.has(d))&&c.push(`Blocked by flags: ${l.join(", ")}`),a!=null&&a.length&&c.push("State conditions not met"),c.join(`
`)},b1=({dialogueTree:n,isOpen:o,onClose:i})=>{var Z,H;const[l,a]=V.useState(n.startNodeId),[c,d]=V.useState([]),[p,h]=V.useState(new Set),[g,m]=V.useState({}),[v,S]=V.useState(!1),[E,C]=V.useState(new Set),_=V.useRef(null),P=()=>{var $;($=_.current)==null||$.scrollIntoView({behavior:"smooth"})};V.useEffect(()=>{P()},[c]);const{allFlags:M,allStateKeys:D}=J.useMemo(()=>{const $=new Set,B=new Set;return Object.values(n.nodes).forEach(W=>{var x;pu(W.text).forEach(L=>B.add(L)),(x=W.alternateTexts)==null||x.forEach(L=>{var z,U,A,j,F,N;pu(L.text).forEach(T=>B.add(T)),(U=(z=L.prerequisites)==null?void 0:z.requiredFlags)==null||U.forEach(T=>$.add(T)),(j=(A=L.prerequisites)==null?void 0:A.blockedFlags)==null||j.forEach(T=>$.add(T)),(N=(F=L.prerequisites)==null?void 0:F.stateConditions)==null||N.forEach(T=>{B.add(T.key)})}),W.choices.forEach(L=>{var z,U,A,j,F,N;pu(L.text).forEach(T=>B.add(T)),L.prerequisites&&((z=L.prerequisites.requiredFlags)==null||z.forEach(T=>$.add(T)),(U=L.prerequisites.blockedFlags)==null||U.forEach(T=>$.add(T)),(A=L.prerequisites.stateConditions)==null||A.forEach(T=>{B.add(T.key)})),L.flagChanges&&((j=L.flagChanges.add)==null||j.forEach(T=>$.add(T)),(F=L.flagChanges.remove)==null||F.forEach(T=>$.add(T))),(N=L.stateChanges)==null||N.forEach(T=>{B.add(T.key)})})}),{allFlags:Array.from($).sort(),allStateKeys:Array.from(B).sort()}},[n]);J.useEffect(()=>{m($=>{const B={...$};return D.forEach(W=>{W in B||(W==="jonas_weight"?B[W]=450:B[W]=0)}),B})},[D]);const b=$=>{h(B=>{const W=new Set(B);return W.has($)?W.delete($):W.add($),W})},R=$=>{var W;if(!$)return{text:""};const B=(W=$.alternateTexts)==null?void 0:W.find(x=>{if(!x.prerequisites)return!1;const{requiredFlags:L,blockedFlags:z,stateConditions:U}=x.prerequisites;return!(L!=null&&L.some(A=>!p.has(A))||z!=null&&z.some(A=>p.has(A))||U!=null&&U.some(A=>!Yh(A,g)))});return B?{text:B.text,emotion:B.emotion||$.emotion}:{text:$.text,emotion:$.emotion}};J.useEffect(()=>{l&&d($=>$.map(B=>{if(B.isPlayer)return B;const W=Object.values(n.nodes).find(x=>x.speaker===B.speaker&&x.text===B.originalText);return W?{...B,text:R(W).text,originalText:W.text,emotion:W.emotion}:B}))},[p,g,l,n.nodes]);const G=J.useCallback(()=>{const $=n.nodes[n.startNodeId];a(n.startNodeId),d([{text:R($).text,originalText:$.text,speaker:$.speaker,emotion:$.emotion,isPlayer:!1}])},[n]);J.useEffect(()=>{o&&G()},[o,n,G]);const q=n==null?void 0:n.nodes[l],Q=B1(q,(n==null?void 0:n.characters)||{}),te=$=>{const B=n.nodes[$.nextNodeId];B&&($.flagChanges&&h(W=>{var L,z,U,A;const x=new Set(W);return(z=(L=$.flagChanges)==null?void 0:L.add)==null||z.forEach(j=>x.add(j)),(A=(U=$.flagChanges)==null?void 0:U.remove)==null||A.forEach(j=>x.delete(j)),x}),$.stateChanges&&m(W=>{var L;const x={...W};return(L=$.stateChanges)==null||L.forEach(z=>{const U=x[z.key]??0;z.operation==="add"?x[z.key]=U+z.value:z.operation==="subtract"?x[z.key]=U-z.value:x[z.key]=z.value}),x}),d(W=>[...W,{text:$.text,speaker:"You",isPlayer:!0},{text:R(B).text,originalText:B.text,speaker:B.speaker,emotion:B.emotion,isPlayer:!1}]),a($.nextNodeId))};return!o||!n||!q?null:w.jsx("div",{className:"modal-overlay",children:w.jsxs("div",{className:"dialogue-preview-modal",children:[w.jsxs("div",{className:"preview-header",children:[w.jsxs("h3",{children:["Dialogue Preview - ",q==null?void 0:q.speaker]}),w.jsxs("div",{className:"preview-controls",children:[w.jsx("button",{onClick:()=>S(!v),className:"flag-manager-button",title:"Toggle game flags",children:"🚩 Game Flags"}),w.jsx("button",{onClick:i,className:"close-button",children:"×"})]})]}),w.jsxs("div",{className:"preview-content",children:[v&&w.jsxs("div",{className:"flag-manager",children:[w.jsxs("div",{className:"flag-manager-header",children:[w.jsx("h4",{children:"Game State"}),w.jsx("button",{onClick:()=>{h(new Set),m(Object.fromEntries([...D].map($=>[$,0])))},className:"clear-flags-button",children:"Reset All"})]}),w.jsx("div",{className:"state-list",children:D.length>0&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"state-section-header",children:"State Values"}),D.map($=>w.jsxs("div",{className:`state-item ${$==="jonas_weight"?"variable-item":""}`,children:[w.jsx("span",{className:"state-name",children:$}),w.jsx("input",{type:"number",value:g[$]??0,onChange:B=>m(W=>({...W,[$]:Number(B.target.value)})),className:"state-input"})]},$))]})}),w.jsx("div",{className:"flag-list",children:M.map($=>w.jsxs("label",{className:"flag-item",children:[w.jsx("input",{type:"checkbox",checked:p.has($),onChange:()=>b($)}),w.jsx("span",{className:"flag-name",children:$})]},$))})]}),w.jsxs("div",{className:"character-portrait-container",children:[w.jsx("img",{className:"character-portrait",src:Q,alt:`${(q==null?void 0:q.speaker)||"Unknown"} - ${(q==null?void 0:q.emotion)||"default"}`,onError:$=>{var x,L;const B=$.target,W=B.src;if(!E.has(W)){C(U=>new Set([...U,W]));const z=n.characters[q.character];((x=z==null?void 0:z.portraits)==null?void 0:x.default)!==W&&(B.src=(L=z==null?void 0:z.portraits)==null?void 0:L.default)}}}),w.jsxs("div",{className:"character-portrait-info",children:[w.jsx("div",{className:"character-portrait-name",children:q==null?void 0:q.speaker}),((Z=c[c.length-1])==null?void 0:Z.emotion)&&w.jsx("div",{className:"character-portrait-emotion",children:c[c.length-1].emotion})]})]}),w.jsxs("div",{className:"dialogue-container",children:[w.jsxs("div",{className:"messages-container",children:[c.map(($,B)=>{const W=Sp($.text,g);return w.jsxs("div",{className:`message ${$.isPlayer?"player":"npc"}`,children:[w.jsx("div",{className:"message-speaker",children:$.speaker}),w.jsx("div",{className:"message-text",children:w.jsx(di,{text:W})})]},B)}),w.jsx("div",{ref:_})," "]}),w.jsx("div",{className:"choices-container",children:(H=q==null?void 0:q.choices)==null?void 0:H.map($=>{const B=q1($,p,g),W=B?"":U1($,p),x=Sp($.text,g);return w.jsxs("button",{onClick:()=>B&&te($),className:`choice-button ${B?"":"locked"}`,disabled:!n.nodes[$.nextNodeId],title:W,children:[!B&&w.jsx("span",{className:"lock-icon",children:"🔒"}),w.jsx("div",{className:"choice-text",children:w.jsx(di,{text:x})})]},$.id)})}),w.jsx("div",{className:"preview-footer",children:w.jsx("button",{onClick:G,className:"reset-button",children:"Reset Conversation"})})]})]})]})})},W1=n=>`[gd_resource type="Resource" script_class="DialogueTree" load_steps=2 format=3]

[ext_resource type="Script" path="res://addons/dialogue_tree/dialogue_tree.gd" id="1_script"]

[resource]
script = ExtResource("1_script")
name = "${n.name}"
characters = {
${Object.entries(n.characters).map(([o,i])=>`
"${o}": {
  "name": "${i.name}",
  "default_emotion": "${i.defaultEmotion}",
  "portraits": {
    ${Object.entries(i.portraits).map(([l,a])=>`"${l}": "${a.replace(/^\//,"res://")}"`).join(`,
    `)}
  }
}`).join(`,
`)}
}
start_node_id = "${n.startNodeId}"
nodes = {
${Object.entries(n.nodes).map(([o,i])=>`
"${o}": {
  "id": "${i.id}",
  "character": "${i.character}",
  "speaker": "${i.speaker}",
  "text": "${i.text.replace(/"/g,'\\"')}",
  "emotion": "${i.emotion||"default"}",
  ${i.alternateTexts?`"alternate_texts": [
    ${i.alternateTexts.map(l=>`{
      "text": "${l.text.replace(/"/g,'\\"')}",
      "emotion": "${l.emotion||"default"}",
      ${l.prerequisites?`"prerequisites": ${JSON.stringify(l.prerequisites)}`:""}
    }`).join(`,
    `)}
  ],`:""}
  "choices": [
    ${i.choices.map(l=>`{
      "id": "${l.id}",
      "text": "${l.text.replace(/"/g,'\\"')}",
      "next_node_id": "${l.nextNodeId}",
      ${l.prerequisites?`"prerequisites": ${JSON.stringify(l.prerequisites)},`:""}
      ${l.alternateDestinations?`"alternate_destinations": ${JSON.stringify(l.alternateDestinations)},`:""}
      ${l.flagChanges?`"flag_changes": ${JSON.stringify(l.flagChanges)},`:""}
      ${l.stateChanges?`"state_changes": ${JSON.stringify(l.stateChanges)}`:""}
    }`).join(`,
    `)}
  ]
}`).join(`,
`)}
}`,Xh=async(n,o,i)=>{try{const a=await(await window.showSaveFilePicker({suggestedName:o,...i})).createWritable();await a.write(n),await a.close()}catch(l){if(l instanceof Error&&l.name!=="AbortError"){console.error("Error saving file:",l);const a=document.createElement("a"),c=new Blob([n],{type:"text/plain"});a.href=URL.createObjectURL(c),a.download=o,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},Y1=async n=>{const o=W1(n),i=`${n.name.toLowerCase().replace(/\s+/g,"_")}.tres`;await Xh(o,i,{types:[{description:"Godot Resource",accept:{"application/tres":[".tres"]}}]})},X1=async()=>{try{const o=await(await fetch("/src/assets/dialogueTree.gd")).text();await Xh(o,"dialogue_tree.gd",{types:[{description:"GDScript File",accept:{"text/x-gdscript":[".gd"]}}]})}catch(n){console.error("Error downloading script:",n)}},G1=({dialogueTree:n,isOpen:o,onClose:i,onUpdate:l})=>{const[a,c]=V.useState(n.characters),[d,p]=V.useState(""),[h,g]=V.useState("");V.useEffect(()=>{o&&c(n.characters)},[o,n.characters]);const m=()=>{const P=`character_${Date.now()}`;c(M=>({...M,[P]:{name:"New Character",defaultEmotion:"default",portraits:{default:"/characters/default/default.png"}}}))},v=(P,M)=>{c(D=>({...D,[P]:{...D[P],...M}}))},S=P=>{!d||!h||(c(M=>({...M,[P]:{...M[P],portraits:{...M[P].portraits,[d]:h}}})),p(""),g(""))},E=P=>{c(M=>{const D={...M};return delete D[P],D})},C=()=>{l({...n,characters:a}),i()},_=()=>{c(n.characters),i()};return o?w.jsx("div",{className:"modal-overlay",children:w.jsxs("div",{className:"character-manager-modal",children:[w.jsxs("div",{className:"character-manager-header",children:[w.jsx("h3",{children:"Character Manager"}),w.jsx("button",{onClick:_,className:"close-button",children:"×"})]}),w.jsxs("div",{className:"character-manager-content",children:[w.jsx("button",{onClick:m,className:"add-character-button",children:"Add Character"}),w.jsx("div",{className:"character-list",children:Object.entries(a).map(([P,M])=>w.jsxs("div",{className:"character-item",children:[w.jsxs("div",{className:"character-header",children:[w.jsx("input",{type:"text",value:M.name,onChange:D=>v(P,{name:D.target.value}),className:"character-name-input"}),w.jsx("select",{value:M.defaultEmotion,onChange:D=>v(P,{defaultEmotion:D.target.value}),className:"default-emotion-select",children:Object.keys(M.portraits).map(D=>w.jsx("option",{value:D,children:D},D))}),w.jsx("button",{onClick:()=>E(P),className:"delete-character-button",title:"Delete Character",children:"🗑️"})]}),w.jsxs("div",{className:"portrait-list",children:[Object.entries(M.portraits).map(([D,b])=>w.jsxs("div",{className:"portrait-item",children:[w.jsx("span",{className:"portrait-emotion",children:D}),w.jsx("input",{type:"text",value:b,onChange:R=>v(P,{portraits:{...M.portraits,[D]:R.target.value}}),className:"portrait-url-input"})]},D)),w.jsxs("div",{className:"add-portrait",children:[w.jsx("input",{type:"text",value:d,onChange:D=>p(D.target.value),placeholder:"Emotion name...",className:"new-emotion-input"}),w.jsx("input",{type:"text",value:h,onChange:D=>g(D.target.value),placeholder:"Portrait URL...",className:"new-url-input"}),w.jsx("button",{onClick:()=>S(P),className:"add-portrait-button",children:"Add Portrait"})]})]})]},P))})]}),w.jsxs("div",{className:"character-manager-footer",children:[w.jsx("button",{onClick:_,className:"cancel-button",children:"Cancel"}),w.jsx("button",{onClick:C,className:"save-button",children:"Save Changes"})]})]})}):null},hu="dialogue_tree_data",K1=()=>{var te,Z,H,$;const[n,o]=V.useState(null),[i,l]=V.useState(null),[a,c]=V.useState(!1),[d,p]=V.useState(!1),[h,g]=V.useState(!1),[m,v]=V.useState(""),[S]=V.useState(Fg()),[E,C]=V.useState(((te=S[0])==null?void 0:te.path)||""),[_,P]=V.useState(!1);V.useEffect(()=>{const B=localStorage.getItem(hu);if(B)try{o(JSON.parse(B))}catch(W){console.error("Error loading saved data:",W),Q()}else Q()},[]),V.useEffect(()=>{n&&localStorage.setItem(hu,JSON.stringify(n))},[n]);const M=async()=>{if(!n)return;const B=JSON.stringify(n,null,2),W=`${n.name}.json`;try{if("showSaveFilePicker"in window){const L=await(await window.showSaveFilePicker({suggestedName:W,types:[{description:"JSON File",accept:{"application/json":[".json"]}}]})).createWritable();await L.write(B),await L.close()}else throw new Error("File system API not supported")}catch(x){if(x&&typeof x=="object"&&"name"in x&&x.name!=="AbortError"){console.error("Error saving file:",x);const L=document.createElement("a"),z=new Blob([B],{type:"application/json"});L.href=URL.createObjectURL(z),L.download=W,document.body.appendChild(L),L.click(),document.body.removeChild(L)}}},D=B=>{var x;const W=(x=B.target.files)==null?void 0:x[0];if(W){if(window.confirm("Loading a file will discard any unsaved changes. Continue?")){const L=new FileReader;L.onload=z=>{var U;try{const A=(U=z.target)==null?void 0:U.result,j=JSON.parse(A);o(j),localStorage.removeItem(hu)}catch(A){console.error("Error loading dialogue tree:",A)}},L.readAsText(W)}B.target.value=""}},b=()=>{var B,W,x;if(n){if(!n.characters.default){o({...n,characters:{...n.characters,default:{name:"Default",defaultEmotion:"default",portraits:{default:"/characters/default/default.webp"}}}});return}h?(o({...n,characters:{...n.characters,default:{...n.characters.default,portraits:{...n.characters.default.portraits,default:m}}}}),g(!1)):(v(((x=(W=(B=n==null?void 0:n.characters)==null?void 0:B.default)==null?void 0:W.portraits)==null?void 0:x.default)||"/characters/default/default.webp"),g(!0))}},R=B=>{l(B),c(!0)},G=B=>{if(console.log("DialogueEditor handleNodeSave called"),console.log("DialogueEditor handleNodeSave - before:",n==null?void 0:n.nodes[B.id]),console.log("DialogueEditor handleNodeSave - update:",B),!n)return;const W={...n,nodes:{...n.nodes,[B.id]:{...B}}};console.log("DialogueEditor handleNodeSave - after:",W.nodes[B.id]),o(W),l(null),c(!1)},q=B=>{if(!n)return;const W={id:B,character:Object.keys(n.characters)[0],speaker:n.characters[Object.keys(n.characters)[0]].name,text:"New dialogue node",choices:[{id:`choice_${Date.now()}`,text:"Continue",nextNodeId:""}]};o(x=>x&&{...x,nodes:{...x.nodes,[B]:W}})},Q=async()=>{try{const B=S.find(W=>W.path===E);if(B){const x=await(await fetch(B.path)).json();x.characters||(x.characters={default:{name:"Default",defaultEmotion:"default",portraits:{default:"/characters/default/default.webp"}}}),o(x)}}catch(B){console.error("Error loading template:",B),o({name:"New Dialogue",characters:{default:{name:"Default",defaultEmotion:"default",portraits:{default:"/characters/default/default.webp"}}},startNodeId:"start",nodes:{}})}};return n?w.jsxs("div",{className:"dialogue-editor",children:[w.jsx("div",{className:"editor-header",children:w.jsxs("div",{className:"editor-controls",children:[w.jsx("select",{value:E,onChange:B=>C(B.target.value),className:"template-select",children:S.map(B=>w.jsx("option",{value:B.path,children:B.name},B.path))}),w.jsx("button",{onClick:Q,className:"template-button",children:"New from Template"}),w.jsx("div",{className:"editor-controls-divider"}),w.jsxs("div",{className:"picture-edit-container",children:[h?w.jsx("input",{type:"text",value:m,onChange:B=>v(B.target.value),placeholder:"Character picture URL...",className:"picture-url-input"}):w.jsx("span",{className:"current-picture",children:(($=(H=(Z=n==null?void 0:n.characters)==null?void 0:Z.default)==null?void 0:H.portraits)==null?void 0:$.default)||"No picture set"}),w.jsx("button",{onClick:b,className:"picture-edit-button",children:h?"Save":"Edit Picture"})]}),w.jsx("div",{className:"editor-controls-divider"}),w.jsx("button",{onClick:M,className:"save-button",children:"Save"}),w.jsx("input",{type:"file",accept:".json",onChange:D,style:{display:"none"},id:"load-file"}),w.jsx("label",{htmlFor:"load-file",className:"load-button",children:"Load"}),w.jsx("button",{onClick:()=>p(!0),className:"preview-button",children:"Preview"}),w.jsx("button",{onClick:()=>Y1(n),className:"export-button",children:"Export Resource"}),w.jsx("button",{onClick:X1,className:"export-button",children:"Export Script"}),w.jsx("button",{onClick:()=>P(!0),className:"character-manager-button",children:"👥 Characters"})]})}),w.jsx("div",{className:"editor-content",children:w.jsx(V1,{dialogueTree:n,onNodeSelect:R,onCreateNode:q,onUpdate:B=>{console.log("DialogueEditor onUpdate called with:",B),o(B)}})}),i&&w.jsx(Wh,{node:i,dialogueTree:n,isOpen:a,onClose:()=>c(!1),onSave:G,availableNodes:Object.keys(n.nodes),onCreateNode:q}),w.jsx(b1,{dialogueTree:n,isOpen:d,onClose:()=>p(!1)}),w.jsx(G1,{dialogueTree:n,isOpen:_,onClose:()=>P(!1),onUpdate:o})]}):w.jsx("div",{children:"Loading..."})};function Q1(){return w.jsx(Ag,{children:w.jsxs("div",{className:"App",children:[w.jsx("header",{children:w.jsx("h1",{children:"Dialogue Tree Editor"})}),w.jsxs("main",{children:[w.jsx(K1,{}),w.jsx(Lg,{})]})]})})}var bs={},Ep;function Z1(){if(Ep)return bs;Ep=1;var n=Jp();return bs.createRoot=n.createRoot,bs.hydrateRoot=n.hydrateRoot,bs}var J1=Z1();const eS=J1.createRoot(document.getElementById("root"));eS.render(w.jsx(Q1,{}));
