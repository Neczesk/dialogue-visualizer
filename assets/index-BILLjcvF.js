(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();function Nh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qa={exports:{}},Ko={},Za={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd;function Rg(){if(Sd)return ke;Sd=1;var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(x){return x===null||typeof x!="object"?null:(x=v&&x[v]||x["@@iterator"],typeof x=="function"?x:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,E={};function $(x,j,J){this.props=x,this.context=j,this.refs=E,this.updater=J||S}$.prototype.isReactComponent={},$.prototype.setState=function(x,j){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,j,"setState")},$.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function R(){}R.prototype=$.prototype;function b(x,j,J){this.props=x,this.context=j,this.refs=E,this.updater=J||S}var q=b.prototype=new R;q.constructor=b,M(q,$.prototype),q.isPureReactComponent=!0;var C=Array.isArray,V=Object.prototype.hasOwnProperty,L={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function Q(x,j,J){var X,ne={},re=null,ue=null;if(j!=null)for(X in j.ref!==void 0&&(ue=j.ref),j.key!==void 0&&(re=""+j.key),j)V.call(j,X)&&!U.hasOwnProperty(X)&&(ne[X]=j[X]);var he=arguments.length-2;if(he===1)ne.children=J;else if(1<he){for(var ve=Array(he),Se=0;Se<he;Se++)ve[Se]=arguments[Se+2];ne.children=ve}if(x&&x.defaultProps)for(X in he=x.defaultProps,he)ne[X]===void 0&&(ne[X]=he[X]);return{$$typeof:n,type:x,key:re,ref:ue,props:ne,_owner:L.current}}function Y(x,j){return{$$typeof:n,type:x.type,key:j,ref:x.ref,props:x.props,_owner:x._owner}}function K(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function Z(x){var j={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(J){return j[J]})}var oe=/\/+/g;function te(x,j){return typeof x=="object"&&x!==null&&x.key!=null?Z(""+x.key):j.toString(36)}function k(x,j,J,X,ne){var re=typeof x;(re==="undefined"||re==="boolean")&&(x=null);var ue=!1;if(x===null)ue=!0;else switch(re){case"string":case"number":ue=!0;break;case"object":switch(x.$$typeof){case n:case o:ue=!0}}if(ue)return ue=x,ne=ne(ue),x=X===""?"."+te(ue,0):X,C(ne)?(J="",x!=null&&(J=x.replace(oe,"$&/")+"/"),k(ne,j,J,"",function(Se){return Se})):ne!=null&&(K(ne)&&(ne=Y(ne,J+(!ne.key||ue&&ue.key===ne.key?"":(""+ne.key).replace(oe,"$&/")+"/")+x)),j.push(ne)),1;if(ue=0,X=X===""?".":X+":",C(x))for(var he=0;he<x.length;he++){re=x[he];var ve=X+te(re,he);ue+=k(re,j,J,ve,ne)}else if(ve=w(x),typeof ve=="function")for(x=ve.call(x),he=0;!(re=x.next()).done;)re=re.value,ve=X+te(re,he++),ue+=k(re,j,J,ve,ne);else if(re==="object")throw j=String(x),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return ue}function T(x,j,J){if(x==null)return x;var X=[],ne=0;return k(x,X,"","",function(re){return j.call(J,re,ne++)}),X}function I(x){if(x._status===-1){var j=x._result;j=j(),j.then(function(J){(x._status===0||x._status===-1)&&(x._status=1,x._result=J)},function(J){(x._status===0||x._status===-1)&&(x._status=2,x._result=J)}),x._status===-1&&(x._status=0,x._result=j)}if(x._status===1)return x._result.default;throw x._result}var O={current:null},A={transition:null},N={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:A,ReactCurrentOwner:L};function z(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:T,forEach:function(x,j,J){T(x,function(){j.apply(this,arguments)},J)},count:function(x){var j=0;return T(x,function(){j++}),j},toArray:function(x){return T(x,function(j){return j})||[]},only:function(x){if(!K(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ke.Component=$,ke.Fragment=i,ke.Profiler=a,ke.PureComponent=b,ke.StrictMode=l,ke.Suspense=p,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,ke.act=z,ke.cloneElement=function(x,j,J){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var X=M({},x.props),ne=x.key,re=x.ref,ue=x._owner;if(j!=null){if(j.ref!==void 0&&(re=j.ref,ue=L.current),j.key!==void 0&&(ne=""+j.key),x.type&&x.type.defaultProps)var he=x.type.defaultProps;for(ve in j)V.call(j,ve)&&!U.hasOwnProperty(ve)&&(X[ve]=j[ve]===void 0&&he!==void 0?he[ve]:j[ve])}var ve=arguments.length-2;if(ve===1)X.children=J;else if(1<ve){he=Array(ve);for(var Se=0;Se<ve;Se++)he[Se]=arguments[Se+2];X.children=he}return{$$typeof:n,type:x.type,key:ne,ref:re,props:X,_owner:ue}},ke.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:c,_context:x},x.Consumer=x},ke.createElement=Q,ke.createFactory=function(x){var j=Q.bind(null,x);return j.type=x,j},ke.createRef=function(){return{current:null}},ke.forwardRef=function(x){return{$$typeof:h,render:x}},ke.isValidElement=K,ke.lazy=function(x){return{$$typeof:m,_payload:{_status:-1,_result:x},_init:I}},ke.memo=function(x,j){return{$$typeof:g,type:x,compare:j===void 0?null:j}},ke.startTransition=function(x){var j=A.transition;A.transition={};try{x()}finally{A.transition=j}},ke.unstable_act=z,ke.useCallback=function(x,j){return O.current.useCallback(x,j)},ke.useContext=function(x){return O.current.useContext(x)},ke.useDebugValue=function(){},ke.useDeferredValue=function(x){return O.current.useDeferredValue(x)},ke.useEffect=function(x,j){return O.current.useEffect(x,j)},ke.useId=function(){return O.current.useId()},ke.useImperativeHandle=function(x,j,J){return O.current.useImperativeHandle(x,j,J)},ke.useInsertionEffect=function(x,j){return O.current.useInsertionEffect(x,j)},ke.useLayoutEffect=function(x,j){return O.current.useLayoutEffect(x,j)},ke.useMemo=function(x,j){return O.current.useMemo(x,j)},ke.useReducer=function(x,j,J){return O.current.useReducer(x,j,J)},ke.useRef=function(x){return O.current.useRef(x)},ke.useState=function(x){return O.current.useState(x)},ke.useSyncExternalStore=function(x,j,J){return O.current.useSyncExternalStore(x,j,J)},ke.useTransition=function(){return O.current.useTransition()},ke.version="18.3.1",ke}var _d;function hi(){return _d||(_d=1,Za.exports=Rg()),Za.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd;function Dg(){if(kd)return Ko;kd=1;var n=hi(),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var m,v={},w=null,S=null;g!==void 0&&(w=""+g),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(S=p.ref);for(m in p)l.call(p,m)&&!c.hasOwnProperty(m)&&(v[m]=p[m]);if(h&&h.defaultProps)for(m in p=h.defaultProps,p)v[m]===void 0&&(v[m]=p[m]);return{$$typeof:o,type:h,key:w,ref:S,props:v,_owner:a.current}}return Ko.Fragment=i,Ko.jsx=d,Ko.jsxs=d,Ko}var Ed;function Ag(){return Ed||(Ed=1,Qa.exports=Dg()),Qa.exports}var _=Ag(),H=hi();const ee=Nh(H),Ch=H.createContext({theme:"light",toggleTheme:()=>{}}),Lg=()=>H.useContext(Ch),Fg=({children:n})=>{const[o,i]=H.useState("light");H.useEffect(()=>{const a=localStorage.getItem("theme");if(a)i(a);else{const c=window.matchMedia("(prefers-color-scheme: dark)").matches;i(c?"dark":"light")}},[]),H.useEffect(()=>{document.documentElement.setAttribute("data-theme",o),localStorage.setItem("theme",o)},[o]);const l=()=>{i(a=>a==="light"?"dark":"light")};return _.jsx(Ch.Provider,{value:{theme:o,toggleTheme:l},children:n})},Og=()=>{const{theme:n,toggleTheme:o}=Lg();return _.jsx("button",{onClick:o,className:"theme-toggle",title:`Switch to ${n==="light"?"dark":"light"} theme`,children:n==="light"?"üåô":"‚òÄÔ∏è"})};function ut(n){if(typeof n=="string"||typeof n=="number")return""+n;let o="";if(Array.isArray(n))for(let i=0,l;i<n.length;i++)(l=ut(n[i]))!==""&&(o+=(o&&" ")+l);else for(let i in n)n[i]&&(o+=(o&&" ")+i);return o}var Ja={exports:{}},eu={},tu={exports:{}},nu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function Hg(){if(Nd)return nu;Nd=1;var n=hi();function o(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var i=typeof Object.is=="function"?Object.is:o,l=n.useState,a=n.useEffect,c=n.useLayoutEffect,d=n.useDebugValue;function h(v,w){var S=w(),M=l({inst:{value:S,getSnapshot:w}}),E=M[0].inst,$=M[1];return c(function(){E.value=S,E.getSnapshot=w,p(E)&&$({inst:E})},[v,S,w]),a(function(){return p(E)&&$({inst:E}),v(function(){p(E)&&$({inst:E})})},[v]),d(S),S}function p(v){var w=v.getSnapshot;v=v.value;try{var S=w();return!i(v,S)}catch{return!0}}function g(v,w){return w()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:h;return nu.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,nu}var Cd;function bg(){return Cd||(Cd=1,tu.exports=Hg()),tu.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function qg(){if(Id)return eu;Id=1;var n=hi(),o=bg();function i(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var l=typeof Object.is=="function"?Object.is:i,a=o.useSyncExternalStore,c=n.useRef,d=n.useEffect,h=n.useMemo,p=n.useDebugValue;return eu.useSyncExternalStoreWithSelector=function(g,m,v,w,S){var M=c(null);if(M.current===null){var E={hasValue:!1,value:null};M.current=E}else E=M.current;M=h(function(){function R(L){if(!b){if(b=!0,q=L,L=w(L),S!==void 0&&E.hasValue){var U=E.value;if(S(U,L))return C=U}return C=L}if(U=C,l(q,L))return U;var Q=w(L);return S!==void 0&&S(U,Q)?(q=L,U):(q=L,C=Q)}var b=!1,q,C,V=v===void 0?null:v;return[function(){return R(m())},V===null?void 0:function(){return R(V())}]},[m,v,w,S]);var $=a(g,M[0],M[1]);return d(function(){E.hasValue=!0,E.value=$},[$]),p($),$},eu}var Td;function Vg(){return Td||(Td=1,Ja.exports=qg()),Ja.exports}var Bg=Vg();const Ug=Nh(Bg),Pd=n=>{let o;const i=new Set,l=(m,v)=>{const w=typeof m=="function"?m(o):m;if(!Object.is(w,o)){const S=o;o=v??(typeof w!="object"||w===null)?w:Object.assign({},o,w),i.forEach(M=>M(o,S))}},a=()=>o,p={setState:l,getState:a,getInitialState:()=>g,subscribe:m=>(i.add(m),()=>i.delete(m)),destroy:()=>{i.clear()}},g=o=n(l,a,p);return p},Wg=n=>n?Pd(n):Pd,{useDebugValue:Gg}=ee,{useSyncExternalStoreWithSelector:Yg}=Ug,Xg=n=>n;function Ih(n,o=Xg,i){const l=Yg(n.subscribe,n.getState,n.getServerState||n.getInitialState,o,i);return Gg(l),l}const Md=(n,o)=>{const i=Wg(n),l=(a,c=o)=>Ih(i,a,c);return Object.assign(l,i),l},Kg=(n,o)=>n?Md(n,o):Md;function st(n,o){if(Object.is(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;if(n instanceof Map&&o instanceof Map){if(n.size!==o.size)return!1;for(const[l,a]of n)if(!Object.is(a,o.get(l)))return!1;return!0}if(n instanceof Set&&o instanceof Set){if(n.size!==o.size)return!1;for(const l of n)if(!o.has(l))return!1;return!0}const i=Object.keys(n);if(i.length!==Object.keys(o).length)return!1;for(const l of i)if(!Object.prototype.hasOwnProperty.call(o,l)||!Object.is(n[l],o[l]))return!1;return!0}var Qg={value:()=>{}};function sl(){for(var n=0,o=arguments.length,i={},l;n<o;++n){if(!(l=arguments[n]+"")||l in i||/[\s.]/.test(l))throw new Error("illegal type: "+l);i[l]=[]}return new Ys(i)}function Ys(n){this._=n}function Zg(n,o){return n.trim().split(/^|\s+/).map(function(i){var l="",a=i.indexOf(".");if(a>=0&&(l=i.slice(a+1),i=i.slice(0,a)),i&&!o.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:l}})}Ys.prototype=sl.prototype={constructor:Ys,on:function(n,o){var i=this._,l=Zg(n+"",i),a,c=-1,d=l.length;if(arguments.length<2){for(;++c<d;)if((a=(n=l[c]).type)&&(a=Jg(i[a],n.name)))return a;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++c<d;)if(a=(n=l[c]).type)i[a]=zd(i[a],n.name,o);else if(o==null)for(a in i)i[a]=zd(i[a],n.name,null);return this},copy:function(){var n={},o=this._;for(var i in o)n[i]=o[i].slice();return new Ys(n)},call:function(n,o){if((a=arguments.length-2)>0)for(var i=new Array(a),l=0,a,c;l<a;++l)i[l]=arguments[l+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(c=this._[n],l=0,a=c.length;l<a;++l)c[l].value.apply(o,i)},apply:function(n,o,i){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var l=this._[n],a=0,c=l.length;a<c;++a)l[a].value.apply(o,i)}};function Jg(n,o){for(var i=0,l=n.length,a;i<l;++i)if((a=n[i]).name===o)return a.value}function zd(n,o,i){for(var l=0,a=n.length;l<a;++l)if(n[l].name===o){n[l]=Qg,n=n.slice(0,l).concat(n.slice(l+1));break}return i!=null&&n.push({name:o,value:i}),n}var gu="http://www.w3.org/1999/xhtml";const jd={svg:"http://www.w3.org/2000/svg",xhtml:gu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ll(n){var o=n+="",i=o.indexOf(":");return i>=0&&(o=n.slice(0,i))!=="xmlns"&&(n=n.slice(i+1)),jd.hasOwnProperty(o)?{space:jd[o],local:n}:n}function ey(n){return function(){var o=this.ownerDocument,i=this.namespaceURI;return i===gu&&o.documentElement.namespaceURI===gu?o.createElement(n):o.createElementNS(i,n)}}function ty(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Th(n){var o=ll(n);return(o.local?ty:ey)(o)}function ny(){}function ju(n){return n==null?ny:function(){return this.querySelector(n)}}function ry(n){typeof n!="function"&&(n=ju(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,h=l[a]=new Array(d),p,g,m=0;m<d;++m)(p=c[m])&&(g=n.call(p,p.__data__,m,c))&&("__data__"in p&&(g.__data__=p.__data__),h[m]=g);return new Ct(l,this._parents)}function oy(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function iy(){return[]}function Ph(n){return n==null?iy:function(){return this.querySelectorAll(n)}}function sy(n){return function(){return oy(n.apply(this,arguments))}}function ly(n){typeof n=="function"?n=sy(n):n=Ph(n);for(var o=this._groups,i=o.length,l=[],a=[],c=0;c<i;++c)for(var d=o[c],h=d.length,p,g=0;g<h;++g)(p=d[g])&&(l.push(n.call(p,p.__data__,g,d)),a.push(p));return new Ct(l,a)}function Mh(n){return function(){return this.matches(n)}}function zh(n){return function(o){return o.matches(n)}}var ay=Array.prototype.find;function uy(n){return function(){return ay.call(this.children,n)}}function cy(){return this.firstElementChild}function fy(n){return this.select(n==null?cy:uy(typeof n=="function"?n:zh(n)))}var dy=Array.prototype.filter;function hy(){return Array.from(this.children)}function py(n){return function(){return dy.call(this.children,n)}}function my(n){return this.selectAll(n==null?hy:py(typeof n=="function"?n:zh(n)))}function gy(n){typeof n!="function"&&(n=Mh(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,h=l[a]=[],p,g=0;g<d;++g)(p=c[g])&&n.call(p,p.__data__,g,c)&&h.push(p);return new Ct(l,this._parents)}function jh(n){return new Array(n.length)}function yy(){return new Ct(this._enter||this._groups.map(jh),this._parents)}function Zs(n,o){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=o}Zs.prototype={constructor:Zs,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,o){return this._parent.insertBefore(n,o)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function vy(n){return function(){return n}}function xy(n,o,i,l,a,c){for(var d=0,h,p=o.length,g=c.length;d<g;++d)(h=o[d])?(h.__data__=c[d],l[d]=h):i[d]=new Zs(n,c[d]);for(;d<p;++d)(h=o[d])&&(a[d]=h)}function wy(n,o,i,l,a,c,d){var h,p,g=new Map,m=o.length,v=c.length,w=new Array(m),S;for(h=0;h<m;++h)(p=o[h])&&(w[h]=S=d.call(p,p.__data__,h,o)+"",g.has(S)?a[h]=p:g.set(S,p));for(h=0;h<v;++h)S=d.call(n,c[h],h,c)+"",(p=g.get(S))?(l[h]=p,p.__data__=c[h],g.delete(S)):i[h]=new Zs(n,c[h]);for(h=0;h<m;++h)(p=o[h])&&g.get(w[h])===p&&(a[h]=p)}function Sy(n){return n.__data__}function _y(n,o){if(!arguments.length)return Array.from(this,Sy);var i=o?wy:xy,l=this._parents,a=this._groups;typeof n!="function"&&(n=vy(n));for(var c=a.length,d=new Array(c),h=new Array(c),p=new Array(c),g=0;g<c;++g){var m=l[g],v=a[g],w=v.length,S=ky(n.call(m,m&&m.__data__,g,l)),M=S.length,E=h[g]=new Array(M),$=d[g]=new Array(M),R=p[g]=new Array(w);i(m,v,E,$,R,S,o);for(var b=0,q=0,C,V;b<M;++b)if(C=E[b]){for(b>=q&&(q=b+1);!(V=$[q])&&++q<M;);C._next=V||null}}return d=new Ct(d,l),d._enter=h,d._exit=p,d}function ky(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Ey(){return new Ct(this._exit||this._groups.map(jh),this._parents)}function Ny(n,o,i){var l=this.enter(),a=this,c=this.exit();return typeof n=="function"?(l=n(l),l&&(l=l.selection())):l=l.append(n+""),o!=null&&(a=o(a),a&&(a=a.selection())),i==null?c.remove():i(c),l&&a?l.merge(a).order():a}function Cy(n){for(var o=n.selection?n.selection():n,i=this._groups,l=o._groups,a=i.length,c=l.length,d=Math.min(a,c),h=new Array(a),p=0;p<d;++p)for(var g=i[p],m=l[p],v=g.length,w=h[p]=new Array(v),S,M=0;M<v;++M)(S=g[M]||m[M])&&(w[M]=S);for(;p<a;++p)h[p]=i[p];return new Ct(h,this._parents)}function Iy(){for(var n=this._groups,o=-1,i=n.length;++o<i;)for(var l=n[o],a=l.length-1,c=l[a],d;--a>=0;)(d=l[a])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function Ty(n){n||(n=Py);function o(v,w){return v&&w?n(v.__data__,w.__data__):!v-!w}for(var i=this._groups,l=i.length,a=new Array(l),c=0;c<l;++c){for(var d=i[c],h=d.length,p=a[c]=new Array(h),g,m=0;m<h;++m)(g=d[m])&&(p[m]=g);p.sort(o)}return new Ct(a,this._parents).order()}function Py(n,o){return n<o?-1:n>o?1:n>=o?0:NaN}function My(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function zy(){return Array.from(this)}function jy(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length;a<c;++a){var d=l[a];if(d)return d}return null}function $y(){let n=0;for(const o of this)++n;return n}function Ry(){return!this.node()}function Dy(n){for(var o=this._groups,i=0,l=o.length;i<l;++i)for(var a=o[i],c=0,d=a.length,h;c<d;++c)(h=a[c])&&n.call(h,h.__data__,c,a);return this}function Ay(n){return function(){this.removeAttribute(n)}}function Ly(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Fy(n,o){return function(){this.setAttribute(n,o)}}function Oy(n,o){return function(){this.setAttributeNS(n.space,n.local,o)}}function Hy(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttribute(n):this.setAttribute(n,i)}}function by(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,i)}}function qy(n,o){var i=ll(n);if(arguments.length<2){var l=this.node();return i.local?l.getAttributeNS(i.space,i.local):l.getAttribute(i)}return this.each((o==null?i.local?Ly:Ay:typeof o=="function"?i.local?by:Hy:i.local?Oy:Fy)(i,o))}function $h(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Vy(n){return function(){this.style.removeProperty(n)}}function By(n,o,i){return function(){this.style.setProperty(n,o,i)}}function Uy(n,o,i){return function(){var l=o.apply(this,arguments);l==null?this.style.removeProperty(n):this.style.setProperty(n,l,i)}}function Wy(n,o,i){return arguments.length>1?this.each((o==null?Vy:typeof o=="function"?Uy:By)(n,o,i??"")):so(this.node(),n)}function so(n,o){return n.style.getPropertyValue(o)||$h(n).getComputedStyle(n,null).getPropertyValue(o)}function Gy(n){return function(){delete this[n]}}function Yy(n,o){return function(){this[n]=o}}function Xy(n,o){return function(){var i=o.apply(this,arguments);i==null?delete this[n]:this[n]=i}}function Ky(n,o){return arguments.length>1?this.each((o==null?Gy:typeof o=="function"?Xy:Yy)(n,o)):this.node()[n]}function Rh(n){return n.trim().split(/^|\s+/)}function $u(n){return n.classList||new Dh(n)}function Dh(n){this._node=n,this._names=Rh(n.getAttribute("class")||"")}Dh.prototype={add:function(n){var o=this._names.indexOf(n);o<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var o=this._names.indexOf(n);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Ah(n,o){for(var i=$u(n),l=-1,a=o.length;++l<a;)i.add(o[l])}function Lh(n,o){for(var i=$u(n),l=-1,a=o.length;++l<a;)i.remove(o[l])}function Qy(n){return function(){Ah(this,n)}}function Zy(n){return function(){Lh(this,n)}}function Jy(n,o){return function(){(o.apply(this,arguments)?Ah:Lh)(this,n)}}function e0(n,o){var i=Rh(n+"");if(arguments.length<2){for(var l=$u(this.node()),a=-1,c=i.length;++a<c;)if(!l.contains(i[a]))return!1;return!0}return this.each((typeof o=="function"?Jy:o?Qy:Zy)(i,o))}function t0(){this.textContent=""}function n0(n){return function(){this.textContent=n}}function r0(n){return function(){var o=n.apply(this,arguments);this.textContent=o??""}}function o0(n){return arguments.length?this.each(n==null?t0:(typeof n=="function"?r0:n0)(n)):this.node().textContent}function i0(){this.innerHTML=""}function s0(n){return function(){this.innerHTML=n}}function l0(n){return function(){var o=n.apply(this,arguments);this.innerHTML=o??""}}function a0(n){return arguments.length?this.each(n==null?i0:(typeof n=="function"?l0:s0)(n)):this.node().innerHTML}function u0(){this.nextSibling&&this.parentNode.appendChild(this)}function c0(){return this.each(u0)}function f0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function d0(){return this.each(f0)}function h0(n){var o=typeof n=="function"?n:Th(n);return this.select(function(){return this.appendChild(o.apply(this,arguments))})}function p0(){return null}function m0(n,o){var i=typeof n=="function"?n:Th(n),l=o==null?p0:typeof o=="function"?o:ju(o);return this.select(function(){return this.insertBefore(i.apply(this,arguments),l.apply(this,arguments)||null)})}function g0(){var n=this.parentNode;n&&n.removeChild(this)}function y0(){return this.each(g0)}function v0(){var n=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function x0(){var n=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function w0(n){return this.select(n?x0:v0)}function S0(n){return arguments.length?this.property("__data__",n):this.node().__data__}function _0(n){return function(o){n.call(this,o,this.__data__)}}function k0(n){return n.trim().split(/^|\s+/).map(function(o){var i="",l=o.indexOf(".");return l>=0&&(i=o.slice(l+1),o=o.slice(0,l)),{type:o,name:i}})}function E0(n){return function(){var o=this.__on;if(o){for(var i=0,l=-1,a=o.length,c;i<a;++i)c=o[i],(!n.type||c.type===n.type)&&c.name===n.name?this.removeEventListener(c.type,c.listener,c.options):o[++l]=c;++l?o.length=l:delete this.__on}}}function N0(n,o,i){return function(){var l=this.__on,a,c=_0(o);if(l){for(var d=0,h=l.length;d<h;++d)if((a=l[d]).type===n.type&&a.name===n.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=c,a.options=i),a.value=o;return}}this.addEventListener(n.type,c,i),a={type:n.type,name:n.name,value:o,listener:c,options:i},l?l.push(a):this.__on=[a]}}function C0(n,o,i){var l=k0(n+""),a,c=l.length,d;if(arguments.length<2){var h=this.node().__on;if(h){for(var p=0,g=h.length,m;p<g;++p)for(a=0,m=h[p];a<c;++a)if((d=l[a]).type===m.type&&d.name===m.name)return m.value}return}for(h=o?N0:E0,a=0;a<c;++a)this.each(h(l[a],o,i));return this}function Fh(n,o,i){var l=$h(n),a=l.CustomEvent;typeof a=="function"?a=new a(o,i):(a=l.document.createEvent("Event"),i?(a.initEvent(o,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(o,!1,!1)),n.dispatchEvent(a)}function I0(n,o){return function(){return Fh(this,n,o)}}function T0(n,o){return function(){return Fh(this,n,o.apply(this,arguments))}}function P0(n,o){return this.each((typeof o=="function"?T0:I0)(n,o))}function*M0(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length,d;a<c;++a)(d=l[a])&&(yield d)}var Oh=[null];function Ct(n,o){this._groups=n,this._parents=o}function pi(){return new Ct([[document.documentElement]],Oh)}function z0(){return this}Ct.prototype=pi.prototype={constructor:Ct,select:ry,selectAll:ly,selectChild:fy,selectChildren:my,filter:gy,data:_y,enter:yy,exit:Ey,join:Ny,merge:Cy,selection:z0,order:Iy,sort:Ty,call:My,nodes:zy,node:jy,size:$y,empty:Ry,each:Dy,attr:qy,style:Wy,property:Ky,classed:e0,text:o0,html:a0,raise:c0,lower:d0,append:h0,insert:m0,remove:y0,clone:w0,datum:S0,on:C0,dispatch:P0,[Symbol.iterator]:M0};function Gt(n){return typeof n=="string"?new Ct([[document.querySelector(n)]],[document.documentElement]):new Ct([[n]],Oh)}function j0(n){let o;for(;o=n.sourceEvent;)n=o;return n}function an(n,o){if(n=j0(n),o===void 0&&(o=n.currentTarget),o){var i=o.ownerSVGElement||o;if(i.createSVGPoint){var l=i.createSVGPoint();return l.x=n.clientX,l.y=n.clientY,l=l.matrixTransform(o.getScreenCTM().inverse()),[l.x,l.y]}if(o.getBoundingClientRect){var a=o.getBoundingClientRect();return[n.clientX-a.left-o.clientLeft,n.clientY-a.top-o.clientTop]}}return[n.pageX,n.pageY]}const $0={passive:!1},ii={capture:!0,passive:!1};function ru(n){n.stopImmediatePropagation()}function no(n){n.preventDefault(),n.stopImmediatePropagation()}function Hh(n){var o=n.document.documentElement,i=Gt(n).on("dragstart.drag",no,ii);"onselectstart"in o?i.on("selectstart.drag",no,ii):(o.__noselect=o.style.MozUserSelect,o.style.MozUserSelect="none")}function bh(n,o){var i=n.document.documentElement,l=Gt(n).on("dragstart.drag",null);o&&(l.on("click.drag",no,ii),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in i?l.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const As=n=>()=>n;function yu(n,{sourceEvent:o,subject:i,target:l,identifier:a,active:c,x:d,y:h,dx:p,dy:g,dispatch:m}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:h,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:m}})}yu.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function R0(n){return!n.ctrlKey&&!n.button}function D0(){return this.parentNode}function A0(n,o){return o??{x:n.x,y:n.y}}function L0(){return navigator.maxTouchPoints||"ontouchstart"in this}function F0(){var n=R0,o=D0,i=A0,l=L0,a={},c=sl("start","drag","end"),d=0,h,p,g,m,v=0;function w(C){C.on("mousedown.drag",S).filter(l).on("touchstart.drag",$).on("touchmove.drag",R,$0).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(C,V){if(!(m||!n.call(this,C,V))){var L=q(this,o.call(this,C,V),C,V,"mouse");L&&(Gt(C.view).on("mousemove.drag",M,ii).on("mouseup.drag",E,ii),Hh(C.view),ru(C),g=!1,h=C.clientX,p=C.clientY,L("start",C))}}function M(C){if(no(C),!g){var V=C.clientX-h,L=C.clientY-p;g=V*V+L*L>v}a.mouse("drag",C)}function E(C){Gt(C.view).on("mousemove.drag mouseup.drag",null),bh(C.view,g),no(C),a.mouse("end",C)}function $(C,V){if(n.call(this,C,V)){var L=C.changedTouches,U=o.call(this,C,V),Q=L.length,Y,K;for(Y=0;Y<Q;++Y)(K=q(this,U,C,V,L[Y].identifier,L[Y]))&&(ru(C),K("start",C,L[Y]))}}function R(C){var V=C.changedTouches,L=V.length,U,Q;for(U=0;U<L;++U)(Q=a[V[U].identifier])&&(no(C),Q("drag",C,V[U]))}function b(C){var V=C.changedTouches,L=V.length,U,Q;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),U=0;U<L;++U)(Q=a[V[U].identifier])&&(ru(C),Q("end",C,V[U]))}function q(C,V,L,U,Q,Y){var K=c.copy(),Z=an(Y||L,V),oe,te,k;if((k=i.call(C,new yu("beforestart",{sourceEvent:L,target:w,identifier:Q,active:d,x:Z[0],y:Z[1],dx:0,dy:0,dispatch:K}),U))!=null)return oe=k.x-Z[0]||0,te=k.y-Z[1]||0,function T(I,O,A){var N=Z,z;switch(I){case"start":a[Q]=T,z=d++;break;case"end":delete a[Q],--d;case"drag":Z=an(A||O,V),z=d;break}K.call(I,C,new yu(I,{sourceEvent:O,subject:k,target:w,identifier:Q,active:z,x:Z[0]+oe,y:Z[1]+te,dx:Z[0]-N[0],dy:Z[1]-N[1],dispatch:K}),U)}}return w.filter=function(C){return arguments.length?(n=typeof C=="function"?C:As(!!C),w):n},w.container=function(C){return arguments.length?(o=typeof C=="function"?C:As(C),w):o},w.subject=function(C){return arguments.length?(i=typeof C=="function"?C:As(C),w):i},w.touchable=function(C){return arguments.length?(l=typeof C=="function"?C:As(!!C),w):l},w.on=function(){var C=c.on.apply(c,arguments);return C===c?w:C},w.clickDistance=function(C){return arguments.length?(v=(C=+C)*C,w):Math.sqrt(v)},w}function Ru(n,o,i){n.prototype=o.prototype=i,i.constructor=n}function qh(n,o){var i=Object.create(n.prototype);for(var l in o)i[l]=o[l];return i}function mi(){}var si=.7,Js=1/si,ro="\\s*([+-]?\\d+)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O0=/^#([0-9a-f]{3,8})$/,H0=new RegExp(`^rgb\\(${ro},${ro},${ro}\\)$`),b0=new RegExp(`^rgb\\(${un},${un},${un}\\)$`),q0=new RegExp(`^rgba\\(${ro},${ro},${ro},${li}\\)$`),V0=new RegExp(`^rgba\\(${un},${un},${un},${li}\\)$`),B0=new RegExp(`^hsl\\(${li},${un},${un}\\)$`),U0=new RegExp(`^hsla\\(${li},${un},${un},${li}\\)$`),$d={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ru(mi,ai,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Rd,formatHex:Rd,formatHex8:W0,formatHsl:G0,formatRgb:Dd,toString:Dd});function Rd(){return this.rgb().formatHex()}function W0(){return this.rgb().formatHex8()}function G0(){return Vh(this).formatHsl()}function Dd(){return this.rgb().formatRgb()}function ai(n){var o,i;return n=(n+"").trim().toLowerCase(),(o=O0.exec(n))?(i=o[1].length,o=parseInt(o[1],16),i===6?Ad(o):i===3?new yt(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):i===8?Ls(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):i===4?Ls(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=H0.exec(n))?new yt(o[1],o[2],o[3],1):(o=b0.exec(n))?new yt(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=q0.exec(n))?Ls(o[1],o[2],o[3],o[4]):(o=V0.exec(n))?Ls(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=B0.exec(n))?Od(o[1],o[2]/100,o[3]/100,1):(o=U0.exec(n))?Od(o[1],o[2]/100,o[3]/100,o[4]):$d.hasOwnProperty(n)?Ad($d[n]):n==="transparent"?new yt(NaN,NaN,NaN,0):null}function Ad(n){return new yt(n>>16&255,n>>8&255,n&255,1)}function Ls(n,o,i,l){return l<=0&&(n=o=i=NaN),new yt(n,o,i,l)}function Y0(n){return n instanceof mi||(n=ai(n)),n?(n=n.rgb(),new yt(n.r,n.g,n.b,n.opacity)):new yt}function vu(n,o,i,l){return arguments.length===1?Y0(n):new yt(n,o,i,l??1)}function yt(n,o,i,l){this.r=+n,this.g=+o,this.b=+i,this.opacity=+l}Ru(yt,vu,qh(mi,{brighter(n){return n=n==null?Js:Math.pow(Js,n),new yt(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?si:Math.pow(si,n),new yt(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new yt(_r(this.r),_r(this.g),_r(this.b),el(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ld,formatHex:Ld,formatHex8:X0,formatRgb:Fd,toString:Fd}));function Ld(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}`}function X0(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}${wr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fd(){const n=el(this.opacity);return`${n===1?"rgb(":"rgba("}${_r(this.r)}, ${_r(this.g)}, ${_r(this.b)}${n===1?")":`, ${n})`}`}function el(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function _r(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function wr(n){return n=_r(n),(n<16?"0":"")+n.toString(16)}function Od(n,o,i,l){return l<=0?n=o=i=NaN:i<=0||i>=1?n=o=NaN:o<=0&&(n=NaN),new Yt(n,o,i,l)}function Vh(n){if(n instanceof Yt)return new Yt(n.h,n.s,n.l,n.opacity);if(n instanceof mi||(n=ai(n)),!n)return new Yt;if(n instanceof Yt)return n;n=n.rgb();var o=n.r/255,i=n.g/255,l=n.b/255,a=Math.min(o,i,l),c=Math.max(o,i,l),d=NaN,h=c-a,p=(c+a)/2;return h?(o===c?d=(i-l)/h+(i<l)*6:i===c?d=(l-o)/h+2:d=(o-i)/h+4,h/=p<.5?c+a:2-c-a,d*=60):h=p>0&&p<1?0:d,new Yt(d,h,p,n.opacity)}function K0(n,o,i,l){return arguments.length===1?Vh(n):new Yt(n,o,i,l??1)}function Yt(n,o,i,l){this.h=+n,this.s=+o,this.l=+i,this.opacity=+l}Ru(Yt,K0,qh(mi,{brighter(n){return n=n==null?Js:Math.pow(Js,n),new Yt(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?si:Math.pow(si,n),new Yt(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,o=isNaN(n)||isNaN(this.s)?0:this.s,i=this.l,l=i+(i<.5?i:1-i)*o,a=2*i-l;return new yt(ou(n>=240?n-240:n+120,a,l),ou(n,a,l),ou(n<120?n+240:n-120,a,l),this.opacity)},clamp(){return new Yt(Hd(this.h),Fs(this.s),Fs(this.l),el(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=el(this.opacity);return`${n===1?"hsl(":"hsla("}${Hd(this.h)}, ${Fs(this.s)*100}%, ${Fs(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Hd(n){return n=(n||0)%360,n<0?n+360:n}function Fs(n){return Math.max(0,Math.min(1,n||0))}function ou(n,o,i){return(n<60?o+(i-o)*n/60:n<180?i:n<240?o+(i-o)*(240-n)/60:o)*255}const Bh=n=>()=>n;function Q0(n,o){return function(i){return n+i*o}}function Z0(n,o,i){return n=Math.pow(n,i),o=Math.pow(o,i)-n,i=1/i,function(l){return Math.pow(n+l*o,i)}}function J0(n){return(n=+n)==1?Uh:function(o,i){return i-o?Z0(o,i,n):Bh(isNaN(o)?i:o)}}function Uh(n,o){var i=o-n;return i?Q0(n,i):Bh(isNaN(n)?o:n)}const bd=function n(o){var i=J0(o);function l(a,c){var d=i((a=vu(a)).r,(c=vu(c)).r),h=i(a.g,c.g),p=i(a.b,c.b),g=Uh(a.opacity,c.opacity);return function(m){return a.r=d(m),a.g=h(m),a.b=p(m),a.opacity=g(m),a+""}}return l.gamma=n,l}(1);function Zn(n,o){return n=+n,o=+o,function(i){return n*(1-i)+o*i}}var xu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iu=new RegExp(xu.source,"g");function ev(n){return function(){return n}}function tv(n){return function(o){return n(o)+""}}function nv(n,o){var i=xu.lastIndex=iu.lastIndex=0,l,a,c,d=-1,h=[],p=[];for(n=n+"",o=o+"";(l=xu.exec(n))&&(a=iu.exec(o));)(c=a.index)>i&&(c=o.slice(i,c),h[d]?h[d]+=c:h[++d]=c),(l=l[0])===(a=a[0])?h[d]?h[d]+=a:h[++d]=a:(h[++d]=null,p.push({i:d,x:Zn(l,a)})),i=iu.lastIndex;return i<o.length&&(c=o.slice(i),h[d]?h[d]+=c:h[++d]=c),h.length<2?p[0]?tv(p[0].x):ev(o):(o=p.length,function(g){for(var m=0,v;m<o;++m)h[(v=p[m]).i]=v.x(g);return h.join("")})}var qd=180/Math.PI,wu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wh(n,o,i,l,a,c){var d,h,p;return(d=Math.sqrt(n*n+o*o))&&(n/=d,o/=d),(p=n*i+o*l)&&(i-=n*p,l-=o*p),(h=Math.sqrt(i*i+l*l))&&(i/=h,l/=h,p/=h),n*l<o*i&&(n=-n,o=-o,p=-p,d=-d),{translateX:a,translateY:c,rotate:Math.atan2(o,n)*qd,skewX:Math.atan(p)*qd,scaleX:d,scaleY:h}}var Os;function rv(n){const o=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return o.isIdentity?wu:Wh(o.a,o.b,o.c,o.d,o.e,o.f)}function ov(n){return n==null||(Os||(Os=document.createElementNS("http://www.w3.org/2000/svg","g")),Os.setAttribute("transform",n),!(n=Os.transform.baseVal.consolidate()))?wu:(n=n.matrix,Wh(n.a,n.b,n.c,n.d,n.e,n.f))}function Gh(n,o,i,l){function a(g){return g.length?g.pop()+" ":""}function c(g,m,v,w,S,M){if(g!==v||m!==w){var E=S.push("translate(",null,o,null,i);M.push({i:E-4,x:Zn(g,v)},{i:E-2,x:Zn(m,w)})}else(v||w)&&S.push("translate("+v+o+w+i)}function d(g,m,v,w){g!==m?(g-m>180?m+=360:m-g>180&&(g+=360),w.push({i:v.push(a(v)+"rotate(",null,l)-2,x:Zn(g,m)})):m&&v.push(a(v)+"rotate("+m+l)}function h(g,m,v,w){g!==m?w.push({i:v.push(a(v)+"skewX(",null,l)-2,x:Zn(g,m)}):m&&v.push(a(v)+"skewX("+m+l)}function p(g,m,v,w,S,M){if(g!==v||m!==w){var E=S.push(a(S)+"scale(",null,",",null,")");M.push({i:E-4,x:Zn(g,v)},{i:E-2,x:Zn(m,w)})}else(v!==1||w!==1)&&S.push(a(S)+"scale("+v+","+w+")")}return function(g,m){var v=[],w=[];return g=n(g),m=n(m),c(g.translateX,g.translateY,m.translateX,m.translateY,v,w),d(g.rotate,m.rotate,v,w),h(g.skewX,m.skewX,v,w),p(g.scaleX,g.scaleY,m.scaleX,m.scaleY,v,w),g=m=null,function(S){for(var M=-1,E=w.length,$;++M<E;)v[($=w[M]).i]=$.x(S);return v.join("")}}}var iv=Gh(rv,"px, ","px)","deg)"),sv=Gh(ov,", ",")",")"),lv=1e-12;function Vd(n){return((n=Math.exp(n))+1/n)/2}function av(n){return((n=Math.exp(n))-1/n)/2}function uv(n){return((n=Math.exp(2*n))-1)/(n+1)}const cv=function n(o,i,l){function a(c,d){var h=c[0],p=c[1],g=c[2],m=d[0],v=d[1],w=d[2],S=m-h,M=v-p,E=S*S+M*M,$,R;if(E<lv)R=Math.log(w/g)/o,$=function(U){return[h+U*S,p+U*M,g*Math.exp(o*U*R)]};else{var b=Math.sqrt(E),q=(w*w-g*g+l*E)/(2*g*i*b),C=(w*w-g*g-l*E)/(2*w*i*b),V=Math.log(Math.sqrt(q*q+1)-q),L=Math.log(Math.sqrt(C*C+1)-C);R=(L-V)/o,$=function(U){var Q=U*R,Y=Vd(V),K=g/(i*b)*(Y*uv(o*Q+V)-av(V));return[h+K*S,p+K*M,g*Y/Vd(o*Q+V)]}}return $.duration=R*1e3*o/Math.SQRT2,$}return a.rho=function(c){var d=Math.max(.001,+c),h=d*d,p=h*h;return n(d,h,p)},a}(Math.SQRT2,2,4);var lo=0,ni=0,Qo=0,Yh=1e3,tl,ri,nl=0,kr=0,al=0,ui=typeof performance=="object"&&performance.now?performance:Date,Xh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Du(){return kr||(Xh(fv),kr=ui.now()+al)}function fv(){kr=0}function rl(){this._call=this._time=this._next=null}rl.prototype=Kh.prototype={constructor:rl,restart:function(n,o,i){if(typeof n!="function")throw new TypeError("callback is not a function");i=(i==null?Du():+i)+(o==null?0:+o),!this._next&&ri!==this&&(ri?ri._next=this:tl=this,ri=this),this._call=n,this._time=i,Su()},stop:function(){this._call&&(this._call=null,this._time=1/0,Su())}};function Kh(n,o,i){var l=new rl;return l.restart(n,o,i),l}function dv(){Du(),++lo;for(var n=tl,o;n;)(o=kr-n._time)>=0&&n._call.call(void 0,o),n=n._next;--lo}function Bd(){kr=(nl=ui.now())+al,lo=ni=0;try{dv()}finally{lo=0,pv(),kr=0}}function hv(){var n=ui.now(),o=n-nl;o>Yh&&(al-=o,nl=n)}function pv(){for(var n,o=tl,i,l=1/0;o;)o._call?(l>o._time&&(l=o._time),n=o,o=o._next):(i=o._next,o._next=null,o=n?n._next=i:tl=i);ri=n,Su(l)}function Su(n){if(!lo){ni&&(ni=clearTimeout(ni));var o=n-kr;o>24?(n<1/0&&(ni=setTimeout(Bd,n-ui.now()-al)),Qo&&(Qo=clearInterval(Qo))):(Qo||(nl=ui.now(),Qo=setInterval(hv,Yh)),lo=1,Xh(Bd))}}function Ud(n,o,i){var l=new rl;return o=o==null?0:+o,l.restart(a=>{l.stop(),n(a+o)},o,i),l}var mv=sl("start","end","cancel","interrupt"),gv=[],Qh=0,Wd=1,_u=2,Xs=3,Gd=4,ku=5,Ks=6;function ul(n,o,i,l,a,c){var d=n.__transition;if(!d)n.__transition={};else if(i in d)return;yv(n,i,{name:o,index:l,group:a,on:mv,tween:gv,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:Qh})}function Au(n,o){var i=Kt(n,o);if(i.state>Qh)throw new Error("too late; already scheduled");return i}function cn(n,o){var i=Kt(n,o);if(i.state>Xs)throw new Error("too late; already running");return i}function Kt(n,o){var i=n.__transition;if(!i||!(i=i[o]))throw new Error("transition not found");return i}function yv(n,o,i){var l=n.__transition,a;l[o]=i,i.timer=Kh(c,0,i.time);function c(g){i.state=Wd,i.timer.restart(d,i.delay,i.time),i.delay<=g&&d(g-i.delay)}function d(g){var m,v,w,S;if(i.state!==Wd)return p();for(m in l)if(S=l[m],S.name===i.name){if(S.state===Xs)return Ud(d);S.state===Gd?(S.state=Ks,S.timer.stop(),S.on.call("interrupt",n,n.__data__,S.index,S.group),delete l[m]):+m<o&&(S.state=Ks,S.timer.stop(),S.on.call("cancel",n,n.__data__,S.index,S.group),delete l[m])}if(Ud(function(){i.state===Xs&&(i.state=Gd,i.timer.restart(h,i.delay,i.time),h(g))}),i.state=_u,i.on.call("start",n,n.__data__,i.index,i.group),i.state===_u){for(i.state=Xs,a=new Array(w=i.tween.length),m=0,v=-1;m<w;++m)(S=i.tween[m].value.call(n,n.__data__,i.index,i.group))&&(a[++v]=S);a.length=v+1}}function h(g){for(var m=g<i.duration?i.ease.call(null,g/i.duration):(i.timer.restart(p),i.state=ku,1),v=-1,w=a.length;++v<w;)a[v].call(n,m);i.state===ku&&(i.on.call("end",n,n.__data__,i.index,i.group),p())}function p(){i.state=Ks,i.timer.stop(),delete l[o];for(var g in l)return;delete n.__transition}}function Qs(n,o){var i=n.__transition,l,a,c=!0,d;if(i){o=o==null?null:o+"";for(d in i){if((l=i[d]).name!==o){c=!1;continue}a=l.state>_u&&l.state<ku,l.state=Ks,l.timer.stop(),l.on.call(a?"interrupt":"cancel",n,n.__data__,l.index,l.group),delete i[d]}c&&delete n.__transition}}function vv(n){return this.each(function(){Qs(this,n)})}function xv(n,o){var i,l;return function(){var a=cn(this,n),c=a.tween;if(c!==i){l=i=c;for(var d=0,h=l.length;d<h;++d)if(l[d].name===o){l=l.slice(),l.splice(d,1);break}}a.tween=l}}function wv(n,o,i){var l,a;if(typeof i!="function")throw new Error;return function(){var c=cn(this,n),d=c.tween;if(d!==l){a=(l=d).slice();for(var h={name:o,value:i},p=0,g=a.length;p<g;++p)if(a[p].name===o){a[p]=h;break}p===g&&a.push(h)}c.tween=a}}function Sv(n,o){var i=this._id;if(n+="",arguments.length<2){for(var l=Kt(this.node(),i).tween,a=0,c=l.length,d;a<c;++a)if((d=l[a]).name===n)return d.value;return null}return this.each((o==null?xv:wv)(i,n,o))}function Lu(n,o,i){var l=n._id;return n.each(function(){var a=cn(this,l);(a.value||(a.value={}))[o]=i.apply(this,arguments)}),function(a){return Kt(a,l).value[o]}}function Zh(n,o){var i;return(typeof o=="number"?Zn:o instanceof ai?bd:(i=ai(o))?(o=i,bd):nv)(n,o)}function _v(n){return function(){this.removeAttribute(n)}}function kv(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Ev(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttribute(n);return d===a?null:d===l?c:c=o(l=d,i)}}function Nv(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttributeNS(n.space,n.local);return d===a?null:d===l?c:c=o(l=d,i)}}function Cv(n,o,i){var l,a,c;return function(){var d,h=i(this),p;return h==null?void this.removeAttribute(n):(d=this.getAttribute(n),p=h+"",d===p?null:d===l&&p===a?c:(a=p,c=o(l=d,h)))}}function Iv(n,o,i){var l,a,c;return function(){var d,h=i(this),p;return h==null?void this.removeAttributeNS(n.space,n.local):(d=this.getAttributeNS(n.space,n.local),p=h+"",d===p?null:d===l&&p===a?c:(a=p,c=o(l=d,h)))}}function Tv(n,o){var i=ll(n),l=i==="transform"?sv:Zh;return this.attrTween(n,typeof o=="function"?(i.local?Iv:Cv)(i,l,Lu(this,"attr."+n,o)):o==null?(i.local?kv:_v)(i):(i.local?Nv:Ev)(i,l,o))}function Pv(n,o){return function(i){this.setAttribute(n,o.call(this,i))}}function Mv(n,o){return function(i){this.setAttributeNS(n.space,n.local,o.call(this,i))}}function zv(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&Mv(n,c)),i}return a._value=o,a}function jv(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&Pv(n,c)),i}return a._value=o,a}function $v(n,o){var i="attr."+n;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(o==null)return this.tween(i,null);if(typeof o!="function")throw new Error;var l=ll(n);return this.tween(i,(l.local?zv:jv)(l,o))}function Rv(n,o){return function(){Au(this,n).delay=+o.apply(this,arguments)}}function Dv(n,o){return o=+o,function(){Au(this,n).delay=o}}function Av(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?Rv:Dv)(o,n)):Kt(this.node(),o).delay}function Lv(n,o){return function(){cn(this,n).duration=+o.apply(this,arguments)}}function Fv(n,o){return o=+o,function(){cn(this,n).duration=o}}function Ov(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?Lv:Fv)(o,n)):Kt(this.node(),o).duration}function Hv(n,o){if(typeof o!="function")throw new Error;return function(){cn(this,n).ease=o}}function bv(n){var o=this._id;return arguments.length?this.each(Hv(o,n)):Kt(this.node(),o).ease}function qv(n,o){return function(){var i=o.apply(this,arguments);if(typeof i!="function")throw new Error;cn(this,n).ease=i}}function Vv(n){if(typeof n!="function")throw new Error;return this.each(qv(this._id,n))}function Bv(n){typeof n!="function"&&(n=Mh(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,h=l[a]=[],p,g=0;g<d;++g)(p=c[g])&&n.call(p,p.__data__,g,c)&&h.push(p);return new Mn(l,this._parents,this._name,this._id)}function Uv(n){if(n._id!==this._id)throw new Error;for(var o=this._groups,i=n._groups,l=o.length,a=i.length,c=Math.min(l,a),d=new Array(l),h=0;h<c;++h)for(var p=o[h],g=i[h],m=p.length,v=d[h]=new Array(m),w,S=0;S<m;++S)(w=p[S]||g[S])&&(v[S]=w);for(;h<l;++h)d[h]=o[h];return new Mn(d,this._parents,this._name,this._id)}function Wv(n){return(n+"").trim().split(/^|\s+/).every(function(o){var i=o.indexOf(".");return i>=0&&(o=o.slice(0,i)),!o||o==="start"})}function Gv(n,o,i){var l,a,c=Wv(o)?Au:cn;return function(){var d=c(this,n),h=d.on;h!==l&&(a=(l=h).copy()).on(o,i),d.on=a}}function Yv(n,o){var i=this._id;return arguments.length<2?Kt(this.node(),i).on.on(n):this.each(Gv(i,n,o))}function Xv(n){return function(){var o=this.parentNode;for(var i in this.__transition)if(+i!==n)return;o&&o.removeChild(this)}}function Kv(){return this.on("end.remove",Xv(this._id))}function Qv(n){var o=this._name,i=this._id;typeof n!="function"&&(n=ju(n));for(var l=this._groups,a=l.length,c=new Array(a),d=0;d<a;++d)for(var h=l[d],p=h.length,g=c[d]=new Array(p),m,v,w=0;w<p;++w)(m=h[w])&&(v=n.call(m,m.__data__,w,h))&&("__data__"in m&&(v.__data__=m.__data__),g[w]=v,ul(g[w],o,i,w,g,Kt(m,i)));return new Mn(c,this._parents,o,i)}function Zv(n){var o=this._name,i=this._id;typeof n!="function"&&(n=Ph(n));for(var l=this._groups,a=l.length,c=[],d=[],h=0;h<a;++h)for(var p=l[h],g=p.length,m,v=0;v<g;++v)if(m=p[v]){for(var w=n.call(m,m.__data__,v,p),S,M=Kt(m,i),E=0,$=w.length;E<$;++E)(S=w[E])&&ul(S,o,i,E,w,M);c.push(w),d.push(m)}return new Mn(c,d,o,i)}var Jv=pi.prototype.constructor;function ex(){return new Jv(this._groups,this._parents)}function tx(n,o){var i,l,a;return function(){var c=so(this,n),d=(this.style.removeProperty(n),so(this,n));return c===d?null:c===i&&d===l?a:a=o(i=c,l=d)}}function Jh(n){return function(){this.style.removeProperty(n)}}function nx(n,o,i){var l,a=i+"",c;return function(){var d=so(this,n);return d===a?null:d===l?c:c=o(l=d,i)}}function rx(n,o,i){var l,a,c;return function(){var d=so(this,n),h=i(this),p=h+"";return h==null&&(p=h=(this.style.removeProperty(n),so(this,n))),d===p?null:d===l&&p===a?c:(a=p,c=o(l=d,h))}}function ox(n,o){var i,l,a,c="style."+o,d="end."+c,h;return function(){var p=cn(this,n),g=p.on,m=p.value[c]==null?h||(h=Jh(o)):void 0;(g!==i||a!==m)&&(l=(i=g).copy()).on(d,a=m),p.on=l}}function ix(n,o,i){var l=(n+="")=="transform"?iv:Zh;return o==null?this.styleTween(n,tx(n,l)).on("end.style."+n,Jh(n)):typeof o=="function"?this.styleTween(n,rx(n,l,Lu(this,"style."+n,o))).each(ox(this._id,n)):this.styleTween(n,nx(n,l,o),i).on("end.style."+n,null)}function sx(n,o,i){return function(l){this.style.setProperty(n,o.call(this,l),i)}}function lx(n,o,i){var l,a;function c(){var d=o.apply(this,arguments);return d!==a&&(l=(a=d)&&sx(n,d,i)),l}return c._value=o,c}function ax(n,o,i){var l="style."+(n+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(o==null)return this.tween(l,null);if(typeof o!="function")throw new Error;return this.tween(l,lx(n,o,i??""))}function ux(n){return function(){this.textContent=n}}function cx(n){return function(){var o=n(this);this.textContent=o??""}}function fx(n){return this.tween("text",typeof n=="function"?cx(Lu(this,"text",n)):ux(n==null?"":n+""))}function dx(n){return function(o){this.textContent=n.call(this,o)}}function hx(n){var o,i;function l(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&dx(a)),o}return l._value=n,l}function px(n){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,hx(n))}function mx(){for(var n=this._name,o=this._id,i=ep(),l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],h=d.length,p,g=0;g<h;++g)if(p=d[g]){var m=Kt(p,o);ul(p,n,i,g,d,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Mn(l,this._parents,n,i)}function gx(){var n,o,i=this,l=i._id,a=i.size();return new Promise(function(c,d){var h={value:d},p={value:function(){--a===0&&c()}};i.each(function(){var g=cn(this,l),m=g.on;m!==n&&(o=(n=m).copy(),o._.cancel.push(h),o._.interrupt.push(h),o._.end.push(p)),g.on=o}),a===0&&c()})}var yx=0;function Mn(n,o,i,l){this._groups=n,this._parents=o,this._name=i,this._id=l}function ep(){return++yx}var In=pi.prototype;Mn.prototype={constructor:Mn,select:Qv,selectAll:Zv,selectChild:In.selectChild,selectChildren:In.selectChildren,filter:Bv,merge:Uv,selection:ex,transition:mx,call:In.call,nodes:In.nodes,node:In.node,size:In.size,empty:In.empty,each:In.each,on:Yv,attr:Tv,attrTween:$v,style:ix,styleTween:ax,text:fx,textTween:px,remove:Kv,tween:Sv,delay:Av,duration:Ov,ease:bv,easeVarying:Vv,end:gx,[Symbol.iterator]:In[Symbol.iterator]};function vx(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var xx={time:null,delay:0,duration:250,ease:vx};function wx(n,o){for(var i;!(i=n.__transition)||!(i=i[o]);)if(!(n=n.parentNode))throw new Error(`transition ${o} not found`);return i}function Sx(n){var o,i;n instanceof Mn?(o=n._id,n=n._name):(o=ep(),(i=xx).time=Du(),n=n==null?null:n+"");for(var l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],h=d.length,p,g=0;g<h;++g)(p=d[g])&&ul(p,n,o,g,d,i||wx(p,o));return new Mn(l,this._parents,n,o)}pi.prototype.interrupt=vv;pi.prototype.transition=Sx;const Hs=n=>()=>n;function _x(n,{sourceEvent:o,target:i,transform:l,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:a}})}function Pn(n,o,i){this.k=n,this.x=o,this.y=i}Pn.prototype={constructor:Pn,scale:function(n){return n===1?this:new Pn(this.k*n,this.x,this.y)},translate:function(n,o){return n===0&o===0?this:new Pn(this.k,this.x+this.k*n,this.y+this.k*o)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tr=new Pn(1,0,0);Pn.prototype;function su(n){n.stopImmediatePropagation()}function Zo(n){n.preventDefault(),n.stopImmediatePropagation()}function kx(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function Ex(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Yd(){return this.__zoom||tr}function Nx(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Cx(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ix(n,o,i){var l=n.invertX(o[0][0])-i[0][0],a=n.invertX(o[1][0])-i[1][0],c=n.invertY(o[0][1])-i[0][1],d=n.invertY(o[1][1])-i[1][1];return n.translate(a>l?(l+a)/2:Math.min(0,l)||Math.max(0,a),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function Tx(){var n=kx,o=Ex,i=Ix,l=Nx,a=Cx,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],h=250,p=cv,g=sl("start","zoom","end"),m,v,w,S=500,M=150,E=0,$=10;function R(k){k.property("__zoom",Yd).on("wheel.zoom",Q,{passive:!1}).on("mousedown.zoom",Y).on("dblclick.zoom",K).filter(a).on("touchstart.zoom",Z).on("touchmove.zoom",oe).on("touchend.zoom touchcancel.zoom",te).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}R.transform=function(k,T,I,O){var A=k.selection?k.selection():k;A.property("__zoom",Yd),k!==A?V(k,T,I,O):A.interrupt().each(function(){L(this,arguments).event(O).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},R.scaleBy=function(k,T,I,O){R.scaleTo(k,function(){var A=this.__zoom.k,N=typeof T=="function"?T.apply(this,arguments):T;return A*N},I,O)},R.scaleTo=function(k,T,I,O){R.transform(k,function(){var A=o.apply(this,arguments),N=this.__zoom,z=I==null?C(A):typeof I=="function"?I.apply(this,arguments):I,x=N.invert(z),j=typeof T=="function"?T.apply(this,arguments):T;return i(q(b(N,j),z,x),A,d)},I,O)},R.translateBy=function(k,T,I,O){R.transform(k,function(){return i(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof I=="function"?I.apply(this,arguments):I),o.apply(this,arguments),d)},null,O)},R.translateTo=function(k,T,I,O,A){R.transform(k,function(){var N=o.apply(this,arguments),z=this.__zoom,x=O==null?C(N):typeof O=="function"?O.apply(this,arguments):O;return i(tr.translate(x[0],x[1]).scale(z.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof I=="function"?-I.apply(this,arguments):-I),N,d)},O,A)};function b(k,T){return T=Math.max(c[0],Math.min(c[1],T)),T===k.k?k:new Pn(T,k.x,k.y)}function q(k,T,I){var O=T[0]-I[0]*k.k,A=T[1]-I[1]*k.k;return O===k.x&&A===k.y?k:new Pn(k.k,O,A)}function C(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function V(k,T,I,O){k.on("start.zoom",function(){L(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(O).end()}).tween("zoom",function(){var A=this,N=arguments,z=L(A,N).event(O),x=o.apply(A,N),j=I==null?C(x):typeof I=="function"?I.apply(A,N):I,J=Math.max(x[1][0]-x[0][0],x[1][1]-x[0][1]),X=A.__zoom,ne=typeof T=="function"?T.apply(A,N):T,re=p(X.invert(j).concat(J/X.k),ne.invert(j).concat(J/ne.k));return function(ue){if(ue===1)ue=ne;else{var he=re(ue),ve=J/he[2];ue=new Pn(ve,j[0]-he[0]*ve,j[1]-he[1]*ve)}z.zoom(null,ue)}})}function L(k,T,I){return!I&&k.__zooming||new U(k,T)}function U(k,T){this.that=k,this.args=T,this.active=0,this.sourceEvent=null,this.extent=o.apply(k,T),this.taps=0}U.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,T){return this.mouse&&k!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var T=Gt(this.that).datum();g.call(k,this.that,new _x(k,{sourceEvent:this.sourceEvent,target:R,type:k,transform:this.that.__zoom,dispatch:g}),T)}};function Q(k,...T){if(!n.apply(this,arguments))return;var I=L(this,T).event(k),O=this.__zoom,A=Math.max(c[0],Math.min(c[1],O.k*Math.pow(2,l.apply(this,arguments)))),N=an(k);if(I.wheel)(I.mouse[0][0]!==N[0]||I.mouse[0][1]!==N[1])&&(I.mouse[1]=O.invert(I.mouse[0]=N)),clearTimeout(I.wheel);else{if(O.k===A)return;I.mouse=[N,O.invert(N)],Qs(this),I.start()}Zo(k),I.wheel=setTimeout(z,M),I.zoom("mouse",i(q(b(O,A),I.mouse[0],I.mouse[1]),I.extent,d));function z(){I.wheel=null,I.end()}}function Y(k,...T){if(w||!n.apply(this,arguments))return;var I=k.currentTarget,O=L(this,T,!0).event(k),A=Gt(k.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",J,!0),N=an(k,I),z=k.clientX,x=k.clientY;Hh(k.view),su(k),O.mouse=[N,this.__zoom.invert(N)],Qs(this),O.start();function j(X){if(Zo(X),!O.moved){var ne=X.clientX-z,re=X.clientY-x;O.moved=ne*ne+re*re>E}O.event(X).zoom("mouse",i(q(O.that.__zoom,O.mouse[0]=an(X,I),O.mouse[1]),O.extent,d))}function J(X){A.on("mousemove.zoom mouseup.zoom",null),bh(X.view,O.moved),Zo(X),O.event(X).end()}}function K(k,...T){if(n.apply(this,arguments)){var I=this.__zoom,O=an(k.changedTouches?k.changedTouches[0]:k,this),A=I.invert(O),N=I.k*(k.shiftKey?.5:2),z=i(q(b(I,N),O,A),o.apply(this,T),d);Zo(k),h>0?Gt(this).transition().duration(h).call(V,z,O,k):Gt(this).call(R.transform,z,O,k)}}function Z(k,...T){if(n.apply(this,arguments)){var I=k.touches,O=I.length,A=L(this,T,k.changedTouches.length===O).event(k),N,z,x,j;for(su(k),z=0;z<O;++z)x=I[z],j=an(x,this),j=[j,this.__zoom.invert(j),x.identifier],A.touch0?!A.touch1&&A.touch0[2]!==j[2]&&(A.touch1=j,A.taps=0):(A.touch0=j,N=!0,A.taps=1+!!m);m&&(m=clearTimeout(m)),N&&(A.taps<2&&(v=j[0],m=setTimeout(function(){m=null},S)),Qs(this),A.start())}}function oe(k,...T){if(this.__zooming){var I=L(this,T).event(k),O=k.changedTouches,A=O.length,N,z,x,j;for(Zo(k),N=0;N<A;++N)z=O[N],x=an(z,this),I.touch0&&I.touch0[2]===z.identifier?I.touch0[0]=x:I.touch1&&I.touch1[2]===z.identifier&&(I.touch1[0]=x);if(z=I.that.__zoom,I.touch1){var J=I.touch0[0],X=I.touch0[1],ne=I.touch1[0],re=I.touch1[1],ue=(ue=ne[0]-J[0])*ue+(ue=ne[1]-J[1])*ue,he=(he=re[0]-X[0])*he+(he=re[1]-X[1])*he;z=b(z,Math.sqrt(ue/he)),x=[(J[0]+ne[0])/2,(J[1]+ne[1])/2],j=[(X[0]+re[0])/2,(X[1]+re[1])/2]}else if(I.touch0)x=I.touch0[0],j=I.touch0[1];else return;I.zoom("touch",i(q(z,x,j),I.extent,d))}}function te(k,...T){if(this.__zooming){var I=L(this,T).event(k),O=k.changedTouches,A=O.length,N,z;for(su(k),w&&clearTimeout(w),w=setTimeout(function(){w=null},S),N=0;N<A;++N)z=O[N],I.touch0&&I.touch0[2]===z.identifier?delete I.touch0:I.touch1&&I.touch1[2]===z.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(z=an(z,this),Math.hypot(v[0]-z[0],v[1]-z[1])<$)){var x=Gt(this).on("dblclick.zoom");x&&x.apply(this,arguments)}}}return R.wheelDelta=function(k){return arguments.length?(l=typeof k=="function"?k:Hs(+k),R):l},R.filter=function(k){return arguments.length?(n=typeof k=="function"?k:Hs(!!k),R):n},R.touchable=function(k){return arguments.length?(a=typeof k=="function"?k:Hs(!!k),R):a},R.extent=function(k){return arguments.length?(o=typeof k=="function"?k:Hs([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),R):o},R.scaleExtent=function(k){return arguments.length?(c[0]=+k[0],c[1]=+k[1],R):[c[0],c[1]]},R.translateExtent=function(k){return arguments.length?(d[0][0]=+k[0][0],d[1][0]=+k[1][0],d[0][1]=+k[0][1],d[1][1]=+k[1][1],R):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},R.constrain=function(k){return arguments.length?(i=k,R):i},R.duration=function(k){return arguments.length?(h=+k,R):h},R.interpolate=function(k){return arguments.length?(p=k,R):p},R.on=function(){var k=g.on.apply(g,arguments);return k===g?R:k},R.clickDistance=function(k){return arguments.length?(E=(k=+k)*k,R):Math.sqrt(E)},R.tapDistance=function(k){return arguments.length?($=+k,R):$},R}var lu={exports:{}},gt={},au={exports:{}},uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd;function Px(){return Xd||(Xd=1,function(n){function o(A,N){var z=A.length;A.push(N);e:for(;0<z;){var x=z-1>>>1,j=A[x];if(0<a(j,N))A[x]=N,A[z]=j,z=x;else break e}}function i(A){return A.length===0?null:A[0]}function l(A){if(A.length===0)return null;var N=A[0],z=A.pop();if(z!==N){A[0]=z;e:for(var x=0,j=A.length,J=j>>>1;x<J;){var X=2*(x+1)-1,ne=A[X],re=X+1,ue=A[re];if(0>a(ne,z))re<j&&0>a(ue,ne)?(A[x]=ue,A[re]=z,x=re):(A[x]=ne,A[X]=z,x=X);else if(re<j&&0>a(ue,z))A[x]=ue,A[re]=z,x=re;else break e}}return N}function a(A,N){var z=A.sortIndex-N.sortIndex;return z!==0?z:A.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var p=[],g=[],m=1,v=null,w=3,S=!1,M=!1,E=!1,$=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(A){for(var N=i(g);N!==null;){if(N.callback===null)l(g);else if(N.startTime<=A)l(g),N.sortIndex=N.expirationTime,o(p,N);else break;N=i(g)}}function C(A){if(E=!1,q(A),!M)if(i(p)!==null)M=!0,I(V);else{var N=i(g);N!==null&&O(C,N.startTime-A)}}function V(A,N){M=!1,E&&(E=!1,R(Q),Q=-1),S=!0;var z=w;try{for(q(N),v=i(p);v!==null&&(!(v.expirationTime>N)||A&&!Z());){var x=v.callback;if(typeof x=="function"){v.callback=null,w=v.priorityLevel;var j=x(v.expirationTime<=N);N=n.unstable_now(),typeof j=="function"?v.callback=j:v===i(p)&&l(p),q(N)}else l(p);v=i(p)}if(v!==null)var J=!0;else{var X=i(g);X!==null&&O(C,X.startTime-N),J=!1}return J}finally{v=null,w=z,S=!1}}var L=!1,U=null,Q=-1,Y=5,K=-1;function Z(){return!(n.unstable_now()-K<Y)}function oe(){if(U!==null){var A=n.unstable_now();K=A;var N=!0;try{N=U(!0,A)}finally{N?te():(L=!1,U=null)}}else L=!1}var te;if(typeof b=="function")te=function(){b(oe)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,T=k.port2;k.port1.onmessage=oe,te=function(){T.postMessage(null)}}else te=function(){$(oe,0)};function I(A){U=A,L||(L=!0,te())}function O(A,N){Q=$(function(){A(n.unstable_now())},N)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(A){A.callback=null},n.unstable_continueExecution=function(){M||S||(M=!0,I(V))},n.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<A?Math.floor(1e3/A):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return i(p)},n.unstable_next=function(A){switch(w){case 1:case 2:case 3:var N=3;break;default:N=w}var z=w;w=N;try{return A()}finally{w=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(A,N){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=w;w=A;try{return N()}finally{w=z}},n.unstable_scheduleCallback=function(A,N,z){var x=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?x+z:x):z=x,A){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=z+j,A={id:m++,callback:N,priorityLevel:A,startTime:z,expirationTime:j,sortIndex:-1},z>x?(A.sortIndex=z,o(g,A),i(p)===null&&A===i(g)&&(E?(R(Q),Q=-1):E=!0,O(C,z-x))):(A.sortIndex=j,o(p,A),M||S||(M=!0,I(V))),A},n.unstable_shouldYield=Z,n.unstable_wrapCallback=function(A){var N=w;return function(){var z=w;w=N;try{return A.apply(this,arguments)}finally{w=z}}}}(uu)),uu}var Kd;function Mx(){return Kd||(Kd=1,au.exports=Px()),au.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd;function zx(){if(Qd)return gt;Qd=1;var n=hi(),o=Mx();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,a={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(a[e]=t,e=0;e<t.length;e++)l.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(e){return p.call(v,e)?!0:p.call(m,e)?!1:g.test(e)?v[e]=!0:(m[e]=!0,!1)}function S(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function M(e,t,r,s){if(t===null||typeof t>"u"||S(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function E(e,t,r,s,u,f,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=y}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$[t]=new E(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){$[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){$[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){$[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){$[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){$[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R,b);$[t]=new E(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R,b);$[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R,b);$[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){$[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),$.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){$[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});function q(e,t,r,s){var u=$.hasOwnProperty(t)?$[t]:null;(u!==null?u.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(M(t,r,u,s)&&(r=null),s||u===null?w(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,s=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var C=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),L=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Z=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),A=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=A&&e[A]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,x;function j(e){if(x===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||""}return`
`+x+e}var J=!1;function X(e,t){if(!e||J)return"";J=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(G){var s=G}Reflect.construct(e,[],t)}else{try{t.call()}catch(G){s=G}e.call(t.prototype)}else{try{throw Error()}catch(G){s=G}e()}}catch(G){if(G&&s&&typeof G.stack=="string"){for(var u=G.stack.split(`
`),f=s.stack.split(`
`),y=u.length-1,P=f.length-1;1<=y&&0<=P&&u[y]!==f[P];)P--;for(;1<=y&&0<=P;y--,P--)if(u[y]!==f[P]){if(y!==1||P!==1)do if(y--,P--,0>P||u[y]!==f[P]){var D=`
`+u[y].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=y&&0<=P);break}}}finally{J=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?j(e):""}function ne(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=X(e.type,!1),e;case 11:return e=X(e.type.render,!1),e;case 1:return e=X(e.type,!0),e;default:return""}}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case L:return"Portal";case Y:return"Profiler";case Q:return"StrictMode";case te:return"Suspense";case k:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z:return(e.displayName||"Context")+".Consumer";case K:return(e._context.displayName||"Context")+".Provider";case oe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T:return t=e.displayName||null,t!==null?t:re(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return re(e(t))}catch{}}return null}function ue(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(t);case 8:return t===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Se(e){var t=ve(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Le(e){e._valueTracker||(e._valueTracker=Se(e))}function We(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=ve(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function et(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tt(e,t){var r=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fe(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=he(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vt(e,t){t=t.checked,t!=null&&q(e,"checked",t,!1)}function Ie(e,t){vt(e,t);var r=he(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qe(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qe(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ye(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qe(e,t,r){(t!=="number"||et(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xt=Array.isArray;function It(e,t,r,s){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&s&&(e[r].defaultSelected=!0)}else{for(r=""+he(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Qt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fn(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(xt(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:he(r)}}function Tt(e,t){var r=he(t.value),s=he(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function dn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ft,hn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ft=Ft||document.createElement("div"),Ft.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ft.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ot(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Oe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wt=["Webkit","ms","Moz","O"];Object.keys(Oe).forEach(function(e){wt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oe[t]=Oe[e]})});function Jt(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Oe.hasOwnProperty(e)&&Oe[e]?(""+t).trim():t+"px"}function en(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,u=Jt(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,u):e[r]=u}}var pn=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(e,t){if(t){if(pn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function ct(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mn=null;function rr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gn=null,tn=null,yn=null;function nn(e){if(e=Do(e)){if(typeof gn!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Qi(t),gn(e.stateNode,e.type,t))}}function yi(e){tn?yn?yn.push(e):yn=[e]:tn=e}function vi(){if(tn){var e=tn,t=yn;if(yn=tn=null,nn(e),t)for(e=0;e<t.length;e++)nn(t[e])}}function xi(e,t){return e(t)}function wi(){}var fo=!1;function Si(e,t,r){if(fo)return e(t,r);fo=!0;try{return xi(e,t,r)}finally{fo=!1,(tn!==null||yn!==null)&&(wi(),vi())}}function or(e,t){var r=e.stateNode;if(r===null)return null;var s=Qi(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var ho=!1;if(h)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){ho=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{ho=!1}function dl(e,t,r,s,u,f,y,P,D){var G=Array.prototype.slice.call(arguments,3);try{t.apply(r,G)}catch(se){this.onError(se)}}var sr=!1,Nr=null,Cr=!1,po=null,hl={onError:function(e){sr=!0,Nr=e}};function pl(e,t,r,s,u,f,y,P,D){sr=!1,Nr=null,dl.apply(hl,arguments)}function _i(e,t,r,s,u,f,y,P,D){if(pl.apply(this,arguments),sr){if(sr){var G=Nr;sr=!1,Nr=null}else throw Error(i(198));Cr||(Cr=!0,po=G)}}function vn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ki(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ei(e){if(vn(e)!==e)throw Error(i(188))}function ml(e){var t=e.alternate;if(!t){if(t=vn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,s=t;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(s=u.return,s!==null){r=s;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return Ei(u),e;if(f===s)return Ei(u),t;f=f.sibling}throw Error(i(188))}if(r.return!==s.return)r=u,s=f;else{for(var y=!1,P=u.child;P;){if(P===r){y=!0,r=u,s=f;break}if(P===s){y=!0,s=u,r=f;break}P=P.sibling}if(!y){for(P=f.child;P;){if(P===r){y=!0,r=f,s=u;break}if(P===s){y=!0,s=f,r=u;break}P=P.sibling}if(!y)throw Error(i(189))}}if(r.alternate!==s)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function Ni(e){return e=ml(e),e!==null?Ci(e):null}function Ci(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ci(e);if(t!==null)return t;e=e.sibling}return null}var Ii=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Pi=o.unstable_shouldYield,gl=o.unstable_requestPaint,$e=o.unstable_now,yl=o.unstable_getCurrentPriorityLevel,mo=o.unstable_ImmediatePriority,Mi=o.unstable_UserBlockingPriority,Ir=o.unstable_NormalPriority,zi=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Tr=null,Pt=null;function go(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Tr,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Jp,Qp=Math.log,Zp=Math.LN2;function Jp(e){return e>>>=0,e===0?32:31-(Qp(e)/Zp|0)|0}var $i=64,Ri=4194304;function yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Di(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,u=e.suspendedLanes,f=e.pingedLanes,y=r&268435455;if(y!==0){var P=y&~u;P!==0?s=yo(P):(f&=y,f!==0&&(s=yo(f)))}else y=r&~u,y!==0?s=yo(y):f!==0&&(s=yo(f));if(s===0)return 0;if(t!==0&&t!==s&&!(t&u)&&(u=s&-s,f=t&-t,u>=f||u===16&&(f&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Ht(t),u=1<<r,s|=e[r],t&=~u;return s}function em(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tm(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-Ht(f),P=1<<y,D=u[y];D===-1?(!(P&r)||P&s)&&(u[y]=em(P,t)):D<=t&&(e.expiredLanes|=P),f&=~P}}function vl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qu(){var e=$i;return $i<<=1,!($i&4194240)&&($i=64),e}function xl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=r}function nm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Ht(r),f=1<<u;t[u]=0,s[u]=-1,e[u]=-1,r&=~f}}function wl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ht(r),u=1<<s;u&t|e[s]&t&&(e[s]|=t),r&=~u}}var Te=0;function Zu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ju,Sl,ec,tc,nc,_l=!1,Ai=[],jn=null,$n=null,Rn=null,xo=new Map,wo=new Map,Dn=[],rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(t.pointerId)}}function So(e,t,r,s,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Do(t),t!==null&&Sl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function om(e,t,r,s,u){switch(t){case"focusin":return jn=So(jn,e,t,r,s,u),!0;case"dragenter":return $n=So($n,e,t,r,s,u),!0;case"mouseover":return Rn=So(Rn,e,t,r,s,u),!0;case"pointerover":var f=u.pointerId;return xo.set(f,So(xo.get(f)||null,e,t,r,s,u)),!0;case"gotpointercapture":return f=u.pointerId,wo.set(f,So(wo.get(f)||null,e,t,r,s,u)),!0}return!1}function oc(e){var t=lr(e.target);if(t!==null){var r=vn(t);if(r!==null){if(t=r.tag,t===13){if(t=ki(r),t!==null){e.blockedOn=t,nc(e.priority,function(){ec(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=El(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);mn=s,r.target.dispatchEvent(s),mn=null}else return t=Do(r),t!==null&&Sl(t),e.blockedOn=r,!1;t.shift()}return!0}function ic(e,t,r){Li(e)&&r.delete(t)}function im(){_l=!1,jn!==null&&Li(jn)&&(jn=null),$n!==null&&Li($n)&&($n=null),Rn!==null&&Li(Rn)&&(Rn=null),xo.forEach(ic),wo.forEach(ic)}function _o(e,t){e.blockedOn===t&&(e.blockedOn=null,_l||(_l=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,im)))}function ko(e){function t(u){return _o(u,e)}if(0<Ai.length){_o(Ai[0],e);for(var r=1;r<Ai.length;r++){var s=Ai[r];s.blockedOn===e&&(s.blockedOn=null)}}for(jn!==null&&_o(jn,e),$n!==null&&_o($n,e),Rn!==null&&_o(Rn,e),xo.forEach(t),wo.forEach(t),r=0;r<Dn.length;r++)s=Dn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Dn.length&&(r=Dn[0],r.blockedOn===null);)oc(r),r.blockedOn===null&&Dn.shift()}var Pr=C.ReactCurrentBatchConfig,Fi=!0;function sm(e,t,r,s){var u=Te,f=Pr.transition;Pr.transition=null;try{Te=1,kl(e,t,r,s)}finally{Te=u,Pr.transition=f}}function lm(e,t,r,s){var u=Te,f=Pr.transition;Pr.transition=null;try{Te=4,kl(e,t,r,s)}finally{Te=u,Pr.transition=f}}function kl(e,t,r,s){if(Fi){var u=El(e,t,r,s);if(u===null)bl(e,t,s,Oi,r),rc(e,s);else if(om(u,e,t,r,s))s.stopPropagation();else if(rc(e,s),t&4&&-1<rm.indexOf(e)){for(;u!==null;){var f=Do(u);if(f!==null&&Ju(f),f=El(e,t,r,s),f===null&&bl(e,t,s,Oi,r),f===u)break;u=f}u!==null&&s.stopPropagation()}else bl(e,t,s,null,r)}}var Oi=null;function El(e,t,r,s){if(Oi=null,e=rr(s),e=lr(e),e!==null)if(t=vn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ki(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oi=e,null}function sc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yl()){case mo:return 1;case Mi:return 4;case Ir:case zi:return 16;case ji:return 536870912;default:return 16}default:return 16}}var An=null,Nl=null,Hi=null;function lc(){if(Hi)return Hi;var e,t=Nl,r=t.length,s,u="value"in An?An.value:An.textContent,f=u.length;for(e=0;e<r&&t[e]===u[e];e++);var y=r-e;for(s=1;s<=y&&t[r-s]===u[f-s];s++);return Hi=u.slice(e,1<s?1-s:void 0)}function bi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qi(){return!0}function ac(){return!1}function _t(e){function t(r,s,u,f,y){this._reactName=r,this._targetInst=u,this.type=s,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(r=e[P],this[P]=r?r(f):f[P]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qi:ac,this.isPropagationStopped=ac,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=_t(Mr),Eo=z({},Mr,{view:0,detail:0}),am=_t(Eo),Il,Tl,No,Vi=z({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==No&&(No&&e.type==="mousemove"?(Il=e.screenX-No.screenX,Tl=e.screenY-No.screenY):Tl=Il=0,No=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),uc=_t(Vi),um=z({},Vi,{dataTransfer:0}),cm=_t(um),fm=z({},Eo,{relatedTarget:0}),Pl=_t(fm),dm=z({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),hm=_t(dm),pm=z({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mm=_t(pm),gm=z({},Mr,{data:0}),cc=_t(gm),ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xm[e])?!!t[e]:!1}function Ml(){return wm}var Sm=z({},Eo,{key:function(e){if(e.key){var t=ym[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ml,charCode:function(e){return e.type==="keypress"?bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_m=_t(Sm),km=z({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fc=_t(km),Em=z({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ml}),Nm=_t(Em),Cm=z({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Im=_t(Cm),Tm=z({},Vi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pm=_t(Tm),Mm=[9,13,27,32],zl=h&&"CompositionEvent"in window,Co=null;h&&"documentMode"in document&&(Co=document.documentMode);var zm=h&&"TextEvent"in window&&!Co,dc=h&&(!zl||Co&&8<Co&&11>=Co),hc=" ",pc=!1;function mc(e,t){switch(e){case"keyup":return Mm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function jm(e,t){switch(e){case"compositionend":return gc(t);case"keypress":return t.which!==32?null:(pc=!0,hc);case"textInput":return e=t.data,e===hc&&pc?null:e;default:return null}}function $m(e,t){if(zr)return e==="compositionend"||!zl&&mc(e,t)?(e=lc(),Hi=Nl=An=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dc&&t.locale!=="ko"?null:t.data;default:return null}}var Rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rm[e.type]:t==="textarea"}function vc(e,t,r,s){yi(s),t=Yi(t,"onChange"),0<t.length&&(r=new Cl("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Io=null,To=null;function Dm(e){Ac(e,0)}function Bi(e){var t=Ar(e);if(We(t))return e}function Am(e,t){if(e==="change")return t}var xc=!1;if(h){var jl;if(h){var $l="oninput"in document;if(!$l){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),$l=typeof wc.oninput=="function"}jl=$l}else jl=!1;xc=jl&&(!document.documentMode||9<document.documentMode)}function Sc(){Io&&(Io.detachEvent("onpropertychange",_c),To=Io=null)}function _c(e){if(e.propertyName==="value"&&Bi(To)){var t=[];vc(t,To,e,rr(e)),Si(Dm,t)}}function Lm(e,t,r){e==="focusin"?(Sc(),Io=t,To=r,Io.attachEvent("onpropertychange",_c)):e==="focusout"&&Sc()}function Fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bi(To)}function Om(e,t){if(e==="click")return Bi(t)}function Hm(e,t){if(e==="input"||e==="change")return Bi(t)}function bm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:bm;function Po(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var u=r[s];if(!p.call(t,u)||!bt(e[u],t[u]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ec(e,t){var r=kc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kc(r)}}function Nc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cc(){for(var e=window,t=et();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=et(e.document)}return t}function Rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qm(e){var t=Cc(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Nc(r.ownerDocument.documentElement,r)){if(s!==null&&Rl(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,f=Math.min(s.start,u);s=s.end===void 0?f:Math.min(s.end,u),!e.extend&&f>s&&(u=s,s=f,f=u),u=Ec(r,f);var y=Ec(r,s);u&&y&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),f>s?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vm=h&&"documentMode"in document&&11>=document.documentMode,jr=null,Dl=null,Mo=null,Al=!1;function Ic(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Al||jr==null||jr!==et(s)||(s=jr,"selectionStart"in s&&Rl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Mo&&Po(Mo,s)||(Mo=s,s=Yi(Dl,"onSelect"),0<s.length&&(t=new Cl("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=jr)))}function Ui(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $r={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},Ll={},Tc={};h&&(Tc=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Wi(e){if(Ll[e])return Ll[e];if(!$r[e])return e;var t=$r[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Tc)return Ll[e]=t[r];return e}var Pc=Wi("animationend"),Mc=Wi("animationiteration"),zc=Wi("animationstart"),jc=Wi("transitionend"),$c=new Map,Rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){$c.set(e,t),c(t,[e])}for(var Fl=0;Fl<Rc.length;Fl++){var Ol=Rc[Fl],Bm=Ol.toLowerCase(),Um=Ol[0].toUpperCase()+Ol.slice(1);Ln(Bm,"on"+Um)}Ln(Pc,"onAnimationEnd"),Ln(Mc,"onAnimationIteration"),Ln(zc,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(jc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wm=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function Dc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,_i(s,t,void 0,e),e.currentTarget=null}function Ac(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],u=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var y=s.length-1;0<=y;y--){var P=s[y],D=P.instance,G=P.currentTarget;if(P=P.listener,D!==f&&u.isPropagationStopped())break e;Dc(u,P,G),f=D}else for(y=0;y<s.length;y++){if(P=s[y],D=P.instance,G=P.currentTarget,P=P.listener,D!==f&&u.isPropagationStopped())break e;Dc(u,P,G),f=D}}}if(Cr)throw e=po,Cr=!1,po=null,e}function Me(e,t){var r=t[Gl];r===void 0&&(r=t[Gl]=new Set);var s=e+"__bubble";r.has(s)||(Lc(t,e,2,!1),r.add(s))}function Hl(e,t,r){var s=0;t&&(s|=4),Lc(r,e,s,t)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function jo(e){if(!e[Gi]){e[Gi]=!0,l.forEach(function(r){r!=="selectionchange"&&(Wm.has(r)||Hl(r,!1,e),Hl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gi]||(t[Gi]=!0,Hl("selectionchange",!1,t))}}function Lc(e,t,r,s){switch(sc(t)){case 1:var u=sm;break;case 4:u=lm;break;default:u=kl}r=u.bind(null,t,r,e),u=void 0,!ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function bl(e,t,r,s,u){var f=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var P=s.stateNode.containerInfo;if(P===u||P.nodeType===8&&P.parentNode===u)break;if(y===4)for(y=s.return;y!==null;){var D=y.tag;if((D===3||D===4)&&(D=y.stateNode.containerInfo,D===u||D.nodeType===8&&D.parentNode===u))return;y=y.return}for(;P!==null;){if(y=lr(P),y===null)return;if(D=y.tag,D===5||D===6){s=f=y;continue e}P=P.parentNode}}s=s.return}Si(function(){var G=f,se=rr(r),le=[];e:{var ie=$c.get(e);if(ie!==void 0){var ce=Cl,de=e;switch(e){case"keypress":if(bi(r)===0)break e;case"keydown":case"keyup":ce=_m;break;case"focusin":de="focus",ce=Pl;break;case"focusout":de="blur",ce=Pl;break;case"beforeblur":case"afterblur":ce=Pl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Nm;break;case Pc:case Mc:case zc:ce=hm;break;case jc:ce=Im;break;case"scroll":ce=am;break;case"wheel":ce=Pm;break;case"copy":case"cut":case"paste":ce=mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=fc}var pe=(t&4)!==0,qe=!pe&&e==="scroll",B=pe?ie!==null?ie+"Capture":null:ie;pe=[];for(var F=G,W;F!==null;){W=F;var ae=W.stateNode;if(W.tag===5&&ae!==null&&(W=ae,B!==null&&(ae=or(F,B),ae!=null&&pe.push($o(F,ae,W)))),qe)break;F=F.return}0<pe.length&&(ie=new ce(ie,de,null,r,se),le.push({event:ie,listeners:pe}))}}if(!(t&7)){e:{if(ie=e==="mouseover"||e==="pointerover",ce=e==="mouseout"||e==="pointerout",ie&&r!==mn&&(de=r.relatedTarget||r.fromElement)&&(lr(de)||de[xn]))break e;if((ce||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,ce?(de=r.relatedTarget||r.toElement,ce=G,de=de?lr(de):null,de!==null&&(qe=vn(de),de!==qe||de.tag!==5&&de.tag!==6)&&(de=null)):(ce=null,de=G),ce!==de)){if(pe=uc,ae="onMouseLeave",B="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(pe=fc,ae="onPointerLeave",B="onPointerEnter",F="pointer"),qe=ce==null?ie:Ar(ce),W=de==null?ie:Ar(de),ie=new pe(ae,F+"leave",ce,r,se),ie.target=qe,ie.relatedTarget=W,ae=null,lr(se)===G&&(pe=new pe(B,F+"enter",de,r,se),pe.target=W,pe.relatedTarget=qe,ae=pe),qe=ae,ce&&de)t:{for(pe=ce,B=de,F=0,W=pe;W;W=Rr(W))F++;for(W=0,ae=B;ae;ae=Rr(ae))W++;for(;0<F-W;)pe=Rr(pe),F--;for(;0<W-F;)B=Rr(B),W--;for(;F--;){if(pe===B||B!==null&&pe===B.alternate)break t;pe=Rr(pe),B=Rr(B)}pe=null}else pe=null;ce!==null&&Fc(le,ie,ce,pe,!1),de!==null&&qe!==null&&Fc(le,qe,de,pe,!0)}}e:{if(ie=G?Ar(G):window,ce=ie.nodeName&&ie.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ie.type==="file")var me=Am;else if(yc(ie))if(xc)me=Hm;else{me=Fm;var xe=Lm}else(ce=ie.nodeName)&&ce.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(me=Om);if(me&&(me=me(e,G))){vc(le,me,r,se);break e}xe&&xe(e,ie,G),e==="focusout"&&(xe=ie._wrapperState)&&xe.controlled&&ie.type==="number"&&Qe(ie,"number",ie.value)}switch(xe=G?Ar(G):window,e){case"focusin":(yc(xe)||xe.contentEditable==="true")&&(jr=xe,Dl=G,Mo=null);break;case"focusout":Mo=Dl=jr=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,Ic(le,r,se);break;case"selectionchange":if(Vm)break;case"keydown":case"keyup":Ic(le,r,se)}var we;if(zl)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else zr?mc(e,r)&&(_e="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_e="onCompositionStart");_e&&(dc&&r.locale!=="ko"&&(zr||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&zr&&(we=lc()):(An=se,Nl="value"in An?An.value:An.textContent,zr=!0)),xe=Yi(G,_e),0<xe.length&&(_e=new cc(_e,e,null,r,se),le.push({event:_e,listeners:xe}),we?_e.data=we:(we=gc(r),we!==null&&(_e.data=we)))),(we=zm?jm(e,r):$m(e,r))&&(G=Yi(G,"onBeforeInput"),0<G.length&&(se=new cc("onBeforeInput","beforeinput",null,r,se),le.push({event:se,listeners:G}),se.data=we))}Ac(le,t)})}function $o(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yi(e,t){for(var r=t+"Capture",s=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=or(e,r),f!=null&&s.unshift($o(e,f,u)),f=or(e,t),f!=null&&s.push($o(e,f,u))),e=e.return}return s}function Rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fc(e,t,r,s,u){for(var f=t._reactName,y=[];r!==null&&r!==s;){var P=r,D=P.alternate,G=P.stateNode;if(D!==null&&D===s)break;P.tag===5&&G!==null&&(P=G,u?(D=or(r,f),D!=null&&y.unshift($o(r,D,P))):u||(D=or(r,f),D!=null&&y.push($o(r,D,P)))),r=r.return}y.length!==0&&e.push({event:t,listeners:y})}var Gm=/\r\n?/g,Ym=/\u0000|\uFFFD/g;function Oc(e){return(typeof e=="string"?e:""+e).replace(Gm,`
`).replace(Ym,"")}function Xi(e,t,r){if(t=Oc(t),Oc(e)!==t&&r)throw Error(i(425))}function Ki(){}var ql=null,Vl=null;function Bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ul=typeof setTimeout=="function"?setTimeout:void 0,Xm=typeof clearTimeout=="function"?clearTimeout:void 0,Hc=typeof Promise=="function"?Promise:void 0,Km=typeof queueMicrotask=="function"?queueMicrotask:typeof Hc<"u"?function(e){return Hc.resolve(null).then(e).catch(Qm)}:Ul;function Qm(e){setTimeout(function(){throw e})}function Wl(e,t){var r=t,s=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(s===0){e.removeChild(u),ko(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=u}while(r);ko(t)}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),rn="__reactFiber$"+Dr,Ro="__reactProps$"+Dr,xn="__reactContainer$"+Dr,Gl="__reactEvents$"+Dr,Zm="__reactListeners$"+Dr,Jm="__reactHandles$"+Dr;function lr(e){var t=e[rn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xn]||r[rn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bc(e);e!==null;){if(r=e[rn])return r;e=bc(e)}return t}e=r,r=e.parentNode}return null}function Do(e){return e=e[rn]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Qi(e){return e[Ro]||null}var Yl=[],Lr=-1;function On(e){return{current:e}}function ze(e){0>Lr||(e.current=Yl[Lr],Yl[Lr]=null,Lr--)}function Pe(e,t){Lr++,Yl[Lr]=e.current,e.current=t}var Hn={},nt=On(Hn),ft=On(!1),ar=Hn;function Fr(e,t){var r=e.type.contextTypes;if(!r)return Hn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in r)u[f]=t[f];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function dt(e){return e=e.childContextTypes,e!=null}function Zi(){ze(ft),ze(nt)}function qc(e,t,r){if(nt.current!==Hn)throw Error(i(168));Pe(nt,t),Pe(ft,r)}function Vc(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var u in s)if(!(u in t))throw Error(i(108,ue(e)||"Unknown",u));return z({},r,s)}function Ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,ar=nt.current,Pe(nt,e),Pe(ft,ft.current),!0}function Bc(e,t,r){var s=e.stateNode;if(!s)throw Error(i(169));r?(e=Vc(e,t,ar),s.__reactInternalMemoizedMergedChildContext=e,ze(ft),ze(nt),Pe(nt,e)):ze(ft),Pe(ft,r)}var wn=null,es=!1,Xl=!1;function Uc(e){wn===null?wn=[e]:wn.push(e)}function eg(e){es=!0,Uc(e)}function bn(){if(!Xl&&wn!==null){Xl=!0;var e=0,t=Te;try{var r=wn;for(Te=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}wn=null,es=!1}catch(u){throw wn!==null&&(wn=wn.slice(e+1)),Ii(mo,bn),u}finally{Te=t,Xl=!1}}return null}var Or=[],Hr=0,ts=null,ns=0,Mt=[],zt=0,ur=null,Sn=1,_n="";function cr(e,t){Or[Hr++]=ns,Or[Hr++]=ts,ts=e,ns=t}function Wc(e,t,r){Mt[zt++]=Sn,Mt[zt++]=_n,Mt[zt++]=ur,ur=e;var s=Sn;e=_n;var u=32-Ht(s)-1;s&=~(1<<u),r+=1;var f=32-Ht(t)+u;if(30<f){var y=u-u%5;f=(s&(1<<y)-1).toString(32),s>>=y,u-=y,Sn=1<<32-Ht(t)+u|r<<u|s,_n=f+e}else Sn=1<<f|r<<u|s,_n=e}function Kl(e){e.return!==null&&(cr(e,1),Wc(e,1,0))}function Ql(e){for(;e===ts;)ts=Or[--Hr],Or[Hr]=null,ns=Or[--Hr],Or[Hr]=null;for(;e===ur;)ur=Mt[--zt],Mt[zt]=null,_n=Mt[--zt],Mt[zt]=null,Sn=Mt[--zt],Mt[zt]=null}var kt=null,Et=null,je=!1,qt=null;function Gc(e,t){var r=Dt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Yc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,Et=Fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ur!==null?{id:Sn,overflow:_n}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,kt=e,Et=null,!0):!1;default:return!1}}function Zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jl(e){if(je){var t=Et;if(t){var r=t;if(!Yc(e,t)){if(Zl(e))throw Error(i(418));t=Fn(r.nextSibling);var s=kt;t&&Yc(e,t)?Gc(s,r):(e.flags=e.flags&-4097|2,je=!1,kt=e)}}else{if(Zl(e))throw Error(i(418));e.flags=e.flags&-4097|2,je=!1,kt=e}}}function Xc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function rs(e){if(e!==kt)return!1;if(!je)return Xc(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bl(e.type,e.memoizedProps)),t&&(t=Et)){if(Zl(e))throw Kc(),Error(i(418));for(;t;)Gc(e,t),t=Fn(t.nextSibling)}if(Xc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Et=Fn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=kt?Fn(e.stateNode.nextSibling):null;return!0}function Kc(){for(var e=Et;e;)e=Fn(e.nextSibling)}function br(){Et=kt=null,je=!1}function ea(e){qt===null?qt=[e]:qt.push(e)}var tg=C.ReactCurrentBatchConfig;function Ao(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var s=r.stateNode}if(!s)throw Error(i(147,e));var u=s,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(y){var P=u.refs;y===null?delete P[f]:P[f]=y},t._stringRef=f,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function os(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qc(e){var t=e._init;return t(e._payload)}function Zc(e){function t(B,F){if(e){var W=B.deletions;W===null?(B.deletions=[F],B.flags|=16):W.push(F)}}function r(B,F){if(!e)return null;for(;F!==null;)t(B,F),F=F.sibling;return null}function s(B,F){for(B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function u(B,F){return B=Xn(B,F),B.index=0,B.sibling=null,B}function f(B,F,W){return B.index=W,e?(W=B.alternate,W!==null?(W=W.index,W<F?(B.flags|=2,F):W):(B.flags|=2,F)):(B.flags|=1048576,F)}function y(B){return e&&B.alternate===null&&(B.flags|=2),B}function P(B,F,W,ae){return F===null||F.tag!==6?(F=Ua(W,B.mode,ae),F.return=B,F):(F=u(F,W),F.return=B,F)}function D(B,F,W,ae){var me=W.type;return me===U?se(B,F,W.props.children,ae,W.key):F!==null&&(F.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===I&&Qc(me)===F.type)?(ae=u(F,W.props),ae.ref=Ao(B,F,W),ae.return=B,ae):(ae=Ts(W.type,W.key,W.props,null,B.mode,ae),ae.ref=Ao(B,F,W),ae.return=B,ae)}function G(B,F,W,ae){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=Wa(W,B.mode,ae),F.return=B,F):(F=u(F,W.children||[]),F.return=B,F)}function se(B,F,W,ae,me){return F===null||F.tag!==7?(F=vr(W,B.mode,ae,me),F.return=B,F):(F=u(F,W),F.return=B,F)}function le(B,F,W){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Ua(""+F,B.mode,W),F.return=B,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return W=Ts(F.type,F.key,F.props,null,B.mode,W),W.ref=Ao(B,null,F),W.return=B,W;case L:return F=Wa(F,B.mode,W),F.return=B,F;case I:var ae=F._init;return le(B,ae(F._payload),W)}if(xt(F)||N(F))return F=vr(F,B.mode,W,null),F.return=B,F;os(B,F)}return null}function ie(B,F,W,ae){var me=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return me!==null?null:P(B,F,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case V:return W.key===me?D(B,F,W,ae):null;case L:return W.key===me?G(B,F,W,ae):null;case I:return me=W._init,ie(B,F,me(W._payload),ae)}if(xt(W)||N(W))return me!==null?null:se(B,F,W,ae,null);os(B,W)}return null}function ce(B,F,W,ae,me){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return B=B.get(W)||null,P(F,B,""+ae,me);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case V:return B=B.get(ae.key===null?W:ae.key)||null,D(F,B,ae,me);case L:return B=B.get(ae.key===null?W:ae.key)||null,G(F,B,ae,me);case I:var xe=ae._init;return ce(B,F,W,xe(ae._payload),me)}if(xt(ae)||N(ae))return B=B.get(W)||null,se(F,B,ae,me,null);os(F,ae)}return null}function de(B,F,W,ae){for(var me=null,xe=null,we=F,_e=F=0,Xe=null;we!==null&&_e<W.length;_e++){we.index>_e?(Xe=we,we=null):Xe=we.sibling;var Ce=ie(B,we,W[_e],ae);if(Ce===null){we===null&&(we=Xe);break}e&&we&&Ce.alternate===null&&t(B,we),F=f(Ce,F,_e),xe===null?me=Ce:xe.sibling=Ce,xe=Ce,we=Xe}if(_e===W.length)return r(B,we),je&&cr(B,_e),me;if(we===null){for(;_e<W.length;_e++)we=le(B,W[_e],ae),we!==null&&(F=f(we,F,_e),xe===null?me=we:xe.sibling=we,xe=we);return je&&cr(B,_e),me}for(we=s(B,we);_e<W.length;_e++)Xe=ce(we,B,_e,W[_e],ae),Xe!==null&&(e&&Xe.alternate!==null&&we.delete(Xe.key===null?_e:Xe.key),F=f(Xe,F,_e),xe===null?me=Xe:xe.sibling=Xe,xe=Xe);return e&&we.forEach(function(Kn){return t(B,Kn)}),je&&cr(B,_e),me}function pe(B,F,W,ae){var me=N(W);if(typeof me!="function")throw Error(i(150));if(W=me.call(W),W==null)throw Error(i(151));for(var xe=me=null,we=F,_e=F=0,Xe=null,Ce=W.next();we!==null&&!Ce.done;_e++,Ce=W.next()){we.index>_e?(Xe=we,we=null):Xe=we.sibling;var Kn=ie(B,we,Ce.value,ae);if(Kn===null){we===null&&(we=Xe);break}e&&we&&Kn.alternate===null&&t(B,we),F=f(Kn,F,_e),xe===null?me=Kn:xe.sibling=Kn,xe=Kn,we=Xe}if(Ce.done)return r(B,we),je&&cr(B,_e),me;if(we===null){for(;!Ce.done;_e++,Ce=W.next())Ce=le(B,Ce.value,ae),Ce!==null&&(F=f(Ce,F,_e),xe===null?me=Ce:xe.sibling=Ce,xe=Ce);return je&&cr(B,_e),me}for(we=s(B,we);!Ce.done;_e++,Ce=W.next())Ce=ce(we,B,_e,Ce.value,ae),Ce!==null&&(e&&Ce.alternate!==null&&we.delete(Ce.key===null?_e:Ce.key),F=f(Ce,F,_e),xe===null?me=Ce:xe.sibling=Ce,xe=Ce);return e&&we.forEach(function($g){return t(B,$g)}),je&&cr(B,_e),me}function qe(B,F,W,ae){if(typeof W=="object"&&W!==null&&W.type===U&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case V:e:{for(var me=W.key,xe=F;xe!==null;){if(xe.key===me){if(me=W.type,me===U){if(xe.tag===7){r(B,xe.sibling),F=u(xe,W.props.children),F.return=B,B=F;break e}}else if(xe.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===I&&Qc(me)===xe.type){r(B,xe.sibling),F=u(xe,W.props),F.ref=Ao(B,xe,W),F.return=B,B=F;break e}r(B,xe);break}else t(B,xe);xe=xe.sibling}W.type===U?(F=vr(W.props.children,B.mode,ae,W.key),F.return=B,B=F):(ae=Ts(W.type,W.key,W.props,null,B.mode,ae),ae.ref=Ao(B,F,W),ae.return=B,B=ae)}return y(B);case L:e:{for(xe=W.key;F!==null;){if(F.key===xe)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){r(B,F.sibling),F=u(F,W.children||[]),F.return=B,B=F;break e}else{r(B,F);break}else t(B,F);F=F.sibling}F=Wa(W,B.mode,ae),F.return=B,B=F}return y(B);case I:return xe=W._init,qe(B,F,xe(W._payload),ae)}if(xt(W))return de(B,F,W,ae);if(N(W))return pe(B,F,W,ae);os(B,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,F!==null&&F.tag===6?(r(B,F.sibling),F=u(F,W),F.return=B,B=F):(r(B,F),F=Ua(W,B.mode,ae),F.return=B,B=F),y(B)):r(B,F)}return qe}var qr=Zc(!0),Jc=Zc(!1),is=On(null),ss=null,Vr=null,ta=null;function na(){ta=Vr=ss=null}function ra(e){var t=is.current;ze(is),e._currentValue=t}function oa(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Br(e,t){ss=e,ta=Vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ht=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(ta!==e)if(e={context:e,memoizedValue:t,next:null},Vr===null){if(ss===null)throw Error(i(308));Vr=e,ss.dependencies={lanes:0,firstContext:e}}else Vr=Vr.next=e;return t}var fr=null;function ia(e){fr===null?fr=[e]:fr.push(e)}function ef(e,t,r,s){var u=t.interleaved;return u===null?(r.next=r,ia(t)):(r.next=u.next,u.next=r),t.interleaved=r,kn(e,s)}function kn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qn=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function En(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ne&2){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,kn(e,r)}return u=s.interleaved,u===null?(t.next=t,ia(s)):(t.next=u.next,u.next=t),s.interleaved=t,kn(e,r)}function ls(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,wl(e,r)}}function nf(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?u=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?u=f=t:f=f.next=t}else u=f=t;r={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function as(e,t,r,s){var u=e.updateQueue;qn=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,P=u.shared.pending;if(P!==null){u.shared.pending=null;var D=P,G=D.next;D.next=null,y===null?f=G:y.next=G,y=D;var se=e.alternate;se!==null&&(se=se.updateQueue,P=se.lastBaseUpdate,P!==y&&(P===null?se.firstBaseUpdate=G:P.next=G,se.lastBaseUpdate=D))}if(f!==null){var le=u.baseState;y=0,se=G=D=null,P=f;do{var ie=P.lane,ce=P.eventTime;if((s&ie)===ie){se!==null&&(se=se.next={eventTime:ce,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var de=e,pe=P;switch(ie=t,ce=r,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){le=de.call(ce,le,ie);break e}le=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,ie=typeof de=="function"?de.call(ce,le,ie):de,ie==null)break e;le=z({},le,ie);break e;case 2:qn=!0}}P.callback!==null&&P.lane!==0&&(e.flags|=64,ie=u.effects,ie===null?u.effects=[P]:ie.push(P))}else ce={eventTime:ce,lane:ie,tag:P.tag,payload:P.payload,callback:P.callback,next:null},se===null?(G=se=ce,D=le):se=se.next=ce,y|=ie;if(P=P.next,P===null){if(P=u.shared.pending,P===null)break;ie=P,P=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);if(se===null&&(D=le),u.baseState=D,u.firstBaseUpdate=G,u.lastBaseUpdate=se,t=u.shared.interleaved,t!==null){u=t;do y|=u.lane,u=u.next;while(u!==t)}else f===null&&(u.shared.lanes=0);pr|=y,e.lanes=y,e.memoizedState=le}}function rf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],u=s.callback;if(u!==null){if(s.callback=null,s=r,typeof u!="function")throw Error(i(191,u));u.call(s)}}}var Lo={},on=On(Lo),Fo=On(Lo),Oo=On(Lo);function dr(e){if(e===Lo)throw Error(i(174));return e}function la(e,t){switch(Pe(Oo,t),Pe(Fo,e),Pe(on,Lo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lt(t,e)}ze(on),Pe(on,t)}function Ur(){ze(on),ze(Fo),ze(Oo)}function of(e){dr(Oo.current);var t=dr(on.current),r=Lt(t,e.type);t!==r&&(Pe(Fo,e),Pe(on,r))}function aa(e){Fo.current===e&&(ze(on),ze(Fo))}var Re=On(0);function us(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function ca(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var cs=C.ReactCurrentDispatcher,fa=C.ReactCurrentBatchConfig,hr=0,De=null,Be=null,Ge=null,fs=!1,Ho=!1,bo=0,ng=0;function rt(){throw Error(i(321))}function da(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bt(e[r],t[r]))return!1;return!0}function ha(e,t,r,s,u,f){if(hr=f,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cs.current=e===null||e.memoizedState===null?sg:lg,e=r(s,u),Ho){f=0;do{if(Ho=!1,bo=0,25<=f)throw Error(i(301));f+=1,Ge=Be=null,t.updateQueue=null,cs.current=ag,e=r(s,u)}while(Ho)}if(cs.current=ps,t=Be!==null&&Be.next!==null,hr=0,Ge=Be=De=null,fs=!1,t)throw Error(i(300));return e}function pa(){var e=bo!==0;return bo=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?De.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function $t(){if(Be===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ge===null?De.memoizedState:Ge.next;if(t!==null)Ge=t,Be=e;else{if(e===null)throw Error(i(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ge===null?De.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function qo(e,t){return typeof t=="function"?t(e):t}function ma(e){var t=$t(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=Be,u=s.baseQueue,f=r.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}s.baseQueue=u=f,r.pending=null}if(u!==null){f=u.next,s=s.baseState;var P=y=null,D=null,G=f;do{var se=G.lane;if((hr&se)===se)D!==null&&(D=D.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),s=G.hasEagerState?G.eagerState:e(s,G.action);else{var le={lane:se,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};D===null?(P=D=le,y=s):D=D.next=le,De.lanes|=se,pr|=se}G=G.next}while(G!==null&&G!==f);D===null?y=s:D.next=P,bt(s,t.memoizedState)||(ht=!0),t.memoizedState=s,t.baseState=y,t.baseQueue=D,r.lastRenderedState=s}if(e=r.interleaved,e!==null){u=e;do f=u.lane,De.lanes|=f,pr|=f,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ga(e){var t=$t(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=r.dispatch,u=r.pending,f=t.memoizedState;if(u!==null){r.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);bt(f,t.memoizedState)||(ht=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,s]}function sf(){}function lf(e,t){var r=De,s=$t(),u=t(),f=!bt(s.memoizedState,u);if(f&&(s.memoizedState=u,ht=!0),s=s.queue,ya(cf.bind(null,r,s,e),[e]),s.getSnapshot!==t||f||Ge!==null&&Ge.memoizedState.tag&1){if(r.flags|=2048,Vo(9,uf.bind(null,r,s,u,t),void 0,null),Ye===null)throw Error(i(349));hr&30||af(r,t,u)}return u}function af(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function uf(e,t,r,s){t.value=r,t.getSnapshot=s,ff(t)&&df(e)}function cf(e,t,r){return r(function(){ff(t)&&df(e)})}function ff(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bt(e,r)}catch{return!0}}function df(e){var t=kn(e,1);t!==null&&Wt(t,e,1,-1)}function hf(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:e},t.queue=e,e=e.dispatch=ig.bind(null,De,e),[t.memoizedState,e]}function Vo(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function pf(){return $t().memoizedState}function ds(e,t,r,s){var u=sn();De.flags|=e,u.memoizedState=Vo(1|t,r,void 0,s===void 0?null:s)}function hs(e,t,r,s){var u=$t();s=s===void 0?null:s;var f=void 0;if(Be!==null){var y=Be.memoizedState;if(f=y.destroy,s!==null&&da(s,y.deps)){u.memoizedState=Vo(t,r,f,s);return}}De.flags|=e,u.memoizedState=Vo(1|t,r,f,s)}function mf(e,t){return ds(8390656,8,e,t)}function ya(e,t){return hs(2048,8,e,t)}function gf(e,t){return hs(4,2,e,t)}function yf(e,t){return hs(4,4,e,t)}function vf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xf(e,t,r){return r=r!=null?r.concat([e]):null,hs(4,4,vf.bind(null,t,e),r)}function va(){}function wf(e,t){var r=$t();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&da(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Sf(e,t){var r=$t();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&da(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function _f(e,t,r){return hr&21?(bt(r,t)||(r=Qu(),De.lanes|=r,pr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=r)}function rg(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var s=fa.transition;fa.transition={};try{e(!1),t()}finally{Te=r,fa.transition=s}}function kf(){return $t().memoizedState}function og(e,t,r){var s=Gn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Ef(e))Nf(t,r);else if(r=ef(e,t,r,s),r!==null){var u=at();Wt(r,e,s,u),Cf(r,t,s)}}function ig(e,t,r){var s=Gn(e),u={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ef(e))Nf(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,P=f(y,r);if(u.hasEagerState=!0,u.eagerState=P,bt(P,y)){var D=t.interleaved;D===null?(u.next=u,ia(t)):(u.next=D.next,D.next=u),t.interleaved=u;return}}catch{}finally{}r=ef(e,t,u,s),r!==null&&(u=at(),Wt(r,e,s,u),Cf(r,t,s))}}function Ef(e){var t=e.alternate;return e===De||t!==null&&t===De}function Nf(e,t){Ho=fs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Cf(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,wl(e,r)}}var ps={readContext:jt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},sg={readContext:jt,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:mf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ds(4194308,4,vf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return ds(4,2,e,t)},useMemo:function(e,t){var r=sn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=sn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=og.bind(null,De,e),[s.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:hf,useDebugValue:va,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=hf(!1),t=e[0];return e=rg.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=De,u=sn();if(je){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),Ye===null)throw Error(i(349));hr&30||af(s,t,r)}u.memoizedState=r;var f={value:r,getSnapshot:t};return u.queue=f,mf(cf.bind(null,s,f,e),[e]),s.flags|=2048,Vo(9,uf.bind(null,s,f,r,t),void 0,null),r},useId:function(){var e=sn(),t=Ye.identifierPrefix;if(je){var r=_n,s=Sn;r=(s&~(1<<32-Ht(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=bo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ng++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lg={readContext:jt,useCallback:wf,useContext:jt,useEffect:ya,useImperativeHandle:xf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Sf,useReducer:ma,useRef:pf,useState:function(){return ma(qo)},useDebugValue:va,useDeferredValue:function(e){var t=$t();return _f(t,Be.memoizedState,e)},useTransition:function(){var e=ma(qo)[0],t=$t().memoizedState;return[e,t]},useMutableSource:sf,useSyncExternalStore:lf,useId:kf,unstable_isNewReconciler:!1},ag={readContext:jt,useCallback:wf,useContext:jt,useEffect:ya,useImperativeHandle:xf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Sf,useReducer:ga,useRef:pf,useState:function(){return ga(qo)},useDebugValue:va,useDeferredValue:function(e){var t=$t();return Be===null?t.memoizedState=e:_f(t,Be.memoizedState,e)},useTransition:function(){var e=ga(qo)[0],t=$t().memoizedState;return[e,t]},useMutableSource:sf,useSyncExternalStore:lf,useId:kf,unstable_isNewReconciler:!1};function Vt(e,t){if(e&&e.defaultProps){t=z({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function xa(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:z({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ms={isMounted:function(e){return(e=e._reactInternals)?vn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=at(),u=Gn(e),f=En(s,u);f.payload=t,r!=null&&(f.callback=r),t=Vn(e,f,u),t!==null&&(Wt(t,e,u,s),ls(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=at(),u=Gn(e),f=En(s,u);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=Vn(e,f,u),t!==null&&(Wt(t,e,u,s),ls(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=at(),s=Gn(e),u=En(r,s);u.tag=2,t!=null&&(u.callback=t),t=Vn(e,u,s),t!==null&&(Wt(t,e,s,r),ls(t,e,s))}};function If(e,t,r,s,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,y):t.prototype&&t.prototype.isPureReactComponent?!Po(r,s)||!Po(u,f):!0}function Tf(e,t,r){var s=!1,u=Hn,f=t.contextType;return typeof f=="object"&&f!==null?f=jt(f):(u=dt(t)?ar:nt.current,s=t.contextTypes,f=(s=s!=null)?Fr(e,u):Hn),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ms,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),t}function Pf(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&ms.enqueueReplaceState(t,t.state,null)}function wa(e,t,r,s){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},sa(e);var f=t.contextType;typeof f=="object"&&f!==null?u.context=jt(f):(f=dt(t)?ar:nt.current,u.context=Fr(e,f)),u.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(xa(e,t,f,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&ms.enqueueReplaceState(u,u.state,null),as(e,r,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Wr(e,t){try{var r="",s=t;do r+=ne(s),s=s.return;while(s);var u=r}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:u,digest:null}}function Sa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function _a(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ug=typeof WeakMap=="function"?WeakMap:Map;function Mf(e,t,r){r=En(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){_s||(_s=!0,La=s),_a(e,t)},r}function zf(e,t,r){r=En(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=t.value;r.payload=function(){return s(u)},r.callback=function(){_a(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){_a(e,t),typeof s!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),r}function jf(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new ug;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(r)||(u.add(r),e=kg.bind(null,e,t,r),t.then(e,e))}function $f(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rf(e,t,r,s,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=En(-1,1),t.tag=2,Vn(r,t,1))),r.lanes|=1),e)}var cg=C.ReactCurrentOwner,ht=!1;function lt(e,t,r,s){t.child=e===null?Jc(t,null,r,s):qr(t,e.child,r,s)}function Df(e,t,r,s,u){r=r.render;var f=t.ref;return Br(t,u),s=ha(e,t,r,s,f,u),r=pa(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Nn(e,t,u)):(je&&r&&Kl(t),t.flags|=1,lt(e,t,s,u),t.child)}function Af(e,t,r,s,u){if(e===null){var f=r.type;return typeof f=="function"&&!Ba(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,Lf(e,t,f,s,u)):(e=Ts(r.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&u)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Po,r(y,s)&&e.ref===t.ref)return Nn(e,t,u)}return t.flags|=1,e=Xn(f,s),e.ref=t.ref,e.return=t,t.child=e}function Lf(e,t,r,s,u){if(e!==null){var f=e.memoizedProps;if(Po(f,s)&&e.ref===t.ref)if(ht=!1,t.pendingProps=s=f,(e.lanes&u)!==0)e.flags&131072&&(ht=!0);else return t.lanes=e.lanes,Nn(e,t,u)}return ka(e,t,r,s,u)}function Ff(e,t,r){var s=t.pendingProps,u=s.children,f=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Yr,Nt),Nt|=r;else{if(!(r&1073741824))return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(Yr,Nt),Nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=f!==null?f.baseLanes:r,Pe(Yr,Nt),Nt|=s}else f!==null?(s=f.baseLanes|r,t.memoizedState=null):s=r,Pe(Yr,Nt),Nt|=s;return lt(e,t,u,r),t.child}function Of(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,r,s,u){var f=dt(r)?ar:nt.current;return f=Fr(t,f),Br(t,u),r=ha(e,t,r,s,f,u),s=pa(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Nn(e,t,u)):(je&&s&&Kl(t),t.flags|=1,lt(e,t,r,u),t.child)}function Hf(e,t,r,s,u){if(dt(r)){var f=!0;Ji(t)}else f=!1;if(Br(t,u),t.stateNode===null)ys(e,t),Tf(t,r,s),wa(t,r,s,u),s=!0;else if(e===null){var y=t.stateNode,P=t.memoizedProps;y.props=P;var D=y.context,G=r.contextType;typeof G=="object"&&G!==null?G=jt(G):(G=dt(r)?ar:nt.current,G=Fr(t,G));var se=r.getDerivedStateFromProps,le=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function";le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P!==s||D!==G)&&Pf(t,y,s,G),qn=!1;var ie=t.memoizedState;y.state=ie,as(t,s,y,u),D=t.memoizedState,P!==s||ie!==D||ft.current||qn?(typeof se=="function"&&(xa(t,r,se,s),D=t.memoizedState),(P=qn||If(t,r,P,s,ie,D,G))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=D),y.props=s,y.state=D,y.context=G,s=P):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{y=t.stateNode,tf(e,t),P=t.memoizedProps,G=t.type===t.elementType?P:Vt(t.type,P),y.props=G,le=t.pendingProps,ie=y.context,D=r.contextType,typeof D=="object"&&D!==null?D=jt(D):(D=dt(r)?ar:nt.current,D=Fr(t,D));var ce=r.getDerivedStateFromProps;(se=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P!==le||ie!==D)&&Pf(t,y,s,D),qn=!1,ie=t.memoizedState,y.state=ie,as(t,s,y,u);var de=t.memoizedState;P!==le||ie!==de||ft.current||qn?(typeof ce=="function"&&(xa(t,r,ce,s),de=t.memoizedState),(G=qn||If(t,r,G,s,ie,de,D)||!1)?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,de,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,de,D)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||P===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=de),y.props=s,y.state=de,y.context=D,s=G):(typeof y.componentDidUpdate!="function"||P===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),s=!1)}return Ea(e,t,r,s,f,u)}function Ea(e,t,r,s,u,f){Of(e,t);var y=(t.flags&128)!==0;if(!s&&!y)return u&&Bc(t,r,!1),Nn(e,t,f);s=t.stateNode,cg.current=t;var P=y&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&y?(t.child=qr(t,e.child,null,f),t.child=qr(t,null,P,f)):lt(e,t,P,f),t.memoizedState=s.state,u&&Bc(t,r,!0),t.child}function bf(e){var t=e.stateNode;t.pendingContext?qc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qc(e,t.context,!1),la(e,t.containerInfo)}function qf(e,t,r,s,u){return br(),ea(u),t.flags|=256,lt(e,t,r,s),t.child}var Na={dehydrated:null,treeContext:null,retryLane:0};function Ca(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vf(e,t,r){var s=t.pendingProps,u=Re.current,f=!1,y=(t.flags&128)!==0,P;if((P=y)||(P=e!==null&&e.memoizedState===null?!1:(u&2)!==0),P?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Pe(Re,u&1),e===null)return Jl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(y=s.children,e=s.fallback,f?(s=t.mode,f=t.child,y={mode:"hidden",children:y},!(s&1)&&f!==null?(f.childLanes=0,f.pendingProps=y):f=Ps(y,s,0,null),e=vr(e,s,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Ca(r),t.memoizedState=Na,e):Ia(t,y));if(u=e.memoizedState,u!==null&&(P=u.dehydrated,P!==null))return fg(e,t,y,s,P,u,r);if(f){f=s.fallback,y=t.mode,u=e.child,P=u.sibling;var D={mode:"hidden",children:s.children};return!(y&1)&&t.child!==u?(s=t.child,s.childLanes=0,s.pendingProps=D,t.deletions=null):(s=Xn(u,D),s.subtreeFlags=u.subtreeFlags&14680064),P!==null?f=Xn(P,f):(f=vr(f,y,r,null),f.flags|=2),f.return=t,s.return=t,s.sibling=f,t.child=s,s=f,f=t.child,y=e.child.memoizedState,y=y===null?Ca(r):{baseLanes:y.baseLanes|r,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~r,t.memoizedState=Na,s}return f=e.child,e=f.sibling,s=Xn(f,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Ia(e,t){return t=Ps({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gs(e,t,r,s){return s!==null&&ea(s),qr(t,e.child,null,r),e=Ia(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fg(e,t,r,s,u,f,y){if(r)return t.flags&256?(t.flags&=-257,s=Sa(Error(i(422))),gs(e,t,y,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=s.fallback,u=t.mode,s=Ps({mode:"visible",children:s.children},u,0,null),f=vr(f,u,y,null),f.flags|=2,s.return=t,f.return=t,s.sibling=f,t.child=s,t.mode&1&&qr(t,e.child,null,y),t.child.memoizedState=Ca(y),t.memoizedState=Na,f);if(!(t.mode&1))return gs(e,t,y,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var P=s.dgst;return s=P,f=Error(i(419)),s=Sa(f,s,void 0),gs(e,t,y,s)}if(P=(y&e.childLanes)!==0,ht||P){if(s=Ye,s!==null){switch(y&-y){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(s.suspendedLanes|y)?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,kn(e,u),Wt(s,e,u,-1))}return Va(),s=Sa(Error(i(421))),gs(e,t,y,s)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Eg.bind(null,e),u._reactRetry=t,null):(e=f.treeContext,Et=Fn(u.nextSibling),kt=t,je=!0,qt=null,e!==null&&(Mt[zt++]=Sn,Mt[zt++]=_n,Mt[zt++]=ur,Sn=e.id,_n=e.overflow,ur=t),t=Ia(t,s.children),t.flags|=4096,t)}function Bf(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),oa(e.return,t,r)}function Ta(e,t,r,s,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=r,f.tailMode=u)}function Uf(e,t,r){var s=t.pendingProps,u=s.revealOrder,f=s.tail;if(lt(e,t,s.children,r),s=Re.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bf(e,r,t);else if(e.tag===19)Bf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Pe(Re,s),!(t.mode&1))t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&us(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),Ta(t,!1,u,r,f);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&us(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}Ta(t,!0,r,null,f);break;case"together":Ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ys(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=Xn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dg(e,t,r){switch(t.tag){case 3:bf(t),br();break;case 5:of(t);break;case 1:dt(t.type)&&Ji(t);break;case 4:la(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,u=t.memoizedProps.value;Pe(is,s._currentValue),s._currentValue=u;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Pe(Re,Re.current&1),t.flags|=128,null):r&t.child.childLanes?Vf(e,t,r):(Pe(Re,Re.current&1),e=Nn(e,t,r),e!==null?e.sibling:null);Pe(Re,Re.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Uf(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Pe(Re,Re.current),s)break;return null;case 22:case 23:return t.lanes=0,Ff(e,t,r)}return Nn(e,t,r)}var Wf,Pa,Gf,Yf;Wf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Pa=function(){},Gf=function(e,t,r,s){var u=e.memoizedProps;if(u!==s){e=t.stateNode,dr(on.current);var f=null;switch(r){case"input":u=tt(e,u),s=tt(e,s),f=[];break;case"select":u=z({},u,{value:void 0}),s=z({},s,{value:void 0}),f=[];break;case"textarea":u=Qt(e,u),s=Qt(e,s),f=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ki)}St(r,s);var y;r=null;for(G in u)if(!s.hasOwnProperty(G)&&u.hasOwnProperty(G)&&u[G]!=null)if(G==="style"){var P=u[G];for(y in P)P.hasOwnProperty(y)&&(r||(r={}),r[y]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(a.hasOwnProperty(G)?f||(f=[]):(f=f||[]).push(G,null));for(G in s){var D=s[G];if(P=u!=null?u[G]:void 0,s.hasOwnProperty(G)&&D!==P&&(D!=null||P!=null))if(G==="style")if(P){for(y in P)!P.hasOwnProperty(y)||D&&D.hasOwnProperty(y)||(r||(r={}),r[y]="");for(y in D)D.hasOwnProperty(y)&&P[y]!==D[y]&&(r||(r={}),r[y]=D[y])}else r||(f||(f=[]),f.push(G,r)),r=D;else G==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,P=P?P.__html:void 0,D!=null&&P!==D&&(f=f||[]).push(G,D)):G==="children"?typeof D!="string"&&typeof D!="number"||(f=f||[]).push(G,""+D):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(a.hasOwnProperty(G)?(D!=null&&G==="onScroll"&&Me("scroll",e),f||P===D||(f=[])):(f=f||[]).push(G,D))}r&&(f=f||[]).push("style",r);var G=f;(t.updateQueue=G)&&(t.flags|=4)}},Yf=function(e,t,r,s){r!==s&&(t.flags|=4)};function Bo(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function hg(e,t,r){var s=t.pendingProps;switch(Ql(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return dt(t.type)&&Zi(),ot(t),null;case 3:return s=t.stateNode,Ur(),ze(ft),ze(nt),ca(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(Ha(qt),qt=null))),Pa(e,t),ot(t),null;case 5:aa(t);var u=dr(Oo.current);if(r=t.type,e!==null&&t.stateNode!=null)Gf(e,t,r,s,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return ot(t),null}if(e=dr(on.current),rs(t)){s=t.stateNode,r=t.type;var f=t.memoizedProps;switch(s[rn]=t,s[Ro]=f,e=(t.mode&1)!==0,r){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(u=0;u<zo.length;u++)Me(zo[u],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Fe(s,f),Me("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!f.multiple},Me("invalid",s);break;case"textarea":fn(s,f),Me("invalid",s)}St(r,f),u=null;for(var y in f)if(f.hasOwnProperty(y)){var P=f[y];y==="children"?typeof P=="string"?s.textContent!==P&&(f.suppressHydrationWarning!==!0&&Xi(s.textContent,P,e),u=["children",P]):typeof P=="number"&&s.textContent!==""+P&&(f.suppressHydrationWarning!==!0&&Xi(s.textContent,P,e),u=["children",""+P]):a.hasOwnProperty(y)&&P!=null&&y==="onScroll"&&Me("scroll",s)}switch(r){case"input":Le(s),ye(s,f,!0);break;case"textarea":Le(s),dn(s);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(s.onclick=Ki)}s=u,t.updateQueue=s,s!==null&&(t.flags|=4)}else{y=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zt(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=y.createElement(r,{is:s.is}):(e=y.createElement(r),r==="select"&&(y=e,s.multiple?y.multiple=!0:s.size&&(y.size=s.size))):e=y.createElementNS(e,r),e[rn]=t,e[Ro]=s,Wf(e,t,!1,!1),t.stateNode=e;e:{switch(y=ct(r,s),r){case"dialog":Me("cancel",e),Me("close",e),u=s;break;case"iframe":case"object":case"embed":Me("load",e),u=s;break;case"video":case"audio":for(u=0;u<zo.length;u++)Me(zo[u],e);u=s;break;case"source":Me("error",e),u=s;break;case"img":case"image":case"link":Me("error",e),Me("load",e),u=s;break;case"details":Me("toggle",e),u=s;break;case"input":Fe(e,s),u=tt(e,s),Me("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=z({},s,{value:void 0}),Me("invalid",e);break;case"textarea":fn(e,s),u=Qt(e,s),Me("invalid",e);break;default:u=s}St(r,u),P=u;for(f in P)if(P.hasOwnProperty(f)){var D=P[f];f==="style"?en(e,D):f==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&hn(e,D)):f==="children"?typeof D=="string"?(r!=="textarea"||D!=="")&&Ot(e,D):typeof D=="number"&&Ot(e,""+D):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?D!=null&&f==="onScroll"&&Me("scroll",e):D!=null&&q(e,f,D,y))}switch(r){case"input":Le(e),ye(e,s,!1);break;case"textarea":Le(e),dn(e);break;case"option":s.value!=null&&e.setAttribute("value",""+he(s.value));break;case"select":e.multiple=!!s.multiple,f=s.value,f!=null?It(e,!!s.multiple,f,!1):s.defaultValue!=null&&It(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Ki)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)Yf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(r=dr(Oo.current),dr(on.current),rs(t)){if(s=t.stateNode,r=t.memoizedProps,s[rn]=t,(f=s.nodeValue!==r)&&(e=kt,e!==null))switch(e.tag){case 3:Xi(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xi(s.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[rn]=t,t.stateNode=s}return ot(t),null;case 13:if(ze(Re),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&Et!==null&&t.mode&1&&!(t.flags&128))Kc(),br(),t.flags|=98560,f=!1;else if(f=rs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[rn]=t}else br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),f=!1}else qt!==null&&(Ha(qt),qt=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Ue===0&&(Ue=3):Va())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return Ur(),Pa(e,t),e===null&&jo(t.stateNode.containerInfo),ot(t),null;case 10:return ra(t.type._context),ot(t),null;case 17:return dt(t.type)&&Zi(),ot(t),null;case 19:if(ze(Re),f=t.memoizedState,f===null)return ot(t),null;if(s=(t.flags&128)!==0,y=f.rendering,y===null)if(s)Bo(f,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(y=us(e),y!==null){for(t.flags|=128,Bo(f,!1),s=y.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)f=r,e=s,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pe(Re,Re.current&1|2),t.child}e=e.sibling}f.tail!==null&&$e()>Xr&&(t.flags|=128,s=!0,Bo(f,!1),t.lanes=4194304)}else{if(!s)if(e=us(y),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Bo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!je)return ot(t),null}else 2*$e()-f.renderingStartTime>Xr&&r!==1073741824&&(t.flags|=128,s=!0,Bo(f,!1),t.lanes=4194304);f.isBackwards?(y.sibling=t.child,t.child=y):(r=f.last,r!==null?r.sibling=y:t.child=y,f.last=y)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=$e(),t.sibling=null,r=Re.current,Pe(Re,s?r&1|2:r&1),t):(ot(t),null);case 22:case 23:return qa(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Nt&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function pg(e,t){switch(Ql(t),t.tag){case 1:return dt(t.type)&&Zi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ur(),ze(ft),ze(nt),ca(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return aa(t),null;case 13:if(ze(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Re),null;case 4:return Ur(),null;case 10:return ra(t.type._context),null;case 22:case 23:return qa(),null;case 24:return null;default:return null}}var vs=!1,it=!1,mg=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Gr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){He(e,t,s)}else r.current=null}function Ma(e,t,r){try{r()}catch(s){He(e,t,s)}}var Xf=!1;function gg(e,t){if(ql=Fi,e=Cc(),Rl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var u=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,P=-1,D=-1,G=0,se=0,le=e,ie=null;t:for(;;){for(var ce;le!==r||u!==0&&le.nodeType!==3||(P=y+u),le!==f||s!==0&&le.nodeType!==3||(D=y+s),le.nodeType===3&&(y+=le.nodeValue.length),(ce=le.firstChild)!==null;)ie=le,le=ce;for(;;){if(le===e)break t;if(ie===r&&++G===u&&(P=y),ie===f&&++se===s&&(D=y),(ce=le.nextSibling)!==null)break;le=ie,ie=le.parentNode}le=ce}r=P===-1||D===-1?null:{start:P,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vl={focusedElem:e,selectionRange:r},Fi=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var de=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,qe=de.memoizedState,B=t.stateNode,F=B.getSnapshotBeforeUpdate(t.elementType===t.type?pe:Vt(t.type,pe),qe);B.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var W=t.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ae){He(t,t.return,ae)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return de=Xf,Xf=!1,de}function Uo(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&Ma(t,r,f)}u=u.next}while(u!==s)}}function xs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function za(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Kf(e){var t=e.alternate;t!==null&&(e.alternate=null,Kf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rn],delete t[Ro],delete t[Gl],delete t[Zm],delete t[Jm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qf(e){return e.tag===5||e.tag===3||e.tag===4}function Zf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ja(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ki));else if(s!==4&&(e=e.child,e!==null))for(ja(e,t,r),e=e.sibling;e!==null;)ja(e,t,r),e=e.sibling}function $a(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for($a(e,t,r),e=e.sibling;e!==null;)$a(e,t,r),e=e.sibling}var Ze=null,Bt=!1;function Bn(e,t,r){for(r=r.child;r!==null;)Jf(e,t,r),r=r.sibling}function Jf(e,t,r){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Tr,r)}catch{}switch(r.tag){case 5:it||Gr(r,t);case 6:var s=Ze,u=Bt;Ze=null,Bn(e,t,r),Ze=s,Bt=u,Ze!==null&&(Bt?(e=Ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ze.removeChild(r.stateNode));break;case 18:Ze!==null&&(Bt?(e=Ze,r=r.stateNode,e.nodeType===8?Wl(e.parentNode,r):e.nodeType===1&&Wl(e,r),ko(e)):Wl(Ze,r.stateNode));break;case 4:s=Ze,u=Bt,Ze=r.stateNode.containerInfo,Bt=!0,Bn(e,t,r),Ze=s,Bt=u;break;case 0:case 11:case 14:case 15:if(!it&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var f=u,y=f.destroy;f=f.tag,y!==void 0&&(f&2||f&4)&&Ma(r,t,y),u=u.next}while(u!==s)}Bn(e,t,r);break;case 1:if(!it&&(Gr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(P){He(r,t,P)}Bn(e,t,r);break;case 21:Bn(e,t,r);break;case 22:r.mode&1?(it=(s=it)||r.memoizedState!==null,Bn(e,t,r),it=s):Bn(e,t,r);break;default:Bn(e,t,r)}}function ed(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new mg),t.forEach(function(s){var u=Ng.bind(null,e,s);r.has(s)||(r.add(s),s.then(u,u))})}}function Ut(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];try{var f=e,y=t,P=y;e:for(;P!==null;){switch(P.tag){case 5:Ze=P.stateNode,Bt=!1;break e;case 3:Ze=P.stateNode.containerInfo,Bt=!0;break e;case 4:Ze=P.stateNode.containerInfo,Bt=!0;break e}P=P.return}if(Ze===null)throw Error(i(160));Jf(f,y,u),Ze=null,Bt=!1;var D=u.alternate;D!==null&&(D.return=null),u.return=null}catch(G){He(u,t,G)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)td(t,e),t=t.sibling}function td(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),ln(e),s&4){try{Uo(3,e,e.return),xs(3,e)}catch(pe){He(e,e.return,pe)}try{Uo(5,e,e.return)}catch(pe){He(e,e.return,pe)}}break;case 1:Ut(t,e),ln(e),s&512&&r!==null&&Gr(r,r.return);break;case 5:if(Ut(t,e),ln(e),s&512&&r!==null&&Gr(r,r.return),e.flags&32){var u=e.stateNode;try{Ot(u,"")}catch(pe){He(e,e.return,pe)}}if(s&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,y=r!==null?r.memoizedProps:f,P=e.type,D=e.updateQueue;if(e.updateQueue=null,D!==null)try{P==="input"&&f.type==="radio"&&f.name!=null&&vt(u,f),ct(P,y);var G=ct(P,f);for(y=0;y<D.length;y+=2){var se=D[y],le=D[y+1];se==="style"?en(u,le):se==="dangerouslySetInnerHTML"?hn(u,le):se==="children"?Ot(u,le):q(u,se,le,G)}switch(P){case"input":Ie(u,f);break;case"textarea":Tt(u,f);break;case"select":var ie=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var ce=f.value;ce!=null?It(u,!!f.multiple,ce,!1):ie!==!!f.multiple&&(f.defaultValue!=null?It(u,!!f.multiple,f.defaultValue,!0):It(u,!!f.multiple,f.multiple?[]:"",!1))}u[Ro]=f}catch(pe){He(e,e.return,pe)}}break;case 6:if(Ut(t,e),ln(e),s&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(pe){He(e,e.return,pe)}}break;case 3:if(Ut(t,e),ln(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{ko(t.containerInfo)}catch(pe){He(e,e.return,pe)}break;case 4:Ut(t,e),ln(e);break;case 13:Ut(t,e),ln(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(Aa=$e())),s&4&&ed(e);break;case 22:if(se=r!==null&&r.memoizedState!==null,e.mode&1?(it=(G=it)||se,Ut(t,e),it=G):Ut(t,e),ln(e),s&8192){if(G=e.memoizedState!==null,(e.stateNode.isHidden=G)&&!se&&e.mode&1)for(fe=e,se=e.child;se!==null;){for(le=fe=se;fe!==null;){switch(ie=fe,ce=ie.child,ie.tag){case 0:case 11:case 14:case 15:Uo(4,ie,ie.return);break;case 1:Gr(ie,ie.return);var de=ie.stateNode;if(typeof de.componentWillUnmount=="function"){s=ie,r=ie.return;try{t=s,de.props=t.memoizedProps,de.state=t.memoizedState,de.componentWillUnmount()}catch(pe){He(s,r,pe)}}break;case 5:Gr(ie,ie.return);break;case 22:if(ie.memoizedState!==null){od(le);continue}}ce!==null?(ce.return=ie,fe=ce):od(le)}se=se.sibling}e:for(se=null,le=e;;){if(le.tag===5){if(se===null){se=le;try{u=le.stateNode,G?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(P=le.stateNode,D=le.memoizedProps.style,y=D!=null&&D.hasOwnProperty("display")?D.display:null,P.style.display=Jt("display",y))}catch(pe){He(e,e.return,pe)}}}else if(le.tag===6){if(se===null)try{le.stateNode.nodeValue=G?"":le.memoizedProps}catch(pe){He(e,e.return,pe)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===e)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===e)break e;for(;le.sibling===null;){if(le.return===null||le.return===e)break e;se===le&&(se=null),le=le.return}se===le&&(se=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Ut(t,e),ln(e),s&4&&ed(e);break;case 21:break;default:Ut(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Qf(r)){var s=r;break e}r=r.return}throw Error(i(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(Ot(u,""),s.flags&=-33);var f=Zf(e);$a(e,f,u);break;case 3:case 4:var y=s.stateNode.containerInfo,P=Zf(e);ja(e,P,y);break;default:throw Error(i(161))}}catch(D){He(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yg(e,t,r){fe=e,nd(e)}function nd(e,t,r){for(var s=(e.mode&1)!==0;fe!==null;){var u=fe,f=u.child;if(u.tag===22&&s){var y=u.memoizedState!==null||vs;if(!y){var P=u.alternate,D=P!==null&&P.memoizedState!==null||it;P=vs;var G=it;if(vs=y,(it=D)&&!G)for(fe=u;fe!==null;)y=fe,D=y.child,y.tag===22&&y.memoizedState!==null?id(u):D!==null?(D.return=y,fe=D):id(u);for(;f!==null;)fe=f,nd(f),f=f.sibling;fe=u,vs=P,it=G}rd(e)}else u.subtreeFlags&8772&&f!==null?(f.return=u,fe=f):rd(e)}}function rd(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||xs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!it)if(r===null)s.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:Vt(t.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&rf(t,f,s);break;case 3:var y=t.updateQueue;if(y!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}rf(t,y,r)}break;case 5:var P=t.stateNode;if(r===null&&t.flags&4){r=P;var D=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&r.focus();break;case"img":D.src&&(r.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var G=t.alternate;if(G!==null){var se=G.memoizedState;if(se!==null){var le=se.dehydrated;le!==null&&ko(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}it||t.flags&512&&za(t)}catch(ie){He(t,t.return,ie)}}if(t===e){fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,fe=r;break}fe=t.return}}function od(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,fe=r;break}fe=t.return}}function id(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xs(4,t)}catch(D){He(t,r,D)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var u=t.return;try{s.componentDidMount()}catch(D){He(t,u,D)}}var f=t.return;try{za(t)}catch(D){He(t,f,D)}break;case 5:var y=t.return;try{za(t)}catch(D){He(t,y,D)}}}catch(D){He(t,t.return,D)}if(t===e){fe=null;break}var P=t.sibling;if(P!==null){P.return=t.return,fe=P;break}fe=t.return}}var vg=Math.ceil,ws=C.ReactCurrentDispatcher,Ra=C.ReactCurrentOwner,Rt=C.ReactCurrentBatchConfig,Ne=0,Ye=null,Ve=null,Je=0,Nt=0,Yr=On(0),Ue=0,Wo=null,pr=0,Ss=0,Da=0,Go=null,pt=null,Aa=0,Xr=1/0,Cn=null,_s=!1,La=null,Un=null,ks=!1,Wn=null,Es=0,Yo=0,Fa=null,Ns=-1,Cs=0;function at(){return Ne&6?$e():Ns!==-1?Ns:Ns=$e()}function Gn(e){return e.mode&1?Ne&2&&Je!==0?Je&-Je:tg.transition!==null?(Cs===0&&(Cs=Qu()),Cs):(e=Te,e!==0||(e=window.event,e=e===void 0?16:sc(e.type)),e):1}function Wt(e,t,r,s){if(50<Yo)throw Yo=0,Fa=null,Error(i(185));vo(e,r,s),(!(Ne&2)||e!==Ye)&&(e===Ye&&(!(Ne&2)&&(Ss|=r),Ue===4&&Yn(e,Je)),mt(e,s),r===1&&Ne===0&&!(t.mode&1)&&(Xr=$e()+500,es&&bn()))}function mt(e,t){var r=e.callbackNode;tm(e,t);var s=Di(e,e===Ye?Je:0);if(s===0)r!==null&&Ti(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Ti(r),t===1)e.tag===0?eg(ld.bind(null,e)):Uc(ld.bind(null,e)),Km(function(){!(Ne&6)&&bn()}),r=null;else{switch(Zu(s)){case 1:r=mo;break;case 4:r=Mi;break;case 16:r=Ir;break;case 536870912:r=ji;break;default:r=Ir}r=md(r,sd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sd(e,t){if(Ns=-1,Cs=0,Ne&6)throw Error(i(327));var r=e.callbackNode;if(Kr()&&e.callbackNode!==r)return null;var s=Di(e,e===Ye?Je:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Is(e,s);else{t=s;var u=Ne;Ne|=2;var f=ud();(Ye!==e||Je!==t)&&(Cn=null,Xr=$e()+500,gr(e,t));do try{Sg();break}catch(P){ad(e,P)}while(!0);na(),ws.current=f,Ne=u,Ve!==null?t=0:(Ye=null,Je=0,t=Ue)}if(t!==0){if(t===2&&(u=vl(e),u!==0&&(s=u,t=Oa(e,u))),t===1)throw r=Wo,gr(e,0),Yn(e,s),mt(e,$e()),r;if(t===6)Yn(e,s);else{if(u=e.current.alternate,!(s&30)&&!xg(u)&&(t=Is(e,s),t===2&&(f=vl(e),f!==0&&(s=f,t=Oa(e,f))),t===1))throw r=Wo,gr(e,0),Yn(e,s),mt(e,$e()),r;switch(e.finishedWork=u,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:yr(e,pt,Cn);break;case 3:if(Yn(e,s),(s&130023424)===s&&(t=Aa+500-$e(),10<t)){if(Di(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){at(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Ul(yr.bind(null,e,pt,Cn),t);break}yr(e,pt,Cn);break;case 4:if(Yn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,u=-1;0<s;){var y=31-Ht(s);f=1<<y,y=t[y],y>u&&(u=y),s&=~f}if(s=u,s=$e()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*vg(s/1960))-s,10<s){e.timeoutHandle=Ul(yr.bind(null,e,pt,Cn),s);break}yr(e,pt,Cn);break;case 5:yr(e,pt,Cn);break;default:throw Error(i(329))}}}return mt(e,$e()),e.callbackNode===r?sd.bind(null,e):null}function Oa(e,t){var r=Go;return e.current.memoizedState.isDehydrated&&(gr(e,t).flags|=256),e=Is(e,t),e!==2&&(t=pt,pt=r,t!==null&&Ha(t)),e}function Ha(e){pt===null?pt=e:pt.push.apply(pt,e)}function xg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var u=r[s],f=u.getSnapshot;u=u.value;try{if(!bt(f(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yn(e,t){for(t&=~Da,t&=~Ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ht(t),s=1<<r;e[r]=-1,t&=~s}}function ld(e){if(Ne&6)throw Error(i(327));Kr();var t=Di(e,0);if(!(t&1))return mt(e,$e()),null;var r=Is(e,t);if(e.tag!==0&&r===2){var s=vl(e);s!==0&&(t=s,r=Oa(e,s))}if(r===1)throw r=Wo,gr(e,0),Yn(e,t),mt(e,$e()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,pt,Cn),mt(e,$e()),null}function ba(e,t){var r=Ne;Ne|=1;try{return e(t)}finally{Ne=r,Ne===0&&(Xr=$e()+500,es&&bn())}}function mr(e){Wn!==null&&Wn.tag===0&&!(Ne&6)&&Kr();var t=Ne;Ne|=1;var r=Rt.transition,s=Te;try{if(Rt.transition=null,Te=1,e)return e()}finally{Te=s,Rt.transition=r,Ne=t,!(Ne&6)&&bn()}}function qa(){Nt=Yr.current,ze(Yr)}function gr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Xm(r)),Ve!==null)for(r=Ve.return;r!==null;){var s=r;switch(Ql(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Zi();break;case 3:Ur(),ze(ft),ze(nt),ca();break;case 5:aa(s);break;case 4:Ur();break;case 13:ze(Re);break;case 19:ze(Re);break;case 10:ra(s.type._context);break;case 22:case 23:qa()}r=r.return}if(Ye=e,Ve=e=Xn(e.current,null),Je=Nt=t,Ue=0,Wo=null,Da=Ss=pr=0,pt=Go=null,fr!==null){for(t=0;t<fr.length;t++)if(r=fr[t],s=r.interleaved,s!==null){r.interleaved=null;var u=s.next,f=r.pending;if(f!==null){var y=f.next;f.next=u,s.next=y}r.pending=s}fr=null}return e}function ad(e,t){do{var r=Ve;try{if(na(),cs.current=ps,fs){for(var s=De.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}fs=!1}if(hr=0,Ge=Be=De=null,Ho=!1,bo=0,Ra.current=null,r===null||r.return===null){Ue=1,Wo=t,Ve=null;break}e:{var f=e,y=r.return,P=r,D=t;if(t=Je,P.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var G=D,se=P,le=se.tag;if(!(se.mode&1)&&(le===0||le===11||le===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var ce=$f(y);if(ce!==null){ce.flags&=-257,Rf(ce,y,P,f,t),ce.mode&1&&jf(f,G,t),t=ce,D=G;var de=t.updateQueue;if(de===null){var pe=new Set;pe.add(D),t.updateQueue=pe}else de.add(D);break e}else{if(!(t&1)){jf(f,G,t),Va();break e}D=Error(i(426))}}else if(je&&P.mode&1){var qe=$f(y);if(qe!==null){!(qe.flags&65536)&&(qe.flags|=256),Rf(qe,y,P,f,t),ea(Wr(D,P));break e}}f=D=Wr(D,P),Ue!==4&&(Ue=2),Go===null?Go=[f]:Go.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var B=Mf(f,D,t);nf(f,B);break e;case 1:P=D;var F=f.type,W=f.stateNode;if(!(f.flags&128)&&(typeof F.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Un===null||!Un.has(W)))){f.flags|=65536,t&=-t,f.lanes|=t;var ae=zf(f,P,t);nf(f,ae);break e}}f=f.return}while(f!==null)}fd(r)}catch(me){t=me,Ve===r&&r!==null&&(Ve=r=r.return);continue}break}while(!0)}function ud(){var e=ws.current;return ws.current=ps,e===null?ps:e}function Va(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ye===null||!(pr&268435455)&&!(Ss&268435455)||Yn(Ye,Je)}function Is(e,t){var r=Ne;Ne|=2;var s=ud();(Ye!==e||Je!==t)&&(Cn=null,gr(e,t));do try{wg();break}catch(u){ad(e,u)}while(!0);if(na(),Ne=r,ws.current=s,Ve!==null)throw Error(i(261));return Ye=null,Je=0,Ue}function wg(){for(;Ve!==null;)cd(Ve)}function Sg(){for(;Ve!==null&&!Pi();)cd(Ve)}function cd(e){var t=pd(e.alternate,e,Nt);e.memoizedProps=e.pendingProps,t===null?fd(e):Ve=t,Ra.current=null}function fd(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pg(r,t),r!==null){r.flags&=32767,Ve=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Ve=null;return}}else if(r=hg(r,t,Nt),r!==null){Ve=r;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Ue===0&&(Ue=5)}function yr(e,t,r){var s=Te,u=Rt.transition;try{Rt.transition=null,Te=1,_g(e,t,r,s)}finally{Rt.transition=u,Te=s}return null}function _g(e,t,r,s){do Kr();while(Wn!==null);if(Ne&6)throw Error(i(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(nm(e,f),e===Ye&&(Ve=Ye=null,Je=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ks||(ks=!0,md(Ir,function(){return Kr(),null})),f=(r.flags&15990)!==0,r.subtreeFlags&15990||f){f=Rt.transition,Rt.transition=null;var y=Te;Te=1;var P=Ne;Ne|=4,Ra.current=null,gg(e,r),td(r,e),qm(Vl),Fi=!!ql,Vl=ql=null,e.current=r,yg(r),gl(),Ne=P,Te=y,Rt.transition=f}else e.current=r;if(ks&&(ks=!1,Wn=e,Es=u),f=e.pendingLanes,f===0&&(Un=null),go(r.stateNode),mt(e,$e()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],s(u.value,{componentStack:u.stack,digest:u.digest});if(_s)throw _s=!1,e=La,La=null,e;return Es&1&&e.tag!==0&&Kr(),f=e.pendingLanes,f&1?e===Fa?Yo++:(Yo=0,Fa=e):Yo=0,bn(),null}function Kr(){if(Wn!==null){var e=Zu(Es),t=Rt.transition,r=Te;try{if(Rt.transition=null,Te=16>e?16:e,Wn===null)var s=!1;else{if(e=Wn,Wn=null,Es=0,Ne&6)throw Error(i(331));var u=Ne;for(Ne|=4,fe=e.current;fe!==null;){var f=fe,y=f.child;if(fe.flags&16){var P=f.deletions;if(P!==null){for(var D=0;D<P.length;D++){var G=P[D];for(fe=G;fe!==null;){var se=fe;switch(se.tag){case 0:case 11:case 15:Uo(8,se,f)}var le=se.child;if(le!==null)le.return=se,fe=le;else for(;fe!==null;){se=fe;var ie=se.sibling,ce=se.return;if(Kf(se),se===G){fe=null;break}if(ie!==null){ie.return=ce,fe=ie;break}fe=ce}}}var de=f.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var qe=pe.sibling;pe.sibling=null,pe=qe}while(pe!==null)}}fe=f}}if(f.subtreeFlags&2064&&y!==null)y.return=f,fe=y;else e:for(;fe!==null;){if(f=fe,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Uo(9,f,f.return)}var B=f.sibling;if(B!==null){B.return=f.return,fe=B;break e}fe=f.return}}var F=e.current;for(fe=F;fe!==null;){y=fe;var W=y.child;if(y.subtreeFlags&2064&&W!==null)W.return=y,fe=W;else e:for(y=F;fe!==null;){if(P=fe,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:xs(9,P)}}catch(me){He(P,P.return,me)}if(P===y){fe=null;break e}var ae=P.sibling;if(ae!==null){ae.return=P.return,fe=ae;break e}fe=P.return}}if(Ne=u,bn(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Tr,e)}catch{}s=!0}return s}finally{Te=r,Rt.transition=t}}return!1}function dd(e,t,r){t=Wr(r,t),t=Mf(e,t,1),e=Vn(e,t,1),t=at(),e!==null&&(vo(e,1,t),mt(e,t))}function He(e,t,r){if(e.tag===3)dd(e,e,r);else for(;t!==null;){if(t.tag===3){dd(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Un===null||!Un.has(s))){e=Wr(r,e),e=zf(t,e,1),t=Vn(t,e,1),e=at(),t!==null&&(vo(t,1,e),mt(t,e));break}}t=t.return}}function kg(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&r,Ye===e&&(Je&r)===r&&(Ue===4||Ue===3&&(Je&130023424)===Je&&500>$e()-Aa?gr(e,0):Da|=r),mt(e,t)}function hd(e,t){t===0&&(e.mode&1?(t=Ri,Ri<<=1,!(Ri&130023424)&&(Ri=4194304)):t=1);var r=at();e=kn(e,t),e!==null&&(vo(e,t,r),mt(e,r))}function Eg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),hd(e,r)}function Ng(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),hd(e,r)}var pd;pd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)ht=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ht=!1,dg(e,t,r);ht=!!(e.flags&131072)}else ht=!1,je&&t.flags&1048576&&Wc(t,ns,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ys(e,t),e=t.pendingProps;var u=Fr(t,nt.current);Br(t,r),u=ha(null,t,s,e,u,r);var f=pa();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(s)?(f=!0,Ji(t)):f=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,sa(t),u.updater=ms,t.stateNode=u,u._reactInternals=t,wa(t,s,e,r),t=Ea(null,t,s,!0,f,r)):(t.tag=0,je&&f&&Kl(t),lt(null,t,u,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ys(e,t),e=t.pendingProps,u=s._init,s=u(s._payload),t.type=s,u=t.tag=Ig(s),e=Vt(s,e),u){case 0:t=ka(null,t,s,e,r);break e;case 1:t=Hf(null,t,s,e,r);break e;case 11:t=Df(null,t,s,e,r);break e;case 14:t=Af(null,t,s,Vt(s.type,e),r);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Vt(s,u),ka(e,t,s,u,r);case 1:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Vt(s,u),Hf(e,t,s,u,r);case 3:e:{if(bf(t),e===null)throw Error(i(387));s=t.pendingProps,f=t.memoizedState,u=f.element,tf(e,t),as(t,s,null,r);var y=t.memoizedState;if(s=y.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){u=Wr(Error(i(423)),t),t=qf(e,t,s,r,u);break e}else if(s!==u){u=Wr(Error(i(424)),t),t=qf(e,t,s,r,u);break e}else for(Et=Fn(t.stateNode.containerInfo.firstChild),kt=t,je=!0,qt=null,r=Jc(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(br(),s===u){t=Nn(e,t,r);break e}lt(e,t,s,r)}t=t.child}return t;case 5:return of(t),e===null&&Jl(t),s=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,y=u.children,Bl(s,u)?y=null:f!==null&&Bl(s,f)&&(t.flags|=32),Of(e,t),lt(e,t,y,r),t.child;case 6:return e===null&&Jl(t),null;case 13:return Vf(e,t,r);case 4:return la(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=qr(t,null,s,r):lt(e,t,s,r),t.child;case 11:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Vt(s,u),Df(e,t,s,u,r);case 7:return lt(e,t,t.pendingProps,r),t.child;case 8:return lt(e,t,t.pendingProps.children,r),t.child;case 12:return lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,u=t.pendingProps,f=t.memoizedProps,y=u.value,Pe(is,s._currentValue),s._currentValue=y,f!==null)if(bt(f.value,y)){if(f.children===u.children&&!ft.current){t=Nn(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var P=f.dependencies;if(P!==null){y=f.child;for(var D=P.firstContext;D!==null;){if(D.context===s){if(f.tag===1){D=En(-1,r&-r),D.tag=2;var G=f.updateQueue;if(G!==null){G=G.shared;var se=G.pending;se===null?D.next=D:(D.next=se.next,se.next=D),G.pending=D}}f.lanes|=r,D=f.alternate,D!==null&&(D.lanes|=r),oa(f.return,r,t),P.lanes|=r;break}D=D.next}}else if(f.tag===10)y=f.type===t.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(i(341));y.lanes|=r,P=y.alternate,P!==null&&(P.lanes|=r),oa(y,r,t),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}lt(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,s=t.pendingProps.children,Br(t,r),u=jt(u),s=s(u),t.flags|=1,lt(e,t,s,r),t.child;case 14:return s=t.type,u=Vt(s,t.pendingProps),u=Vt(s.type,u),Af(e,t,s,u,r);case 15:return Lf(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Vt(s,u),ys(e,t),t.tag=1,dt(s)?(e=!0,Ji(t)):e=!1,Br(t,r),Tf(t,s,u),wa(t,s,u,r),Ea(null,t,s,!0,e,r);case 19:return Uf(e,t,r);case 22:return Ff(e,t,r)}throw Error(i(156,t.tag))};function md(e,t){return Ii(e,t)}function Cg(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,r,s){return new Cg(e,t,r,s)}function Ba(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ig(e){if(typeof e=="function")return Ba(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oe)return 11;if(e===T)return 14}return 2}function Xn(e,t){var r=e.alternate;return r===null?(r=Dt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ts(e,t,r,s,u,f){var y=2;if(s=e,typeof e=="function")Ba(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case U:return vr(r.children,u,f,t);case Q:y=8,u|=8;break;case Y:return e=Dt(12,r,t,u|2),e.elementType=Y,e.lanes=f,e;case te:return e=Dt(13,r,t,u),e.elementType=te,e.lanes=f,e;case k:return e=Dt(19,r,t,u),e.elementType=k,e.lanes=f,e;case O:return Ps(r,u,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:y=10;break e;case Z:y=9;break e;case oe:y=11;break e;case T:y=14;break e;case I:y=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Dt(y,r,t,u),t.elementType=e,t.type=s,t.lanes=f,t}function vr(e,t,r,s){return e=Dt(7,e,s,t),e.lanes=r,e}function Ps(e,t,r,s){return e=Dt(22,e,s,t),e.elementType=O,e.lanes=r,e.stateNode={isHidden:!1},e}function Ua(e,t,r){return e=Dt(6,e,null,t),e.lanes=r,e}function Wa(e,t,r){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tg(e,t,r,s,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xl(0),this.expirationTimes=xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Ga(e,t,r,s,u,f,y,P,D){return e=new Tg(e,t,r,P,D),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Dt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sa(f),e}function Pg(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function gd(e){if(!e)return Hn;e=e._reactInternals;e:{if(vn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(dt(r))return Vc(e,r,t)}return t}function yd(e,t,r,s,u,f,y,P,D){return e=Ga(r,s,!0,e,u,f,y,P,D),e.context=gd(null),r=e.current,s=at(),u=Gn(r),f=En(s,u),f.callback=t??null,Vn(r,f,u),e.current.lanes=u,vo(e,u,s),mt(e,s),e}function Ms(e,t,r,s){var u=t.current,f=at(),y=Gn(u);return r=gd(r),t.context===null?t.context=r:t.pendingContext=r,t=En(f,y),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Vn(u,t,y),e!==null&&(Wt(e,u,y,f),ls(e,u,y)),y}function zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ya(e,t){vd(e,t),(e=e.alternate)&&vd(e,t)}var xd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xa(e){this._internalRoot=e}js.prototype.render=Xa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Ms(e,t,null,null)},js.prototype.unmount=Xa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mr(function(){Ms(null,e,null,null)}),t[xn]=null}};function js(e){this._internalRoot=e}js.prototype.unstable_scheduleHydration=function(e){if(e){var t=tc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dn.length&&t!==0&&t<Dn[r].priority;r++);Dn.splice(r,0,e),r===0&&oc(e)}};function Ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wd(){}function Mg(e,t,r,s,u){if(u){if(typeof s=="function"){var f=s;s=function(){var G=zs(y);f.call(G)}}var y=yd(t,s,e,0,null,!1,!1,"",wd);return e._reactRootContainer=y,e[xn]=y.current,jo(e.nodeType===8?e.parentNode:e),mr(),y}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var P=s;s=function(){var G=zs(D);P.call(G)}}var D=Ga(e,0,!1,null,null,!1,!1,"",wd);return e._reactRootContainer=D,e[xn]=D.current,jo(e.nodeType===8?e.parentNode:e),mr(function(){Ms(t,D,r,s)}),D}function Rs(e,t,r,s,u){var f=r._reactRootContainer;if(f){var y=f;if(typeof u=="function"){var P=u;u=function(){var D=zs(y);P.call(D)}}Ms(t,y,e,u)}else y=Mg(r,t,e,u,s);return zs(y)}Ju=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yo(t.pendingLanes);r!==0&&(wl(t,r|1),mt(t,$e()),!(Ne&6)&&(Xr=$e()+500,bn()))}break;case 13:mr(function(){var s=kn(e,1);if(s!==null){var u=at();Wt(s,e,1,u)}}),Ya(e,1)}},Sl=function(e){if(e.tag===13){var t=kn(e,134217728);if(t!==null){var r=at();Wt(t,e,134217728,r)}Ya(e,134217728)}},ec=function(e){if(e.tag===13){var t=Gn(e),r=kn(e,t);if(r!==null){var s=at();Wt(r,e,t,s)}Ya(e,t)}},tc=function(){return Te},nc=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}},gn=function(e,t,r){switch(t){case"input":if(Ie(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var u=Qi(s);if(!u)throw Error(i(90));We(s),Ie(s,u)}}}break;case"textarea":Tt(e,r);break;case"select":t=r.value,t!=null&&It(e,!!r.multiple,t,!1)}},xi=ba,wi=mr;var zg={usingClientEntryPoint:!1,Events:[Do,Ar,Qi,yi,vi,ba]},Xo={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jg={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ni(e),e===null?null:e.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Tr=Ds.inject(jg),Pt=Ds}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zg,gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ka(t))throw Error(i(200));return Pg(e,t,null,r)},gt.createRoot=function(e,t){if(!Ka(e))throw Error(i(299));var r=!1,s="",u=xd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Ga(e,1,!1,null,null,r,!1,s,u),e[xn]=t.current,jo(e.nodeType===8?e.parentNode:e),new Xa(t)},gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Ni(t),e=e===null?null:e.stateNode,e},gt.flushSync=function(e){return mr(e)},gt.hydrate=function(e,t,r){if(!$s(t))throw Error(i(200));return Rs(null,e,t,!0,r)},gt.hydrateRoot=function(e,t,r){if(!Ka(e))throw Error(i(405));var s=r!=null&&r.hydratedSources||null,u=!1,f="",y=xd;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),t=yd(t,null,e,1,r??null,u,!1,f,y),e[xn]=t.current,jo(e),s)for(e=0;e<s.length;e++)r=s[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new js(t)},gt.render=function(e,t,r){if(!$s(t))throw Error(i(200));return Rs(null,e,t,!1,r)},gt.unmountComponentAtNode=function(e){if(!$s(e))throw Error(i(40));return e._reactRootContainer?(mr(function(){Rs(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1},gt.unstable_batchedUpdates=ba,gt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!$s(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Rs(e,t,r,!1,s)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var Zd;function tp(){if(Zd)return lu.exports;Zd=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),lu.exports=zx(),lu.exports}tp();const cl=H.createContext(null),jx=cl.Provider,zn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,o)=>`Couldn't create edge for ${n?"target":"source"} handle id: "${n?o.targetHandle:o.sourceHandle}", edge id: ${o.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},np=zn.error001();function Ae(n,o){const i=H.useContext(cl);if(i===null)throw new Error(np);return Ih(i,n,o)}const Ke=()=>{const n=H.useContext(cl);if(n===null)throw new Error(np);return H.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe,destroy:n.destroy}),[n])},$x=n=>n.userSelectionActive?"none":"all";function rp({position:n,children:o,className:i,style:l,...a}){const c=Ae($x),d=`${n}`.split("-");return ee.createElement("div",{className:ut(["react-flow__panel",i,...d]),style:{...l,pointerEvents:c},...a},o)}function Rx({proOptions:n,position:o="bottom-right"}){return n!=null&&n.hideAttribution?null:ee.createElement(rp,{position:o,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ee.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Dx=({x:n,y:o,label:i,labelStyle:l={},labelShowBg:a=!0,labelBgStyle:c={},labelBgPadding:d=[2,4],labelBgBorderRadius:h=2,children:p,className:g,...m})=>{const v=H.useRef(null),[w,S]=H.useState({x:0,y:0,width:0,height:0}),M=ut(["react-flow__edge-textwrapper",g]);return H.useEffect(()=>{if(v.current){const E=v.current.getBBox();S({x:E.x,y:E.y,width:E.width,height:E.height})}},[i]),typeof i>"u"||!i?null:ee.createElement("g",{transform:`translate(${n-w.width/2} ${o-w.height/2})`,className:M,visibility:w.width?"visible":"hidden",...m},a&&ee.createElement("rect",{width:w.width+2*d[0],x:-d[0],y:-d[1],height:w.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:h,ry:h}),ee.createElement("text",{className:"react-flow__edge-text",y:w.height/2,dy:"0.3em",ref:v,style:l},i),p)};var Ax=H.memo(Dx);const Fu=n=>({width:n.offsetWidth,height:n.offsetHeight}),ao=(n,o=0,i=1)=>Math.min(Math.max(n,o),i),Ou=(n={x:0,y:0},o)=>({x:ao(n.x,o[0][0],o[1][0]),y:ao(n.y,o[0][1],o[1][1])}),Jd=(n,o,i)=>n<o?ao(Math.abs(n-o),1,50)/50:n>i?-ao(Math.abs(n-i),1,50)/50:0,op=(n,o)=>{const i=Jd(n.x,35,o.width-35)*20,l=Jd(n.y,35,o.height-35)*20;return[i,l]},ip=n=>{var o;return((o=n.getRootNode)==null?void 0:o.call(n))||(window==null?void 0:window.document)},Lx=(n,o)=>({x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x2,o.x2),y2:Math.max(n.y2,o.y2)}),Hu=({x:n,y:o,width:i,height:l})=>({x:n,y:o,x2:n+i,y2:o+l}),Fx=({x:n,y:o,x2:i,y2:l})=>({x:n,y:o,width:i-n,height:l-o}),eh=n=>({...n.positionAbsolute||{x:0,y:0},width:n.width||0,height:n.height||0}),Eu=(n,o)=>{const i=Math.max(0,Math.min(n.x+n.width,o.x+o.width)-Math.max(n.x,o.x)),l=Math.max(0,Math.min(n.y+n.height,o.y+o.height)-Math.max(n.y,o.y));return Math.ceil(i*l)},Ox=n=>At(n.width)&&At(n.height)&&At(n.x)&&At(n.y),At=n=>!isNaN(n)&&isFinite(n),be=Symbol.for("internals"),sp=["Enter"," ","Escape"],Hx=(n,o)=>{},bx=n=>"nativeEvent"in n;function Nu(n){var a,c;const o=bx(n)?n.nativeEvent:n,i=((c=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:c[0])||n.target;return["INPUT","SELECT","TEXTAREA"].includes(i==null?void 0:i.nodeName)||(i==null?void 0:i.hasAttribute("contenteditable"))||!!(i!=null&&i.closest(".nokey"))}const lp=n=>"clientX"in n,nr=(n,o)=>{var c,d;const i=lp(n),l=i?n.clientX:(c=n.touches)==null?void 0:c[0].clientX,a=i?n.clientY:(d=n.touches)==null?void 0:d[0].clientY;return{x:l-((o==null?void 0:o.left)??0),y:a-((o==null?void 0:o.top)??0)}},ol=()=>{var n;return typeof navigator<"u"&&((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.indexOf("Mac"))>=0},gi=({id:n,path:o,labelX:i,labelY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:w,interactionWidth:S=20})=>ee.createElement(ee.Fragment,null,ee.createElement("path",{id:n,style:m,d:o,fill:"none",className:"react-flow__edge-path",markerEnd:v,markerStart:w}),S&&ee.createElement("path",{d:o,fill:"none",strokeOpacity:0,strokeWidth:S,className:"react-flow__edge-interaction"}),a&&At(i)&&At(l)?ee.createElement(Ax,{x:i,y:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g}):null);gi.displayName="BaseEdge";function Jo(n,o,i){return i===void 0?i:l=>{const a=o().edges.find(c=>c.id===n);a&&i(l,{...a})}}function ap({sourceX:n,sourceY:o,targetX:i,targetY:l}){const a=Math.abs(i-n)/2,c=i<n?i+a:i-a,d=Math.abs(l-o)/2,h=l<o?l+d:l-d;return[c,h,a,d]}function up({sourceX:n,sourceY:o,targetX:i,targetY:l,sourceControlX:a,sourceControlY:c,targetControlX:d,targetControlY:h}){const p=n*.125+a*.375+d*.375+i*.125,g=o*.125+c*.375+h*.375+l*.125,m=Math.abs(p-n),v=Math.abs(g-o);return[p,g,m,v]}var Er;(function(n){n.Strict="strict",n.Loose="loose"})(Er||(Er={}));var Sr;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(Sr||(Sr={}));var ci;(function(n){n.Partial="partial",n.Full="full"})(ci||(ci={}));var Tn;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(Tn||(Tn={}));var uo;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(uo||(uo={}));var ge;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(ge||(ge={}));function th({pos:n,x1:o,y1:i,x2:l,y2:a}){return n===ge.Left||n===ge.Right?[.5*(o+l),i]:[o,.5*(i+a)]}function cp({sourceX:n,sourceY:o,sourcePosition:i=ge.Bottom,targetX:l,targetY:a,targetPosition:c=ge.Top}){const[d,h]=th({pos:i,x1:n,y1:o,x2:l,y2:a}),[p,g]=th({pos:c,x1:l,y1:a,x2:n,y2:o}),[m,v,w,S]=up({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:d,sourceControlY:h,targetControlX:p,targetControlY:g});return[`M${n},${o} C${d},${h} ${p},${g} ${l},${a}`,m,v,w,S]}const bu=H.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,sourcePosition:a=ge.Bottom,targetPosition:c=ge.Top,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:w,markerEnd:S,markerStart:M,interactionWidth:E})=>{const[$,R,b]=cp({sourceX:n,sourceY:o,sourcePosition:a,targetX:i,targetY:l,targetPosition:c});return ee.createElement(gi,{path:$,labelX:R,labelY:b,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:w,markerEnd:S,markerStart:M,interactionWidth:E})});bu.displayName="SimpleBezierEdge";const nh={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},qx=({source:n,sourcePosition:o=ge.Bottom,target:i})=>o===ge.Left||o===ge.Right?n.x<i.x?{x:1,y:0}:{x:-1,y:0}:n.y<i.y?{x:0,y:1}:{x:0,y:-1},rh=(n,o)=>Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2));function Vx({source:n,sourcePosition:o=ge.Bottom,target:i,targetPosition:l=ge.Top,center:a,offset:c}){const d=nh[o],h=nh[l],p={x:n.x+d.x*c,y:n.y+d.y*c},g={x:i.x+h.x*c,y:i.y+h.y*c},m=qx({source:p,sourcePosition:o,target:g}),v=m.x!==0?"x":"y",w=m[v];let S=[],M,E;const $={x:0,y:0},R={x:0,y:0},[b,q,C,V]=ap({sourceX:n.x,sourceY:n.y,targetX:i.x,targetY:i.y});if(d[v]*h[v]===-1){M=a.x??b,E=a.y??q;const U=[{x:M,y:p.y},{x:M,y:g.y}],Q=[{x:p.x,y:E},{x:g.x,y:E}];d[v]===w?S=v==="x"?U:Q:S=v==="x"?Q:U}else{const U=[{x:p.x,y:g.y}],Q=[{x:g.x,y:p.y}];if(v==="x"?S=d.x===w?Q:U:S=d.y===w?U:Q,o===l){const te=Math.abs(n[v]-i[v]);if(te<=c){const k=Math.min(c-1,c-te);d[v]===w?$[v]=(p[v]>n[v]?-1:1)*k:R[v]=(g[v]>i[v]?-1:1)*k}}if(o!==l){const te=v==="x"?"y":"x",k=d[v]===h[te],T=p[te]>g[te],I=p[te]<g[te];(d[v]===1&&(!k&&T||k&&I)||d[v]!==1&&(!k&&I||k&&T))&&(S=v==="x"?U:Q)}const Y={x:p.x+$.x,y:p.y+$.y},K={x:g.x+R.x,y:g.y+R.y},Z=Math.max(Math.abs(Y.x-S[0].x),Math.abs(K.x-S[0].x)),oe=Math.max(Math.abs(Y.y-S[0].y),Math.abs(K.y-S[0].y));Z>=oe?(M=(Y.x+K.x)/2,E=S[0].y):(M=S[0].x,E=(Y.y+K.y)/2)}return[[n,{x:p.x+$.x,y:p.y+$.y},...S,{x:g.x+R.x,y:g.y+R.y},i],M,E,C,V]}function Bx(n,o,i,l){const a=Math.min(rh(n,o)/2,rh(o,i)/2,l),{x:c,y:d}=o;if(n.x===c&&c===i.x||n.y===d&&d===i.y)return`L${c} ${d}`;if(n.y===d){const g=n.x<i.x?-1:1,m=n.y<i.y?1:-1;return`L ${c+a*g},${d}Q ${c},${d} ${c},${d+a*m}`}const h=n.x<i.x?1:-1,p=n.y<i.y?-1:1;return`L ${c},${d+a*p}Q ${c},${d} ${c+a*h},${d}`}function Cu({sourceX:n,sourceY:o,sourcePosition:i=ge.Bottom,targetX:l,targetY:a,targetPosition:c=ge.Top,borderRadius:d=5,centerX:h,centerY:p,offset:g=20}){const[m,v,w,S,M]=Vx({source:{x:n,y:o},sourcePosition:i,target:{x:l,y:a},targetPosition:c,center:{x:h,y:p},offset:g});return[m.reduce(($,R,b)=>{let q="";return b>0&&b<m.length-1?q=Bx(m[b-1],R,m[b+1],d):q=`${b===0?"M":"L"}${R.x} ${R.y}`,$+=q,$},""),v,w,S,M]}const fl=H.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,sourcePosition:v=ge.Bottom,targetPosition:w=ge.Top,markerEnd:S,markerStart:M,pathOptions:E,interactionWidth:$})=>{const[R,b,q]=Cu({sourceX:n,sourceY:o,sourcePosition:v,targetX:i,targetY:l,targetPosition:w,borderRadius:E==null?void 0:E.borderRadius,offset:E==null?void 0:E.offset});return ee.createElement(gi,{path:R,labelX:b,labelY:q,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:S,markerStart:M,interactionWidth:$})});fl.displayName="SmoothStepEdge";const qu=H.memo(n=>{var o;return ee.createElement(fl,{...n,pathOptions:H.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})});qu.displayName="StepEdge";function Ux({sourceX:n,sourceY:o,targetX:i,targetY:l}){const[a,c,d,h]=ap({sourceX:n,sourceY:o,targetX:i,targetY:l});return[`M ${n},${o}L ${i},${l}`,a,c,d,h]}const Vu=H.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:w,interactionWidth:S})=>{const[M,E,$]=Ux({sourceX:n,sourceY:o,targetX:i,targetY:l});return ee.createElement(gi,{path:M,labelX:E,labelY:$,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:w,interactionWidth:S})});Vu.displayName="StraightEdge";function bs(n,o){return n>=0?.5*n:o*25*Math.sqrt(-n)}function oh({pos:n,x1:o,y1:i,x2:l,y2:a,c}){switch(n){case ge.Left:return[o-bs(o-l,c),i];case ge.Right:return[o+bs(l-o,c),i];case ge.Top:return[o,i-bs(i-a,c)];case ge.Bottom:return[o,i+bs(a-i,c)]}}function fp({sourceX:n,sourceY:o,sourcePosition:i=ge.Bottom,targetX:l,targetY:a,targetPosition:c=ge.Top,curvature:d=.25}){const[h,p]=oh({pos:i,x1:n,y1:o,x2:l,y2:a,c:d}),[g,m]=oh({pos:c,x1:l,y1:a,x2:n,y2:o,c:d}),[v,w,S,M]=up({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:h,sourceControlY:p,targetControlX:g,targetControlY:m});return[`M${n},${o} C${h},${p} ${g},${m} ${l},${a}`,v,w,S,M]}const il=H.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,sourcePosition:a=ge.Bottom,targetPosition:c=ge.Top,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:w,markerEnd:S,markerStart:M,pathOptions:E,interactionWidth:$})=>{const[R,b,q]=fp({sourceX:n,sourceY:o,sourcePosition:a,targetX:i,targetY:l,targetPosition:c,curvature:E==null?void 0:E.curvature});return ee.createElement(gi,{path:R,labelX:b,labelY:q,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:w,markerEnd:S,markerStart:M,interactionWidth:$})});il.displayName="BezierEdge";const Bu=H.createContext(null),Wx=Bu.Provider;Bu.Consumer;const Gx=()=>H.useContext(Bu),Yx=n=>"id"in n&&"source"in n&&"target"in n,Xx=({source:n,sourceHandle:o,target:i,targetHandle:l})=>`reactflow__edge-${n}${o||""}-${i}${l||""}`,Iu=(n,o)=>typeof n>"u"?"":typeof n=="string"?n:`${o?`${o}__`:""}${Object.keys(n).sort().map(l=>`${l}=${n[l]}`).join("&")}`,Kx=(n,o)=>o.some(i=>i.source===n.source&&i.target===n.target&&(i.sourceHandle===n.sourceHandle||!i.sourceHandle&&!n.sourceHandle)&&(i.targetHandle===n.targetHandle||!i.targetHandle&&!n.targetHandle)),Qx=(n,o)=>{if(!n.source||!n.target)return o;let i;return Yx(n)?i={...n}:i={...n,id:Xx(n)},Kx(i,o)?o:o.concat(i)},Tu=({x:n,y:o},[i,l,a],c,[d,h])=>{const p={x:(n-i)/a,y:(o-l)/a};return c?{x:d*Math.round(p.x/d),y:h*Math.round(p.y/h)}:p},dp=({x:n,y:o},[i,l,a])=>({x:n*a+i,y:o*a+l}),oo=(n,o=[0,0])=>{if(!n)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const i=(n.width??0)*o[0],l=(n.height??0)*o[1],a={x:n.position.x-i,y:n.position.y-l};return{...a,positionAbsolute:n.positionAbsolute?{x:n.positionAbsolute.x-i,y:n.positionAbsolute.y-l}:a}},Uu=(n,o=[0,0])=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const i=n.reduce((l,a)=>{const{x:c,y:d}=oo(a,o).positionAbsolute;return Lx(l,Hu({x:c,y:d,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Fx(i)},hp=(n,o,[i,l,a]=[0,0,1],c=!1,d=!1,h=[0,0])=>{const p={x:(o.x-i)/a,y:(o.y-l)/a,width:o.width/a,height:o.height/a},g=[];return n.forEach(m=>{const{width:v,height:w,selectable:S=!0,hidden:M=!1}=m;if(d&&!S||M)return!1;const{positionAbsolute:E}=oo(m,h),$={x:E.x,y:E.y,width:v||0,height:w||0},R=Eu(p,$),b=typeof v>"u"||typeof w>"u"||v===null||w===null,q=c&&R>0,C=(v||0)*(w||0);(b||q||R>=C||m.dragging)&&g.push(m)}),g},pp=(n,o)=>{const i=n.map(l=>l.id);return o.filter(l=>i.includes(l.source)||i.includes(l.target))},mp=(n,o,i,l,a,c=.1)=>{const d=o/(n.width*(1+c)),h=i/(n.height*(1+c)),p=Math.min(d,h),g=ao(p,l,a),m=n.x+n.width/2,v=n.y+n.height/2,w=o/2-m*g,S=i/2-v*g;return{x:w,y:S,zoom:g}},xr=(n,o=0)=>n.transition().duration(o);function ih(n,o,i,l){return(o[i]||[]).reduce((a,c)=>{var d,h;return`${n.id}-${c.id}-${i}`!==l&&a.push({id:c.id||null,type:i,nodeId:n.id,x:(((d=n.positionAbsolute)==null?void 0:d.x)??0)+c.x+c.width/2,y:(((h=n.positionAbsolute)==null?void 0:h.y)??0)+c.y+c.height/2}),a},[])}function Zx(n,o,i,l,a,c){const{x:d,y:h}=nr(n),g=o.elementsFromPoint(d,h).find(M=>M.classList.contains("react-flow__handle"));if(g){const M=g.getAttribute("data-nodeid");if(M){const E=Wu(void 0,g),$=g.getAttribute("data-handleid"),R=c({nodeId:M,id:$,type:E});if(R){const b=a.find(q=>q.nodeId===M&&q.type===E&&q.id===$);return{handle:{id:$,type:E,nodeId:M,x:(b==null?void 0:b.x)||i.x,y:(b==null?void 0:b.y)||i.y},validHandleResult:R}}}}let m=[],v=1/0;if(a.forEach(M=>{const E=Math.sqrt((M.x-i.x)**2+(M.y-i.y)**2);if(E<=l){const $=c(M);E<=v&&(E<v?m=[{handle:M,validHandleResult:$}]:E===v&&m.push({handle:M,validHandleResult:$}),v=E)}}),!m.length)return{handle:null,validHandleResult:gp()};if(m.length===1)return m[0];const w=m.some(({validHandleResult:M})=>M.isValid),S=m.some(({handle:M})=>M.type==="target");return m.find(({handle:M,validHandleResult:E})=>S?M.type==="target":w?E.isValid:!0)||m[0]}const Jx={source:null,target:null,sourceHandle:null,targetHandle:null},gp=()=>({handleDomNode:null,isValid:!1,connection:Jx,endHandle:null});function yp(n,o,i,l,a,c,d){const h=a==="target",p=d.querySelector(`.react-flow__handle[data-id="${n==null?void 0:n.nodeId}-${n==null?void 0:n.id}-${n==null?void 0:n.type}"]`),g={...gp(),handleDomNode:p};if(p){const m=Wu(void 0,p),v=p.getAttribute("data-nodeid"),w=p.getAttribute("data-handleid"),S=p.classList.contains("connectable"),M=p.classList.contains("connectableend"),E={source:h?v:i,sourceHandle:h?w:l,target:h?i:v,targetHandle:h?l:w};g.connection=E,S&&M&&(o===Er.Strict?h&&m==="source"||!h&&m==="target":v!==i||w!==l)&&(g.endHandle={nodeId:v,handleId:w,type:m},g.isValid=c(E))}return g}function ew({nodes:n,nodeId:o,handleId:i,handleType:l}){return n.reduce((a,c)=>{if(c[be]){const{handleBounds:d}=c[be];let h=[],p=[];d&&(h=ih(c,d,"source",`${o}-${i}-${l}`),p=ih(c,d,"target",`${o}-${i}-${l}`)),a.push(...h,...p)}return a},[])}function Wu(n,o){return n||(o!=null&&o.classList.contains("target")?"target":o!=null&&o.classList.contains("source")?"source":null)}function cu(n){n==null||n.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function tw(n,o){let i=null;return o?i="valid":n&&!o&&(i="invalid"),i}function vp({event:n,handleId:o,nodeId:i,onConnect:l,isTarget:a,getState:c,setState:d,isValidConnection:h,edgeUpdaterType:p,onReconnectEnd:g}){const m=ip(n.target),{connectionMode:v,domNode:w,autoPanOnConnect:S,connectionRadius:M,onConnectStart:E,panBy:$,getNodes:R,cancelConnection:b}=c();let q=0,C;const{x:V,y:L}=nr(n),U=m==null?void 0:m.elementFromPoint(V,L),Q=Wu(p,U),Y=w==null?void 0:w.getBoundingClientRect();if(!Y||!Q)return;let K,Z=nr(n,Y),oe=!1,te=null,k=!1,T=null;const I=ew({nodes:R(),nodeId:i,handleId:o,handleType:Q}),O=()=>{if(!S)return;const[z,x]=op(Z,Y);$({x:z,y:x}),q=requestAnimationFrame(O)};d({connectionPosition:Z,connectionStatus:null,connectionNodeId:i,connectionHandleId:o,connectionHandleType:Q,connectionStartHandle:{nodeId:i,handleId:o,type:Q},connectionEndHandle:null}),E==null||E(n,{nodeId:i,handleId:o,handleType:Q});function A(z){const{transform:x}=c();Z=nr(z,Y);const{handle:j,validHandleResult:J}=Zx(z,m,Tu(Z,x,!1,[1,1]),M,I,X=>yp(X,v,i,o,a?"target":"source",h,m));if(C=j,oe||(O(),oe=!0),T=J.handleDomNode,te=J.connection,k=J.isValid,d({connectionPosition:C&&k?dp({x:C.x,y:C.y},x):Z,connectionStatus:tw(!!C,k),connectionEndHandle:J.endHandle}),!C&&!k&&!T)return cu(K);te.source!==te.target&&T&&(cu(K),K=T,T.classList.add("connecting","react-flow__handle-connecting"),T.classList.toggle("valid",k),T.classList.toggle("react-flow__handle-valid",k))}function N(z){var x,j;(C||T)&&te&&k&&(l==null||l(te)),(j=(x=c()).onConnectEnd)==null||j.call(x,z),p&&(g==null||g(z)),cu(K),b(),cancelAnimationFrame(q),oe=!1,k=!1,te=null,T=null,m.removeEventListener("mousemove",A),m.removeEventListener("mouseup",N),m.removeEventListener("touchmove",A),m.removeEventListener("touchend",N)}m.addEventListener("mousemove",A),m.addEventListener("mouseup",N),m.addEventListener("touchmove",A),m.addEventListener("touchend",N)}const sh=()=>!0,nw=n=>({connectionStartHandle:n.connectionStartHandle,connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName}),rw=(n,o,i)=>l=>{const{connectionStartHandle:a,connectionEndHandle:c,connectionClickStartHandle:d}=l;return{connecting:(a==null?void 0:a.nodeId)===n&&(a==null?void 0:a.handleId)===o&&(a==null?void 0:a.type)===i||(c==null?void 0:c.nodeId)===n&&(c==null?void 0:c.handleId)===o&&(c==null?void 0:c.type)===i,clickConnecting:(d==null?void 0:d.nodeId)===n&&(d==null?void 0:d.handleId)===o&&(d==null?void 0:d.type)===i}},xp=H.forwardRef(({type:n="source",position:o=ge.Top,isValidConnection:i,isConnectable:l=!0,isConnectableStart:a=!0,isConnectableEnd:c=!0,id:d,onConnect:h,children:p,className:g,onMouseDown:m,onTouchStart:v,...w},S)=>{var Y,K;const M=d||null,E=n==="target",$=Ke(),R=Gx(),{connectOnClick:b,noPanClassName:q}=Ae(nw,st),{connecting:C,clickConnecting:V}=Ae(rw(R,M,n),st);R||(K=(Y=$.getState()).onError)==null||K.call(Y,"010",zn.error010());const L=Z=>{const{defaultEdgeOptions:oe,onConnect:te,hasDefaultEdges:k}=$.getState(),T={...oe,...Z};if(k){const{edges:I,setEdges:O}=$.getState();O(Qx(T,I))}te==null||te(T),h==null||h(T)},U=Z=>{if(!R)return;const oe=lp(Z);a&&(oe&&Z.button===0||!oe)&&vp({event:Z,handleId:M,nodeId:R,onConnect:L,isTarget:E,getState:$.getState,setState:$.setState,isValidConnection:i||$.getState().isValidConnection||sh}),oe?m==null||m(Z):v==null||v(Z)},Q=Z=>{const{onClickConnectStart:oe,onClickConnectEnd:te,connectionClickStartHandle:k,connectionMode:T,isValidConnection:I}=$.getState();if(!R||!k&&!a)return;if(!k){oe==null||oe(Z,{nodeId:R,handleId:M,handleType:n}),$.setState({connectionClickStartHandle:{nodeId:R,type:n,handleId:M}});return}const O=ip(Z.target),A=i||I||sh,{connection:N,isValid:z}=yp({nodeId:R,id:M,type:n},T,k.nodeId,k.handleId||null,k.type,A,O);z&&L(N),te==null||te(Z),$.setState({connectionClickStartHandle:null})};return ee.createElement("div",{"data-handleid":M,"data-nodeid":R,"data-handlepos":o,"data-id":`${R}-${M}-${n}`,className:ut(["react-flow__handle",`react-flow__handle-${o}`,"nodrag",q,g,{source:!E,target:E,connectable:l,connectablestart:a,connectableend:c,connecting:V,connectionindicator:l&&(a&&!C||c&&C)}]),onMouseDown:U,onTouchStart:U,onClick:b?Q:void 0,ref:S,...w},p)});xp.displayName="Handle";var co=H.memo(xp);const wp=({data:n,isConnectable:o,targetPosition:i=ge.Top,sourcePosition:l=ge.Bottom})=>ee.createElement(ee.Fragment,null,ee.createElement(co,{type:"target",position:i,isConnectable:o}),n==null?void 0:n.label,ee.createElement(co,{type:"source",position:l,isConnectable:o}));wp.displayName="DefaultNode";var Pu=H.memo(wp);const Sp=({data:n,isConnectable:o,sourcePosition:i=ge.Bottom})=>ee.createElement(ee.Fragment,null,n==null?void 0:n.label,ee.createElement(co,{type:"source",position:i,isConnectable:o}));Sp.displayName="InputNode";var _p=H.memo(Sp);const kp=({data:n,isConnectable:o,targetPosition:i=ge.Top})=>ee.createElement(ee.Fragment,null,ee.createElement(co,{type:"target",position:i,isConnectable:o}),n==null?void 0:n.label);kp.displayName="OutputNode";var Ep=H.memo(kp);const Gu=()=>null;Gu.displayName="GroupNode";const ow=n=>({selectedNodes:n.getNodes().filter(o=>o.selected),selectedEdges:n.edges.filter(o=>o.selected).map(o=>({...o}))}),qs=n=>n.id;function iw(n,o){return st(n.selectedNodes.map(qs),o.selectedNodes.map(qs))&&st(n.selectedEdges.map(qs),o.selectedEdges.map(qs))}const Np=H.memo(({onSelectionChange:n})=>{const o=Ke(),{selectedNodes:i,selectedEdges:l}=Ae(ow,iw);return H.useEffect(()=>{const a={nodes:i,edges:l};n==null||n(a),o.getState().onSelectionChange.forEach(c=>c(a))},[i,l,n]),null});Np.displayName="SelectionListener";const sw=n=>!!n.onSelectionChange;function lw({onSelectionChange:n}){const o=Ae(sw);return n||o?ee.createElement(Np,{onSelectionChange:n}):null}const aw=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset});function Qr(n,o){H.useEffect(()=>{typeof n<"u"&&o(n)},[n])}function Ee(n,o,i){H.useEffect(()=>{typeof o<"u"&&i({[n]:o})},[o])}const uw=({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,onConnect:a,onConnectStart:c,onConnectEnd:d,onClickConnectStart:h,onClickConnectEnd:p,nodesDraggable:g,nodesConnectable:m,nodesFocusable:v,edgesFocusable:w,edgesUpdatable:S,elevateNodesOnSelect:M,minZoom:E,maxZoom:$,nodeExtent:R,onNodesChange:b,onEdgesChange:q,elementsSelectable:C,connectionMode:V,snapGrid:L,snapToGrid:U,translateExtent:Q,connectOnClick:Y,defaultEdgeOptions:K,fitView:Z,fitViewOptions:oe,onNodesDelete:te,onEdgesDelete:k,onNodeDrag:T,onNodeDragStart:I,onNodeDragStop:O,onSelectionDrag:A,onSelectionDragStart:N,onSelectionDragStop:z,noPanClassName:x,nodeOrigin:j,rfId:J,autoPanOnConnect:X,autoPanOnNodeDrag:ne,onError:re,connectionRadius:ue,isValidConnection:he,nodeDragThreshold:ve})=>{const{setNodes:Se,setEdges:Le,setDefaultNodesAndEdges:We,setMinZoom:et,setMaxZoom:tt,setTranslateExtent:Fe,setNodeExtent:vt,reset:Ie}=Ae(aw,st),ye=Ke();return H.useEffect(()=>{const Qe=l==null?void 0:l.map(xt=>({...xt,...K}));return We(i,Qe),()=>{Ie()}},[]),Ee("defaultEdgeOptions",K,ye.setState),Ee("connectionMode",V,ye.setState),Ee("onConnect",a,ye.setState),Ee("onConnectStart",c,ye.setState),Ee("onConnectEnd",d,ye.setState),Ee("onClickConnectStart",h,ye.setState),Ee("onClickConnectEnd",p,ye.setState),Ee("nodesDraggable",g,ye.setState),Ee("nodesConnectable",m,ye.setState),Ee("nodesFocusable",v,ye.setState),Ee("edgesFocusable",w,ye.setState),Ee("edgesUpdatable",S,ye.setState),Ee("elementsSelectable",C,ye.setState),Ee("elevateNodesOnSelect",M,ye.setState),Ee("snapToGrid",U,ye.setState),Ee("snapGrid",L,ye.setState),Ee("onNodesChange",b,ye.setState),Ee("onEdgesChange",q,ye.setState),Ee("connectOnClick",Y,ye.setState),Ee("fitViewOnInit",Z,ye.setState),Ee("fitViewOnInitOptions",oe,ye.setState),Ee("onNodesDelete",te,ye.setState),Ee("onEdgesDelete",k,ye.setState),Ee("onNodeDrag",T,ye.setState),Ee("onNodeDragStart",I,ye.setState),Ee("onNodeDragStop",O,ye.setState),Ee("onSelectionDrag",A,ye.setState),Ee("onSelectionDragStart",N,ye.setState),Ee("onSelectionDragStop",z,ye.setState),Ee("noPanClassName",x,ye.setState),Ee("nodeOrigin",j,ye.setState),Ee("rfId",J,ye.setState),Ee("autoPanOnConnect",X,ye.setState),Ee("autoPanOnNodeDrag",ne,ye.setState),Ee("onError",re,ye.setState),Ee("connectionRadius",ue,ye.setState),Ee("isValidConnection",he,ye.setState),Ee("nodeDragThreshold",ve,ye.setState),Qr(n,Se),Qr(o,Le),Qr(E,et),Qr($,tt),Qr(Q,Fe),Qr(R,vt),null},lh={display:"none"},cw={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Cp="react-flow__node-desc",Ip="react-flow__edge-desc",fw="react-flow__aria-live",dw=n=>n.ariaLiveMessage;function hw({rfId:n}){const o=Ae(dw);return ee.createElement("div",{id:`${fw}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:cw},o)}function pw({rfId:n,disableKeyboardA11y:o}){return ee.createElement(ee.Fragment,null,ee.createElement("div",{id:`${Cp}-${n}`,style:lh},"Press enter or space to select a node.",!o&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ee.createElement("div",{id:`${Ip}-${n}`,style:lh},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!o&&ee.createElement(hw,{rfId:n}))}var fi=(n=null,o={actInsideInputWithModifier:!0})=>{const[i,l]=H.useState(!1),a=H.useRef(!1),c=H.useRef(new Set([])),[d,h]=H.useMemo(()=>{if(n!==null){const g=(Array.isArray(n)?n:[n]).filter(v=>typeof v=="string").map(v=>v.split("+")),m=g.reduce((v,w)=>v.concat(...w),[]);return[g,m]}return[[],[]]},[n]);return H.useEffect(()=>{const p=typeof document<"u"?document:null,g=(o==null?void 0:o.target)||p;if(n!==null){const m=S=>{if(a.current=S.ctrlKey||S.metaKey||S.shiftKey,(!a.current||a.current&&!o.actInsideInputWithModifier)&&Nu(S))return!1;const E=uh(S.code,h);c.current.add(S[E]),ah(d,c.current,!1)&&(S.preventDefault(),l(!0))},v=S=>{if((!a.current||a.current&&!o.actInsideInputWithModifier)&&Nu(S))return!1;const E=uh(S.code,h);ah(d,c.current,!0)?(l(!1),c.current.clear()):c.current.delete(S[E]),S.key==="Meta"&&c.current.clear(),a.current=!1},w=()=>{c.current.clear(),l(!1)};return g==null||g.addEventListener("keydown",m),g==null||g.addEventListener("keyup",v),window.addEventListener("blur",w),()=>{g==null||g.removeEventListener("keydown",m),g==null||g.removeEventListener("keyup",v),window.removeEventListener("blur",w)}}},[n,l]),i};function ah(n,o,i){return n.filter(l=>i||l.length===o.size).some(l=>l.every(a=>o.has(a)))}function uh(n,o){return o.includes(n)?"code":"key"}function Tp(n,o,i,l){var h,p;const a=n.parentNode||n.parentId;if(!a)return i;const c=o.get(a),d=oo(c,l);return Tp(c,o,{x:(i.x??0)+d.x,y:(i.y??0)+d.y,z:(((h=c[be])==null?void 0:h.z)??0)>(i.z??0)?((p=c[be])==null?void 0:p.z)??0:i.z??0},l)}function Pp(n,o,i){n.forEach(l=>{var c;const a=l.parentNode||l.parentId;if(a&&!n.has(a))throw new Error(`Parent node ${a} not found`);if(a||i!=null&&i[l.id]){const{x:d,y:h,z:p}=Tp(l,n,{...l.position,z:((c=l[be])==null?void 0:c.z)??0},o);l.positionAbsolute={x:d,y:h},l[be].z=p,i!=null&&i[l.id]&&(l[be].isParent=!0)}})}function fu(n,o,i,l){const a=new Map,c={},d=l?1e3:0;return n.forEach(h=>{var S;const p=(At(h.zIndex)?h.zIndex:0)+(h.selected?d:0),g=o.get(h.id),m={...h,positionAbsolute:{x:h.position.x,y:h.position.y}},v=h.parentNode||h.parentId;v&&(c[v]=!0);const w=(g==null?void 0:g.type)&&(g==null?void 0:g.type)!==h.type;Object.defineProperty(m,be,{enumerable:!1,value:{handleBounds:w||(S=g==null?void 0:g[be])==null?void 0:S.handleBounds,z:p}}),a.set(h.id,m)}),Pp(a,i,c),a}function Mp(n,o={}){const{getNodes:i,width:l,height:a,minZoom:c,maxZoom:d,d3Zoom:h,d3Selection:p,fitViewOnInitDone:g,fitViewOnInit:m,nodeOrigin:v}=n(),w=o.initial&&!g&&m;if(h&&p&&(w||!o.initial)){const M=i().filter($=>{var b;const R=o.includeHiddenNodes?$.width&&$.height:!$.hidden;return(b=o.nodes)!=null&&b.length?R&&o.nodes.some(q=>q.id===$.id):R}),E=M.every($=>$.width&&$.height);if(M.length>0&&E){const $=Uu(M,v),{x:R,y:b,zoom:q}=mp($,l,a,o.minZoom??c,o.maxZoom??d,o.padding??.1),C=tr.translate(R,b).scale(q);return typeof o.duration=="number"&&o.duration>0?h.transform(xr(p,o.duration),C):h.transform(p,C),!0}}return!1}function mw(n,o){return n.forEach(i=>{const l=o.get(i.id);l&&o.set(l.id,{...l,[be]:l[be],selected:i.selected})}),new Map(o)}function gw(n,o){return o.map(i=>{const l=n.find(a=>a.id===i.id);return l&&(i.selected=l.selected),i})}function Vs({changedNodes:n,changedEdges:o,get:i,set:l}){const{nodeInternals:a,edges:c,onNodesChange:d,onEdgesChange:h,hasDefaultNodes:p,hasDefaultEdges:g}=i();n!=null&&n.length&&(p&&l({nodeInternals:mw(n,a)}),d==null||d(n)),o!=null&&o.length&&(g&&l({edges:gw(o,c)}),h==null||h(o))}const Zr=()=>{},yw={zoomIn:Zr,zoomOut:Zr,zoomTo:Zr,getZoom:()=>1,setViewport:Zr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Zr,fitBounds:Zr,project:n=>n,screenToFlowPosition:n=>n,flowToScreenPosition:n=>n,viewportInitialized:!1},vw=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection}),xw=()=>{const n=Ke(),{d3Zoom:o,d3Selection:i}=Ae(vw,st);return H.useMemo(()=>i&&o?{zoomIn:a=>o.scaleBy(xr(i,a==null?void 0:a.duration),1.2),zoomOut:a=>o.scaleBy(xr(i,a==null?void 0:a.duration),1/1.2),zoomTo:(a,c)=>o.scaleTo(xr(i,c==null?void 0:c.duration),a),getZoom:()=>n.getState().transform[2],setViewport:(a,c)=>{const[d,h,p]=n.getState().transform,g=tr.translate(a.x??d,a.y??h).scale(a.zoom??p);o.transform(xr(i,c==null?void 0:c.duration),g)},getViewport:()=>{const[a,c,d]=n.getState().transform;return{x:a,y:c,zoom:d}},fitView:a=>Mp(n.getState,a),setCenter:(a,c,d)=>{const{width:h,height:p,maxZoom:g}=n.getState(),m=typeof(d==null?void 0:d.zoom)<"u"?d.zoom:g,v=h/2-a*m,w=p/2-c*m,S=tr.translate(v,w).scale(m);o.transform(xr(i,d==null?void 0:d.duration),S)},fitBounds:(a,c)=>{const{width:d,height:h,minZoom:p,maxZoom:g}=n.getState(),{x:m,y:v,zoom:w}=mp(a,d,h,p,g,(c==null?void 0:c.padding)??.1),S=tr.translate(m,v).scale(w);o.transform(xr(i,c==null?void 0:c.duration),S)},project:a=>{const{transform:c,snapToGrid:d,snapGrid:h}=n.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Tu(a,c,d,h)},screenToFlowPosition:a=>{const{transform:c,snapToGrid:d,snapGrid:h,domNode:p}=n.getState();if(!p)return a;const{x:g,y:m}=p.getBoundingClientRect(),v={x:a.x-g,y:a.y-m};return Tu(v,c,d,h)},flowToScreenPosition:a=>{const{transform:c,domNode:d}=n.getState();if(!d)return a;const{x:h,y:p}=d.getBoundingClientRect(),g=dp(a,c);return{x:g.x+h,y:g.y+p}},viewportInitialized:!0}:yw,[o,i])};function Yu(){const n=xw(),o=Ke(),i=H.useCallback(()=>o.getState().getNodes().map(E=>({...E})),[]),l=H.useCallback(E=>o.getState().nodeInternals.get(E),[]),a=H.useCallback(()=>{const{edges:E=[]}=o.getState();return E.map($=>({...$}))},[]),c=H.useCallback(E=>{const{edges:$=[]}=o.getState();return $.find(R=>R.id===E)},[]),d=H.useCallback(E=>{const{getNodes:$,setNodes:R,hasDefaultNodes:b,onNodesChange:q}=o.getState(),C=$(),V=typeof E=="function"?E(C):E;if(b)R(V);else if(q){const L=V.length===0?C.map(U=>({type:"remove",id:U.id})):V.map(U=>({item:U,type:"reset"}));q(L)}},[]),h=H.useCallback(E=>{const{edges:$=[],setEdges:R,hasDefaultEdges:b,onEdgesChange:q}=o.getState(),C=typeof E=="function"?E($):E;if(b)R(C);else if(q){const V=C.length===0?$.map(L=>({type:"remove",id:L.id})):C.map(L=>({item:L,type:"reset"}));q(V)}},[]),p=H.useCallback(E=>{const $=Array.isArray(E)?E:[E],{getNodes:R,setNodes:b,hasDefaultNodes:q,onNodesChange:C}=o.getState();if(q){const L=[...R(),...$];b(L)}else if(C){const V=$.map(L=>({item:L,type:"add"}));C(V)}},[]),g=H.useCallback(E=>{const $=Array.isArray(E)?E:[E],{edges:R=[],setEdges:b,hasDefaultEdges:q,onEdgesChange:C}=o.getState();if(q)b([...R,...$]);else if(C){const V=$.map(L=>({item:L,type:"add"}));C(V)}},[]),m=H.useCallback(()=>{const{getNodes:E,edges:$=[],transform:R}=o.getState(),[b,q,C]=R;return{nodes:E().map(V=>({...V})),edges:$.map(V=>({...V})),viewport:{x:b,y:q,zoom:C}}},[]),v=H.useCallback(({nodes:E,edges:$})=>{const{nodeInternals:R,getNodes:b,edges:q,hasDefaultNodes:C,hasDefaultEdges:V,onNodesDelete:L,onEdgesDelete:U,onNodesChange:Q,onEdgesChange:Y}=o.getState(),K=(E||[]).map(T=>T.id),Z=($||[]).map(T=>T.id),oe=b().reduce((T,I)=>{const O=I.parentNode||I.parentId,A=!K.includes(I.id)&&O&&T.find(z=>z.id===O);return(typeof I.deletable=="boolean"?I.deletable:!0)&&(K.includes(I.id)||A)&&T.push(I),T},[]),te=q.filter(T=>typeof T.deletable=="boolean"?T.deletable:!0),k=te.filter(T=>Z.includes(T.id));if(oe||k){const T=pp(oe,te),I=[...k,...T],O=I.reduce((A,N)=>(A.includes(N.id)||A.push(N.id),A),[]);if((V||C)&&(V&&o.setState({edges:q.filter(A=>!O.includes(A.id))}),C&&(oe.forEach(A=>{R.delete(A.id)}),o.setState({nodeInternals:new Map(R)}))),O.length>0&&(U==null||U(I),Y&&Y(O.map(A=>({id:A,type:"remove"})))),oe.length>0&&(L==null||L(oe),Q)){const A=oe.map(N=>({id:N.id,type:"remove"}));Q(A)}}},[]),w=H.useCallback(E=>{const $=Ox(E),R=$?null:o.getState().nodeInternals.get(E.id);return!$&&!R?[null,null,$]:[$?E:eh(R),R,$]},[]),S=H.useCallback((E,$=!0,R)=>{const[b,q,C]=w(E);return b?(R||o.getState().getNodes()).filter(V=>{if(!C&&(V.id===q.id||!V.positionAbsolute))return!1;const L=eh(V),U=Eu(L,b);return $&&U>0||U>=b.width*b.height}):[]},[]),M=H.useCallback((E,$,R=!0)=>{const[b]=w(E);if(!b)return!1;const q=Eu(b,$);return R&&q>0||q>=b.width*b.height},[]);return H.useMemo(()=>({...n,getNodes:i,getNode:l,getEdges:a,getEdge:c,setNodes:d,setEdges:h,addNodes:p,addEdges:g,toObject:m,deleteElements:v,getIntersectingNodes:S,isNodeIntersecting:M}),[n,i,l,a,c,d,h,p,g,m,v,S,M])}const ww={actInsideInputWithModifier:!1};var Sw=({deleteKeyCode:n,multiSelectionKeyCode:o})=>{const i=Ke(),{deleteElements:l}=Yu(),a=fi(n,ww),c=fi(o);H.useEffect(()=>{if(a){const{edges:d,getNodes:h}=i.getState(),p=h().filter(m=>m.selected),g=d.filter(m=>m.selected);l({nodes:p,edges:g}),i.setState({nodesSelectionActive:!1})}},[a]),H.useEffect(()=>{i.setState({multiSelectionActive:c})},[c])};function _w(n){const o=Ke();H.useEffect(()=>{let i;const l=()=>{var c,d;if(!n.current)return;const a=Fu(n.current);(a.height===0||a.width===0)&&((d=(c=o.getState()).onError)==null||d.call(c,"004",zn.error004())),o.setState({width:a.width||500,height:a.height||500})};return l(),window.addEventListener("resize",l),n.current&&(i=new ResizeObserver(()=>l()),i.observe(n.current)),()=>{window.removeEventListener("resize",l),i&&n.current&&i.unobserve(n.current)}},[])}const Xu={position:"absolute",width:"100%",height:"100%",top:0,left:0},kw=(n,o)=>n.x!==o.x||n.y!==o.y||n.zoom!==o.k,Bs=n=>({x:n.x,y:n.y,zoom:n.k}),Jr=(n,o)=>n.target.closest(`.${o}`),ch=(n,o)=>o===2&&Array.isArray(n)&&n.includes(2),fh=n=>{const o=n.ctrlKey&&ol()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*o},Ew=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection,d3ZoomHandler:n.d3ZoomHandler,userSelectionActive:n.userSelectionActive}),Nw=({onMove:n,onMoveStart:o,onMoveEnd:i,onPaneContextMenu:l,zoomOnScroll:a=!0,zoomOnPinch:c=!0,panOnScroll:d=!1,panOnScrollSpeed:h=.5,panOnScrollMode:p=Sr.Free,zoomOnDoubleClick:g=!0,elementsSelectable:m,panOnDrag:v=!0,defaultViewport:w,translateExtent:S,minZoom:M,maxZoom:E,zoomActivationKeyCode:$,preventScrolling:R=!0,children:b,noWheelClassName:q,noPanClassName:C})=>{const V=H.useRef(),L=Ke(),U=H.useRef(!1),Q=H.useRef(!1),Y=H.useRef(null),K=H.useRef({x:0,y:0,zoom:0}),{d3Zoom:Z,d3Selection:oe,d3ZoomHandler:te,userSelectionActive:k}=Ae(Ew,st),T=fi($),I=H.useRef(0),O=H.useRef(!1),A=H.useRef();return _w(Y),H.useEffect(()=>{if(Y.current){const N=Y.current.getBoundingClientRect(),z=Tx().scaleExtent([M,E]).translateExtent(S),x=Gt(Y.current).call(z),j=tr.translate(w.x,w.y).scale(ao(w.zoom,M,E)),J=[[0,0],[N.width,N.height]],X=z.constrain()(j,J,S);z.transform(x,X),z.wheelDelta(fh),L.setState({d3Zoom:z,d3Selection:x,d3ZoomHandler:x.on("wheel.zoom"),transform:[X.x,X.y,X.k],domNode:Y.current.closest(".react-flow")})}},[]),H.useEffect(()=>{oe&&Z&&(d&&!T&&!k?oe.on("wheel.zoom",N=>{if(Jr(N,q))return!1;N.preventDefault(),N.stopImmediatePropagation();const z=oe.property("__zoom").k||1;if(N.ctrlKey&&c){const he=an(N),ve=fh(N),Se=z*Math.pow(2,ve);Z.scaleTo(oe,Se,he,N);return}const x=N.deltaMode===1?20:1;let j=p===Sr.Vertical?0:N.deltaX*x,J=p===Sr.Horizontal?0:N.deltaY*x;!ol()&&N.shiftKey&&p!==Sr.Vertical&&(j=N.deltaY*x,J=0),Z.translateBy(oe,-(j/z)*h,-(J/z)*h,{internal:!0});const X=Bs(oe.property("__zoom")),{onViewportChangeStart:ne,onViewportChange:re,onViewportChangeEnd:ue}=L.getState();clearTimeout(A.current),O.current||(O.current=!0,o==null||o(N,X),ne==null||ne(X)),O.current&&(n==null||n(N,X),re==null||re(X),A.current=setTimeout(()=>{i==null||i(N,X),ue==null||ue(X),O.current=!1},150))},{passive:!1}):typeof te<"u"&&oe.on("wheel.zoom",function(N,z){if(!R&&N.type==="wheel"&&!N.ctrlKey||Jr(N,q))return null;N.preventDefault(),te.call(this,N,z)},{passive:!1}))},[k,d,p,oe,Z,te,T,c,R,q,o,n,i]),H.useEffect(()=>{Z&&Z.on("start",N=>{var j,J;if(!N.sourceEvent||N.sourceEvent.internal)return null;I.current=(j=N.sourceEvent)==null?void 0:j.button;const{onViewportChangeStart:z}=L.getState(),x=Bs(N.transform);U.current=!0,K.current=x,((J=N.sourceEvent)==null?void 0:J.type)==="mousedown"&&L.setState({paneDragging:!0}),z==null||z(x),o==null||o(N.sourceEvent,x)})},[Z,o]),H.useEffect(()=>{Z&&(k&&!U.current?Z.on("zoom",null):k||Z.on("zoom",N=>{var x;const{onViewportChange:z}=L.getState();if(L.setState({transform:[N.transform.x,N.transform.y,N.transform.k]}),Q.current=!!(l&&ch(v,I.current??0)),(n||z)&&!((x=N.sourceEvent)!=null&&x.internal)){const j=Bs(N.transform);z==null||z(j),n==null||n(N.sourceEvent,j)}}))},[k,Z,n,v,l]),H.useEffect(()=>{Z&&Z.on("end",N=>{if(!N.sourceEvent||N.sourceEvent.internal)return null;const{onViewportChangeEnd:z}=L.getState();if(U.current=!1,L.setState({paneDragging:!1}),l&&ch(v,I.current??0)&&!Q.current&&l(N.sourceEvent),Q.current=!1,(i||z)&&kw(K.current,N.transform)){const x=Bs(N.transform);K.current=x,clearTimeout(V.current),V.current=setTimeout(()=>{z==null||z(x),i==null||i(N.sourceEvent,x)},d?150:0)}})},[Z,d,v,i,l]),H.useEffect(()=>{Z&&Z.filter(N=>{const z=T||a,x=c&&N.ctrlKey;if((v===!0||Array.isArray(v)&&v.includes(1))&&N.button===1&&N.type==="mousedown"&&(Jr(N,"react-flow__node")||Jr(N,"react-flow__edge")))return!0;if(!v&&!z&&!d&&!g&&!c||k||!g&&N.type==="dblclick"||Jr(N,q)&&N.type==="wheel"||Jr(N,C)&&(N.type!=="wheel"||d&&N.type==="wheel"&&!T)||!c&&N.ctrlKey&&N.type==="wheel"||!z&&!d&&!x&&N.type==="wheel"||!v&&(N.type==="mousedown"||N.type==="touchstart")||Array.isArray(v)&&!v.includes(N.button)&&N.type==="mousedown")return!1;const j=Array.isArray(v)&&v.includes(N.button)||!N.button||N.button<=1;return(!N.ctrlKey||N.type==="wheel")&&j})},[k,Z,a,c,d,g,v,m,T]),ee.createElement("div",{className:"react-flow__renderer",ref:Y,style:Xu},b)},Cw=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function Iw(){const{userSelectionActive:n,userSelectionRect:o}=Ae(Cw,st);return n&&o?ee.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:o.width,height:o.height,transform:`translate(${o.x}px, ${o.y}px)`}}):null}function dh(n,o){const i=o.parentNode||o.parentId,l=n.find(a=>a.id===i);if(l){const a=o.position.x+o.width-l.width,c=o.position.y+o.height-l.height;if(a>0||c>0||o.position.x<0||o.position.y<0){if(l.style={...l.style},l.style.width=l.style.width??l.width,l.style.height=l.style.height??l.height,a>0&&(l.style.width+=a),c>0&&(l.style.height+=c),o.position.x<0){const d=Math.abs(o.position.x);l.position.x=l.position.x-d,l.style.width+=d,o.position.x=0}if(o.position.y<0){const d=Math.abs(o.position.y);l.position.y=l.position.y-d,l.style.height+=d,o.position.y=0}l.width=l.style.width,l.height=l.style.height}}}function Tw(n,o){if(n.some(l=>l.type==="reset"))return n.filter(l=>l.type==="reset").map(l=>l.item);const i=n.filter(l=>l.type==="add").map(l=>l.item);return o.reduce((l,a)=>{const c=n.filter(h=>h.id===a.id);if(c.length===0)return l.push(a),l;const d={...a};for(const h of c)if(h)switch(h.type){case"select":{d.selected=h.selected;break}case"position":{typeof h.position<"u"&&(d.position=h.position),typeof h.positionAbsolute<"u"&&(d.positionAbsolute=h.positionAbsolute),typeof h.dragging<"u"&&(d.dragging=h.dragging),d.expandParent&&dh(l,d);break}case"dimensions":{typeof h.dimensions<"u"&&(d.width=h.dimensions.width,d.height=h.dimensions.height),typeof h.updateStyle<"u"&&(d.style={...d.style||{},...h.dimensions}),typeof h.resizing=="boolean"&&(d.resizing=h.resizing),d.expandParent&&dh(l,d);break}case"remove":return l}return l.push(d),l},i)}function zp(n,o){return Tw(n,o)}const Jn=(n,o)=>({id:n,type:"select",selected:o});function to(n,o){return n.reduce((i,l)=>{const a=o.includes(l.id);return!l.selected&&a?(l.selected=!0,i.push(Jn(l.id,!0))):l.selected&&!a&&(l.selected=!1,i.push(Jn(l.id,!1))),i},[])}const du=(n,o)=>i=>{i.target===o.current&&(n==null||n(i))},Pw=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,dragging:n.paneDragging}),jp=H.memo(({isSelecting:n,selectionMode:o=ci.Full,panOnDrag:i,onSelectionStart:l,onSelectionEnd:a,onPaneClick:c,onPaneContextMenu:d,onPaneScroll:h,onPaneMouseEnter:p,onPaneMouseMove:g,onPaneMouseLeave:m,children:v})=>{const w=H.useRef(null),S=Ke(),M=H.useRef(0),E=H.useRef(0),$=H.useRef(),{userSelectionActive:R,elementsSelectable:b,dragging:q}=Ae(Pw,st),C=()=>{S.setState({userSelectionActive:!1,userSelectionRect:null}),M.current=0,E.current=0},V=te=>{c==null||c(te),S.getState().resetSelectedElements(),S.setState({nodesSelectionActive:!1})},L=te=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){te.preventDefault();return}d==null||d(te)},U=h?te=>h(te):void 0,Q=te=>{const{resetSelectedElements:k,domNode:T}=S.getState();if($.current=T==null?void 0:T.getBoundingClientRect(),!b||!n||te.button!==0||te.target!==w.current||!$.current)return;const{x:I,y:O}=nr(te,$.current);k(),S.setState({userSelectionRect:{width:0,height:0,startX:I,startY:O,x:I,y:O}}),l==null||l(te)},Y=te=>{const{userSelectionRect:k,nodeInternals:T,edges:I,transform:O,onNodesChange:A,onEdgesChange:N,nodeOrigin:z,getNodes:x}=S.getState();if(!n||!$.current||!k)return;S.setState({userSelectionActive:!0,nodesSelectionActive:!1});const j=nr(te,$.current),J=k.startX??0,X=k.startY??0,ne={...k,x:j.x<J?j.x:J,y:j.y<X?j.y:X,width:Math.abs(j.x-J),height:Math.abs(j.y-X)},re=x(),ue=hp(T,ne,O,o===ci.Partial,!0,z),he=pp(ue,I).map(Se=>Se.id),ve=ue.map(Se=>Se.id);if(M.current!==ve.length){M.current=ve.length;const Se=to(re,ve);Se.length&&(A==null||A(Se))}if(E.current!==he.length){E.current=he.length;const Se=to(I,he);Se.length&&(N==null||N(Se))}S.setState({userSelectionRect:ne})},K=te=>{if(te.button!==0)return;const{userSelectionRect:k}=S.getState();!R&&k&&te.target===w.current&&(V==null||V(te)),S.setState({nodesSelectionActive:M.current>0}),C(),a==null||a(te)},Z=te=>{R&&(S.setState({nodesSelectionActive:M.current>0}),a==null||a(te)),C()},oe=b&&(n||R);return ee.createElement("div",{className:ut(["react-flow__pane",{dragging:q,selection:n}]),onClick:oe?void 0:du(V,w),onContextMenu:du(L,w),onWheel:du(U,w),onMouseEnter:oe?void 0:p,onMouseDown:oe?Q:void 0,onMouseMove:oe?Y:g,onMouseUp:oe?K:void 0,onMouseLeave:oe?Z:m,ref:w,style:Xu},v,ee.createElement(Iw,null))});jp.displayName="Pane";function $p(n,o){const i=n.parentNode||n.parentId;if(!i)return!1;const l=o.get(i);return l?l.selected?!0:$p(l,o):!1}function hh(n,o,i){let l=n;do{if(l!=null&&l.matches(o))return!0;if(l===i.current)return!1;l=l.parentElement}while(l);return!1}function Mw(n,o,i,l){return Array.from(n.values()).filter(a=>(a.selected||a.id===l)&&(!a.parentNode||a.parentId||!$p(a,n))&&(a.draggable||o&&typeof a.draggable>"u")).map(a=>{var c,d;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:i.x-(((c=a.positionAbsolute)==null?void 0:c.x)??0),y:i.y-(((d=a.positionAbsolute)==null?void 0:d.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function zw(n,o){return!o||o==="parent"?o:[o[0],[o[1][0]-(n.width||0),o[1][1]-(n.height||0)]]}function Rp(n,o,i,l,a=[0,0],c){const d=zw(n,n.extent||l);let h=d;const p=n.parentNode||n.parentId;if(n.extent==="parent"&&!n.expandParent)if(p&&n.width&&n.height){const v=i.get(p),{x:w,y:S}=oo(v,a).positionAbsolute;h=v&&At(w)&&At(S)&&At(v.width)&&At(v.height)?[[w+n.width*a[0],S+n.height*a[1]],[w+v.width-n.width+n.width*a[0],S+v.height-n.height+n.height*a[1]]]:h}else c==null||c("005",zn.error005()),h=d;else if(n.extent&&p&&n.extent!=="parent"){const v=i.get(p),{x:w,y:S}=oo(v,a).positionAbsolute;h=[[n.extent[0][0]+w,n.extent[0][1]+S],[n.extent[1][0]+w,n.extent[1][1]+S]]}let g={x:0,y:0};if(p){const v=i.get(p);g=oo(v,a).positionAbsolute}const m=h&&h!=="parent"?Ou(o,h):o;return{position:{x:m.x-g.x,y:m.y-g.y},positionAbsolute:m}}function hu({nodeId:n,dragItems:o,nodeInternals:i}){const l=o.map(a=>({...i.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[n?l.find(a=>a.id===n):l[0],l]}const ph=(n,o,i,l)=>{const a=o.querySelectorAll(n);if(!a||!a.length)return null;const c=Array.from(a),d=o.getBoundingClientRect(),h={x:d.width*l[0],y:d.height*l[1]};return c.map(p=>{const g=p.getBoundingClientRect();return{id:p.getAttribute("data-handleid"),position:p.getAttribute("data-handlepos"),x:(g.left-d.left-h.x)/i,y:(g.top-d.top-h.y)/i,...Fu(p)}})};function ei(n,o,i){return i===void 0?i:l=>{const a=o().nodeInternals.get(n);a&&i(l,{...a})}}function Mu({id:n,store:o,unselect:i=!1,nodeRef:l}){const{addSelectedNodes:a,unselectNodesAndEdges:c,multiSelectionActive:d,nodeInternals:h,onError:p}=o.getState(),g=h.get(n);if(!g){p==null||p("012",zn.error012(n));return}o.setState({nodesSelectionActive:!1}),g.selected?(i||g.selected&&d)&&(c({nodes:[g],edges:[]}),requestAnimationFrame(()=>{var m;return(m=l==null?void 0:l.current)==null?void 0:m.blur()})):a([n])}function jw(){const n=Ke();return H.useCallback(({sourceEvent:i})=>{const{transform:l,snapGrid:a,snapToGrid:c}=n.getState(),d=i.touches?i.touches[0].clientX:i.clientX,h=i.touches?i.touches[0].clientY:i.clientY,p={x:(d-l[0])/l[2],y:(h-l[1])/l[2]};return{xSnapped:c?a[0]*Math.round(p.x/a[0]):p.x,ySnapped:c?a[1]*Math.round(p.y/a[1]):p.y,...p}},[])}function pu(n){return(o,i,l)=>n==null?void 0:n(o,l)}function Dp({nodeRef:n,disabled:o=!1,noDragClassName:i,handleSelector:l,nodeId:a,isSelectable:c,selectNodesOnDrag:d}){const h=Ke(),[p,g]=H.useState(!1),m=H.useRef([]),v=H.useRef({x:null,y:null}),w=H.useRef(0),S=H.useRef(null),M=H.useRef({x:0,y:0}),E=H.useRef(null),$=H.useRef(!1),R=H.useRef(!1),b=H.useRef(!1),q=jw();return H.useEffect(()=>{if(n!=null&&n.current){const C=Gt(n.current),V=({x:Q,y:Y})=>{const{nodeInternals:K,onNodeDrag:Z,onSelectionDrag:oe,updateNodePositions:te,nodeExtent:k,snapGrid:T,snapToGrid:I,nodeOrigin:O,onError:A}=h.getState();v.current={x:Q,y:Y};let N=!1,z={x:0,y:0,x2:0,y2:0};if(m.current.length>1&&k){const j=Uu(m.current,O);z=Hu(j)}if(m.current=m.current.map(j=>{const J={x:Q-j.distance.x,y:Y-j.distance.y};I&&(J.x=T[0]*Math.round(J.x/T[0]),J.y=T[1]*Math.round(J.y/T[1]));const X=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];m.current.length>1&&k&&!j.extent&&(X[0][0]=j.positionAbsolute.x-z.x+k[0][0],X[1][0]=j.positionAbsolute.x+(j.width??0)-z.x2+k[1][0],X[0][1]=j.positionAbsolute.y-z.y+k[0][1],X[1][1]=j.positionAbsolute.y+(j.height??0)-z.y2+k[1][1]);const ne=Rp(j,J,K,X,O,A);return N=N||j.position.x!==ne.position.x||j.position.y!==ne.position.y,j.position=ne.position,j.positionAbsolute=ne.positionAbsolute,j}),!N)return;te(m.current,!0,!0),g(!0);const x=a?Z:pu(oe);if(x&&E.current){const[j,J]=hu({nodeId:a,dragItems:m.current,nodeInternals:K});x(E.current,j,J)}},L=()=>{if(!S.current)return;const[Q,Y]=op(M.current,S.current);if(Q!==0||Y!==0){const{transform:K,panBy:Z}=h.getState();v.current.x=(v.current.x??0)-Q/K[2],v.current.y=(v.current.y??0)-Y/K[2],Z({x:Q,y:Y})&&V(v.current)}w.current=requestAnimationFrame(L)},U=Q=>{var O;const{nodeInternals:Y,multiSelectionActive:K,nodesDraggable:Z,unselectNodesAndEdges:oe,onNodeDragStart:te,onSelectionDragStart:k}=h.getState();R.current=!0;const T=a?te:pu(k);(!d||!c)&&!K&&a&&((O=Y.get(a))!=null&&O.selected||oe()),a&&c&&d&&Mu({id:a,store:h,nodeRef:n});const I=q(Q);if(v.current=I,m.current=Mw(Y,Z,I,a),T&&m.current){const[A,N]=hu({nodeId:a,dragItems:m.current,nodeInternals:Y});T(Q.sourceEvent,A,N)}};if(o)C.on(".drag",null);else{const Q=F0().on("start",Y=>{const{domNode:K,nodeDragThreshold:Z}=h.getState();Z===0&&U(Y),b.current=!1;const oe=q(Y);v.current=oe,S.current=(K==null?void 0:K.getBoundingClientRect())||null,M.current=nr(Y.sourceEvent,S.current)}).on("drag",Y=>{var te,k;const K=q(Y),{autoPanOnNodeDrag:Z,nodeDragThreshold:oe}=h.getState();if(Y.sourceEvent.type==="touchmove"&&Y.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!$.current&&R.current&&Z&&($.current=!0,L()),!R.current){const T=K.xSnapped-(((te=v==null?void 0:v.current)==null?void 0:te.x)??0),I=K.ySnapped-(((k=v==null?void 0:v.current)==null?void 0:k.y)??0);Math.sqrt(T*T+I*I)>oe&&U(Y)}(v.current.x!==K.xSnapped||v.current.y!==K.ySnapped)&&m.current&&R.current&&(E.current=Y.sourceEvent,M.current=nr(Y.sourceEvent,S.current),V(K))}}).on("end",Y=>{if(!(!R.current||b.current)&&(g(!1),$.current=!1,R.current=!1,cancelAnimationFrame(w.current),m.current)){const{updateNodePositions:K,nodeInternals:Z,onNodeDragStop:oe,onSelectionDragStop:te}=h.getState(),k=a?oe:pu(te);if(K(m.current,!1,!1),k){const[T,I]=hu({nodeId:a,dragItems:m.current,nodeInternals:Z});k(Y.sourceEvent,T,I)}}}).filter(Y=>{const K=Y.target;return!Y.button&&(!i||!hh(K,`.${i}`,n))&&(!l||hh(K,l,n))});return C.call(Q),()=>{C.on(".drag",null)}}}},[n,o,i,l,c,h,a,d,q]),p}function Ap(){const n=Ke();return H.useCallback(i=>{const{nodeInternals:l,nodeExtent:a,updateNodePositions:c,getNodes:d,snapToGrid:h,snapGrid:p,onError:g,nodesDraggable:m}=n.getState(),v=d().filter(b=>b.selected&&(b.draggable||m&&typeof b.draggable>"u")),w=h?p[0]:5,S=h?p[1]:5,M=i.isShiftPressed?4:1,E=i.x*w*M,$=i.y*S*M,R=v.map(b=>{if(b.positionAbsolute){const q={x:b.positionAbsolute.x+E,y:b.positionAbsolute.y+$};h&&(q.x=p[0]*Math.round(q.x/p[0]),q.y=p[1]*Math.round(q.y/p[1]));const{positionAbsolute:C,position:V}=Rp(b,q,l,a,void 0,g);b.position=V,b.positionAbsolute=C}return b});c(R,!0,!1)},[])}const io={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ti=n=>{const o=({id:i,type:l,data:a,xPos:c,yPos:d,xPosOrigin:h,yPosOrigin:p,selected:g,onClick:m,onMouseEnter:v,onMouseMove:w,onMouseLeave:S,onContextMenu:M,onDoubleClick:E,style:$,className:R,isDraggable:b,isSelectable:q,isConnectable:C,isFocusable:V,selectNodesOnDrag:L,sourcePosition:U,targetPosition:Q,hidden:Y,resizeObserver:K,dragHandle:Z,zIndex:oe,isParent:te,noDragClassName:k,noPanClassName:T,initialized:I,disableKeyboardA11y:O,ariaLabel:A,rfId:N,hasHandleBounds:z})=>{const x=Ke(),j=H.useRef(null),J=H.useRef(null),X=H.useRef(U),ne=H.useRef(Q),re=H.useRef(l),ue=q||b||m||v||w||S,he=Ap(),ve=ei(i,x.getState,v),Se=ei(i,x.getState,w),Le=ei(i,x.getState,S),We=ei(i,x.getState,M),et=ei(i,x.getState,E),tt=Ie=>{const{nodeDragThreshold:ye}=x.getState();if(q&&(!L||!b||ye>0)&&Mu({id:i,store:x,nodeRef:j}),m){const Qe=x.getState().nodeInternals.get(i);Qe&&m(Ie,{...Qe})}},Fe=Ie=>{if(!Nu(Ie)&&!O)if(sp.includes(Ie.key)&&q){const ye=Ie.key==="Escape";Mu({id:i,store:x,unselect:ye,nodeRef:j})}else b&&g&&Object.prototype.hasOwnProperty.call(io,Ie.key)&&(x.setState({ariaLiveMessage:`Moved selected node ${Ie.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~c}, y: ${~~d}`}),he({x:io[Ie.key].x,y:io[Ie.key].y,isShiftPressed:Ie.shiftKey}))};H.useEffect(()=>()=>{J.current&&(K==null||K.unobserve(J.current),J.current=null)},[]),H.useEffect(()=>{if(j.current&&!Y){const Ie=j.current;(!I||!z||J.current!==Ie)&&(J.current&&(K==null||K.unobserve(J.current)),K==null||K.observe(Ie),J.current=Ie)}},[Y,I,z]),H.useEffect(()=>{const Ie=re.current!==l,ye=X.current!==U,Qe=ne.current!==Q;j.current&&(Ie||ye||Qe)&&(Ie&&(re.current=l),ye&&(X.current=U),Qe&&(ne.current=Q),x.getState().updateNodeDimensions([{id:i,nodeElement:j.current,forceUpdate:!0}]))},[i,l,U,Q]);const vt=Dp({nodeRef:j,disabled:Y||!b,noDragClassName:k,handleSelector:Z,nodeId:i,isSelectable:q,selectNodesOnDrag:L});return Y?null:ee.createElement("div",{className:ut(["react-flow__node",`react-flow__node-${l}`,{[T]:b},R,{selected:g,selectable:q,parent:te,dragging:vt}]),ref:j,style:{zIndex:oe,transform:`translate(${h}px,${p}px)`,pointerEvents:ue?"all":"none",visibility:I?"visible":"hidden",...$},"data-id":i,"data-testid":`rf__node-${i}`,onMouseEnter:ve,onMouseMove:Se,onMouseLeave:Le,onContextMenu:We,onClick:tt,onDoubleClick:et,onKeyDown:V?Fe:void 0,tabIndex:V?0:void 0,role:V?"button":void 0,"aria-describedby":O?void 0:`${Cp}-${N}`,"aria-label":A},ee.createElement(Wx,{value:i},ee.createElement(n,{id:i,data:a,type:l,xPos:c,yPos:d,selected:g,isConnectable:C,sourcePosition:U,targetPosition:Q,dragging:vt,dragHandle:Z,zIndex:oe})))};return o.displayName="NodeWrapper",H.memo(o)};const $w=n=>{const o=n.getNodes().filter(i=>i.selected);return{...Uu(o,n.nodeOrigin),transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`,userSelectionActive:n.userSelectionActive}};function Rw({onSelectionContextMenu:n,noPanClassName:o,disableKeyboardA11y:i}){const l=Ke(),{width:a,height:c,x:d,y:h,transformString:p,userSelectionActive:g}=Ae($w,st),m=Ap(),v=H.useRef(null);if(H.useEffect(()=>{var M;i||(M=v.current)==null||M.focus({preventScroll:!0})},[i]),Dp({nodeRef:v}),g||!a||!c)return null;const w=n?M=>{const E=l.getState().getNodes().filter($=>$.selected);n(M,E)}:void 0,S=M=>{Object.prototype.hasOwnProperty.call(io,M.key)&&m({x:io[M.key].x,y:io[M.key].y,isShiftPressed:M.shiftKey})};return ee.createElement("div",{className:ut(["react-flow__nodesselection","react-flow__container",o]),style:{transform:p}},ee.createElement("div",{ref:v,className:"react-flow__nodesselection-rect",onContextMenu:w,tabIndex:i?void 0:-1,onKeyDown:i?void 0:S,style:{width:a,height:c,top:h,left:d}}))}var Dw=H.memo(Rw);const Aw=n=>n.nodesSelectionActive,Lp=({children:n,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,deleteKeyCode:h,onMove:p,onMoveStart:g,onMoveEnd:m,selectionKeyCode:v,selectionOnDrag:w,selectionMode:S,onSelectionStart:M,onSelectionEnd:E,multiSelectionKeyCode:$,panActivationKeyCode:R,zoomActivationKeyCode:b,elementsSelectable:q,zoomOnScroll:C,zoomOnPinch:V,panOnScroll:L,panOnScrollSpeed:U,panOnScrollMode:Q,zoomOnDoubleClick:Y,panOnDrag:K,defaultViewport:Z,translateExtent:oe,minZoom:te,maxZoom:k,preventScrolling:T,onSelectionContextMenu:I,noWheelClassName:O,noPanClassName:A,disableKeyboardA11y:N})=>{const z=Ae(Aw),x=fi(v),j=fi(R),J=j||K,X=j||L,ne=x||w&&J!==!0;return Sw({deleteKeyCode:h,multiSelectionKeyCode:$}),ee.createElement(Nw,{onMove:p,onMoveStart:g,onMoveEnd:m,onPaneContextMenu:c,elementsSelectable:q,zoomOnScroll:C,zoomOnPinch:V,panOnScroll:X,panOnScrollSpeed:U,panOnScrollMode:Q,zoomOnDoubleClick:Y,panOnDrag:!x&&J,defaultViewport:Z,translateExtent:oe,minZoom:te,maxZoom:k,zoomActivationKeyCode:b,preventScrolling:T,noWheelClassName:O,noPanClassName:A},ee.createElement(jp,{onSelectionStart:M,onSelectionEnd:E,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,panOnDrag:J,isSelecting:!!ne,selectionMode:S},n,z&&ee.createElement(Dw,{onSelectionContextMenu:I,noPanClassName:A,disableKeyboardA11y:N})))};Lp.displayName="FlowRenderer";var Lw=H.memo(Lp);function Fw(n){return Ae(H.useCallback(i=>n?hp(i.nodeInternals,{x:0,y:0,width:i.width,height:i.height},i.transform,!0):i.getNodes(),[n]))}function Ow(n){const o={input:ti(n.input||_p),default:ti(n.default||Pu),output:ti(n.output||Ep),group:ti(n.group||Gu)},i={},l=Object.keys(n).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,c)=>(a[c]=ti(n[c]||Pu),a),i);return{...o,...l}}const Hw=({x:n,y:o,width:i,height:l,origin:a})=>!i||!l?{x:n,y:o}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:n,y:o}:{x:n-i*a[0],y:o-l*a[1]},bw=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,updateNodeDimensions:n.updateNodeDimensions,onError:n.onError}),Fp=n=>{const{nodesDraggable:o,nodesConnectable:i,nodesFocusable:l,elementsSelectable:a,updateNodeDimensions:c,onError:d}=Ae(bw,st),h=Fw(n.onlyRenderVisibleElements),p=H.useRef(),g=H.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const m=new ResizeObserver(v=>{const w=v.map(S=>({id:S.target.getAttribute("data-id"),nodeElement:S.target,forceUpdate:!0}));c(w)});return p.current=m,m},[]);return H.useEffect(()=>()=>{var m;(m=p==null?void 0:p.current)==null||m.disconnect()},[]),ee.createElement("div",{className:"react-flow__nodes",style:Xu},h.map(m=>{var V,L,U;let v=m.type||"default";n.nodeTypes[v]||(d==null||d("003",zn.error003(v)),v="default");const w=n.nodeTypes[v]||n.nodeTypes.default,S=!!(m.draggable||o&&typeof m.draggable>"u"),M=!!(m.selectable||a&&typeof m.selectable>"u"),E=!!(m.connectable||i&&typeof m.connectable>"u"),$=!!(m.focusable||l&&typeof m.focusable>"u"),R=n.nodeExtent?Ou(m.positionAbsolute,n.nodeExtent):m.positionAbsolute,b=(R==null?void 0:R.x)??0,q=(R==null?void 0:R.y)??0,C=Hw({x:b,y:q,width:m.width??0,height:m.height??0,origin:n.nodeOrigin});return ee.createElement(w,{key:m.id,id:m.id,className:m.className,style:m.style,type:v,data:m.data,sourcePosition:m.sourcePosition||ge.Bottom,targetPosition:m.targetPosition||ge.Top,hidden:m.hidden,xPos:b,yPos:q,xPosOrigin:C.x,yPosOrigin:C.y,selectNodesOnDrag:n.selectNodesOnDrag,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,selected:!!m.selected,isDraggable:S,isSelectable:M,isConnectable:E,isFocusable:$,resizeObserver:g,dragHandle:m.dragHandle,zIndex:((V=m[be])==null?void 0:V.z)??0,isParent:!!((L=m[be])!=null&&L.isParent),noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,initialized:!!m.width&&!!m.height,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,ariaLabel:m.ariaLabel,hasHandleBounds:!!((U=m[be])!=null&&U.handleBounds)})}))};Fp.displayName="NodeRenderer";var qw=H.memo(Fp);const Vw=(n,o,i)=>i===ge.Left?n-o:i===ge.Right?n+o:n,Bw=(n,o,i)=>i===ge.Top?n-o:i===ge.Bottom?n+o:n,mh="react-flow__edgeupdater",gh=({position:n,centerX:o,centerY:i,radius:l=10,onMouseDown:a,onMouseEnter:c,onMouseOut:d,type:h})=>ee.createElement("circle",{onMouseDown:a,onMouseEnter:c,onMouseOut:d,className:ut([mh,`${mh}-${h}`]),cx:Vw(o,l,n),cy:Bw(i,l,n),r:l,stroke:"transparent",fill:"transparent"}),Uw=()=>!0;var eo=n=>{const o=({id:i,className:l,type:a,data:c,onClick:d,onEdgeDoubleClick:h,selected:p,animated:g,label:m,labelStyle:v,labelShowBg:w,labelBgStyle:S,labelBgPadding:M,labelBgBorderRadius:E,style:$,source:R,target:b,sourceX:q,sourceY:C,targetX:V,targetY:L,sourcePosition:U,targetPosition:Q,elementsSelectable:Y,hidden:K,sourceHandleId:Z,targetHandleId:oe,onContextMenu:te,onMouseEnter:k,onMouseMove:T,onMouseLeave:I,reconnectRadius:O,onReconnect:A,onReconnectStart:N,onReconnectEnd:z,markerEnd:x,markerStart:j,rfId:J,ariaLabel:X,isFocusable:ne,isReconnectable:re,pathOptions:ue,interactionWidth:he,disableKeyboardA11y:ve})=>{const Se=H.useRef(null),[Le,We]=H.useState(!1),[et,tt]=H.useState(!1),Fe=Ke(),vt=H.useMemo(()=>`url('#${Iu(j,J)}')`,[j,J]),Ie=H.useMemo(()=>`url('#${Iu(x,J)}')`,[x,J]);if(K)return null;const ye=Oe=>{var ct;const{edges:wt,addSelectedEdges:Jt,unselectNodesAndEdges:en,multiSelectionActive:pn}=Fe.getState(),St=wt.find(mn=>mn.id===i);St&&(Y&&(Fe.setState({nodesSelectionActive:!1}),St.selected&&pn?(en({nodes:[],edges:[St]}),(ct=Se.current)==null||ct.blur()):Jt([i])),d&&d(Oe,St))},Qe=Jo(i,Fe.getState,h),xt=Jo(i,Fe.getState,te),It=Jo(i,Fe.getState,k),Qt=Jo(i,Fe.getState,T),fn=Jo(i,Fe.getState,I),Tt=(Oe,wt)=>{if(Oe.button!==0)return;const{edges:Jt,isValidConnection:en}=Fe.getState(),pn=wt?b:R,St=(wt?oe:Z)||null,ct=wt?"target":"source",mn=en||Uw,rr=wt,gn=Jt.find(nn=>nn.id===i);tt(!0),N==null||N(Oe,gn,ct);const tn=nn=>{tt(!1),z==null||z(nn,gn,ct)};vp({event:Oe,handleId:St,nodeId:pn,onConnect:nn=>A==null?void 0:A(gn,nn),isTarget:rr,getState:Fe.getState,setState:Fe.setState,isValidConnection:mn,edgeUpdaterType:ct,onReconnectEnd:tn})},dn=Oe=>Tt(Oe,!0),Zt=Oe=>Tt(Oe,!1),Lt=()=>We(!0),Ft=()=>We(!1),hn=!Y&&!d,Ot=Oe=>{var wt;if(!ve&&sp.includes(Oe.key)&&Y){const{unselectNodesAndEdges:Jt,addSelectedEdges:en,edges:pn}=Fe.getState();Oe.key==="Escape"?((wt=Se.current)==null||wt.blur(),Jt({edges:[pn.find(ct=>ct.id===i)]})):en([i])}};return ee.createElement("g",{className:ut(["react-flow__edge",`react-flow__edge-${a}`,l,{selected:p,animated:g,inactive:hn,updating:Le}]),onClick:ye,onDoubleClick:Qe,onContextMenu:xt,onMouseEnter:It,onMouseMove:Qt,onMouseLeave:fn,onKeyDown:ne?Ot:void 0,tabIndex:ne?0:void 0,role:ne?"button":"img","data-testid":`rf__edge-${i}`,"aria-label":X===null?void 0:X||`Edge from ${R} to ${b}`,"aria-describedby":ne?`${Ip}-${J}`:void 0,ref:Se},!et&&ee.createElement(n,{id:i,source:R,target:b,selected:p,animated:g,label:m,labelStyle:v,labelShowBg:w,labelBgStyle:S,labelBgPadding:M,labelBgBorderRadius:E,data:c,style:$,sourceX:q,sourceY:C,targetX:V,targetY:L,sourcePosition:U,targetPosition:Q,sourceHandleId:Z,targetHandleId:oe,markerStart:vt,markerEnd:Ie,pathOptions:ue,interactionWidth:he}),re&&ee.createElement(ee.Fragment,null,(re==="source"||re===!0)&&ee.createElement(gh,{position:U,centerX:q,centerY:C,radius:O,onMouseDown:dn,onMouseEnter:Lt,onMouseOut:Ft,type:"source"}),(re==="target"||re===!0)&&ee.createElement(gh,{position:Q,centerX:V,centerY:L,radius:O,onMouseDown:Zt,onMouseEnter:Lt,onMouseOut:Ft,type:"target"})))};return o.displayName="EdgeWrapper",H.memo(o)};function Ww(n){const o={default:eo(n.default||il),straight:eo(n.bezier||Vu),step:eo(n.step||qu),smoothstep:eo(n.step||fl),simplebezier:eo(n.simplebezier||bu)},i={},l=Object.keys(n).filter(a=>!["default","bezier"].includes(a)).reduce((a,c)=>(a[c]=eo(n[c]||il),a),i);return{...o,...l}}function yh(n,o,i=null){const l=((i==null?void 0:i.x)||0)+o.x,a=((i==null?void 0:i.y)||0)+o.y,c=(i==null?void 0:i.width)||o.width,d=(i==null?void 0:i.height)||o.height;switch(n){case ge.Top:return{x:l+c/2,y:a};case ge.Right:return{x:l+c,y:a+d/2};case ge.Bottom:return{x:l+c/2,y:a+d};case ge.Left:return{x:l,y:a+d/2}}}function vh(n,o){return n?n.length===1||!o?n[0]:o&&n.find(i=>i.id===o)||null:null}const Gw=(n,o,i,l,a,c)=>{const d=yh(i,n,o),h=yh(c,l,a);return{sourceX:d.x,sourceY:d.y,targetX:h.x,targetY:h.y}};function Yw({sourcePos:n,targetPos:o,sourceWidth:i,sourceHeight:l,targetWidth:a,targetHeight:c,width:d,height:h,transform:p}){const g={x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x+i,o.x+a),y2:Math.max(n.y+l,o.y+c)};g.x===g.x2&&(g.x2+=1),g.y===g.y2&&(g.y2+=1);const m=Hu({x:(0-p[0])/p[2],y:(0-p[1])/p[2],width:d/p[2],height:h/p[2]}),v=Math.max(0,Math.min(m.x2,g.x2)-Math.max(m.x,g.x)),w=Math.max(0,Math.min(m.y2,g.y2)-Math.max(m.y,g.y));return Math.ceil(v*w)>0}function xh(n){var l,a,c,d,h;const o=((l=n==null?void 0:n[be])==null?void 0:l.handleBounds)||null,i=o&&(n==null?void 0:n.width)&&(n==null?void 0:n.height)&&typeof((a=n==null?void 0:n.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((c=n==null?void 0:n.positionAbsolute)==null?void 0:c.y)<"u";return[{x:((d=n==null?void 0:n.positionAbsolute)==null?void 0:d.x)||0,y:((h=n==null?void 0:n.positionAbsolute)==null?void 0:h.y)||0,width:(n==null?void 0:n.width)||0,height:(n==null?void 0:n.height)||0},o,!!i]}const Xw=[{level:0,isMaxLevel:!0,edges:[]}];function Kw(n,o,i=!1){let l=-1;const a=n.reduce((d,h)=>{var m,v;const p=At(h.zIndex);let g=p?h.zIndex:0;if(i){const w=o.get(h.target),S=o.get(h.source),M=h.selected||(w==null?void 0:w.selected)||(S==null?void 0:S.selected),E=Math.max(((m=S==null?void 0:S[be])==null?void 0:m.z)||0,((v=w==null?void 0:w[be])==null?void 0:v.z)||0,1e3);g=(p?h.zIndex:0)+(M?E:0)}return d[g]?d[g].push(h):d[g]=[h],l=g>l?g:l,d},{}),c=Object.entries(a).map(([d,h])=>{const p=+d;return{edges:h,level:p,isMaxLevel:p===l}});return c.length===0?Xw:c}function Qw(n,o,i){const l=Ae(H.useCallback(a=>n?a.edges.filter(c=>{const d=o.get(c.source),h=o.get(c.target);return(d==null?void 0:d.width)&&(d==null?void 0:d.height)&&(h==null?void 0:h.width)&&(h==null?void 0:h.height)&&Yw({sourcePos:d.positionAbsolute||{x:0,y:0},targetPos:h.positionAbsolute||{x:0,y:0},sourceWidth:d.width,sourceHeight:d.height,targetWidth:h.width,targetHeight:h.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[n,o]));return Kw(l,o,i)}const Zw=({color:n="none",strokeWidth:o=1})=>ee.createElement("polyline",{style:{stroke:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Jw=({color:n="none",strokeWidth:o=1})=>ee.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),wh={[uo.Arrow]:Zw,[uo.ArrowClosed]:Jw};function e1(n){const o=Ke();return H.useMemo(()=>{var a,c;return Object.prototype.hasOwnProperty.call(wh,n)?wh[n]:((c=(a=o.getState()).onError)==null||c.call(a,"009",zn.error009(n)),null)},[n])}const t1=({id:n,type:o,color:i,width:l=12.5,height:a=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:h="auto-start-reverse"})=>{const p=e1(o);return p?ee.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${l}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:h,refX:"0",refY:"0"},ee.createElement(p,{color:i,strokeWidth:d})):null},n1=({defaultColor:n,rfId:o})=>i=>{const l=[];return i.edges.reduce((a,c)=>([c.markerStart,c.markerEnd].forEach(d=>{if(d&&typeof d=="object"){const h=Iu(d,o);l.includes(h)||(a.push({id:h,color:d.color||n,...d}),l.push(h))}}),a),[]).sort((a,c)=>a.id.localeCompare(c.id))},Op=({defaultColor:n,rfId:o})=>{const i=Ae(H.useCallback(n1({defaultColor:n,rfId:o}),[n,o]),(l,a)=>!(l.length!==a.length||l.some((c,d)=>c.id!==a[d].id)));return ee.createElement("defs",null,i.map(l=>ee.createElement(t1,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient})))};Op.displayName="MarkerDefinitions";var r1=H.memo(Op);const o1=n=>({nodesConnectable:n.nodesConnectable,edgesFocusable:n.edgesFocusable,edgesUpdatable:n.edgesUpdatable,elementsSelectable:n.elementsSelectable,width:n.width,height:n.height,connectionMode:n.connectionMode,nodeInternals:n.nodeInternals,onError:n.onError}),Hp=({defaultMarkerColor:n,onlyRenderVisibleElements:o,elevateEdgesOnSelect:i,rfId:l,edgeTypes:a,noPanClassName:c,onEdgeContextMenu:d,onEdgeMouseEnter:h,onEdgeMouseMove:p,onEdgeMouseLeave:g,onEdgeClick:m,onEdgeDoubleClick:v,onReconnect:w,onReconnectStart:S,onReconnectEnd:M,reconnectRadius:E,children:$,disableKeyboardA11y:R})=>{const{edgesFocusable:b,edgesUpdatable:q,elementsSelectable:C,width:V,height:L,connectionMode:U,nodeInternals:Q,onError:Y}=Ae(o1,st),K=Qw(o,Q,i);return V?ee.createElement(ee.Fragment,null,K.map(({level:Z,edges:oe,isMaxLevel:te})=>ee.createElement("svg",{key:Z,style:{zIndex:Z},width:V,height:L,className:"react-flow__edges react-flow__container"},te&&ee.createElement(r1,{defaultColor:n,rfId:l}),ee.createElement("g",null,oe.map(k=>{const[T,I,O]=xh(Q.get(k.source)),[A,N,z]=xh(Q.get(k.target));if(!O||!z)return null;let x=k.type||"default";a[x]||(Y==null||Y("011",zn.error011(x)),x="default");const j=a[x]||a.default,J=U===Er.Strict?N.target:(N.target??[]).concat(N.source??[]),X=vh(I.source,k.sourceHandle),ne=vh(J,k.targetHandle),re=(X==null?void 0:X.position)||ge.Bottom,ue=(ne==null?void 0:ne.position)||ge.Top,he=!!(k.focusable||b&&typeof k.focusable>"u"),ve=k.reconnectable||k.updatable,Se=typeof w<"u"&&(ve||q&&typeof ve>"u");if(!X||!ne)return Y==null||Y("008",zn.error008(X,k)),null;const{sourceX:Le,sourceY:We,targetX:et,targetY:tt}=Gw(T,X,re,A,ne,ue);return ee.createElement(j,{key:k.id,id:k.id,className:ut([k.className,c]),type:x,data:k.data,selected:!!k.selected,animated:!!k.animated,hidden:!!k.hidden,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,style:k.style,source:k.source,target:k.target,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerEnd:k.markerEnd,markerStart:k.markerStart,sourceX:Le,sourceY:We,targetX:et,targetY:tt,sourcePosition:re,targetPosition:ue,elementsSelectable:C,onContextMenu:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:g,onClick:m,onEdgeDoubleClick:v,onReconnect:w,onReconnectStart:S,onReconnectEnd:M,reconnectRadius:E,rfId:l,ariaLabel:k.ariaLabel,isFocusable:he,isReconnectable:Se,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth,disableKeyboardA11y:R})})))),$):null};Hp.displayName="EdgeRenderer";var i1=H.memo(Hp);const s1=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function l1({children:n}){const o=Ae(s1);return ee.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:o}},n)}function a1(n){const o=Yu(),i=H.useRef(!1);H.useEffect(()=>{!i.current&&o.viewportInitialized&&n&&(setTimeout(()=>n(o),1),i.current=!0)},[n,o.viewportInitialized])}const u1={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top},bp=({nodeId:n,handleType:o,style:i,type:l=Tn.Bezier,CustomComponent:a,connectionStatus:c})=>{var L,U,Q;const{fromNode:d,handleId:h,toX:p,toY:g,connectionMode:m}=Ae(H.useCallback(Y=>({fromNode:Y.nodeInternals.get(n),handleId:Y.connectionHandleId,toX:(Y.connectionPosition.x-Y.transform[0])/Y.transform[2],toY:(Y.connectionPosition.y-Y.transform[1])/Y.transform[2],connectionMode:Y.connectionMode}),[n]),st),v=(L=d==null?void 0:d[be])==null?void 0:L.handleBounds;let w=v==null?void 0:v[o];if(m===Er.Loose&&(w=w||(v==null?void 0:v[o==="source"?"target":"source"])),!d||!w)return null;const S=h?w.find(Y=>Y.id===h):w[0],M=S?S.x+S.width/2:(d.width??0)/2,E=S?S.y+S.height/2:d.height??0,$=(((U=d.positionAbsolute)==null?void 0:U.x)??0)+M,R=(((Q=d.positionAbsolute)==null?void 0:Q.y)??0)+E,b=S==null?void 0:S.position,q=b?u1[b]:null;if(!b||!q)return null;if(a)return ee.createElement(a,{connectionLineType:l,connectionLineStyle:i,fromNode:d,fromHandle:S,fromX:$,fromY:R,toX:p,toY:g,fromPosition:b,toPosition:q,connectionStatus:c});let C="";const V={sourceX:$,sourceY:R,sourcePosition:b,targetX:p,targetY:g,targetPosition:q};return l===Tn.Bezier?[C]=fp(V):l===Tn.Step?[C]=Cu({...V,borderRadius:0}):l===Tn.SmoothStep?[C]=Cu(V):l===Tn.SimpleBezier?[C]=cp(V):C=`M${$},${R} ${p},${g}`,ee.createElement("path",{d:C,fill:"none",className:"react-flow__connection-path",style:i})};bp.displayName="ConnectionLine";const c1=n=>({nodeId:n.connectionNodeId,handleType:n.connectionHandleType,nodesConnectable:n.nodesConnectable,connectionStatus:n.connectionStatus,width:n.width,height:n.height});function f1({containerStyle:n,style:o,type:i,component:l}){const{nodeId:a,handleType:c,nodesConnectable:d,width:h,height:p,connectionStatus:g}=Ae(c1,st);return!(a&&c&&h&&d)?null:ee.createElement("svg",{style:n,width:h,height:p,className:"react-flow__edges react-flow__connectionline react-flow__container"},ee.createElement("g",{className:ut(["react-flow__connection",g])},ee.createElement(bp,{nodeId:a,handleType:c,style:o,type:i,CustomComponent:l,connectionStatus:g})))}function Sh(n,o){return H.useRef(null),Ke(),H.useMemo(()=>o(n),[n])}const qp=({nodeTypes:n,edgeTypes:o,onMove:i,onMoveStart:l,onMoveEnd:a,onInit:c,onNodeClick:d,onEdgeClick:h,onNodeDoubleClick:p,onEdgeDoubleClick:g,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:w,onNodeContextMenu:S,onSelectionContextMenu:M,onSelectionStart:E,onSelectionEnd:$,connectionLineType:R,connectionLineStyle:b,connectionLineComponent:q,connectionLineContainerStyle:C,selectionKeyCode:V,selectionOnDrag:L,selectionMode:U,multiSelectionKeyCode:Q,panActivationKeyCode:Y,zoomActivationKeyCode:K,deleteKeyCode:Z,onlyRenderVisibleElements:oe,elementsSelectable:te,selectNodesOnDrag:k,defaultViewport:T,translateExtent:I,minZoom:O,maxZoom:A,preventScrolling:N,defaultMarkerColor:z,zoomOnScroll:x,zoomOnPinch:j,panOnScroll:J,panOnScrollSpeed:X,panOnScrollMode:ne,zoomOnDoubleClick:re,panOnDrag:ue,onPaneClick:he,onPaneMouseEnter:ve,onPaneMouseMove:Se,onPaneMouseLeave:Le,onPaneScroll:We,onPaneContextMenu:et,onEdgeContextMenu:tt,onEdgeMouseEnter:Fe,onEdgeMouseMove:vt,onEdgeMouseLeave:Ie,onReconnect:ye,onReconnectStart:Qe,onReconnectEnd:xt,reconnectRadius:It,noDragClassName:Qt,noWheelClassName:fn,noPanClassName:Tt,elevateEdgesOnSelect:dn,disableKeyboardA11y:Zt,nodeOrigin:Lt,nodeExtent:Ft,rfId:hn})=>{const Ot=Sh(n,Ow),Oe=Sh(o,Ww);return a1(c),ee.createElement(Lw,{onPaneClick:he,onPaneMouseEnter:ve,onPaneMouseMove:Se,onPaneMouseLeave:Le,onPaneContextMenu:et,onPaneScroll:We,deleteKeyCode:Z,selectionKeyCode:V,selectionOnDrag:L,selectionMode:U,onSelectionStart:E,onSelectionEnd:$,multiSelectionKeyCode:Q,panActivationKeyCode:Y,zoomActivationKeyCode:K,elementsSelectable:te,onMove:i,onMoveStart:l,onMoveEnd:a,zoomOnScroll:x,zoomOnPinch:j,zoomOnDoubleClick:re,panOnScroll:J,panOnScrollSpeed:X,panOnScrollMode:ne,panOnDrag:ue,defaultViewport:T,translateExtent:I,minZoom:O,maxZoom:A,onSelectionContextMenu:M,preventScrolling:N,noDragClassName:Qt,noWheelClassName:fn,noPanClassName:Tt,disableKeyboardA11y:Zt},ee.createElement(l1,null,ee.createElement(i1,{edgeTypes:Oe,onEdgeClick:h,onEdgeDoubleClick:g,onlyRenderVisibleElements:oe,onEdgeContextMenu:tt,onEdgeMouseEnter:Fe,onEdgeMouseMove:vt,onEdgeMouseLeave:Ie,onReconnect:ye,onReconnectStart:Qe,onReconnectEnd:xt,reconnectRadius:It,defaultMarkerColor:z,noPanClassName:Tt,elevateEdgesOnSelect:!!dn,disableKeyboardA11y:Zt,rfId:hn},ee.createElement(f1,{style:b,type:R,component:q,containerStyle:C})),ee.createElement("div",{className:"react-flow__edgelabel-renderer"}),ee.createElement(qw,{nodeTypes:Ot,onNodeClick:d,onNodeDoubleClick:p,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:w,onNodeContextMenu:S,selectNodesOnDrag:k,onlyRenderVisibleElements:oe,noPanClassName:Tt,noDragClassName:Qt,disableKeyboardA11y:Zt,nodeOrigin:Lt,nodeExtent:Ft,rfId:hn})))};qp.displayName="GraphView";var d1=H.memo(qp);const zu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Qn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:zu,nodeExtent:zu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Er.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Hx,isValidConnection:void 0},h1=()=>Kg((n,o)=>({...Qn,setNodes:i=>{const{nodeInternals:l,nodeOrigin:a,elevateNodesOnSelect:c}=o();n({nodeInternals:fu(i,l,a,c)})},getNodes:()=>Array.from(o().nodeInternals.values()),setEdges:i=>{const{defaultEdgeOptions:l={}}=o();n({edges:i.map(a=>({...l,...a}))})},setDefaultNodesAndEdges:(i,l)=>{const a=typeof i<"u",c=typeof l<"u",d=a?fu(i,new Map,o().nodeOrigin,o().elevateNodesOnSelect):new Map;n({nodeInternals:d,edges:c?l:[],hasDefaultNodes:a,hasDefaultEdges:c})},updateNodeDimensions:i=>{const{onNodesChange:l,nodeInternals:a,fitViewOnInit:c,fitViewOnInitDone:d,fitViewOnInitOptions:h,domNode:p,nodeOrigin:g}=o(),m=p==null?void 0:p.querySelector(".react-flow__viewport");if(!m)return;const v=window.getComputedStyle(m),{m22:w}=new window.DOMMatrixReadOnly(v.transform),S=i.reduce((E,$)=>{const R=a.get($.id);if(R!=null&&R.hidden)a.set(R.id,{...R,[be]:{...R[be],handleBounds:void 0}});else if(R){const b=Fu($.nodeElement);!!(b.width&&b.height&&(R.width!==b.width||R.height!==b.height||$.forceUpdate))&&(a.set(R.id,{...R,[be]:{...R[be],handleBounds:{source:ph(".source",$.nodeElement,w,g),target:ph(".target",$.nodeElement,w,g)}},...b}),E.push({id:R.id,type:"dimensions",dimensions:b}))}return E},[]);Pp(a,g);const M=d||c&&!d&&Mp(o,{initial:!0,...h});n({nodeInternals:new Map(a),fitViewOnInitDone:M}),(S==null?void 0:S.length)>0&&(l==null||l(S))},updateNodePositions:(i,l=!0,a=!1)=>{const{triggerNodeChanges:c}=o(),d=i.map(h=>{const p={id:h.id,type:"position",dragging:a};return l&&(p.positionAbsolute=h.positionAbsolute,p.position=h.position),p});c(d)},triggerNodeChanges:i=>{const{onNodesChange:l,nodeInternals:a,hasDefaultNodes:c,nodeOrigin:d,getNodes:h,elevateNodesOnSelect:p}=o();if(i!=null&&i.length){if(c){const g=zp(i,h()),m=fu(g,a,d,p);n({nodeInternals:m})}l==null||l(i)}},addSelectedNodes:i=>{const{multiSelectionActive:l,edges:a,getNodes:c}=o();let d,h=null;l?d=i.map(p=>Jn(p,!0)):(d=to(c(),i),h=to(a,[])),Vs({changedNodes:d,changedEdges:h,get:o,set:n})},addSelectedEdges:i=>{const{multiSelectionActive:l,edges:a,getNodes:c}=o();let d,h=null;l?d=i.map(p=>Jn(p,!0)):(d=to(a,i),h=to(c(),[])),Vs({changedNodes:h,changedEdges:d,get:o,set:n})},unselectNodesAndEdges:({nodes:i,edges:l}={})=>{const{edges:a,getNodes:c}=o(),d=i||c(),h=l||a,p=d.map(m=>(m.selected=!1,Jn(m.id,!1))),g=h.map(m=>Jn(m.id,!1));Vs({changedNodes:p,changedEdges:g,get:o,set:n})},setMinZoom:i=>{const{d3Zoom:l,maxZoom:a}=o();l==null||l.scaleExtent([i,a]),n({minZoom:i})},setMaxZoom:i=>{const{d3Zoom:l,minZoom:a}=o();l==null||l.scaleExtent([a,i]),n({maxZoom:i})},setTranslateExtent:i=>{var l;(l=o().d3Zoom)==null||l.translateExtent(i),n({translateExtent:i})},resetSelectedElements:()=>{const{edges:i,getNodes:l}=o(),c=l().filter(h=>h.selected).map(h=>Jn(h.id,!1)),d=i.filter(h=>h.selected).map(h=>Jn(h.id,!1));Vs({changedNodes:c,changedEdges:d,get:o,set:n})},setNodeExtent:i=>{const{nodeInternals:l}=o();l.forEach(a=>{a.positionAbsolute=Ou(a.position,i)}),n({nodeExtent:i,nodeInternals:new Map(l)})},panBy:i=>{const{transform:l,width:a,height:c,d3Zoom:d,d3Selection:h,translateExtent:p}=o();if(!d||!h||!i.x&&!i.y)return!1;const g=tr.translate(l[0]+i.x,l[1]+i.y).scale(l[2]),m=[[0,0],[a,c]],v=d==null?void 0:d.constrain()(g,m,p);return d.transform(h,v),l[0]!==v.x||l[1]!==v.y||l[2]!==v.k},cancelConnection:()=>n({connectionNodeId:Qn.connectionNodeId,connectionHandleId:Qn.connectionHandleId,connectionHandleType:Qn.connectionHandleType,connectionStatus:Qn.connectionStatus,connectionStartHandle:Qn.connectionStartHandle,connectionEndHandle:Qn.connectionEndHandle}),reset:()=>n({...Qn})}),Object.is),Vp=({children:n})=>{const o=H.useRef(null);return o.current||(o.current=h1()),ee.createElement(jx,{value:o.current},n)};Vp.displayName="ReactFlowProvider";const Bp=({children:n})=>H.useContext(cl)?ee.createElement(ee.Fragment,null,n):ee.createElement(Vp,null,n);Bp.displayName="ReactFlowWrapper";const p1={input:_p,default:Pu,output:Ep,group:Gu},m1={default:il,straight:Vu,step:qu,smoothstep:fl,simplebezier:bu},g1=[0,0],y1=[15,15],v1={x:0,y:0,zoom:1},x1={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Up=H.forwardRef(({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,className:a,nodeTypes:c=p1,edgeTypes:d=m1,onNodeClick:h,onEdgeClick:p,onInit:g,onMove:m,onMoveStart:v,onMoveEnd:w,onConnect:S,onConnectStart:M,onConnectEnd:E,onClickConnectStart:$,onClickConnectEnd:R,onNodeMouseEnter:b,onNodeMouseMove:q,onNodeMouseLeave:C,onNodeContextMenu:V,onNodeDoubleClick:L,onNodeDragStart:U,onNodeDrag:Q,onNodeDragStop:Y,onNodesDelete:K,onEdgesDelete:Z,onSelectionChange:oe,onSelectionDragStart:te,onSelectionDrag:k,onSelectionDragStop:T,onSelectionContextMenu:I,onSelectionStart:O,onSelectionEnd:A,connectionMode:N=Er.Strict,connectionLineType:z=Tn.Bezier,connectionLineStyle:x,connectionLineComponent:j,connectionLineContainerStyle:J,deleteKeyCode:X="Backspace",selectionKeyCode:ne="Shift",selectionOnDrag:re=!1,selectionMode:ue=ci.Full,panActivationKeyCode:he="Space",multiSelectionKeyCode:ve=ol()?"Meta":"Control",zoomActivationKeyCode:Se=ol()?"Meta":"Control",snapToGrid:Le=!1,snapGrid:We=y1,onlyRenderVisibleElements:et=!1,selectNodesOnDrag:tt=!0,nodesDraggable:Fe,nodesConnectable:vt,nodesFocusable:Ie,nodeOrigin:ye=g1,edgesFocusable:Qe,edgesUpdatable:xt,elementsSelectable:It,defaultViewport:Qt=v1,minZoom:fn=.5,maxZoom:Tt=2,translateExtent:dn=zu,preventScrolling:Zt=!0,nodeExtent:Lt,defaultMarkerColor:Ft="#b1b1b7",zoomOnScroll:hn=!0,zoomOnPinch:Ot=!0,panOnScroll:Oe=!1,panOnScrollSpeed:wt=.5,panOnScrollMode:Jt=Sr.Free,zoomOnDoubleClick:en=!0,panOnDrag:pn=!0,onPaneClick:St,onPaneMouseEnter:ct,onPaneMouseMove:mn,onPaneMouseLeave:rr,onPaneScroll:gn,onPaneContextMenu:tn,children:yn,onEdgeContextMenu:nn,onEdgeDoubleClick:yi,onEdgeMouseEnter:vi,onEdgeMouseMove:xi,onEdgeMouseLeave:wi,onEdgeUpdate:fo,onEdgeUpdateStart:Si,onEdgeUpdateEnd:or,onReconnect:ho,onReconnectStart:ir,onReconnectEnd:dl,reconnectRadius:sr=10,edgeUpdaterRadius:Nr=10,onNodesChange:Cr,onEdgesChange:po,noDragClassName:hl="nodrag",noWheelClassName:pl="nowheel",noPanClassName:_i="nopan",fitView:vn=!1,fitViewOptions:ki,connectOnClick:Ei=!0,attributionPosition:ml,proOptions:Ni,defaultEdgeOptions:Ci,elevateNodesOnSelect:Ii=!0,elevateEdgesOnSelect:Ti=!1,disableKeyboardA11y:Pi=!1,autoPanOnConnect:gl=!0,autoPanOnNodeDrag:$e=!0,connectionRadius:yl=20,isValidConnection:mo,onError:Mi,style:Ir,id:zi,nodeDragThreshold:ji,...Tr},Pt)=>{const go=zi||"1";return ee.createElement("div",{...Tr,style:{...Ir,...x1},ref:Pt,className:ut(["react-flow",a]),"data-testid":"rf__wrapper",id:zi},ee.createElement(Bp,null,ee.createElement(d1,{onInit:g,onMove:m,onMoveStart:v,onMoveEnd:w,onNodeClick:h,onEdgeClick:p,onNodeMouseEnter:b,onNodeMouseMove:q,onNodeMouseLeave:C,onNodeContextMenu:V,onNodeDoubleClick:L,nodeTypes:c,edgeTypes:d,connectionLineType:z,connectionLineStyle:x,connectionLineComponent:j,connectionLineContainerStyle:J,selectionKeyCode:ne,selectionOnDrag:re,selectionMode:ue,deleteKeyCode:X,multiSelectionKeyCode:ve,panActivationKeyCode:he,zoomActivationKeyCode:Se,onlyRenderVisibleElements:et,selectNodesOnDrag:tt,defaultViewport:Qt,translateExtent:dn,minZoom:fn,maxZoom:Tt,preventScrolling:Zt,zoomOnScroll:hn,zoomOnPinch:Ot,zoomOnDoubleClick:en,panOnScroll:Oe,panOnScrollSpeed:wt,panOnScrollMode:Jt,panOnDrag:pn,onPaneClick:St,onPaneMouseEnter:ct,onPaneMouseMove:mn,onPaneMouseLeave:rr,onPaneScroll:gn,onPaneContextMenu:tn,onSelectionContextMenu:I,onSelectionStart:O,onSelectionEnd:A,onEdgeContextMenu:nn,onEdgeDoubleClick:yi,onEdgeMouseEnter:vi,onEdgeMouseMove:xi,onEdgeMouseLeave:wi,onReconnect:ho??fo,onReconnectStart:ir??Si,onReconnectEnd:dl??or,reconnectRadius:sr??Nr,defaultMarkerColor:Ft,noDragClassName:hl,noWheelClassName:pl,noPanClassName:_i,elevateEdgesOnSelect:Ti,rfId:go,disableKeyboardA11y:Pi,nodeOrigin:ye,nodeExtent:Lt}),ee.createElement(uw,{nodes:n,edges:o,defaultNodes:i,defaultEdges:l,onConnect:S,onConnectStart:M,onConnectEnd:E,onClickConnectStart:$,onClickConnectEnd:R,nodesDraggable:Fe,nodesConnectable:vt,nodesFocusable:Ie,edgesFocusable:Qe,edgesUpdatable:xt,elementsSelectable:It,elevateNodesOnSelect:Ii,minZoom:fn,maxZoom:Tt,nodeExtent:Lt,onNodesChange:Cr,onEdgesChange:po,snapToGrid:Le,snapGrid:We,connectionMode:N,translateExtent:dn,connectOnClick:Ei,defaultEdgeOptions:Ci,fitView:vn,fitViewOptions:ki,onNodesDelete:K,onEdgesDelete:Z,onNodeDragStart:U,onNodeDrag:Q,onNodeDragStop:Y,onSelectionDrag:k,onSelectionDragStart:te,onSelectionDragStop:T,noPanClassName:_i,nodeOrigin:ye,rfId:go,autoPanOnConnect:gl,autoPanOnNodeDrag:$e,onError:Mi,connectionRadius:yl,isValidConnection:mo,nodeDragThreshold:ji}),ee.createElement(lw,{onSelectionChange:oe}),yn,ee.createElement(Rx,{proOptions:Ni,position:ml}),ee.createElement(pw,{rfId:go,disableKeyboardA11y:Pi})))});Up.displayName="ReactFlow";function w1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ee.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function S1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ee.createElement("path",{d:"M0 0h32v4.2H0z"}))}function _1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ee.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function k1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ee.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function E1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ee.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const oi=({children:n,className:o,...i})=>ee.createElement("button",{type:"button",className:ut(["react-flow__controls-button",o]),...i},n);oi.displayName="ControlButton";const N1=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom}),Wp=({style:n,showZoom:o=!0,showFitView:i=!0,showInteractive:l=!0,fitViewOptions:a,onZoomIn:c,onZoomOut:d,onFitView:h,onInteractiveChange:p,className:g,children:m,position:v="bottom-left"})=>{const w=Ke(),[S,M]=H.useState(!1),{isInteractive:E,minZoomReached:$,maxZoomReached:R}=Ae(N1,st),{zoomIn:b,zoomOut:q,fitView:C}=Yu();if(H.useEffect(()=>{M(!0)},[]),!S)return null;const V=()=>{b(),c==null||c()},L=()=>{q(),d==null||d()},U=()=>{C(a),h==null||h()},Q=()=>{w.setState({nodesDraggable:!E,nodesConnectable:!E,elementsSelectable:!E}),p==null||p(!E)};return ee.createElement(rp,{className:ut(["react-flow__controls",g]),position:v,style:n,"data-testid":"rf__controls"},o&&ee.createElement(ee.Fragment,null,ee.createElement(oi,{onClick:V,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:R},ee.createElement(w1,null)),ee.createElement(oi,{onClick:L,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:$},ee.createElement(S1,null))),i&&ee.createElement(oi,{className:"react-flow__controls-fitview",onClick:U,title:"fit view","aria-label":"fit view"},ee.createElement(_1,null)),l&&ee.createElement(oi,{className:"react-flow__controls-interactive",onClick:Q,title:"toggle interactivity","aria-label":"toggle interactivity"},E?ee.createElement(E1,null):ee.createElement(k1,null)),m)};Wp.displayName="Controls";var C1=H.memo(Wp),Xt;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(Xt||(Xt={}));function I1({color:n,dimensions:o,lineWidth:i}){return ee.createElement("path",{stroke:n,strokeWidth:i,d:`M${o[0]/2} 0 V${o[1]} M0 ${o[1]/2} H${o[0]}`})}function T1({color:n,radius:o}){return ee.createElement("circle",{cx:o,cy:o,r:o,fill:n})}const P1={[Xt.Dots]:"#91919a",[Xt.Lines]:"#eee",[Xt.Cross]:"#e2e2e2"},M1={[Xt.Dots]:1,[Xt.Lines]:1,[Xt.Cross]:6},z1=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function Gp({id:n,variant:o=Xt.Dots,gap:i=20,size:l,lineWidth:a=1,offset:c=2,color:d,style:h,className:p}){const g=H.useRef(null),{transform:m,patternId:v}=Ae(z1,st),w=d||P1[o],S=l||M1[o],M=o===Xt.Dots,E=o===Xt.Cross,$=Array.isArray(i)?i:[i,i],R=[$[0]*m[2]||1,$[1]*m[2]||1],b=S*m[2],q=E?[b,b]:R,C=M?[b/c,b/c]:[q[0]/c,q[1]/c];return ee.createElement("svg",{className:ut(["react-flow__background",p]),style:{...h,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:g,"data-testid":"rf__background"},ee.createElement("pattern",{id:v+n,x:m[0]%R[0],y:m[1]%R[1],width:R[0],height:R[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`},M?ee.createElement(T1,{color:w,radius:b/c}):ee.createElement(I1,{dimensions:q,color:w,lineWidth:a})),ee.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${v+n})`}))}Gp.displayName="Background";var j1=H.memo(Gp);const $1=({onFormat:n})=>{const[o,i]=H.useState(!1),l=[{label:"B",format:"b",title:"Bold"},{label:"I",format:"i",title:"Italic"},{label:"~",format:"s",title:"Strikethrough"}],a={"Text Colors":["black","white","gray","silver","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua"],"Extended Colors":["darkred","crimson","tomato","coral","indianred","lightcoral","darkorange","orange","darkgreen","forestgreen","seagreen","darkseagreen","darkcyan","lightseagreen","darkturquoise","turquoise","darkblue","mediumblue","royalblue","cornflowerblue","darkviolet","blueviolet","darkorchid","mediumorchid"]};return _.jsxs("div",{className:"text-format-toolbar",children:[l.map(({label:c,format:d,title:h})=>_.jsx("button",{onClick:()=>n(d),title:h,className:"format-button",children:c},d)),_.jsx("div",{className:"format-divider"}),_.jsxs("div",{className:"color-picker-container",children:[_.jsxs("button",{onClick:()=>i(!o),className:"format-button color-picker-button",title:"Text Color",children:[_.jsx("span",{className:"color-icon",children:"A"}),_.jsx("span",{className:"color-dropdown-arrow",children:"‚ñº"})]}),o&&_.jsx("div",{className:"color-picker-dropdown",children:Object.entries(a).map(([c,d])=>_.jsxs("div",{className:"color-category",children:[_.jsx("div",{className:"color-category-label",children:c}),_.jsx("div",{className:"color-grid",children:d.map(h=>_.jsx("button",{onClick:()=>{n("color",h),i(!1)},className:"color-option",style:{backgroundColor:h},title:h.charAt(0).toUpperCase()+h.slice(1)},h))})]},c))})]})]})},R1=(n,o,i,l,a)=>{const c=n.slice(o,i),d=n.slice(0,o),h=n.slice(i);if(l==="color"&&a){const v=`[color=${a}]`,w="[/color]";return o===i?{text:`${d}${v}${w}${h}`,newCursorPos:o+v.length}:{text:`${d}${v}${c}${w}${h}`,newCursorPos:i+v.length+w.length}}const p=`[${l}]`,g=`[/${l}]`;return o===i?{text:`${d}${p}${g}${h}`,newCursorPos:o+p.length}:{text:`${d}${p}${c}${g}${h}`,newCursorPos:i+p.length+g.length}},Ku=({value:n,onChange:o,placeholder:i,className:l=""})=>{const a=H.useRef(null),[c,d]=ee.useState(n);H.useEffect(()=>{d(n)},[n]);const h=(g,m)=>{const v=a.current;if(!v)return;const{selectionStart:w,selectionEnd:S}=v,{text:M,newCursorPos:E}=R1(c,w,S,g,m);d(M),o(M),setTimeout(()=>{v.focus(),v.setSelectionRange(E,E)},0)},p=g=>{const m=g.target.value;d(m),console.log("TextInput handleChange:",m),o(m)};return _.jsxs("div",{className:"text-input-with-toolbar",children:[_.jsx($1,{onFormat:h}),_.jsx("textarea",{ref:a,value:c,onChange:p,placeholder:i,className:`text-input ${l}`})]})},D1=({node:n,onUpdate:o})=>{const i=l=>{const a={...n,text:l};console.log("NodeInspector handleTextChange - after:",a),o(a)};return _.jsxs("div",{className:"inspector-content",children:[_.jsx("h3",{className:"inspector-title",children:"Node Settings"}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Speaker:"}),_.jsx("input",{type:"text",value:n.speaker,onChange:l=>o({...n,speaker:l.target.value}),placeholder:"Who is speaking..."})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Default Text:"}),_.jsx(Ku,{value:n.text,onChange:i,placeholder:"Enter node text...",className:"node-text-input"}),_.jsxs("div",{className:"help-text",children:["Supports BBCode formatting: [b]bold[/b], [i]italic[/i], [s]strikethrough[/s], [color=red]colors[/color], and variables using ","{","$$variable_name","}"]})]})]})},er=({value:n,onChange:o,onEnter:i,suggestions:l=[],placeholder:a,className:c})=>{const[d,h]=H.useState(!1),[p,g]=H.useState(-1),m=H.useRef(null),v=H.useRef(null),w=H.useMemo(()=>n?l.filter(M=>M.toLowerCase().includes(n.toLowerCase())):l,[n,l]),S=M=>{M.key==="ArrowDown"?(M.preventDefault(),g(E=>Math.min(E+1,w.length-1))):M.key==="ArrowUp"?(M.preventDefault(),g(E=>Math.max(E-1,-1))):M.key==="Enter"&&i?(M.preventDefault(),i(n)):M.key==="Escape"&&h(!1)};return H.useEffect(()=>{const M=E=>{m.current&&!m.current.contains(E.target)&&v.current&&!v.current.contains(E.target)&&h(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]),_.jsxs("div",{className:"autocomplete-container",children:[_.jsx("input",{ref:m,type:"text",value:n,onChange:M=>{o(M.target.value),h(!0)},onFocus:()=>h(!0),onKeyDown:S,placeholder:a,className:c}),d&&w.length>0&&_.jsx("div",{ref:v,className:"suggestions-list",children:w.map((M,E)=>_.jsx("div",{className:`suggestion-item ${E===p?"focused":""}`,onClick:()=>{o(M),h(!1)},onMouseEnter:()=>g(E),children:M},M))})]})},A1=({choice:n,onUpdate:o,availableNodes:i,onCreateNode:l,existingFlags:a=[],existingStateKeys:c=[]})=>{var p,g,m,v,w;const d=(S,M=!1,E)=>{var $;S&&(i.includes(S)?o(M&&E!==void 0?{...n,alternateDestinations:($=n.alternateDestinations)==null?void 0:$.map((R,b)=>b===E?{...R,nextNodeId:S}:R)}:{...n,nextNodeId:S}):l==null||l(S))},h=()=>{o({...n,alternateDestinations:[...n.alternateDestinations||[],{nextNodeId:"",prerequisites:{requiredFlags:[],blockedFlags:[],stateConditions:[]}}]})};return _.jsxs("div",{className:"inspector-content",children:[_.jsx("h3",{className:"inspector-title",children:"Choice Settings"}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Text:"}),_.jsx(Ku,{value:n.text,onChange:S=>o({...n,text:S}),placeholder:"Enter choice text...",className:"choice-text-input"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Next Node:"}),_.jsx("div",{className:"next-node-selector",children:_.jsxs("div",{className:"node-id-input",children:[_.jsx(er,{value:n.nextNodeId,onChange:S=>o({...n,nextNodeId:S}),onEnter:S=>d(S),suggestions:i,placeholder:"Select or create node..."}),_.jsx("button",{onClick:()=>d(n.nextNodeId),className:"quick-create-button",disabled:!n.nextNodeId||i.includes(n.nextNodeId),children:"Create Node"})]})})]}),_.jsxs("div",{className:"prerequisites-section",children:[_.jsx("h4",{children:"Prerequisites"}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Required Flags:"}),_.jsx(er,{value:"",onChange:S=>{var M,E;o({...n,prerequisites:{...n.prerequisites||{},requiredFlags:((E=(M=n.prerequisites)==null?void 0:M.requiredFlags)==null?void 0:E.filter($=>$!==S))||[]}})},suggestions:a,placeholder:"Add required flag..."}),_.jsx("div",{className:"flag-chips",children:(g=(p=n.prerequisites)==null?void 0:p.requiredFlags)==null?void 0:g.map(S=>_.jsxs("div",{className:"flag-chip",children:[S,_.jsx("button",{onClick:()=>{var M,E;return o({...n,prerequisites:{...n.prerequisites,requiredFlags:((E=(M=n.prerequisites)==null?void 0:M.requiredFlags)==null?void 0:E.filter($=>$!==S))||[]}})},children:"√ó"})]},S))})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"State Conditions:"}),_.jsx("button",{onClick:()=>{var S;return o({...n,prerequisites:{...n.prerequisites,stateConditions:[...((S=n.prerequisites)==null?void 0:S.stateConditions)||[],{key:"",operator:"=",value:0}]}})},className:"add-condition-button",children:"Add Condition"}),(v=(m=n.prerequisites)==null?void 0:m.stateConditions)==null?void 0:v.map((S,M)=>_.jsxs("div",{className:"state-condition",children:[_.jsx(er,{value:S.key,onChange:E=>{var $,R;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(R=($=n.prerequisites)==null?void 0:$.stateConditions)==null?void 0:R.map((b,q)=>q===M?{...b,key:E}:b)}})},suggestions:c,placeholder:"State key"}),_.jsxs("select",{className:"operator-select",value:S.operator,onChange:E=>{var $,R;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(R=($=n.prerequisites)==null?void 0:$.stateConditions)==null?void 0:R.map((b,q)=>q===M?{...b,operator:E.target.value}:b)}})},children:[_.jsx("option",{value:"=",children:"="}),_.jsx("option",{value:">",children:">"}),_.jsx("option",{value:"<",children:"<"}),_.jsx("option",{value:">=",children:"‚â•"}),_.jsx("option",{value:"<=",children:"‚â§"})]}),_.jsx("input",{type:"number",value:S.value,onChange:E=>{var $,R;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(R=($=n.prerequisites)==null?void 0:$.stateConditions)==null?void 0:R.map((b,q)=>q===M?{...b,value:Number(E.target.value)}:b)}})}}),_.jsx("button",{onClick:()=>{var E,$;return o({...n,prerequisites:{...n.prerequisites,stateConditions:($=(E=n.prerequisites)==null?void 0:E.stateConditions)==null?void 0:$.filter((R,b)=>b!==M)}})},className:"remove-condition-button",children:"√ó"})]},M))]})]}),_.jsxs("div",{className:"alternate-destinations-section",children:[_.jsxs("div",{className:"section-header",children:[_.jsx("h4",{children:"Alternate Destinations"}),_.jsx("button",{onClick:h,className:"add-section-button",children:"Add Alternate Path"})]}),(w=n.alternateDestinations)==null?void 0:w.map((S,M)=>{var E,$,R,b;return _.jsxs("div",{className:"alternate-destination",children:[_.jsxs("div",{className:"destination-header",children:[_.jsxs("h5",{children:["Alternate Path ",M+1]}),_.jsx("button",{onClick:()=>{var q;return o({...n,alternateDestinations:(q=n.alternateDestinations)==null?void 0:q.filter((C,V)=>V!==M)})},className:"remove-destination-button",children:"Remove"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Next Node:"}),_.jsx("div",{className:"next-node-selector",children:_.jsxs("div",{className:"node-id-input",children:[_.jsx(er,{value:S.nextNodeId,onChange:q=>{var C;return o({...n,alternateDestinations:(C=n.alternateDestinations)==null?void 0:C.map((V,L)=>L===M?{...V,nextNodeId:q}:V)})},onEnter:q=>d(q,!0,M),suggestions:i,placeholder:"Select or create node..."}),_.jsx("button",{onClick:()=>d(S.nextNodeId,!0,M),className:"quick-create-button",disabled:!S.nextNodeId||i.includes(S.nextNodeId),children:"Create Node"})]})})]}),_.jsxs("div",{className:"prerequisites-section",children:[_.jsx("h4",{children:"Prerequisites"}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Required Flags:"}),_.jsx(er,{value:"",onChange:q=>{var V,L;const C=((V=S.prerequisites)==null?void 0:V.requiredFlags)||[];o({...n,alternateDestinations:(L=n.alternateDestinations)==null?void 0:L.map((U,Q)=>Q===M?{...U,prerequisites:{...U.prerequisites,requiredFlags:[...C,q]}}:U)})},suggestions:a,placeholder:"Add required flag..."}),_.jsx("div",{className:"flag-chips",children:($=(E=S.prerequisites)==null?void 0:E.requiredFlags)==null?void 0:$.map(q=>_.jsxs("div",{className:"flag-chip",children:[q,_.jsx("button",{onClick:()=>{var C;return o({...n,alternateDestinations:(C=n.alternateDestinations)==null?void 0:C.map((V,L)=>{var U;return L===M?{...V,prerequisites:{...V.prerequisites,requiredFlags:(U=V.prerequisites.requiredFlags)==null?void 0:U.filter(Q=>Q!==q)}}:V})})},children:"√ó"})]},q))})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"State Conditions:"}),_.jsx("button",{onClick:()=>{var q;return o({...n,alternateDestinations:(q=n.alternateDestinations)==null?void 0:q.map((C,V)=>{var L;return V===M?{...C,prerequisites:{...C.prerequisites,stateConditions:[...((L=C.prerequisites)==null?void 0:L.stateConditions)||[],{key:"",operator:"=",value:0}]}}:C})})},className:"add-condition-button",children:"Add Condition"}),(b=(R=S.prerequisites)==null?void 0:R.stateConditions)==null?void 0:b.map((q,C)=>_.jsxs("div",{className:"state-condition",children:[_.jsx(er,{value:q.key,onChange:V=>{var L;return o({...n,alternateDestinations:(L=n.alternateDestinations)==null?void 0:L.map((U,Q)=>{var Y;return Q===M?{...U,prerequisites:{...U.prerequisites,stateConditions:(Y=U.prerequisites.stateConditions)==null?void 0:Y.map((K,Z)=>Z===C?{...K,key:V}:K)}}:U})})},suggestions:c,placeholder:"State key"}),_.jsxs("select",{className:"operator-select",value:q.operator,onChange:V=>{var L;return o({...n,alternateDestinations:(L=n.alternateDestinations)==null?void 0:L.map((U,Q)=>{var Y;return Q===M?{...U,prerequisites:{...U.prerequisites,stateConditions:(Y=U.prerequisites.stateConditions)==null?void 0:Y.map((K,Z)=>Z===C?{...K,operator:V.target.value}:K)}}:U})})},children:[_.jsx("option",{value:"=",children:"="}),_.jsx("option",{value:">",children:">"}),_.jsx("option",{value:"<",children:"<"}),_.jsx("option",{value:">=",children:"‚â•"}),_.jsx("option",{value:"<=",children:"‚â§"})]}),_.jsx("input",{type:"number",value:q.value,onChange:V=>{var L;return o({...n,alternateDestinations:(L=n.alternateDestinations)==null?void 0:L.map((U,Q)=>{var Y;return Q===M?{...U,prerequisites:{...U.prerequisites,stateConditions:(Y=U.prerequisites.stateConditions)==null?void 0:Y.map((K,Z)=>Z===C?{...K,value:Number(V.target.value)}:K)}}:U})})}}),_.jsx("button",{onClick:()=>{var V;return o({...n,alternateDestinations:(V=n.alternateDestinations)==null?void 0:V.map((L,U)=>{var Q;return U===M?{...L,prerequisites:{...L.prerequisites,stateConditions:(Q=L.prerequisites.stateConditions)==null?void 0:Q.filter((Y,K)=>K!==C)}}:L})})},className:"remove-condition-button",children:"√ó"})]},C))]})]})]},M)})]})]})},L1=({alternateText:n,onUpdate:o,existingFlags:i=[],existingStateKeys:l=[]})=>{var a,c,d,h;return _.jsxs("div",{className:"inspector-content",children:[_.jsx("h3",{className:"inspector-title",children:"Alternate Text Settings"}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Text:"}),_.jsx(Ku,{value:n.text,onChange:p=>o({...n,text:p}),placeholder:"Enter alternate text...",className:"alternate-text-input"}),_.jsxs("div",{className:"help-text",children:["Supports markdown and variables using ","{","$$variable_name","}"]})]}),_.jsxs("div",{className:"prerequisites-section",children:[_.jsx("h4",{children:"Prerequisites"}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Required Flags:"}),_.jsx(er,{value:"",onChange:p=>{var m;const g=((m=n.prerequisites)==null?void 0:m.requiredFlags)||[];o({...n,prerequisites:{...n.prerequisites,requiredFlags:[...g,p]}})},suggestions:i,placeholder:"Add required flag..."}),_.jsx("div",{className:"flag-chips",children:(c=(a=n.prerequisites)==null?void 0:a.requiredFlags)==null?void 0:c.map(p=>_.jsxs("div",{className:"flag-chip",children:[p,_.jsx("button",{onClick:()=>{var g;return o({...n,prerequisites:{...n.prerequisites,requiredFlags:(g=n.prerequisites.requiredFlags)==null?void 0:g.filter(m=>m!==p)}})},children:"√ó"})]},p))})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"State Conditions:"}),_.jsx("button",{onClick:()=>{var p;return o({...n,prerequisites:{...n.prerequisites,stateConditions:[...((p=n.prerequisites)==null?void 0:p.stateConditions)||[],{key:"",operator:"=",value:0}]}})},className:"add-condition-button",children:"Add Condition"}),(h=(d=n.prerequisites)==null?void 0:d.stateConditions)==null?void 0:h.map((p,g)=>_.jsxs("div",{className:"state-condition",children:[_.jsx(er,{value:p.key,onChange:m=>{var v;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(v=n.prerequisites.stateConditions)==null?void 0:v.map((w,S)=>S===g?{...w,key:m}:w)}})},suggestions:l,placeholder:"State key"}),_.jsxs("select",{value:p.operator,onChange:m=>{var v;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(v=n.prerequisites.stateConditions)==null?void 0:v.map((w,S)=>S===g?{...w,operator:m.target.value}:w)}})},children:[_.jsx("option",{value:"=",children:"="}),_.jsx("option",{value:">",children:">"}),_.jsx("option",{value:"<",children:"<"}),_.jsx("option",{value:">=",children:"‚â•"}),_.jsx("option",{value:"<=",children:"‚â§"})]}),_.jsx("input",{type:"number",value:p.value,onChange:m=>{var v;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(v=n.prerequisites.stateConditions)==null?void 0:v.map((w,S)=>S===g?{...w,value:Number(m.target.value)}:w)}})}}),_.jsx("button",{onClick:()=>{var m;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(m=n.prerequisites.stateConditions)==null?void 0:m.filter((v,w)=>w!==g)}})},className:"remove-condition-button",children:"√ó"})]},g))]})]})]})},F1=({target:n,node:o,onUpdate:i,availableNodes:l,onCreateNode:a,existingFlags:c,existingStateKeys:d})=>{console.log("Inspector render - target:",n),console.log("Inspector render - node:",o);const h=()=>{switch(n.type){case"node":return _.jsx(D1,{node:o,onUpdate:i});case"choice":return _.jsx(A1,{choice:o.choices[n.index],onUpdate:p=>i({...o,choices:o.choices.map((g,m)=>m===n.index?p:g)}),availableNodes:l,onCreateNode:a,existingFlags:c,existingStateKeys:d});case"alternateText":return _.jsx(L1,{alternateText:o.alternateTexts[n.index],onUpdate:p=>{i({...o,alternateTexts:o.alternateTexts.map((g,m)=>m===n.index?p:g)})},existingFlags:c,existingStateKeys:d});default:return null}};return _.jsx("div",{className:"inspector",children:h()})},di=({text:n})=>{const o=i=>{const l=[];let a="",c=0;const d=/\[(\/?)(b|i|s|color=([^\]]+))\]/g;let h;for(;(h=d.exec(i))!==null;){const g=i.slice(c,h.index);g&&(a+=g);const[m,v,w,S]=h;if(v)a&&(l.push(_.jsx("span",{children:a},l.length)),a="");else if(a&&(l.push(_.jsx("span",{children:a},l.length)),a=""),w.startsWith("color=")){const M=S,E=i.indexOf("[/color]",h.index);if(E!==-1){const $=i.slice(h.index+m.length,E);l.push(_.jsx("span",{style:{color:M},children:$},l.length)),d.lastIndex=E+8}}else{const M={b:{fontWeight:"bold"},i:{fontStyle:"italic"},s:{textDecoration:"line-through"}},E=i.indexOf(`[/${w}]`,h.index);if(E!==-1){const $=i.slice(h.index+m.length,E);l.push(_.jsx("span",{style:M[w],children:$},l.length)),d.lastIndex=E+w.length+3}}c=d.lastIndex}const p=i.slice(c);return p&&l.push(_.jsx("span",{children:p},l.length)),l};return _.jsx("div",{className:"bbcode-text",children:o(n)})},Yp=({node:n,dialogueTree:o,isOpen:i,onClose:l,onSave:a,availableNodes:c,onCreateNode:d})=>{var q;const[h,p]=H.useState({...n}),[g,m]=H.useState(null),[v,w]=H.useState(n.emotion||""),S=Object.keys(o.emotions),{existingFlags:M,existingStateKeys:E}=ee.useMemo(()=>{const C=new Set,V=new Set;return Object.values(o.nodes).forEach(L=>{var U;(U=L.alternateTexts)==null||U.forEach(Q=>{var Y,K,Z,oe,te,k;(K=(Y=Q.prerequisites)==null?void 0:Y.requiredFlags)==null||K.forEach(T=>C.add(T)),(oe=(Z=Q.prerequisites)==null?void 0:Z.blockedFlags)==null||oe.forEach(T=>C.add(T)),(k=(te=Q.prerequisites)==null?void 0:te.stateConditions)==null||k.forEach(T=>{V.add(T.key)})}),L.choices.forEach(Q=>{var Y,K,Z,oe,te,k,T,I,O,A,N;(K=(Y=Q.prerequisites)==null?void 0:Y.requiredFlags)==null||K.forEach(z=>C.add(z)),(oe=(Z=Q.prerequisites)==null?void 0:Z.blockedFlags)==null||oe.forEach(z=>C.add(z)),(k=(te=Q.prerequisites)==null?void 0:te.stateConditions)==null||k.forEach(z=>{V.add(z.key)}),(I=(T=Q.flagChanges)==null?void 0:T.add)==null||I.forEach(z=>C.add(z)),(A=(O=Q.flagChanges)==null?void 0:O.remove)==null||A.forEach(z=>C.add(z)),(N=Q.stateChanges)==null||N.forEach(z=>{V.add(z.key)})})}),{existingFlags:Array.from(C).sort(),existingStateKeys:Array.from(V).sort()}},[o]),$=()=>{p(C=>({...C,choices:[...C.choices,{id:`choice_${Date.now()}`,text:"New choice",nextNodeId:c[0]||""}]}))},R=C=>{console.log("DialogueNodeEditor handleInspectorUpdate - before:",h),console.log("DialogueNodeEditor handleInspectorUpdate - update:",C),p(C),console.log("DialogueNodeEditor handleInspectorUpdate - after state set")},b=()=>{console.log("DialogueNodeEditor handleSave - before:",h);const C={...h,emotion:v};console.log("DialogueNodeEditor handleSave - after:",C),console.log("DialogueNodeEditor calling onSave with:",C),a(C),console.log("DialogueNodeEditor onSave called"),l()};return H.useEffect(()=>{w(n.emotion||"")},[n]),H.useEffect(()=>{p(C=>({...C,emotion:v}))},[v]),H.useEffect(()=>{p({...n})},[n]),H.useEffect(()=>{console.log("DialogueNodeEditor editedNode changed:",h)},[h]),i?_.jsx("div",{className:"modal-overlay",children:_.jsxs("div",{className:"node-editor-modal",children:[_.jsxs("div",{className:"node-editor-header",children:[_.jsxs("div",{className:"node-editor-title",children:[_.jsx("h3",{children:"Edit Node"}),_.jsx("span",{className:"node-id",children:h.id})]}),_.jsx("button",{onClick:l,className:"close-button",children:"√ó"})]}),_.jsxs("div",{className:"node-editor-content",children:[_.jsxs("div",{className:"node-editor-main",children:[_.jsxs("div",{className:"editor-section",children:[_.jsx("div",{className:"editor-section-header",children:_.jsx("h4",{children:"Character"})}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Speaker"}),_.jsx("input",{type:"text",value:h.speaker,onChange:C=>p(V=>({...V,speaker:C.target.value}))})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Emotion"}),_.jsxs("select",{value:v,onChange:C=>w(C.target.value),children:[_.jsx("option",{value:"",children:"Default"}),S.map(C=>_.jsx("option",{value:C,children:C},C))]})]})]}),_.jsxs("div",{className:"editor-section",children:[_.jsx("div",{className:"editor-section-header",children:_.jsx("h4",{children:"Default Text"})}),_.jsxs("div",{className:"node-preview",onClick:()=>m({type:"node",id:h.id}),children:[_.jsx("div",{className:"node-speaker",children:h.speaker}),_.jsx("div",{className:"node-text",children:_.jsx(di,{text:h.text})})]})]}),_.jsxs("div",{className:"editor-section",children:[_.jsxs("div",{className:"editor-section-header",children:[_.jsx("h4",{children:"Alternate Texts"}),_.jsx("button",{onClick:()=>{p(C=>({...C,alternateTexts:[...C.alternateTexts||[],{text:"",prerequisites:{}}]}))},className:"add-section-button",children:"Add Alternate Text"})]}),(q=h.alternateTexts)==null?void 0:q.map((C,V)=>{var L,U,Q,Y;return _.jsxs("div",{className:"alternate-text-preview",onClick:()=>m({type:"alternateText",id:h.id,index:V}),children:[_.jsxs("div",{className:"alternate-text-content",children:[_.jsx(di,{text:C.text||"(Empty text)"}),C.emotion&&_.jsxs("span",{className:"alternate-text-emotion",children:["‚Ä¢ ",C.emotion]})]}),_.jsxs("div",{className:"alternate-text-conditions",children:[(U=(L=C.prerequisites)==null?void 0:L.requiredFlags)!=null&&U.length?_.jsxs("div",{className:"condition-tag",children:["Required: ",C.prerequisites.requiredFlags.join(", ")]}):null,(Y=(Q=C.prerequisites)==null?void 0:Q.stateConditions)!=null&&Y.length?_.jsxs("div",{className:"condition-tag",children:[C.prerequisites.stateConditions.length," condition(s)"]}):null]})]},V)})]}),_.jsxs("div",{className:"editor-section",children:[_.jsxs("div",{className:"editor-section-header",children:[_.jsx("h4",{children:"Choices"}),_.jsx("button",{onClick:$,className:"add-section-button",children:"Add Choice"})]}),h.choices.map((C,V)=>_.jsxs("div",{className:"choice-preview",onClick:()=>m({type:"choice",id:C.id,index:V}),children:[_.jsx("div",{className:"choice-text",children:C.text}),_.jsxs("div",{className:"choice-meta",children:[C.prerequisites&&_.jsx("span",{className:"condition-badge",children:"‚ö°"}),C.flagChanges&&_.jsx("span",{className:"flag-badge",children:"üö©"}),C.stateChanges&&C.stateChanges.length>0&&_.jsx("span",{className:"state-badge",children:"üìä"}),"‚Üí ",C.nextNodeId||"???"]})]},C.id))]})]}),g&&_.jsx("div",{className:"node-editor-inspector",children:_.jsx(F1,{target:g,node:h,onUpdate:R,availableNodes:c,onCreateNode:d,existingFlags:M,existingStateKeys:E})})]}),_.jsxs("div",{className:"node-editor-footer",children:[_.jsx("button",{onClick:b,className:"save-button",children:"Save Changes"}),_.jsx("button",{onClick:l,className:"cancel-button",children:"Cancel"})]})]})}):null},O1=({data:n,style:o})=>_.jsxs("div",{className:"dialogue-node",style:o,children:[_.jsx(co,{type:"target",position:ge.Left}),_.jsxs("div",{className:"dialogue-node-speaker",children:[n.speaker,n.emotion&&_.jsxs("span",{className:"dialogue-node-emotion",children:["‚Ä¢ ",n.emotion]})]}),_.jsx("div",{className:"dialogue-node-text",children:_.jsx(di,{text:n.text})}),_.jsxs("div",{className:"dialogue-node-choices",children:[_.jsx("div",{className:"dialogue-node-choices-label",children:"Player options:"}),n.choices.map((i,l)=>{var a,c;return _.jsxs("div",{className:`dialogue-node-choice ${i.isLocked?"locked":""} ${i.isBlockable?"blockable":""} ${i.isBroken?"broken":""}`,title:i.isBroken?"Missing target node!":i.isLocked?`Required: ${(a=i.requiredFlags)==null?void 0:a.join(", ")}${i.blockedFlags?`
Blocked by: ${i.blockedFlags.join(", ")}`:""}`:i.isBlockable?`Can be blocked by: ${(c=i.blockedFlags)==null?void 0:c.join(", ")}`:"",children:["‚Ä¢ ",i.text,i.isLocked&&_.jsx("span",{className:"lock-icon",children:"üîí"}),i.isBlockable&&_.jsx("span",{className:"block-icon",children:"‚ö†Ô∏è"}),i.isBroken&&_.jsx("span",{className:"broken-icon",children:"‚ö°"})]},l)})]}),_.jsx(co,{type:"source",position:ge.Right})]}),H1={dialogueNode:O1},b1=n=>{const h=Math.ceil(n.text.length/35)*20,p=n.choices.length*30,g=n.choices.length>0?p+20:0;return 80+h+g},q1=({dialogueTree:n,onCreateNode:o,onUpdate:i})=>{const[l,a]=H.useState([]),[c,d]=H.useState([]),[h,p]=H.useState(null),[g,m]=H.useState(null),v=400,w=200,S=50,M=H.useCallback(()=>{const K=[],Z=[],oe=new Map,te=new Map,k=new Map;Object.entries(n.nodes).forEach(([I,O])=>{te.set(I,b1(O))});const T=(I,O,A)=>{if(A.has(I))return;A.add(I);const N=n.nodes[I];N&&(k.has(O)||k.set(O,[]),k.get(O).push(I),N.choices.forEach(z=>{var x;z.nextNodeId&&n.nodes[z.nextNodeId]&&T(z.nextNodeId,O+1,A),(x=z.alternateDestinations)==null||x.forEach(j=>{j.nextNodeId&&n.nodes[j.nextNodeId]&&T(j.nextNodeId,O+1,A)})}))};T(n.startNodeId,0,new Set),k.forEach((I,O)=>{const A=I.length;I.forEach((X,ne)=>{var ve;const re=O*v;let ue=(ne-(A-1)/2)*w;const he=oe.get(I[ne-1]);if(he){const Se=te.get(I[ne-1])||0,Le=he.y+Se+S;ue<Le&&(ue=Le)}if(ne>0){const Se=((ve=oe.get(I[ne-1]))==null?void 0:ve.y)||0,We=(te.get(I[ne-1])||0)+S;ue-Se<We&&(ue=Se+We)}oe.set(X,{x:re,y:ue})});const N=I.map(X=>{const ne=oe.get(X),re=te.get(X)||0;return{y:(ne==null?void 0:ne.y)||0,height:re}}),z=Math.min(...N.map(X=>X.y)),J=-(Math.max(...N.map(X=>X.y+X.height))-z)/2;I.forEach(X=>{const ne=oe.get(X);ne&&oe.set(X,{x:ne.x,y:ne.y+J})})}),Object.entries(n.nodes).forEach(([I,O])=>{const A=oe.get(I)||{x:0,y:0};K.push({id:I,type:"dialogueNode",position:A,data:{text:O.text,speaker:O.speaker,emotion:O.emotion,choices:O.choices.map(N=>{var z,x,j,J,X;return{text:N.text,isLocked:((z=N.prerequisites)==null?void 0:z.requiredFlags)!==void 0,isBlockable:((x=N.prerequisites)==null?void 0:x.blockedFlags)!==void 0&&((j=N.prerequisites)==null?void 0:j.requiredFlags)===void 0,requiredFlags:(J=N.prerequisites)==null?void 0:J.requiredFlags,blockedFlags:(X=N.prerequisites)==null?void 0:X.blockedFlags,isBroken:!n.nodes[N.nextNodeId]}})},style:{width:250},draggable:!0}),O.choices.forEach((N,z)=>{var J,X,ne,re,ue,he,ve;const x=((X=(J=N.prerequisites)==null?void 0:J.requiredFlags)==null?void 0:X.length)||((re=(ne=N.prerequisites)==null?void 0:ne.blockedFlags)==null?void 0:re.length)||((he=(ue=N.prerequisites)==null?void 0:ue.stateConditions)==null?void 0:he.length),j={type:"bezier",sourceHandle:ge.Right,targetHandle:ge.Left,labelStyle:{fill:"var(--color-text)",fontWeight:500},labelBgStyle:{fill:"var(--color-background-tertiary)",stroke:"var(--color-border)",strokeWidth:1,color:"white",rx:4,ry:4},labelBgPadding:[4,4],labelBgBorderRadius:4};(ve=N.alternateDestinations)!=null&&ve.length?N.alternateDestinations.forEach((Se,Le)=>{Z.push({...j,id:`${I}-${Se.nextNodeId}-alt-${Le}`,source:I,target:Se.nextNodeId,label:N.text,animated:!0,style:{strokeWidth:2,stroke:x?"var(--color-text-tertiary)":"var(--color-border)",strokeDasharray:x?"5 5":void 0},markerEnd:{type:uo.ArrowClosed,width:20,height:20,color:x?"var(--color-text-tertiary)":"var(--color-primary)"}})}):Z.push({...j,id:`${I}-${N.nextNodeId}-${z}`,source:I,target:N.nextNodeId,label:N.text,style:{strokeWidth:2,stroke:x?"var(--color-text-tertiary)":"var(--color-border)",strokeDasharray:x?"5 5":void 0},markerEnd:{type:uo.ArrowClosed,width:20,height:20,color:x?"var(--color-text-tertiary)":"var(--color-border)"}})})}),a(K),d(Z)},[n]);ee.useEffect(()=>{M()},[n,M]);const E=H.useCallback(K=>{a(Z=>zp(K,Z))},[]),$=H.useCallback((K,Z)=>{Z&&typeof Z=="object"&&"id"in Z&&typeof Z.id=="string"&&(p(Z.id),m(Z.id))},[]),R=H.useCallback(K=>{if(!n)return;const Z={...n,nodes:{...n.nodes,[K.id]:K}};i(Z),p(null)},[n,i]),b=H.useCallback(K=>{h&&(o==null||o(K))},[h,o]),q=H.useCallback((K,Z)=>{Z&&typeof Z.id=="string"&&m(Z.id)},[]),C=H.useCallback((K,Z)=>{Z&&typeof Z.id=="string"&&m(Z.id)},[]);H.useEffect(()=>{h||m(null)},[h]);const V=(K,Z,oe="both")=>{const te=new Set;return te.add(K),Z.forEach(k=>{(oe==="outgoing"||oe==="both")&&k.source===K&&te.add(k.target),(oe==="incoming"||oe==="both")&&k.target===K&&te.add(k.source)}),te},L=H.useMemo(()=>g?V(g,c):null,[g,c]),U=H.useMemo(()=>L?l.map(K=>({...K,style:{...K.style,opacity:L.has(K.id)?1:.2,transition:"opacity 0.3s ease-in-out"},className:L.has(K.id)?"connected-node":"unconnected-node"})):l,[l,L]),Q=H.useMemo(()=>L?c.map(K=>({...K,style:{...K.style,opacity:L.has(K.source)&&L.has(K.target)?1:.2,transition:"opacity 0.3s ease-in-out"},className:L.has(K.source)&&L.has(K.target)?"connected-edge":"unconnected-edge"})):c,[c,L]),Y=H.useCallback(()=>{m(null)},[]);return _.jsxs(_.Fragment,{children:[_.jsx("div",{style:{height:"calc(100vh - 160px)",width:"100%"},children:_.jsxs(Up,{nodes:U,edges:Q,nodeTypes:H1,connectionLineType:Tn.SmoothStep,onNodesChange:E,onNodeDoubleClick:$,onNodeClick:q,onNodeDragStart:C,onPaneClick:Y,fitView:!0,children:[_.jsx(j1,{}),_.jsx(C1,{})]})}),h&&_.jsx(Yp,{node:n.nodes[h],dialogueTree:n,isOpen:!0,onClose:()=>p(null),onSave:R,availableNodes:Object.keys(n.nodes),onCreateNode:b})]})},Us=(n,o)=>{console.log("Input text:",n),console.log("Variables:",o);const i=/\{\$\$([^}]+)\}/g,l=n.replace(i,(a,c)=>{const d=c.trim(),h=o[d];return console.log(`Matching: "${a}"`),console.log(`Variable name: "${d}"`),console.log(`Value found: ${h}`),h!==void 0?h.toString():"VALUE_NOT_FOUND"});return console.log("Output text:",l),l},mu=n=>{const o=/\{\$\$([^}]+)\}/g;return(n.match(o)||[]).map(l=>l.slice(3,-1).trim())},V1=({dialogueTree:n,isOpen:o,onClose:i})=>{var te,k;const[l,a]=H.useState(n.startNodeId),[c,d]=H.useState([]),[h,p]=H.useState(new Set),[g,m]=H.useState(()=>({gold:100,jonas_weight:450})),[v,w]=H.useState(!1),[S,M]=H.useState(new Set),E=H.useRef(null),$=()=>{var T;(T=E.current)==null||T.scrollIntoView({behavior:"smooth"})};H.useEffect(()=>{$()},[c]);const{allFlags:R,allStateKeys:b}=ee.useMemo(()=>{const T=new Set,I=new Set;return Object.values(n.nodes).forEach(O=>{var A;mu(O.text).forEach(N=>I.add(N)),(A=O.alternateTexts)==null||A.forEach(N=>{var z,x,j,J,X,ne;mu(N.text).forEach(re=>I.add(re)),(x=(z=N.prerequisites)==null?void 0:z.requiredFlags)==null||x.forEach(re=>T.add(re)),(J=(j=N.prerequisites)==null?void 0:j.blockedFlags)==null||J.forEach(re=>T.add(re)),(ne=(X=N.prerequisites)==null?void 0:X.stateConditions)==null||ne.forEach(re=>{I.add(re.key)})}),O.choices.forEach(N=>{var z,x,j,J,X,ne;mu(N.text).forEach(re=>I.add(re)),N.prerequisites&&((z=N.prerequisites.requiredFlags)==null||z.forEach(re=>T.add(re)),(x=N.prerequisites.blockedFlags)==null||x.forEach(re=>T.add(re)),(j=N.prerequisites.stateConditions)==null||j.forEach(re=>{I.add(re.key)})),N.flagChanges&&((J=N.flagChanges.add)==null||J.forEach(re=>T.add(re)),(X=N.flagChanges.remove)==null||X.forEach(re=>T.add(re))),(ne=N.stateChanges)==null||ne.forEach(re=>{I.add(re.key)})})}),{allFlags:Array.from(T).sort(),allStateKeys:Array.from(I).sort()}},[n]);ee.useEffect(()=>{m(T=>{const I={...T};return b.forEach(O=>{O in I||(O==="jonas_weight"?I[O]=450:I[O]=0)}),I})},[b]),console.log("Game State:",g);const q=T=>{p(I=>{const O=new Set(I);return O.has(T)?O.delete(T):O.add(T),O})};ee.useEffect(()=>{l&&d(T=>T.map(I=>{if(I.isPlayer)return I;const O=Object.values(n.nodes).find(A=>A.speaker===I.speaker&&A.text===I.originalText);return O?{...I,text:K(O).text,originalText:O.text,emotion:O.emotion}:I}))},[h,g,l,n.nodes]);const C=ee.useCallback(()=>{const T=n.nodes[n.startNodeId];a(n.startNodeId),d([{text:K(T).text,originalText:T.text,speaker:T.speaker,emotion:T.emotion,isPlayer:!1}])},[n]);ee.useEffect(()=>{o&&C()},[o,n,C]);const V=n.nodes[l],L=T=>{const I=g[T.key]??0;switch(T.operator){case"=":return I===T.value;case">":return I>T.value;case"<":return I<T.value;case">=":return I>=T.value;case"<=":return I<=T.value;default:return!1}},U=T=>{if(!(T!=null&&T.prerequisites))return!0;const{requiredFlags:I=[],blockedFlags:O=[],stateConditions:A=[]}=T.prerequisites;return I.every(N=>h.has(N))&&!O.some(N=>h.has(N))&&A.every(L)},Q=T=>{var N;d(z=>[...z,{text:T.text,speaker:"Player",isPlayer:!0}]),T.flagChanges&&(T.flagChanges.add&&p(z=>{var j,J;const x=new Set(z);return(J=(j=T.flagChanges)==null?void 0:j.add)==null||J.forEach(X=>x.add(X)),x}),T.flagChanges.remove&&p(z=>{var j,J;const x=new Set(z);return(J=(j=T.flagChanges)==null?void 0:j.remove)==null||J.forEach(X=>x.delete(X)),x})),T.stateChanges&&m(z=>{var j;const x={...z};return(j=T.stateChanges)==null||j.forEach(J=>{x[J.key]=(x[J.key]||0)+J.value}),x});const I=(N=T.alternateDestinations)==null?void 0:N.find(z=>{const{requiredFlags:x=[],blockedFlags:j=[],stateConditions:J=[]}=z.prerequisites,X=x.every(re=>h.has(re))&&!j.some(re=>h.has(re)),ne=J.every(re=>{const ue=g[re.key]||0;switch(re.operator){case"=":return ue===re.value;case">":return ue>re.value;case"<":return ue<re.value;case">=":return ue>=re.value;case"<=":return ue<=re.value;default:return!1}});return X&&ne}),O=(I==null?void 0:I.nextNodeId)||T.nextNodeId,A=n.nodes[O];if(A){const{text:z,emotion:x}=K(A);d(j=>[...j,{text:z,originalText:A.text,speaker:A.speaker,emotion:x,isPlayer:!1}]),a(O)}},Y=T=>{var O,A,N;const I=[];if(T.prerequisites){if((O=T.prerequisites.requiredFlags)!=null&&O.length){const z=T.prerequisites.requiredFlags.filter(x=>!h.has(x));z.length&&I.push(`Missing flags: ${z.join(", ")}`)}if((A=T.prerequisites.blockedFlags)!=null&&A.length){const z=T.prerequisites.blockedFlags.filter(x=>h.has(x));z.length&&I.push(`Blocked by flags: ${z.join(", ")}`)}if((N=T.prerequisites.stateConditions)!=null&&N.length){const z=T.prerequisites.stateConditions.filter(x=>!L(x));z.length&&I.push(`Required states:
`+z.map(x=>`${x.key} ${x.operator} ${x.value}`).join(`
`))}}return I.join(`
`)},K=T=>{var O;if(!((O=T.alternateTexts)!=null&&O.length))return{text:Us(T.text,g),emotion:T.emotion};const I=T.alternateTexts.find(A=>{if(!A.prerequisites)return!1;const{requiredFlags:N=[],blockedFlags:z=[],stateConditions:x=[]}=A.prerequisites,j=N.every(X=>h.has(X))&&!z.some(X=>h.has(X)),J=x.every(X=>{const ne=g[X.key]||0;switch(X.operator){case"=":return ne===X.value;case">":return ne>X.value;case"<":return ne<X.value;case">=":return ne>=X.value;case"<=":return ne<=X.value;default:return!1}});return j&&J});return{text:Us((I==null?void 0:I.text)||T.text,g),emotion:(I==null?void 0:I.emotion)||T.emotion}},Z=(T,I)=>{if(!n.emotions)return n.characterPicture;const O=(I==null?void 0:I.emotion)||(T==null?void 0:T.emotion);return O&&n.emotions[O]&&!S.has(n.emotions[O])?n.emotions[O]:n.emotions.default||n.characterPicture},oe=H.useMemo(()=>{if(!V||!c.length)return n.characterPicture;const T=c[c.length-1];return Z(V,T)},[V,c,n,S]);return o?_.jsx("div",{className:"modal-overlay",children:_.jsxs("div",{className:"dialogue-preview-modal",children:[_.jsxs("div",{className:"preview-header",children:[_.jsxs("h3",{children:["Dialogue Preview - ",n.characterName]}),_.jsxs("div",{className:"preview-controls",children:[_.jsx("button",{onClick:()=>w(!v),className:"flag-manager-button",title:"Toggle game flags",children:"üö© Game Flags"}),_.jsx("button",{onClick:i,className:"close-button",children:"√ó"})]})]}),_.jsxs("div",{className:"preview-content",children:[v&&_.jsxs("div",{className:"flag-manager",children:[_.jsxs("div",{className:"flag-manager-header",children:[_.jsx("h4",{children:"Game State"}),_.jsx("button",{onClick:()=>{p(new Set),m(Object.fromEntries([...b].map(T=>[T,0])))},className:"clear-flags-button",children:"Reset All"})]}),_.jsx("div",{className:"state-list",children:b.length>0&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"state-section-header",children:"State Values"}),b.map(T=>_.jsxs("div",{className:`state-item ${T==="jonas_weight"?"variable-item":""}`,children:[_.jsx("span",{className:"state-name",children:T}),_.jsx("input",{type:"number",value:g[T]??0,onChange:I=>m(O=>({...O,[T]:Number(I.target.value)})),className:"state-input"})]},T))]})}),_.jsx("div",{className:"flag-list",children:R.map(T=>_.jsxs("label",{className:"flag-item",children:[_.jsx("input",{type:"checkbox",checked:h.has(T),onChange:()=>q(T)}),_.jsx("span",{className:"flag-name",children:T})]},T))})]}),_.jsxs("div",{className:"character-portrait-container",children:[_.jsx("img",{className:"character-portrait",src:oe,alt:n.characterName,onError:T=>{const I=T.target,O=I.src;if(!S.has(O)){M(N=>new Set([...N,O]));const A=n.emotions.default||n.characterPicture;A!==O&&(I.src=A)}}}),_.jsxs("div",{className:"character-portrait-info",children:[_.jsx("div",{className:"character-portrait-name",children:n.characterName}),((te=c[c.length-1])==null?void 0:te.emotion)&&n.emotions&&_.jsx("div",{className:"character-portrait-emotion",children:c[c.length-1].emotion})]})]}),_.jsxs("div",{className:"dialogue-container",children:[_.jsxs("div",{className:"messages-container",children:[c.map((T,I)=>{const O=Us(T.text,g);return _.jsxs("div",{className:`message ${T.isPlayer?"player":"npc"}`,children:[_.jsx("div",{className:"message-speaker",children:T.speaker}),_.jsx("div",{className:"message-text",children:_.jsx(di,{text:O})})]},I)}),_.jsx("div",{ref:E})," "]}),_.jsx("div",{className:"choices-container",children:(k=V==null?void 0:V.choices)==null?void 0:k.map(T=>{const I=U(T),O=I?"":Y(T),A=Us(T.text,g);return _.jsxs("button",{onClick:()=>I&&Q(T),className:`choice-button ${I?"":"locked"}`,disabled:!n.nodes[T.nextNodeId],title:O,children:[!I&&_.jsx("span",{className:"lock-icon",children:"üîí"}),_.jsx("div",{className:"choice-text",children:_.jsx(di,{text:A})})]},T.id)})}),_.jsx("div",{className:"preview-footer",children:_.jsx("button",{onClick:C,className:"reset-button",children:"Reset Conversation"})})]})]})]})}):null},B1=n=>n.replace(/\*\*?(.*?)\*\*?/g,"[b]$1[/b]").replace(/_(.*?)_/g,"[i]$1[/i]").replace(/~~(.*?)~~/g,"[s]$1[/s]").replace(/^# (.*?)$/gm,"[font_size=24]$1[/font_size]").replace(/^## (.*?)$/gm,"[font_size=20]$1[/font_size]").replace(/\[(.*?)\]\((.*?)\)/g,"[url=$2]$1[/url]").replace(/\[color=(.*?)\](.*?)\[\/color\]/g,"[color=$1]$2[/color]"),U1=n=>{const o=(i,l="")=>{if(Array.isArray(i))return i.length===0?"[]":`[${i.map(a=>o(a,l)).join(", ")}]`;if(typeof i=="object"&&i!==null){const a=Object.entries(i).filter(([,c])=>c!==void 0);return a.length===0?"{}":`{${a.map(([c,d])=>c==="text"?`"${c}": "${B1(d)}"`:`"${c}": ${o(d,l)}`).join(", ")}}`}return typeof i=="string"?`"${i.replace(/"/g,'\\"')}"`:typeof i=="boolean"?i?"true":"false":String(i)};return`[gd_resource type="Resource" script_class="DialogueTree" load_steps=2 format=3]

[ext_resource type="Script" path="res://scripts/dialogue_tree.gd" id="1_script"]

[resource]
script = ExtResource("1_script")
name = "${n.name}"
character = "${n.character}"
character_name = "${n.characterName}"
character_picture = "${n.characterPicture}"
start_node_id = "${n.startNodeId}"
emotions = ${o(n.emotions)}
nodes = ${o(n.nodes)}`},Xp=async(n,o,i)=>{try{const a=await(await window.showSaveFilePicker({suggestedName:o,...i})).createWritable();await a.write(n),await a.close()}catch(l){if(l instanceof Error&&l.name!=="AbortError"){console.error("Error saving file:",l);const a=document.createElement("a"),c=new Blob([n],{type:"text/plain"});a.href=URL.createObjectURL(c),a.download=o,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},W1=async n=>{const o=U1(n),i=`${n.name.toLowerCase().replace(/\s+/g,"_")}.tres`;await Xp(o,i,{types:[{description:"Godot Resource",accept:{"application/tres":[".tres"]}}]})},G1=async()=>{try{const o=await(await fetch("/src/assets/dialogueTree.gd")).text();await Xp(o,"dialogue_tree.gd",{types:[{description:"GDScript File",accept:{"text/x-gdscript":[".gd"]}}]})}catch(n){console.error("Error downloading script:",n)}},Y1="Tutorial",X1="guide",K1="Guide",Q1="/characters/guide/default.png",Z1={default:"/characters/guide/default.png",happy:"/characters/guide/happy.png",excited:"/characters/guide/excited.png",thoughtful:"/characters/guide/thoughtful.png"},J1="intro",eS=JSON.parse(`{"intro":{"id":"intro","speaker":"Guide","text":"Welcome to the [color=royalblue]Dialogue Editor[/color]! I'll show you how everything works.","emotion":"excited","choices":[{"id":"choice_1","text":"Tell me about text formatting","nextNodeId":"formatting"},{"id":"choice_2","text":"How do variables work?","nextNodeId":"variables"},{"id":"choice_3","text":"Show me conditions and flags","nextNodeId":"conditions"},{"id":"choice_export","text":"How do I export my dialogue?","nextNodeId":"export_info"},{"id":"choice_portraits","text":"How do character portraits work?","nextNodeId":"portraits_info"},{"id":"choice_alternates","text":"What are alternate texts?","nextNodeId":"alternate_info"},{"id":"choice_editor","text":"How do I use the node editor?","nextNodeId":"editor_info"}]},"formatting":{"id":"formatting","speaker":"Guide","text":"You can make text [b]bold[/b], [i]italic[/i], or [s]strikethrough[/s]. You can also add [color=red]colors[/color] to your text!","emotion":"happy","choices":[{"id":"choice_4","text":"That's cool! What else?","nextNodeId":"formatting2"}]},"formatting2":{"id":"formatting2","speaker":"Guide","text":"You can also change my [color=purple]emotion[/color] to match the dialogue's mood!","emotion":"excited","alternateTexts":[{"text":"Like now, where I'm being [color=blue]thoughtful[/color] about all the possibilities...","emotion":"thoughtful","prerequisites":{"requiredFlags":["seen_formatting"]}}],"choices":[{"id":"choice_5","text":"Go back to start","nextNodeId":"intro","flagChanges":{"add":["seen_formatting"]}}]},"variables":{"id":"variables","speaker":"Guide","text":"Variables let you show dynamic values! For example: You have {$$gold} gold coins.","emotion":"thoughtful","choices":[{"id":"choice_6","text":"Can I change these values?","nextNodeId":"variables2"}]},"variables2":{"id":"variables2","speaker":"Guide","text":"Yes! Try changing the values in the game state panel. Watch this text update: {$$gold} gold coins!","emotion":"excited","choices":[{"id":"choice_7","text":"Go back to start","nextNodeId":"intro","stateChanges":[{"key":"gold","operation":"add","value":50}]}]},"conditions":{"id":"conditions","speaker":"Guide","text":"Conditions let you control what choices appear based on flags and variables.","emotion":"thoughtful","choices":[{"id":"choice_8","text":"Show me a rich choice (Requires 100 gold)","nextNodeId":"conditions_rich","prerequisites":{"stateConditions":[{"key":"gold","operator":">=","value":100}]}},{"id":"choice_9","text":"Show me a flag-based choice","nextNodeId":"conditions_flag","prerequisites":{"requiredFlags":["seen_formatting"]}},{"id":"choice_10","text":"Go back to start","nextNodeId":"intro"},{"id":"choice_locks","text":"Tell me about locked paths","nextNodeId":"locks_info"},{"id":"choice_state_changes","text":"Can choices change flags and values?","nextNodeId":"state_changes"}]},"export_info":{"id":"export_info","speaker":"Guide","text":"You can export your dialogue as a Godot resource (.tres) file! Click the 'Export Resource' button in the toolbar.","emotion":"thoughtful","choices":[{"id":"choice_export_2","text":"What about the character pictures?","nextNodeId":"export_pictures"},{"id":"choice_export_script","text":"Tell me about the script","nextNodeId":"export_script"}]},"export_script":{"id":"export_script","speaker":"Guide","text":"When you export, you'll get both a .tres resource and a .gd script. The script handles all the dialogue logic in Godot.","emotion":"thoughtful","choices":[{"id":"choice_export_future","text":"Will there be an easier way?","nextNodeId":"export_future"}]},"export_future":{"id":"export_future","speaker":"Guide","text":"Yes! Once the system is stable, there will be a ready-to-use dialogue scene in the Godot Asset Library. For now, you'll need to set up the scene yourself.","emotion":"excited","choices":[{"id":"choice_export_done","text":"I understand exporting","nextNodeId":"intro"}]},"export_pictures":{"id":"export_pictures","speaker":"Guide","text":"You'll need to update the picture paths in your project to match your Godot project structure. Make sure to put your character pictures in your project's assets!","emotion":"thoughtful","choices":[{"id":"choice_export_3","text":"Got it, thanks!","nextNodeId":"intro"}]},"portraits_info":{"id":"portraits_info","speaker":"Guide","text":"Right now I don't have a portrait, but you can add one! Click 'Edit Picture' in the toolbar and paste an image URL.","emotion":"thoughtful","choices":[{"id":"choice_portraits_2","text":"What about different emotions?","nextNodeId":"portraits_emotions"}]},"portraits_emotions":{"id":"portraits_emotions","speaker":"Guide","text":"Each character can have different portraits for different emotions. Add them in the character's emotions section when you export to Godot.","emotion":"excited","choices":[{"id":"choice_portraits_3","text":"I understand now","nextNodeId":"intro"}]},"alternate_info":{"id":"alternate_info","speaker":"Guide","text":"Alternate texts let you show different dialogue based on conditions! Try setting the flag 'saw_alternate' to see this text change.","emotion":"excited","alternateTexts":[{"text":"See? This text is different because you set the flag! You can also change my emotion with alternates.","emotion":"happy","prerequisites":{"requiredFlags":["saw_alternate"]}}],"choices":[{"id":"choice_alt_2","text":"Show me more examples","nextNodeId":"alternate_examples"},{"id":"choice_alt_paths","text":"What about alternate paths?","nextNodeId":"alternate_paths"}]},"alternate_examples":{"id":"alternate_examples","speaker":"Guide","text":"You have {$$gold} gold. That's not much...","emotion":"thoughtful","alternateTexts":[{"text":"Wow, {$$gold} gold! You're rich!","emotion":"excited","prerequisites":{"stateConditions":[{"key":"gold","operator":">=","value":200}]}}],"choices":[{"id":"choice_alt_3","text":"I understand alternates now","nextNodeId":"intro"}]},"alternate_paths":{"id":"alternate_paths","speaker":"Guide","text":"Choices can have alternate destinations based on conditions! This choice has two possible paths.","emotion":"excited","choices":[{"id":"choice_paths_demo","text":"Where will this take me?","nextNodeId":"paths_poor","alternateDestinations":[{"nextNodeId":"paths_rich","prerequisites":{"stateConditions":[{"key":"gold","operator":">=","value":150}]}}]}]},"paths_poor":{"id":"paths_poor","speaker":"Guide","text":"With only {$$gold} gold, you took the normal path. Try getting more gold and clicking that choice again!","emotion":"thoughtful","choices":[{"id":"choice_paths_back","text":"Go back and try again","nextNodeId":"alternate_paths"}]},"paths_rich":{"id":"paths_rich","speaker":"Guide","text":"With {$$gold} gold, you took the alternate path! Alternate paths are shown with animated lines in the graph.","emotion":"excited","choices":[{"id":"choice_paths_done","text":"I understand paths now","nextNodeId":"intro"}]},"locks_info":{"id":"locks_info","speaker":"Guide","text":"Paths can be locked by conditions, shown with a üîí icon. Or they can be blockable, shown with a ‚ö†Ô∏è icon.","emotion":"thoughtful","choices":[{"id":"choice_locked","text":"This path is locked (needs 300 gold)","nextNodeId":"locks_rich","prerequisites":{"stateConditions":[{"key":"gold","operator":">=","value":300}]}},{"id":"choice_blockable","text":"This path can be blocked","nextNodeId":"locks_blocked","prerequisites":{"blockedFlags":["is_blocked"]}},{"id":"choice_block_toggle","text":"Toggle blocked state","nextNodeId":"locks_info","flagChanges":{"add":["is_blocked"]},"alternateDestinations":[{"nextNodeId":"locks_info","prerequisites":{"requiredFlags":["is_blocked"]},"flagChanges":{"remove":["is_blocked"]}}]}]},"locks_rich":{"id":"locks_rich","speaker":"Guide","text":"You unlocked this path with {$$gold} gold! Locked paths show as dashed lines in the graph.","emotion":"excited","choices":[{"id":"choice_locks_back","text":"Go back","nextNodeId":"locks_info"}]},"locks_blocked":{"id":"locks_blocked","speaker":"Guide","text":"This path can be blocked by setting the 'is_blocked' flag. Try toggling it!","emotion":"thoughtful","choices":[{"id":"choice_blocked_back","text":"Go back","nextNodeId":"locks_info"}]},"state_changes":{"id":"state_changes","speaker":"Guide","text":"Yes! Choices can add or remove flags, and modify state values. This choice will give you 50 gold and add a flag.","emotion":"excited","choices":[{"id":"choice_add_gold","text":"Give me gold and add flag","nextNodeId":"state_changes_result","stateChanges":[{"key":"gold","value":50}],"flagChanges":{"add":["got_gold"]}}]},"state_changes_result":{"id":"state_changes_result","speaker":"Guide","text":"You now have {$$gold} gold.","emotion":"thoughtful","alternateTexts":[{"text":"You got the gold and the flag! Notice how some choices might have unlocked now.","emotion":"excited","prerequisites":{"requiredFlags":["got_gold"]}}],"choices":[{"id":"choice_remove_flag","text":"Remove the flag","nextNodeId":"state_changes_result","flagChanges":{"remove":["got_gold"]}},{"id":"choice_changes_done","text":"I understand state changes","nextNodeId":"intro"}]},"editor_info":{"id":"editor_info","speaker":"Guide","text":"Double-click any node to open the editor. You can edit the text, speaker, and emotion there. The inspector panel on the right shows more options based on what you select.","emotion":"thoughtful","choices":[{"id":"choice_editor_states","text":"How do I add states and flags?","nextNodeId":"editor_states"},{"id":"choice_editor_alts","text":"Tell me about alternate texts and paths","nextNodeId":"editor_alternates"}]},"editor_states":{"id":"editor_states","speaker":"Guide","text":"When you add state values or flags in any node's conditions, they automatically appear in the preview panel. Try it with the {$$gold} value!","emotion":"excited","choices":[{"id":"choice_editor_back","text":"What else can I edit?","nextNodeId":"editor_info"}]},"editor_alternates":{"id":"editor_alternates","speaker":"Guide","text":"Click 'Add Alternate Text' to add variations of the dialogue. For choices, select a choice and use the inspector to add alternate paths or conditions.","emotion":"thoughtful","choices":[{"id":"choice_editor_nodes","text":"How do I create new nodes?","nextNodeId":"editor_nodes"}]},"editor_nodes":{"id":"editor_nodes","speaker":"Guide","text":"Type a new ID in any choice's 'Next Node' field and click 'Create Node'. You can also add choices to the current node with the 'Add Choice' button.","emotion":"excited","choices":[{"id":"choice_editor_done","text":"I understand the editor now","nextNodeId":"intro"}]}}`),Kp={name:Y1,character:X1,characterName:K1,characterPicture:Q1,emotions:Z1,startNodeId:J1,nodes:eS},_h=[{name:"Tutorial",path:"tutorial",content:Kp}],kh=Kp,Ws="dialogue_tree_data",tS=()=>{const[n,o]=H.useState(null),[i,l]=H.useState(null),[a,c]=H.useState(!1),[d,h]=H.useState(!1),[p,g]=H.useState(!1),[m,v]=H.useState(""),[w,S]=H.useState("tutorial");H.useEffect(()=>{const L=localStorage.getItem(Ws);if(L)try{o(JSON.parse(L))}catch(U){console.error("Error loading saved data:",U),o(kh)}else o(kh)},[]),H.useEffect(()=>{n&&localStorage.setItem(Ws,JSON.stringify(n))},[n]);const M=async()=>{if(!n)return;const L=JSON.stringify(n,null,2),U=`${n.name}.json`;try{if("showSaveFilePicker"in window){const Y=await(await window.showSaveFilePicker({suggestedName:U,types:[{description:"JSON File",accept:{"application/json":[".json"]}}]})).createWritable();await Y.write(L),await Y.close()}else throw new Error("File system API not supported")}catch(Q){if(Q&&typeof Q=="object"&&"name"in Q&&Q.name!=="AbortError"){console.error("Error saving file:",Q);const Y=document.createElement("a"),K=new Blob([L],{type:"application/json"});Y.href=URL.createObjectURL(K),Y.download=U,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)}}},E=L=>{var Q;const U=(Q=L.target.files)==null?void 0:Q[0];if(U){if(window.confirm("Loading a file will discard any unsaved changes. Continue?")){const Y=new FileReader;Y.onload=K=>{var Z;try{const oe=(Z=K.target)==null?void 0:Z.result,te=JSON.parse(oe);o(te),localStorage.removeItem(Ws)}catch(oe){console.error("Error loading dialogue tree:",oe)}},Y.readAsText(U)}L.target.value=""}},$=()=>{p&&n?(o({...n,characterPicture:m}),g(!1)):(v((n==null?void 0:n.characterPicture)||""),g(!0))},R=L=>{l(L),c(!0)},b=L=>{if(console.log("DialogueEditor handleNodeSave called"),console.log("DialogueEditor handleNodeSave - before:",n==null?void 0:n.nodes[L.id]),console.log("DialogueEditor handleNodeSave - update:",L),!n)return;const U={...n,nodes:{...n.nodes,[L.id]:{...L}}};console.log("DialogueEditor handleNodeSave - after:",U.nodes[L.id]),o(U),l(null),c(!1)},q=L=>{if(!n)return;const U={id:L,text:"New dialogue node",speaker:n.characterName,choices:[{id:`choice_${Date.now()}`,text:"Continue",nextNodeId:""}]};o(Q=>Q&&{...Q,nodes:{...Q.nodes,[L]:U}})},C=L=>{S(L.target.value)},V=()=>{if(window.confirm("Loading a template will discard any unsaved changes. Continue?")){const L=_h.find(U=>U.path===w);if(L){const U=JSON.parse(JSON.stringify(L.content));o(U),localStorage.removeItem(Ws)}}};return n?_.jsxs("div",{className:"dialogue-editor",children:[_.jsx("div",{className:"editor-header",children:_.jsxs("div",{className:"editor-controls",children:[_.jsx("select",{value:w,onChange:C,className:"template-select",children:_h.map(L=>_.jsx("option",{value:L.path,children:L.name},L.path))}),_.jsx("button",{onClick:V,className:"template-button",children:"New from Template"}),_.jsx("div",{className:"editor-controls-divider"}),_.jsxs("div",{className:"picture-edit-container",children:[p?_.jsx("input",{type:"text",value:m,onChange:L=>v(L.target.value),placeholder:"Character picture URL...",className:"picture-url-input"}):_.jsx("span",{className:"current-picture",children:n.characterPicture||"No picture set"}),_.jsx("button",{onClick:$,className:"picture-edit-button",children:p?"Save":"Edit Picture"})]}),_.jsx("div",{className:"editor-controls-divider"}),_.jsx("button",{onClick:M,className:"save-button",children:"Save"}),_.jsx("input",{type:"file",accept:".json",onChange:E,style:{display:"none"},id:"load-file"}),_.jsx("label",{htmlFor:"load-file",className:"load-button",children:"Load"}),_.jsx("button",{onClick:()=>h(!0),className:"preview-button",children:"Preview"}),_.jsx("button",{onClick:()=>W1(n),className:"export-button",children:"Export Resource"}),_.jsx("button",{onClick:G1,className:"export-button",children:"Export Script"})]})}),_.jsx("div",{className:"editor-content",children:_.jsx(q1,{dialogueTree:n,onNodeSelect:R,onCreateNode:q,onUpdate:L=>{console.log("DialogueEditor onUpdate called with:",L),o(L)}})}),i&&_.jsx(Yp,{node:i,dialogueTree:n,isOpen:a,onClose:()=>c(!1),onSave:b,availableNodes:Object.keys(n.nodes),onCreateNode:q}),_.jsx(V1,{dialogueTree:n,isOpen:d,onClose:()=>h(!1)})]}):_.jsx("div",{children:"Loading..."})};function nS(){return _.jsx(Fg,{children:_.jsxs("div",{className:"App",children:[_.jsx("header",{children:_.jsx("h1",{children:"Dialogue Tree Editor"})}),_.jsxs("main",{children:[_.jsx(tS,{}),_.jsx(Og,{})]})]})})}var Gs={},Eh;function rS(){if(Eh)return Gs;Eh=1;var n=tp();return Gs.createRoot=n.createRoot,Gs.hydrateRoot=n.hydrateRoot,Gs}var oS=rS();const iS=oS.createRoot(document.getElementById("root"));iS.render(_.jsx(nS,{}));
