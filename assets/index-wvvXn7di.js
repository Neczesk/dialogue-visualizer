(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();function Ch(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qa={exports:{}},Ko={},Za={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function zg(){if(Nd)return Ne;Nd=1;var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function E(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,j={};function A(w,T,Z){this.props=w,this.context=T,this.refs=j,this.updater=Z||k}A.prototype.isReactComponent={},A.prototype.setState=function(w,T){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,T,"setState")},A.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function D(){}D.prototype=A.prototype;function H(w,T,Z){this.props=w,this.context=T,this.refs=j,this.updater=Z||k}var K=H.prototype=new D;K.constructor=H,R(K,A.prototype),K.isPureReactComponent=!0;var V=Array.isArray,J=Object.prototype.hasOwnProperty,te={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function re(w,T,Z){var X,oe={},ne=null,ce=null;if(T!=null)for(X in T.ref!==void 0&&(ce=T.ref),T.key!==void 0&&(ne=""+T.key),T)J.call(T,X)&&!G.hasOwnProperty(X)&&(oe[X]=T[X]);var fe=arguments.length-2;if(fe===1)oe.children=Z;else if(1<fe){for(var ue=Array(fe),pe=0;pe<fe;pe++)ue[pe]=arguments[pe+2];oe.children=ue}if(w&&w.defaultProps)for(X in fe=w.defaultProps,fe)oe[X]===void 0&&(oe[X]=fe[X]);return{$$typeof:n,type:w,key:ne,ref:ce,props:oe,_owner:te.current}}function q(w,T){return{$$typeof:n,type:w.type,key:T,ref:w.ref,props:w.props,_owner:w._owner}}function L(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function W(w){var T={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Z){return T[Z]})}var F=/\/+/g;function b(w,T){return typeof w=="object"&&w!==null&&w.key!=null?W(""+w.key):T.toString(36)}function S(w,T,Z,X,oe){var ne=typeof w;(ne==="undefined"||ne==="boolean")&&(w=null);var ce=!1;if(w===null)ce=!0;else switch(ne){case"string":case"number":ce=!0;break;case"object":switch(w.$$typeof){case n:case o:ce=!0}}if(ce)return ce=w,oe=oe(ce),w=X===""?"."+b(ce,0):X,V(oe)?(Z="",w!=null&&(Z=w.replace(F,"$&/")+"/"),S(oe,T,Z,"",function(pe){return pe})):oe!=null&&(L(oe)&&(oe=q(oe,Z+(!oe.key||ce&&ce.key===oe.key?"":(""+oe.key).replace(F,"$&/")+"/")+w)),T.push(oe)),1;if(ce=0,X=X===""?".":X+":",V(w))for(var fe=0;fe<w.length;fe++){ne=w[fe];var ue=X+b(ne,fe);ce+=S(ne,T,Z,ue,oe)}else if(ue=E(w),typeof ue=="function")for(w=ue.call(w),fe=0;!(ne=w.next()).done;)ne=ne.value,ue=X+b(ne,fe++),ce+=S(ne,T,Z,ue,oe);else if(ne==="object")throw T=String(w),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return ce}function N(w,T,Z){if(w==null)return w;var X=[],oe=0;return S(w,X,"","",function(ne){return T.call(Z,ne,oe++)}),X}function C(w){if(w._status===-1){var T=w._result;T=T(),T.then(function(Z){(w._status===0||w._status===-1)&&(w._status=1,w._result=Z)},function(Z){(w._status===0||w._status===-1)&&(w._status=2,w._result=Z)}),w._status===-1&&(w._status=0,w._result=T)}if(w._status===1)return w._result.default;throw w._result}var z={current:null},I={transition:null},_={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:I,ReactCurrentOwner:te};function M(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:N,forEach:function(w,T,Z){N(w,function(){T.apply(this,arguments)},Z)},count:function(w){var T=0;return N(w,function(){T++}),T},toArray:function(w){return N(w,function(T){return T})||[]},only:function(w){if(!L(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Ne.Component=A,Ne.Fragment=i,Ne.Profiler=a,Ne.PureComponent=H,Ne.StrictMode=l,Ne.Suspense=p,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,Ne.act=M,Ne.cloneElement=function(w,T,Z){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var X=R({},w.props),oe=w.key,ne=w.ref,ce=w._owner;if(T!=null){if(T.ref!==void 0&&(ne=T.ref,ce=te.current),T.key!==void 0&&(oe=""+T.key),w.type&&w.type.defaultProps)var fe=w.type.defaultProps;for(ue in T)J.call(T,ue)&&!G.hasOwnProperty(ue)&&(X[ue]=T[ue]===void 0&&fe!==void 0?fe[ue]:T[ue])}var ue=arguments.length-2;if(ue===1)X.children=Z;else if(1<ue){fe=Array(ue);for(var pe=0;pe<ue;pe++)fe[pe]=arguments[pe+2];X.children=fe}return{$$typeof:n,type:w.type,key:oe,ref:ne,props:X,_owner:ce}},Ne.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:c,_context:w},w.Consumer=w},Ne.createElement=re,Ne.createFactory=function(w){var T=re.bind(null,w);return T.type=w,T},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(w){return{$$typeof:h,render:w}},Ne.isValidElement=L,Ne.lazy=function(w){return{$$typeof:m,_payload:{_status:-1,_result:w},_init:C}},Ne.memo=function(w,T){return{$$typeof:g,type:w,compare:T===void 0?null:T}},Ne.startTransition=function(w){var T=I.transition;I.transition={};try{w()}finally{I.transition=T}},Ne.unstable_act=M,Ne.useCallback=function(w,T){return z.current.useCallback(w,T)},Ne.useContext=function(w){return z.current.useContext(w)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(w){return z.current.useDeferredValue(w)},Ne.useEffect=function(w,T){return z.current.useEffect(w,T)},Ne.useId=function(){return z.current.useId()},Ne.useImperativeHandle=function(w,T,Z){return z.current.useImperativeHandle(w,T,Z)},Ne.useInsertionEffect=function(w,T){return z.current.useInsertionEffect(w,T)},Ne.useLayoutEffect=function(w,T){return z.current.useLayoutEffect(w,T)},Ne.useMemo=function(w,T){return z.current.useMemo(w,T)},Ne.useReducer=function(w,T,Z){return z.current.useReducer(w,T,Z)},Ne.useRef=function(w){return z.current.useRef(w)},Ne.useState=function(w){return z.current.useState(w)},Ne.useSyncExternalStore=function(w,T,Z){return z.current.useSyncExternalStore(w,T,Z)},Ne.useTransition=function(){return z.current.useTransition()},Ne.version="18.3.1",Ne}var _d;function hi(){return _d||(_d=1,Za.exports=zg()),Za.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd;function Ag(){if(kd)return Ko;kd=1;var n=hi(),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var m,v={},E=null,k=null;g!==void 0&&(E=""+g),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(k=p.ref);for(m in p)l.call(p,m)&&!c.hasOwnProperty(m)&&(v[m]=p[m]);if(h&&h.defaultProps)for(m in p=h.defaultProps,p)v[m]===void 0&&(v[m]=p[m]);return{$$typeof:o,type:h,key:E,ref:k,props:v,_owner:a.current}}return Ko.Fragment=i,Ko.jsx=d,Ko.jsxs=d,Ko}var Cd;function Dg(){return Cd||(Cd=1,Qa.exports=Ag()),Qa.exports}var x=Dg(),B=hi();const ee=Ch(B),jh=B.createContext({theme:"light",toggleTheme:()=>{}}),$g=()=>B.useContext(jh),Lg=({children:n})=>{const[o,i]=B.useState("light");B.useEffect(()=>{const a=localStorage.getItem("theme");if(a)i(a);else{const c=window.matchMedia("(prefers-color-scheme: dark)").matches;i(c?"dark":"light")}},[]),B.useEffect(()=>{document.documentElement.setAttribute("data-theme",o),localStorage.setItem("theme",o)},[o]);const l=()=>{i(a=>a==="light"?"dark":"light")};return x.jsx(jh.Provider,{value:{theme:o,toggleTheme:l},children:n})},Fg=()=>{const{theme:n,toggleTheme:o}=$g();return x.jsx("button",{onClick:o,className:"theme-toggle",title:`Switch to ${n==="light"?"dark":"light"} theme`,children:n==="light"?"ðŸŒ™":"â˜€ï¸"})},Og=()=>[{name:"Tutorial",path:"./templates/tutorialDialogue.json",content:{name:"",characters:{},startNodeId:"",nodes:{}}}];function ct(n){if(typeof n=="string"||typeof n=="number")return""+n;let o="";if(Array.isArray(n))for(let i=0,l;i<n.length;i++)(l=ct(n[i]))!==""&&(o+=(o&&" ")+l);else for(let i in n)n[i]&&(o+=(o&&" ")+i);return o}var Ja={exports:{}},eu={},tu={exports:{}},nu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function Hg(){if(jd)return nu;jd=1;var n=hi();function o(v,E){return v===E&&(v!==0||1/v===1/E)||v!==v&&E!==E}var i=typeof Object.is=="function"?Object.is:o,l=n.useState,a=n.useEffect,c=n.useLayoutEffect,d=n.useDebugValue;function h(v,E){var k=E(),R=l({inst:{value:k,getSnapshot:E}}),j=R[0].inst,A=R[1];return c(function(){j.value=k,j.getSnapshot=E,p(j)&&A({inst:j})},[v,k,E]),a(function(){return p(j)&&A({inst:j}),v(function(){p(j)&&A({inst:j})})},[v]),d(k),k}function p(v){var E=v.getSnapshot;v=v.value;try{var k=E();return!i(v,k)}catch{return!0}}function g(v,E){return E()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:h;return nu.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,nu}var Pd;function Vg(){return Pd||(Pd=1,tu.exports=Hg()),tu.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td;function Bg(){if(Td)return eu;Td=1;var n=hi(),o=Vg();function i(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var l=typeof Object.is=="function"?Object.is:i,a=o.useSyncExternalStore,c=n.useRef,d=n.useEffect,h=n.useMemo,p=n.useDebugValue;return eu.useSyncExternalStoreWithSelector=function(g,m,v,E,k){var R=c(null);if(R.current===null){var j={hasValue:!1,value:null};R.current=j}else j=R.current;R=h(function(){function D(te){if(!H){if(H=!0,K=te,te=E(te),k!==void 0&&j.hasValue){var G=j.value;if(k(G,te))return V=G}return V=te}if(G=V,l(K,te))return G;var re=E(te);return k!==void 0&&k(G,re)?(K=te,G):(K=te,V=re)}var H=!1,K,V,J=v===void 0?null:v;return[function(){return D(m())},J===null?void 0:function(){return D(J())}]},[m,v,E,k]);var A=a(g,R[0],R[1]);return d(function(){j.hasValue=!0,j.value=A},[A]),p(A),A},eu}var Id;function qg(){return Id||(Id=1,Ja.exports=Bg()),Ja.exports}var bg=qg();const Ug=Ch(bg),Md=n=>{let o;const i=new Set,l=(m,v)=>{const E=typeof m=="function"?m(o):m;if(!Object.is(E,o)){const k=o;o=v??(typeof E!="object"||E===null)?E:Object.assign({},o,E),i.forEach(R=>R(o,k))}},a=()=>o,p={setState:l,getState:a,getInitialState:()=>g,subscribe:m=>(i.add(m),()=>i.delete(m)),destroy:()=>{i.clear()}},g=o=n(l,a,p);return p},Wg=n=>n?Md(n):Md,{useDebugValue:Yg}=ee,{useSyncExternalStoreWithSelector:Xg}=Ug,Gg=n=>n;function Ph(n,o=Gg,i){const l=Xg(n.subscribe,n.getState,n.getServerState||n.getInitialState,o,i);return Yg(l),l}const Rd=(n,o)=>{const i=Wg(n),l=(a,c=o)=>Ph(i,a,c);return Object.assign(l,i),l},Kg=(n,o)=>n?Rd(n,o):Rd;function lt(n,o){if(Object.is(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;if(n instanceof Map&&o instanceof Map){if(n.size!==o.size)return!1;for(const[l,a]of n)if(!Object.is(a,o.get(l)))return!1;return!0}if(n instanceof Set&&o instanceof Set){if(n.size!==o.size)return!1;for(const l of n)if(!o.has(l))return!1;return!0}const i=Object.keys(n);if(i.length!==Object.keys(o).length)return!1;for(const l of i)if(!Object.prototype.hasOwnProperty.call(o,l)||!Object.is(n[l],o[l]))return!1;return!0}var Qg={value:()=>{}};function il(){for(var n=0,o=arguments.length,i={},l;n<o;++n){if(!(l=arguments[n]+"")||l in i||/[\s.]/.test(l))throw new Error("illegal type: "+l);i[l]=[]}return new Ys(i)}function Ys(n){this._=n}function Zg(n,o){return n.trim().split(/^|\s+/).map(function(i){var l="",a=i.indexOf(".");if(a>=0&&(l=i.slice(a+1),i=i.slice(0,a)),i&&!o.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:l}})}Ys.prototype=il.prototype={constructor:Ys,on:function(n,o){var i=this._,l=Zg(n+"",i),a,c=-1,d=l.length;if(arguments.length<2){for(;++c<d;)if((a=(n=l[c]).type)&&(a=Jg(i[a],n.name)))return a;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++c<d;)if(a=(n=l[c]).type)i[a]=zd(i[a],n.name,o);else if(o==null)for(a in i)i[a]=zd(i[a],n.name,null);return this},copy:function(){var n={},o=this._;for(var i in o)n[i]=o[i].slice();return new Ys(n)},call:function(n,o){if((a=arguments.length-2)>0)for(var i=new Array(a),l=0,a,c;l<a;++l)i[l]=arguments[l+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(c=this._[n],l=0,a=c.length;l<a;++l)c[l].value.apply(o,i)},apply:function(n,o,i){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var l=this._[n],a=0,c=l.length;a<c;++a)l[a].value.apply(o,i)}};function Jg(n,o){for(var i=0,l=n.length,a;i<l;++i)if((a=n[i]).name===o)return a.value}function zd(n,o,i){for(var l=0,a=n.length;l<a;++l)if(n[l].name===o){n[l]=Qg,n=n.slice(0,l).concat(n.slice(l+1));break}return i!=null&&n.push({name:o,value:i}),n}var vu="http://www.w3.org/1999/xhtml";const Ad={svg:"http://www.w3.org/2000/svg",xhtml:vu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sl(n){var o=n+="",i=o.indexOf(":");return i>=0&&(o=n.slice(0,i))!=="xmlns"&&(n=n.slice(i+1)),Ad.hasOwnProperty(o)?{space:Ad[o],local:n}:n}function ey(n){return function(){var o=this.ownerDocument,i=this.namespaceURI;return i===vu&&o.documentElement.namespaceURI===vu?o.createElement(n):o.createElementNS(i,n)}}function ty(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Th(n){var o=sl(n);return(o.local?ty:ey)(o)}function ny(){}function Au(n){return n==null?ny:function(){return this.querySelector(n)}}function ry(n){typeof n!="function"&&(n=Au(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,h=l[a]=new Array(d),p,g,m=0;m<d;++m)(p=c[m])&&(g=n.call(p,p.__data__,m,c))&&("__data__"in p&&(g.__data__=p.__data__),h[m]=g);return new Ct(l,this._parents)}function oy(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function iy(){return[]}function Ih(n){return n==null?iy:function(){return this.querySelectorAll(n)}}function sy(n){return function(){return oy(n.apply(this,arguments))}}function ly(n){typeof n=="function"?n=sy(n):n=Ih(n);for(var o=this._groups,i=o.length,l=[],a=[],c=0;c<i;++c)for(var d=o[c],h=d.length,p,g=0;g<h;++g)(p=d[g])&&(l.push(n.call(p,p.__data__,g,d)),a.push(p));return new Ct(l,a)}function Mh(n){return function(){return this.matches(n)}}function Rh(n){return function(o){return o.matches(n)}}var ay=Array.prototype.find;function uy(n){return function(){return ay.call(this.children,n)}}function cy(){return this.firstElementChild}function fy(n){return this.select(n==null?cy:uy(typeof n=="function"?n:Rh(n)))}var dy=Array.prototype.filter;function hy(){return Array.from(this.children)}function py(n){return function(){return dy.call(this.children,n)}}function my(n){return this.selectAll(n==null?hy:py(typeof n=="function"?n:Rh(n)))}function gy(n){typeof n!="function"&&(n=Mh(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,h=l[a]=[],p,g=0;g<d;++g)(p=c[g])&&n.call(p,p.__data__,g,c)&&h.push(p);return new Ct(l,this._parents)}function zh(n){return new Array(n.length)}function yy(){return new Ct(this._enter||this._groups.map(zh),this._parents)}function Qs(n,o){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=o}Qs.prototype={constructor:Qs,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,o){return this._parent.insertBefore(n,o)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function vy(n){return function(){return n}}function xy(n,o,i,l,a,c){for(var d=0,h,p=o.length,g=c.length;d<g;++d)(h=o[d])?(h.__data__=c[d],l[d]=h):i[d]=new Qs(n,c[d]);for(;d<p;++d)(h=o[d])&&(a[d]=h)}function wy(n,o,i,l,a,c,d){var h,p,g=new Map,m=o.length,v=c.length,E=new Array(m),k;for(h=0;h<m;++h)(p=o[h])&&(E[h]=k=d.call(p,p.__data__,h,o)+"",g.has(k)?a[h]=p:g.set(k,p));for(h=0;h<v;++h)k=d.call(n,c[h],h,c)+"",(p=g.get(k))?(l[h]=p,p.__data__=c[h],g.delete(k)):i[h]=new Qs(n,c[h]);for(h=0;h<m;++h)(p=o[h])&&g.get(E[h])===p&&(a[h]=p)}function Sy(n){return n.__data__}function Ey(n,o){if(!arguments.length)return Array.from(this,Sy);var i=o?wy:xy,l=this._parents,a=this._groups;typeof n!="function"&&(n=vy(n));for(var c=a.length,d=new Array(c),h=new Array(c),p=new Array(c),g=0;g<c;++g){var m=l[g],v=a[g],E=v.length,k=Ny(n.call(m,m&&m.__data__,g,l)),R=k.length,j=h[g]=new Array(R),A=d[g]=new Array(R),D=p[g]=new Array(E);i(m,v,j,A,D,k,o);for(var H=0,K=0,V,J;H<R;++H)if(V=j[H]){for(H>=K&&(K=H+1);!(J=A[K])&&++K<R;);V._next=J||null}}return d=new Ct(d,l),d._enter=h,d._exit=p,d}function Ny(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function _y(){return new Ct(this._exit||this._groups.map(zh),this._parents)}function ky(n,o,i){var l=this.enter(),a=this,c=this.exit();return typeof n=="function"?(l=n(l),l&&(l=l.selection())):l=l.append(n+""),o!=null&&(a=o(a),a&&(a=a.selection())),i==null?c.remove():i(c),l&&a?l.merge(a).order():a}function Cy(n){for(var o=n.selection?n.selection():n,i=this._groups,l=o._groups,a=i.length,c=l.length,d=Math.min(a,c),h=new Array(a),p=0;p<d;++p)for(var g=i[p],m=l[p],v=g.length,E=h[p]=new Array(v),k,R=0;R<v;++R)(k=g[R]||m[R])&&(E[R]=k);for(;p<a;++p)h[p]=i[p];return new Ct(h,this._parents)}function jy(){for(var n=this._groups,o=-1,i=n.length;++o<i;)for(var l=n[o],a=l.length-1,c=l[a],d;--a>=0;)(d=l[a])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function Py(n){n||(n=Ty);function o(v,E){return v&&E?n(v.__data__,E.__data__):!v-!E}for(var i=this._groups,l=i.length,a=new Array(l),c=0;c<l;++c){for(var d=i[c],h=d.length,p=a[c]=new Array(h),g,m=0;m<h;++m)(g=d[m])&&(p[m]=g);p.sort(o)}return new Ct(a,this._parents).order()}function Ty(n,o){return n<o?-1:n>o?1:n>=o?0:NaN}function Iy(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function My(){return Array.from(this)}function Ry(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length;a<c;++a){var d=l[a];if(d)return d}return null}function zy(){let n=0;for(const o of this)++n;return n}function Ay(){return!this.node()}function Dy(n){for(var o=this._groups,i=0,l=o.length;i<l;++i)for(var a=o[i],c=0,d=a.length,h;c<d;++c)(h=a[c])&&n.call(h,h.__data__,c,a);return this}function $y(n){return function(){this.removeAttribute(n)}}function Ly(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Fy(n,o){return function(){this.setAttribute(n,o)}}function Oy(n,o){return function(){this.setAttributeNS(n.space,n.local,o)}}function Hy(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttribute(n):this.setAttribute(n,i)}}function Vy(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,i)}}function By(n,o){var i=sl(n);if(arguments.length<2){var l=this.node();return i.local?l.getAttributeNS(i.space,i.local):l.getAttribute(i)}return this.each((o==null?i.local?Ly:$y:typeof o=="function"?i.local?Vy:Hy:i.local?Oy:Fy)(i,o))}function Ah(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function qy(n){return function(){this.style.removeProperty(n)}}function by(n,o,i){return function(){this.style.setProperty(n,o,i)}}function Uy(n,o,i){return function(){var l=o.apply(this,arguments);l==null?this.style.removeProperty(n):this.style.setProperty(n,l,i)}}function Wy(n,o,i){return arguments.length>1?this.each((o==null?qy:typeof o=="function"?Uy:by)(n,o,i??"")):so(this.node(),n)}function so(n,o){return n.style.getPropertyValue(o)||Ah(n).getComputedStyle(n,null).getPropertyValue(o)}function Yy(n){return function(){delete this[n]}}function Xy(n,o){return function(){this[n]=o}}function Gy(n,o){return function(){var i=o.apply(this,arguments);i==null?delete this[n]:this[n]=i}}function Ky(n,o){return arguments.length>1?this.each((o==null?Yy:typeof o=="function"?Gy:Xy)(n,o)):this.node()[n]}function Dh(n){return n.trim().split(/^|\s+/)}function Du(n){return n.classList||new $h(n)}function $h(n){this._node=n,this._names=Dh(n.getAttribute("class")||"")}$h.prototype={add:function(n){var o=this._names.indexOf(n);o<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var o=this._names.indexOf(n);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Lh(n,o){for(var i=Du(n),l=-1,a=o.length;++l<a;)i.add(o[l])}function Fh(n,o){for(var i=Du(n),l=-1,a=o.length;++l<a;)i.remove(o[l])}function Qy(n){return function(){Lh(this,n)}}function Zy(n){return function(){Fh(this,n)}}function Jy(n,o){return function(){(o.apply(this,arguments)?Lh:Fh)(this,n)}}function e0(n,o){var i=Dh(n+"");if(arguments.length<2){for(var l=Du(this.node()),a=-1,c=i.length;++a<c;)if(!l.contains(i[a]))return!1;return!0}return this.each((typeof o=="function"?Jy:o?Qy:Zy)(i,o))}function t0(){this.textContent=""}function n0(n){return function(){this.textContent=n}}function r0(n){return function(){var o=n.apply(this,arguments);this.textContent=o??""}}function o0(n){return arguments.length?this.each(n==null?t0:(typeof n=="function"?r0:n0)(n)):this.node().textContent}function i0(){this.innerHTML=""}function s0(n){return function(){this.innerHTML=n}}function l0(n){return function(){var o=n.apply(this,arguments);this.innerHTML=o??""}}function a0(n){return arguments.length?this.each(n==null?i0:(typeof n=="function"?l0:s0)(n)):this.node().innerHTML}function u0(){this.nextSibling&&this.parentNode.appendChild(this)}function c0(){return this.each(u0)}function f0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function d0(){return this.each(f0)}function h0(n){var o=typeof n=="function"?n:Th(n);return this.select(function(){return this.appendChild(o.apply(this,arguments))})}function p0(){return null}function m0(n,o){var i=typeof n=="function"?n:Th(n),l=o==null?p0:typeof o=="function"?o:Au(o);return this.select(function(){return this.insertBefore(i.apply(this,arguments),l.apply(this,arguments)||null)})}function g0(){var n=this.parentNode;n&&n.removeChild(this)}function y0(){return this.each(g0)}function v0(){var n=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function x0(){var n=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function w0(n){return this.select(n?x0:v0)}function S0(n){return arguments.length?this.property("__data__",n):this.node().__data__}function E0(n){return function(o){n.call(this,o,this.__data__)}}function N0(n){return n.trim().split(/^|\s+/).map(function(o){var i="",l=o.indexOf(".");return l>=0&&(i=o.slice(l+1),o=o.slice(0,l)),{type:o,name:i}})}function _0(n){return function(){var o=this.__on;if(o){for(var i=0,l=-1,a=o.length,c;i<a;++i)c=o[i],(!n.type||c.type===n.type)&&c.name===n.name?this.removeEventListener(c.type,c.listener,c.options):o[++l]=c;++l?o.length=l:delete this.__on}}}function k0(n,o,i){return function(){var l=this.__on,a,c=E0(o);if(l){for(var d=0,h=l.length;d<h;++d)if((a=l[d]).type===n.type&&a.name===n.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=c,a.options=i),a.value=o;return}}this.addEventListener(n.type,c,i),a={type:n.type,name:n.name,value:o,listener:c,options:i},l?l.push(a):this.__on=[a]}}function C0(n,o,i){var l=N0(n+""),a,c=l.length,d;if(arguments.length<2){var h=this.node().__on;if(h){for(var p=0,g=h.length,m;p<g;++p)for(a=0,m=h[p];a<c;++a)if((d=l[a]).type===m.type&&d.name===m.name)return m.value}return}for(h=o?k0:_0,a=0;a<c;++a)this.each(h(l[a],o,i));return this}function Oh(n,o,i){var l=Ah(n),a=l.CustomEvent;typeof a=="function"?a=new a(o,i):(a=l.document.createEvent("Event"),i?(a.initEvent(o,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(o,!1,!1)),n.dispatchEvent(a)}function j0(n,o){return function(){return Oh(this,n,o)}}function P0(n,o){return function(){return Oh(this,n,o.apply(this,arguments))}}function T0(n,o){return this.each((typeof o=="function"?P0:j0)(n,o))}function*I0(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length,d;a<c;++a)(d=l[a])&&(yield d)}var Hh=[null];function Ct(n,o){this._groups=n,this._parents=o}function pi(){return new Ct([[document.documentElement]],Hh)}function M0(){return this}Ct.prototype=pi.prototype={constructor:Ct,select:ry,selectAll:ly,selectChild:fy,selectChildren:my,filter:gy,data:Ey,enter:yy,exit:_y,join:ky,merge:Cy,selection:M0,order:jy,sort:Py,call:Iy,nodes:My,node:Ry,size:zy,empty:Ay,each:Dy,attr:By,style:Wy,property:Ky,classed:e0,text:o0,html:a0,raise:c0,lower:d0,append:h0,insert:m0,remove:y0,clone:w0,datum:S0,on:C0,dispatch:T0,[Symbol.iterator]:I0};function Xt(n){return typeof n=="string"?new Ct([[document.querySelector(n)]],[document.documentElement]):new Ct([[n]],Hh)}function R0(n){let o;for(;o=n.sourceEvent;)n=o;return n}function un(n,o){if(n=R0(n),o===void 0&&(o=n.currentTarget),o){var i=o.ownerSVGElement||o;if(i.createSVGPoint){var l=i.createSVGPoint();return l.x=n.clientX,l.y=n.clientY,l=l.matrixTransform(o.getScreenCTM().inverse()),[l.x,l.y]}if(o.getBoundingClientRect){var a=o.getBoundingClientRect();return[n.clientX-a.left-o.clientLeft,n.clientY-a.top-o.clientTop]}}return[n.pageX,n.pageY]}const z0={passive:!1},ii={capture:!0,passive:!1};function ru(n){n.stopImmediatePropagation()}function no(n){n.preventDefault(),n.stopImmediatePropagation()}function Vh(n){var o=n.document.documentElement,i=Xt(n).on("dragstart.drag",no,ii);"onselectstart"in o?i.on("selectstart.drag",no,ii):(o.__noselect=o.style.MozUserSelect,o.style.MozUserSelect="none")}function Bh(n,o){var i=n.document.documentElement,l=Xt(n).on("dragstart.drag",null);o&&(l.on("click.drag",no,ii),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in i?l.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const $s=n=>()=>n;function xu(n,{sourceEvent:o,subject:i,target:l,identifier:a,active:c,x:d,y:h,dx:p,dy:g,dispatch:m}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:h,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:m}})}xu.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function A0(n){return!n.ctrlKey&&!n.button}function D0(){return this.parentNode}function $0(n,o){return o??{x:n.x,y:n.y}}function L0(){return navigator.maxTouchPoints||"ontouchstart"in this}function F0(){var n=A0,o=D0,i=$0,l=L0,a={},c=il("start","drag","end"),d=0,h,p,g,m,v=0;function E(V){V.on("mousedown.drag",k).filter(l).on("touchstart.drag",A).on("touchmove.drag",D,z0).on("touchend.drag touchcancel.drag",H).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function k(V,J){if(!(m||!n.call(this,V,J))){var te=K(this,o.call(this,V,J),V,J,"mouse");te&&(Xt(V.view).on("mousemove.drag",R,ii).on("mouseup.drag",j,ii),Vh(V.view),ru(V),g=!1,h=V.clientX,p=V.clientY,te("start",V))}}function R(V){if(no(V),!g){var J=V.clientX-h,te=V.clientY-p;g=J*J+te*te>v}a.mouse("drag",V)}function j(V){Xt(V.view).on("mousemove.drag mouseup.drag",null),Bh(V.view,g),no(V),a.mouse("end",V)}function A(V,J){if(n.call(this,V,J)){var te=V.changedTouches,G=o.call(this,V,J),re=te.length,q,L;for(q=0;q<re;++q)(L=K(this,G,V,J,te[q].identifier,te[q]))&&(ru(V),L("start",V,te[q]))}}function D(V){var J=V.changedTouches,te=J.length,G,re;for(G=0;G<te;++G)(re=a[J[G].identifier])&&(no(V),re("drag",V,J[G]))}function H(V){var J=V.changedTouches,te=J.length,G,re;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),G=0;G<te;++G)(re=a[J[G].identifier])&&(ru(V),re("end",V,J[G]))}function K(V,J,te,G,re,q){var L=c.copy(),W=un(q||te,J),F,b,S;if((S=i.call(V,new xu("beforestart",{sourceEvent:te,target:E,identifier:re,active:d,x:W[0],y:W[1],dx:0,dy:0,dispatch:L}),G))!=null)return F=S.x-W[0]||0,b=S.y-W[1]||0,function N(C,z,I){var _=W,M;switch(C){case"start":a[re]=N,M=d++;break;case"end":delete a[re],--d;case"drag":W=un(I||z,J),M=d;break}L.call(C,V,new xu(C,{sourceEvent:z,subject:S,target:E,identifier:re,active:M,x:W[0]+F,y:W[1]+b,dx:W[0]-_[0],dy:W[1]-_[1],dispatch:L}),G)}}return E.filter=function(V){return arguments.length?(n=typeof V=="function"?V:$s(!!V),E):n},E.container=function(V){return arguments.length?(o=typeof V=="function"?V:$s(V),E):o},E.subject=function(V){return arguments.length?(i=typeof V=="function"?V:$s(V),E):i},E.touchable=function(V){return arguments.length?(l=typeof V=="function"?V:$s(!!V),E):l},E.on=function(){var V=c.on.apply(c,arguments);return V===c?E:V},E.clickDistance=function(V){return arguments.length?(v=(V=+V)*V,E):Math.sqrt(v)},E}function $u(n,o,i){n.prototype=o.prototype=i,i.constructor=n}function qh(n,o){var i=Object.create(n.prototype);for(var l in o)i[l]=o[l];return i}function mi(){}var si=.7,Zs=1/si,ro="\\s*([+-]?\\d+)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O0=/^#([0-9a-f]{3,8})$/,H0=new RegExp(`^rgb\\(${ro},${ro},${ro}\\)$`),V0=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),B0=new RegExp(`^rgba\\(${ro},${ro},${ro},${li}\\)$`),q0=new RegExp(`^rgba\\(${cn},${cn},${cn},${li}\\)$`),b0=new RegExp(`^hsl\\(${li},${cn},${cn}\\)$`),U0=new RegExp(`^hsla\\(${li},${cn},${cn},${li}\\)$`),Dd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$u(mi,ai,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:$d,formatHex:$d,formatHex8:W0,formatHsl:Y0,formatRgb:Ld,toString:Ld});function $d(){return this.rgb().formatHex()}function W0(){return this.rgb().formatHex8()}function Y0(){return bh(this).formatHsl()}function Ld(){return this.rgb().formatRgb()}function ai(n){var o,i;return n=(n+"").trim().toLowerCase(),(o=O0.exec(n))?(i=o[1].length,o=parseInt(o[1],16),i===6?Fd(o):i===3?new vt(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):i===8?Ls(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):i===4?Ls(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=H0.exec(n))?new vt(o[1],o[2],o[3],1):(o=V0.exec(n))?new vt(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=B0.exec(n))?Ls(o[1],o[2],o[3],o[4]):(o=q0.exec(n))?Ls(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=b0.exec(n))?Vd(o[1],o[2]/100,o[3]/100,1):(o=U0.exec(n))?Vd(o[1],o[2]/100,o[3]/100,o[4]):Dd.hasOwnProperty(n)?Fd(Dd[n]):n==="transparent"?new vt(NaN,NaN,NaN,0):null}function Fd(n){return new vt(n>>16&255,n>>8&255,n&255,1)}function Ls(n,o,i,l){return l<=0&&(n=o=i=NaN),new vt(n,o,i,l)}function X0(n){return n instanceof mi||(n=ai(n)),n?(n=n.rgb(),new vt(n.r,n.g,n.b,n.opacity)):new vt}function wu(n,o,i,l){return arguments.length===1?X0(n):new vt(n,o,i,l??1)}function vt(n,o,i,l){this.r=+n,this.g=+o,this.b=+i,this.opacity=+l}$u(vt,wu,qh(mi,{brighter(n){return n=n==null?Zs:Math.pow(Zs,n),new vt(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?si:Math.pow(si,n),new vt(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new vt(Er(this.r),Er(this.g),Er(this.b),Js(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Od,formatHex:Od,formatHex8:G0,formatRgb:Hd,toString:Hd}));function Od(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}`}function G0(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}${wr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hd(){const n=Js(this.opacity);return`${n===1?"rgb(":"rgba("}${Er(this.r)}, ${Er(this.g)}, ${Er(this.b)}${n===1?")":`, ${n})`}`}function Js(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Er(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function wr(n){return n=Er(n),(n<16?"0":"")+n.toString(16)}function Vd(n,o,i,l){return l<=0?n=o=i=NaN:i<=0||i>=1?n=o=NaN:o<=0&&(n=NaN),new Gt(n,o,i,l)}function bh(n){if(n instanceof Gt)return new Gt(n.h,n.s,n.l,n.opacity);if(n instanceof mi||(n=ai(n)),!n)return new Gt;if(n instanceof Gt)return n;n=n.rgb();var o=n.r/255,i=n.g/255,l=n.b/255,a=Math.min(o,i,l),c=Math.max(o,i,l),d=NaN,h=c-a,p=(c+a)/2;return h?(o===c?d=(i-l)/h+(i<l)*6:i===c?d=(l-o)/h+2:d=(o-i)/h+4,h/=p<.5?c+a:2-c-a,d*=60):h=p>0&&p<1?0:d,new Gt(d,h,p,n.opacity)}function K0(n,o,i,l){return arguments.length===1?bh(n):new Gt(n,o,i,l??1)}function Gt(n,o,i,l){this.h=+n,this.s=+o,this.l=+i,this.opacity=+l}$u(Gt,K0,qh(mi,{brighter(n){return n=n==null?Zs:Math.pow(Zs,n),new Gt(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?si:Math.pow(si,n),new Gt(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,o=isNaN(n)||isNaN(this.s)?0:this.s,i=this.l,l=i+(i<.5?i:1-i)*o,a=2*i-l;return new vt(ou(n>=240?n-240:n+120,a,l),ou(n,a,l),ou(n<120?n+240:n-120,a,l),this.opacity)},clamp(){return new Gt(Bd(this.h),Fs(this.s),Fs(this.l),Js(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Js(this.opacity);return`${n===1?"hsl(":"hsla("}${Bd(this.h)}, ${Fs(this.s)*100}%, ${Fs(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Bd(n){return n=(n||0)%360,n<0?n+360:n}function Fs(n){return Math.max(0,Math.min(1,n||0))}function ou(n,o,i){return(n<60?o+(i-o)*n/60:n<180?i:n<240?o+(i-o)*(240-n)/60:o)*255}const Uh=n=>()=>n;function Q0(n,o){return function(i){return n+i*o}}function Z0(n,o,i){return n=Math.pow(n,i),o=Math.pow(o,i)-n,i=1/i,function(l){return Math.pow(n+l*o,i)}}function J0(n){return(n=+n)==1?Wh:function(o,i){return i-o?Z0(o,i,n):Uh(isNaN(o)?i:o)}}function Wh(n,o){var i=o-n;return i?Q0(n,i):Uh(isNaN(n)?o:n)}const qd=function n(o){var i=J0(o);function l(a,c){var d=i((a=wu(a)).r,(c=wu(c)).r),h=i(a.g,c.g),p=i(a.b,c.b),g=Wh(a.opacity,c.opacity);return function(m){return a.r=d(m),a.g=h(m),a.b=p(m),a.opacity=g(m),a+""}}return l.gamma=n,l}(1);function Jn(n,o){return n=+n,o=+o,function(i){return n*(1-i)+o*i}}var Su=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iu=new RegExp(Su.source,"g");function ev(n){return function(){return n}}function tv(n){return function(o){return n(o)+""}}function nv(n,o){var i=Su.lastIndex=iu.lastIndex=0,l,a,c,d=-1,h=[],p=[];for(n=n+"",o=o+"";(l=Su.exec(n))&&(a=iu.exec(o));)(c=a.index)>i&&(c=o.slice(i,c),h[d]?h[d]+=c:h[++d]=c),(l=l[0])===(a=a[0])?h[d]?h[d]+=a:h[++d]=a:(h[++d]=null,p.push({i:d,x:Jn(l,a)})),i=iu.lastIndex;return i<o.length&&(c=o.slice(i),h[d]?h[d]+=c:h[++d]=c),h.length<2?p[0]?tv(p[0].x):ev(o):(o=p.length,function(g){for(var m=0,v;m<o;++m)h[(v=p[m]).i]=v.x(g);return h.join("")})}var bd=180/Math.PI,Eu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yh(n,o,i,l,a,c){var d,h,p;return(d=Math.sqrt(n*n+o*o))&&(n/=d,o/=d),(p=n*i+o*l)&&(i-=n*p,l-=o*p),(h=Math.sqrt(i*i+l*l))&&(i/=h,l/=h,p/=h),n*l<o*i&&(n=-n,o=-o,p=-p,d=-d),{translateX:a,translateY:c,rotate:Math.atan2(o,n)*bd,skewX:Math.atan(p)*bd,scaleX:d,scaleY:h}}var Os;function rv(n){const o=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return o.isIdentity?Eu:Yh(o.a,o.b,o.c,o.d,o.e,o.f)}function ov(n){return n==null||(Os||(Os=document.createElementNS("http://www.w3.org/2000/svg","g")),Os.setAttribute("transform",n),!(n=Os.transform.baseVal.consolidate()))?Eu:(n=n.matrix,Yh(n.a,n.b,n.c,n.d,n.e,n.f))}function Xh(n,o,i,l){function a(g){return g.length?g.pop()+" ":""}function c(g,m,v,E,k,R){if(g!==v||m!==E){var j=k.push("translate(",null,o,null,i);R.push({i:j-4,x:Jn(g,v)},{i:j-2,x:Jn(m,E)})}else(v||E)&&k.push("translate("+v+o+E+i)}function d(g,m,v,E){g!==m?(g-m>180?m+=360:m-g>180&&(g+=360),E.push({i:v.push(a(v)+"rotate(",null,l)-2,x:Jn(g,m)})):m&&v.push(a(v)+"rotate("+m+l)}function h(g,m,v,E){g!==m?E.push({i:v.push(a(v)+"skewX(",null,l)-2,x:Jn(g,m)}):m&&v.push(a(v)+"skewX("+m+l)}function p(g,m,v,E,k,R){if(g!==v||m!==E){var j=k.push(a(k)+"scale(",null,",",null,")");R.push({i:j-4,x:Jn(g,v)},{i:j-2,x:Jn(m,E)})}else(v!==1||E!==1)&&k.push(a(k)+"scale("+v+","+E+")")}return function(g,m){var v=[],E=[];return g=n(g),m=n(m),c(g.translateX,g.translateY,m.translateX,m.translateY,v,E),d(g.rotate,m.rotate,v,E),h(g.skewX,m.skewX,v,E),p(g.scaleX,g.scaleY,m.scaleX,m.scaleY,v,E),g=m=null,function(k){for(var R=-1,j=E.length,A;++R<j;)v[(A=E[R]).i]=A.x(k);return v.join("")}}}var iv=Xh(rv,"px, ","px)","deg)"),sv=Xh(ov,", ",")",")"),lv=1e-12;function Ud(n){return((n=Math.exp(n))+1/n)/2}function av(n){return((n=Math.exp(n))-1/n)/2}function uv(n){return((n=Math.exp(2*n))-1)/(n+1)}const cv=function n(o,i,l){function a(c,d){var h=c[0],p=c[1],g=c[2],m=d[0],v=d[1],E=d[2],k=m-h,R=v-p,j=k*k+R*R,A,D;if(j<lv)D=Math.log(E/g)/o,A=function(G){return[h+G*k,p+G*R,g*Math.exp(o*G*D)]};else{var H=Math.sqrt(j),K=(E*E-g*g+l*j)/(2*g*i*H),V=(E*E-g*g-l*j)/(2*E*i*H),J=Math.log(Math.sqrt(K*K+1)-K),te=Math.log(Math.sqrt(V*V+1)-V);D=(te-J)/o,A=function(G){var re=G*D,q=Ud(J),L=g/(i*H)*(q*uv(o*re+J)-av(J));return[h+L*k,p+L*R,g*q/Ud(o*re+J)]}}return A.duration=D*1e3*o/Math.SQRT2,A}return a.rho=function(c){var d=Math.max(.001,+c),h=d*d,p=h*h;return n(d,h,p)},a}(Math.SQRT2,2,4);var lo=0,ni=0,Qo=0,Gh=1e3,el,ri,tl=0,Nr=0,ll=0,ui=typeof performance=="object"&&performance.now?performance:Date,Kh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Lu(){return Nr||(Kh(fv),Nr=ui.now()+ll)}function fv(){Nr=0}function nl(){this._call=this._time=this._next=null}nl.prototype=Qh.prototype={constructor:nl,restart:function(n,o,i){if(typeof n!="function")throw new TypeError("callback is not a function");i=(i==null?Lu():+i)+(o==null?0:+o),!this._next&&ri!==this&&(ri?ri._next=this:el=this,ri=this),this._call=n,this._time=i,Nu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nu())}};function Qh(n,o,i){var l=new nl;return l.restart(n,o,i),l}function dv(){Lu(),++lo;for(var n=el,o;n;)(o=Nr-n._time)>=0&&n._call.call(void 0,o),n=n._next;--lo}function Wd(){Nr=(tl=ui.now())+ll,lo=ni=0;try{dv()}finally{lo=0,pv(),Nr=0}}function hv(){var n=ui.now(),o=n-tl;o>Gh&&(ll-=o,tl=n)}function pv(){for(var n,o=el,i,l=1/0;o;)o._call?(l>o._time&&(l=o._time),n=o,o=o._next):(i=o._next,o._next=null,o=n?n._next=i:el=i);ri=n,Nu(l)}function Nu(n){if(!lo){ni&&(ni=clearTimeout(ni));var o=n-Nr;o>24?(n<1/0&&(ni=setTimeout(Wd,n-ui.now()-ll)),Qo&&(Qo=clearInterval(Qo))):(Qo||(tl=ui.now(),Qo=setInterval(hv,Gh)),lo=1,Kh(Wd))}}function Yd(n,o,i){var l=new nl;return o=o==null?0:+o,l.restart(a=>{l.stop(),n(a+o)},o,i),l}var mv=il("start","end","cancel","interrupt"),gv=[],Zh=0,Xd=1,_u=2,Xs=3,Gd=4,ku=5,Gs=6;function al(n,o,i,l,a,c){var d=n.__transition;if(!d)n.__transition={};else if(i in d)return;yv(n,i,{name:o,index:l,group:a,on:mv,tween:gv,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:Zh})}function Fu(n,o){var i=Qt(n,o);if(i.state>Zh)throw new Error("too late; already scheduled");return i}function fn(n,o){var i=Qt(n,o);if(i.state>Xs)throw new Error("too late; already running");return i}function Qt(n,o){var i=n.__transition;if(!i||!(i=i[o]))throw new Error("transition not found");return i}function yv(n,o,i){var l=n.__transition,a;l[o]=i,i.timer=Qh(c,0,i.time);function c(g){i.state=Xd,i.timer.restart(d,i.delay,i.time),i.delay<=g&&d(g-i.delay)}function d(g){var m,v,E,k;if(i.state!==Xd)return p();for(m in l)if(k=l[m],k.name===i.name){if(k.state===Xs)return Yd(d);k.state===Gd?(k.state=Gs,k.timer.stop(),k.on.call("interrupt",n,n.__data__,k.index,k.group),delete l[m]):+m<o&&(k.state=Gs,k.timer.stop(),k.on.call("cancel",n,n.__data__,k.index,k.group),delete l[m])}if(Yd(function(){i.state===Xs&&(i.state=Gd,i.timer.restart(h,i.delay,i.time),h(g))}),i.state=_u,i.on.call("start",n,n.__data__,i.index,i.group),i.state===_u){for(i.state=Xs,a=new Array(E=i.tween.length),m=0,v=-1;m<E;++m)(k=i.tween[m].value.call(n,n.__data__,i.index,i.group))&&(a[++v]=k);a.length=v+1}}function h(g){for(var m=g<i.duration?i.ease.call(null,g/i.duration):(i.timer.restart(p),i.state=ku,1),v=-1,E=a.length;++v<E;)a[v].call(n,m);i.state===ku&&(i.on.call("end",n,n.__data__,i.index,i.group),p())}function p(){i.state=Gs,i.timer.stop(),delete l[o];for(var g in l)return;delete n.__transition}}function Ks(n,o){var i=n.__transition,l,a,c=!0,d;if(i){o=o==null?null:o+"";for(d in i){if((l=i[d]).name!==o){c=!1;continue}a=l.state>_u&&l.state<ku,l.state=Gs,l.timer.stop(),l.on.call(a?"interrupt":"cancel",n,n.__data__,l.index,l.group),delete i[d]}c&&delete n.__transition}}function vv(n){return this.each(function(){Ks(this,n)})}function xv(n,o){var i,l;return function(){var a=fn(this,n),c=a.tween;if(c!==i){l=i=c;for(var d=0,h=l.length;d<h;++d)if(l[d].name===o){l=l.slice(),l.splice(d,1);break}}a.tween=l}}function wv(n,o,i){var l,a;if(typeof i!="function")throw new Error;return function(){var c=fn(this,n),d=c.tween;if(d!==l){a=(l=d).slice();for(var h={name:o,value:i},p=0,g=a.length;p<g;++p)if(a[p].name===o){a[p]=h;break}p===g&&a.push(h)}c.tween=a}}function Sv(n,o){var i=this._id;if(n+="",arguments.length<2){for(var l=Qt(this.node(),i).tween,a=0,c=l.length,d;a<c;++a)if((d=l[a]).name===n)return d.value;return null}return this.each((o==null?xv:wv)(i,n,o))}function Ou(n,o,i){var l=n._id;return n.each(function(){var a=fn(this,l);(a.value||(a.value={}))[o]=i.apply(this,arguments)}),function(a){return Qt(a,l).value[o]}}function Jh(n,o){var i;return(typeof o=="number"?Jn:o instanceof ai?qd:(i=ai(o))?(o=i,qd):nv)(n,o)}function Ev(n){return function(){this.removeAttribute(n)}}function Nv(n){return function(){this.removeAttributeNS(n.space,n.local)}}function _v(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttribute(n);return d===a?null:d===l?c:c=o(l=d,i)}}function kv(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttributeNS(n.space,n.local);return d===a?null:d===l?c:c=o(l=d,i)}}function Cv(n,o,i){var l,a,c;return function(){var d,h=i(this),p;return h==null?void this.removeAttribute(n):(d=this.getAttribute(n),p=h+"",d===p?null:d===l&&p===a?c:(a=p,c=o(l=d,h)))}}function jv(n,o,i){var l,a,c;return function(){var d,h=i(this),p;return h==null?void this.removeAttributeNS(n.space,n.local):(d=this.getAttributeNS(n.space,n.local),p=h+"",d===p?null:d===l&&p===a?c:(a=p,c=o(l=d,h)))}}function Pv(n,o){var i=sl(n),l=i==="transform"?sv:Jh;return this.attrTween(n,typeof o=="function"?(i.local?jv:Cv)(i,l,Ou(this,"attr."+n,o)):o==null?(i.local?Nv:Ev)(i):(i.local?kv:_v)(i,l,o))}function Tv(n,o){return function(i){this.setAttribute(n,o.call(this,i))}}function Iv(n,o){return function(i){this.setAttributeNS(n.space,n.local,o.call(this,i))}}function Mv(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&Iv(n,c)),i}return a._value=o,a}function Rv(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&Tv(n,c)),i}return a._value=o,a}function zv(n,o){var i="attr."+n;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(o==null)return this.tween(i,null);if(typeof o!="function")throw new Error;var l=sl(n);return this.tween(i,(l.local?Mv:Rv)(l,o))}function Av(n,o){return function(){Fu(this,n).delay=+o.apply(this,arguments)}}function Dv(n,o){return o=+o,function(){Fu(this,n).delay=o}}function $v(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?Av:Dv)(o,n)):Qt(this.node(),o).delay}function Lv(n,o){return function(){fn(this,n).duration=+o.apply(this,arguments)}}function Fv(n,o){return o=+o,function(){fn(this,n).duration=o}}function Ov(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?Lv:Fv)(o,n)):Qt(this.node(),o).duration}function Hv(n,o){if(typeof o!="function")throw new Error;return function(){fn(this,n).ease=o}}function Vv(n){var o=this._id;return arguments.length?this.each(Hv(o,n)):Qt(this.node(),o).ease}function Bv(n,o){return function(){var i=o.apply(this,arguments);if(typeof i!="function")throw new Error;fn(this,n).ease=i}}function qv(n){if(typeof n!="function")throw new Error;return this.each(Bv(this._id,n))}function bv(n){typeof n!="function"&&(n=Mh(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,h=l[a]=[],p,g=0;g<d;++g)(p=c[g])&&n.call(p,p.__data__,g,c)&&h.push(p);return new Mn(l,this._parents,this._name,this._id)}function Uv(n){if(n._id!==this._id)throw new Error;for(var o=this._groups,i=n._groups,l=o.length,a=i.length,c=Math.min(l,a),d=new Array(l),h=0;h<c;++h)for(var p=o[h],g=i[h],m=p.length,v=d[h]=new Array(m),E,k=0;k<m;++k)(E=p[k]||g[k])&&(v[k]=E);for(;h<l;++h)d[h]=o[h];return new Mn(d,this._parents,this._name,this._id)}function Wv(n){return(n+"").trim().split(/^|\s+/).every(function(o){var i=o.indexOf(".");return i>=0&&(o=o.slice(0,i)),!o||o==="start"})}function Yv(n,o,i){var l,a,c=Wv(o)?Fu:fn;return function(){var d=c(this,n),h=d.on;h!==l&&(a=(l=h).copy()).on(o,i),d.on=a}}function Xv(n,o){var i=this._id;return arguments.length<2?Qt(this.node(),i).on.on(n):this.each(Yv(i,n,o))}function Gv(n){return function(){var o=this.parentNode;for(var i in this.__transition)if(+i!==n)return;o&&o.removeChild(this)}}function Kv(){return this.on("end.remove",Gv(this._id))}function Qv(n){var o=this._name,i=this._id;typeof n!="function"&&(n=Au(n));for(var l=this._groups,a=l.length,c=new Array(a),d=0;d<a;++d)for(var h=l[d],p=h.length,g=c[d]=new Array(p),m,v,E=0;E<p;++E)(m=h[E])&&(v=n.call(m,m.__data__,E,h))&&("__data__"in m&&(v.__data__=m.__data__),g[E]=v,al(g[E],o,i,E,g,Qt(m,i)));return new Mn(c,this._parents,o,i)}function Zv(n){var o=this._name,i=this._id;typeof n!="function"&&(n=Ih(n));for(var l=this._groups,a=l.length,c=[],d=[],h=0;h<a;++h)for(var p=l[h],g=p.length,m,v=0;v<g;++v)if(m=p[v]){for(var E=n.call(m,m.__data__,v,p),k,R=Qt(m,i),j=0,A=E.length;j<A;++j)(k=E[j])&&al(k,o,i,j,E,R);c.push(E),d.push(m)}return new Mn(c,d,o,i)}var Jv=pi.prototype.constructor;function ex(){return new Jv(this._groups,this._parents)}function tx(n,o){var i,l,a;return function(){var c=so(this,n),d=(this.style.removeProperty(n),so(this,n));return c===d?null:c===i&&d===l?a:a=o(i=c,l=d)}}function ep(n){return function(){this.style.removeProperty(n)}}function nx(n,o,i){var l,a=i+"",c;return function(){var d=so(this,n);return d===a?null:d===l?c:c=o(l=d,i)}}function rx(n,o,i){var l,a,c;return function(){var d=so(this,n),h=i(this),p=h+"";return h==null&&(p=h=(this.style.removeProperty(n),so(this,n))),d===p?null:d===l&&p===a?c:(a=p,c=o(l=d,h))}}function ox(n,o){var i,l,a,c="style."+o,d="end."+c,h;return function(){var p=fn(this,n),g=p.on,m=p.value[c]==null?h||(h=ep(o)):void 0;(g!==i||a!==m)&&(l=(i=g).copy()).on(d,a=m),p.on=l}}function ix(n,o,i){var l=(n+="")=="transform"?iv:Jh;return o==null?this.styleTween(n,tx(n,l)).on("end.style."+n,ep(n)):typeof o=="function"?this.styleTween(n,rx(n,l,Ou(this,"style."+n,o))).each(ox(this._id,n)):this.styleTween(n,nx(n,l,o),i).on("end.style."+n,null)}function sx(n,o,i){return function(l){this.style.setProperty(n,o.call(this,l),i)}}function lx(n,o,i){var l,a;function c(){var d=o.apply(this,arguments);return d!==a&&(l=(a=d)&&sx(n,d,i)),l}return c._value=o,c}function ax(n,o,i){var l="style."+(n+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(o==null)return this.tween(l,null);if(typeof o!="function")throw new Error;return this.tween(l,lx(n,o,i??""))}function ux(n){return function(){this.textContent=n}}function cx(n){return function(){var o=n(this);this.textContent=o??""}}function fx(n){return this.tween("text",typeof n=="function"?cx(Ou(this,"text",n)):ux(n==null?"":n+""))}function dx(n){return function(o){this.textContent=n.call(this,o)}}function hx(n){var o,i;function l(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&dx(a)),o}return l._value=n,l}function px(n){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,hx(n))}function mx(){for(var n=this._name,o=this._id,i=tp(),l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],h=d.length,p,g=0;g<h;++g)if(p=d[g]){var m=Qt(p,o);al(p,n,i,g,d,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Mn(l,this._parents,n,i)}function gx(){var n,o,i=this,l=i._id,a=i.size();return new Promise(function(c,d){var h={value:d},p={value:function(){--a===0&&c()}};i.each(function(){var g=fn(this,l),m=g.on;m!==n&&(o=(n=m).copy(),o._.cancel.push(h),o._.interrupt.push(h),o._.end.push(p)),g.on=o}),a===0&&c()})}var yx=0;function Mn(n,o,i,l){this._groups=n,this._parents=o,this._name=i,this._id=l}function tp(){return++yx}var Pn=pi.prototype;Mn.prototype={constructor:Mn,select:Qv,selectAll:Zv,selectChild:Pn.selectChild,selectChildren:Pn.selectChildren,filter:bv,merge:Uv,selection:ex,transition:mx,call:Pn.call,nodes:Pn.nodes,node:Pn.node,size:Pn.size,empty:Pn.empty,each:Pn.each,on:Xv,attr:Pv,attrTween:zv,style:ix,styleTween:ax,text:fx,textTween:px,remove:Kv,tween:Sv,delay:$v,duration:Ov,ease:Vv,easeVarying:qv,end:gx,[Symbol.iterator]:Pn[Symbol.iterator]};function vx(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var xx={time:null,delay:0,duration:250,ease:vx};function wx(n,o){for(var i;!(i=n.__transition)||!(i=i[o]);)if(!(n=n.parentNode))throw new Error(`transition ${o} not found`);return i}function Sx(n){var o,i;n instanceof Mn?(o=n._id,n=n._name):(o=tp(),(i=xx).time=Lu(),n=n==null?null:n+"");for(var l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],h=d.length,p,g=0;g<h;++g)(p=d[g])&&al(p,n,o,g,d,i||wx(p,o));return new Mn(l,this._parents,n,o)}pi.prototype.interrupt=vv;pi.prototype.transition=Sx;const Hs=n=>()=>n;function Ex(n,{sourceEvent:o,target:i,transform:l,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:a}})}function In(n,o,i){this.k=n,this.x=o,this.y=i}In.prototype={constructor:In,scale:function(n){return n===1?this:new In(this.k*n,this.x,this.y)},translate:function(n,o){return n===0&o===0?this:new In(this.k,this.x+this.k*n,this.y+this.k*o)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tr=new In(1,0,0);In.prototype;function su(n){n.stopImmediatePropagation()}function Zo(n){n.preventDefault(),n.stopImmediatePropagation()}function Nx(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function _x(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Kd(){return this.__zoom||tr}function kx(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Cx(){return navigator.maxTouchPoints||"ontouchstart"in this}function jx(n,o,i){var l=n.invertX(o[0][0])-i[0][0],a=n.invertX(o[1][0])-i[1][0],c=n.invertY(o[0][1])-i[0][1],d=n.invertY(o[1][1])-i[1][1];return n.translate(a>l?(l+a)/2:Math.min(0,l)||Math.max(0,a),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function Px(){var n=Nx,o=_x,i=jx,l=kx,a=Cx,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],h=250,p=cv,g=il("start","zoom","end"),m,v,E,k=500,R=150,j=0,A=10;function D(S){S.property("__zoom",Kd).on("wheel.zoom",re,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",L).filter(a).on("touchstart.zoom",W).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",b).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}D.transform=function(S,N,C,z){var I=S.selection?S.selection():S;I.property("__zoom",Kd),S!==I?J(S,N,C,z):I.interrupt().each(function(){te(this,arguments).event(z).start().zoom(null,typeof N=="function"?N.apply(this,arguments):N).end()})},D.scaleBy=function(S,N,C,z){D.scaleTo(S,function(){var I=this.__zoom.k,_=typeof N=="function"?N.apply(this,arguments):N;return I*_},C,z)},D.scaleTo=function(S,N,C,z){D.transform(S,function(){var I=o.apply(this,arguments),_=this.__zoom,M=C==null?V(I):typeof C=="function"?C.apply(this,arguments):C,w=_.invert(M),T=typeof N=="function"?N.apply(this,arguments):N;return i(K(H(_,T),M,w),I,d)},C,z)},D.translateBy=function(S,N,C,z){D.transform(S,function(){return i(this.__zoom.translate(typeof N=="function"?N.apply(this,arguments):N,typeof C=="function"?C.apply(this,arguments):C),o.apply(this,arguments),d)},null,z)},D.translateTo=function(S,N,C,z,I){D.transform(S,function(){var _=o.apply(this,arguments),M=this.__zoom,w=z==null?V(_):typeof z=="function"?z.apply(this,arguments):z;return i(tr.translate(w[0],w[1]).scale(M.k).translate(typeof N=="function"?-N.apply(this,arguments):-N,typeof C=="function"?-C.apply(this,arguments):-C),_,d)},z,I)};function H(S,N){return N=Math.max(c[0],Math.min(c[1],N)),N===S.k?S:new In(N,S.x,S.y)}function K(S,N,C){var z=N[0]-C[0]*S.k,I=N[1]-C[1]*S.k;return z===S.x&&I===S.y?S:new In(S.k,z,I)}function V(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function J(S,N,C,z){S.on("start.zoom",function(){te(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){te(this,arguments).event(z).end()}).tween("zoom",function(){var I=this,_=arguments,M=te(I,_).event(z),w=o.apply(I,_),T=C==null?V(w):typeof C=="function"?C.apply(I,_):C,Z=Math.max(w[1][0]-w[0][0],w[1][1]-w[0][1]),X=I.__zoom,oe=typeof N=="function"?N.apply(I,_):N,ne=p(X.invert(T).concat(Z/X.k),oe.invert(T).concat(Z/oe.k));return function(ce){if(ce===1)ce=oe;else{var fe=ne(ce),ue=Z/fe[2];ce=new In(ue,T[0]-fe[0]*ue,T[1]-fe[1]*ue)}M.zoom(null,ce)}})}function te(S,N,C){return!C&&S.__zooming||new G(S,N)}function G(S,N){this.that=S,this.args=N,this.active=0,this.sourceEvent=null,this.extent=o.apply(S,N),this.taps=0}G.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,N){return this.mouse&&S!=="mouse"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var N=Xt(this.that).datum();g.call(S,this.that,new Ex(S,{sourceEvent:this.sourceEvent,target:D,type:S,transform:this.that.__zoom,dispatch:g}),N)}};function re(S,...N){if(!n.apply(this,arguments))return;var C=te(this,N).event(S),z=this.__zoom,I=Math.max(c[0],Math.min(c[1],z.k*Math.pow(2,l.apply(this,arguments)))),_=un(S);if(C.wheel)(C.mouse[0][0]!==_[0]||C.mouse[0][1]!==_[1])&&(C.mouse[1]=z.invert(C.mouse[0]=_)),clearTimeout(C.wheel);else{if(z.k===I)return;C.mouse=[_,z.invert(_)],Ks(this),C.start()}Zo(S),C.wheel=setTimeout(M,R),C.zoom("mouse",i(K(H(z,I),C.mouse[0],C.mouse[1]),C.extent,d));function M(){C.wheel=null,C.end()}}function q(S,...N){if(E||!n.apply(this,arguments))return;var C=S.currentTarget,z=te(this,N,!0).event(S),I=Xt(S.view).on("mousemove.zoom",T,!0).on("mouseup.zoom",Z,!0),_=un(S,C),M=S.clientX,w=S.clientY;Vh(S.view),su(S),z.mouse=[_,this.__zoom.invert(_)],Ks(this),z.start();function T(X){if(Zo(X),!z.moved){var oe=X.clientX-M,ne=X.clientY-w;z.moved=oe*oe+ne*ne>j}z.event(X).zoom("mouse",i(K(z.that.__zoom,z.mouse[0]=un(X,C),z.mouse[1]),z.extent,d))}function Z(X){I.on("mousemove.zoom mouseup.zoom",null),Bh(X.view,z.moved),Zo(X),z.event(X).end()}}function L(S,...N){if(n.apply(this,arguments)){var C=this.__zoom,z=un(S.changedTouches?S.changedTouches[0]:S,this),I=C.invert(z),_=C.k*(S.shiftKey?.5:2),M=i(K(H(C,_),z,I),o.apply(this,N),d);Zo(S),h>0?Xt(this).transition().duration(h).call(J,M,z,S):Xt(this).call(D.transform,M,z,S)}}function W(S,...N){if(n.apply(this,arguments)){var C=S.touches,z=C.length,I=te(this,N,S.changedTouches.length===z).event(S),_,M,w,T;for(su(S),M=0;M<z;++M)w=C[M],T=un(w,this),T=[T,this.__zoom.invert(T),w.identifier],I.touch0?!I.touch1&&I.touch0[2]!==T[2]&&(I.touch1=T,I.taps=0):(I.touch0=T,_=!0,I.taps=1+!!m);m&&(m=clearTimeout(m)),_&&(I.taps<2&&(v=T[0],m=setTimeout(function(){m=null},k)),Ks(this),I.start())}}function F(S,...N){if(this.__zooming){var C=te(this,N).event(S),z=S.changedTouches,I=z.length,_,M,w,T;for(Zo(S),_=0;_<I;++_)M=z[_],w=un(M,this),C.touch0&&C.touch0[2]===M.identifier?C.touch0[0]=w:C.touch1&&C.touch1[2]===M.identifier&&(C.touch1[0]=w);if(M=C.that.__zoom,C.touch1){var Z=C.touch0[0],X=C.touch0[1],oe=C.touch1[0],ne=C.touch1[1],ce=(ce=oe[0]-Z[0])*ce+(ce=oe[1]-Z[1])*ce,fe=(fe=ne[0]-X[0])*fe+(fe=ne[1]-X[1])*fe;M=H(M,Math.sqrt(ce/fe)),w=[(Z[0]+oe[0])/2,(Z[1]+oe[1])/2],T=[(X[0]+ne[0])/2,(X[1]+ne[1])/2]}else if(C.touch0)w=C.touch0[0],T=C.touch0[1];else return;C.zoom("touch",i(K(M,w,T),C.extent,d))}}function b(S,...N){if(this.__zooming){var C=te(this,N).event(S),z=S.changedTouches,I=z.length,_,M;for(su(S),E&&clearTimeout(E),E=setTimeout(function(){E=null},k),_=0;_<I;++_)M=z[_],C.touch0&&C.touch0[2]===M.identifier?delete C.touch0:C.touch1&&C.touch1[2]===M.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(M=un(M,this),Math.hypot(v[0]-M[0],v[1]-M[1])<A)){var w=Xt(this).on("dblclick.zoom");w&&w.apply(this,arguments)}}}return D.wheelDelta=function(S){return arguments.length?(l=typeof S=="function"?S:Hs(+S),D):l},D.filter=function(S){return arguments.length?(n=typeof S=="function"?S:Hs(!!S),D):n},D.touchable=function(S){return arguments.length?(a=typeof S=="function"?S:Hs(!!S),D):a},D.extent=function(S){return arguments.length?(o=typeof S=="function"?S:Hs([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),D):o},D.scaleExtent=function(S){return arguments.length?(c[0]=+S[0],c[1]=+S[1],D):[c[0],c[1]]},D.translateExtent=function(S){return arguments.length?(d[0][0]=+S[0][0],d[1][0]=+S[1][0],d[0][1]=+S[0][1],d[1][1]=+S[1][1],D):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},D.constrain=function(S){return arguments.length?(i=S,D):i},D.duration=function(S){return arguments.length?(h=+S,D):h},D.interpolate=function(S){return arguments.length?(p=S,D):p},D.on=function(){var S=g.on.apply(g,arguments);return S===g?D:S},D.clickDistance=function(S){return arguments.length?(j=(S=+S)*S,D):Math.sqrt(j)},D.tapDistance=function(S){return arguments.length?(A=+S,D):A},D}var lu={exports:{}},yt={},au={exports:{}},uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd;function Tx(){return Qd||(Qd=1,function(n){function o(I,_){var M=I.length;I.push(_);e:for(;0<M;){var w=M-1>>>1,T=I[w];if(0<a(T,_))I[w]=_,I[M]=T,M=w;else break e}}function i(I){return I.length===0?null:I[0]}function l(I){if(I.length===0)return null;var _=I[0],M=I.pop();if(M!==_){I[0]=M;e:for(var w=0,T=I.length,Z=T>>>1;w<Z;){var X=2*(w+1)-1,oe=I[X],ne=X+1,ce=I[ne];if(0>a(oe,M))ne<T&&0>a(ce,oe)?(I[w]=ce,I[ne]=M,w=ne):(I[w]=oe,I[X]=M,w=X);else if(ne<T&&0>a(ce,M))I[w]=ce,I[ne]=M,w=ne;else break e}}return _}function a(I,_){var M=I.sortIndex-_.sortIndex;return M!==0?M:I.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var p=[],g=[],m=1,v=null,E=3,k=!1,R=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(I){for(var _=i(g);_!==null;){if(_.callback===null)l(g);else if(_.startTime<=I)l(g),_.sortIndex=_.expirationTime,o(p,_);else break;_=i(g)}}function V(I){if(j=!1,K(I),!R)if(i(p)!==null)R=!0,C(J);else{var _=i(g);_!==null&&z(V,_.startTime-I)}}function J(I,_){R=!1,j&&(j=!1,D(re),re=-1),k=!0;var M=E;try{for(K(_),v=i(p);v!==null&&(!(v.expirationTime>_)||I&&!W());){var w=v.callback;if(typeof w=="function"){v.callback=null,E=v.priorityLevel;var T=w(v.expirationTime<=_);_=n.unstable_now(),typeof T=="function"?v.callback=T:v===i(p)&&l(p),K(_)}else l(p);v=i(p)}if(v!==null)var Z=!0;else{var X=i(g);X!==null&&z(V,X.startTime-_),Z=!1}return Z}finally{v=null,E=M,k=!1}}var te=!1,G=null,re=-1,q=5,L=-1;function W(){return!(n.unstable_now()-L<q)}function F(){if(G!==null){var I=n.unstable_now();L=I;var _=!0;try{_=G(!0,I)}finally{_?b():(te=!1,G=null)}}else te=!1}var b;if(typeof H=="function")b=function(){H(F)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,N=S.port2;S.port1.onmessage=F,b=function(){N.postMessage(null)}}else b=function(){A(F,0)};function C(I){G=I,te||(te=!0,b())}function z(I,_){re=A(function(){I(n.unstable_now())},_)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){R||k||(R=!0,C(J))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return i(p)},n.unstable_next=function(I){switch(E){case 1:case 2:case 3:var _=3;break;default:_=E}var M=E;E=_;try{return I()}finally{E=M}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,_){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var M=E;E=I;try{return _()}finally{E=M}},n.unstable_scheduleCallback=function(I,_,M){var w=n.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?w+M:w):M=w,I){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=M+T,I={id:m++,callback:_,priorityLevel:I,startTime:M,expirationTime:T,sortIndex:-1},M>w?(I.sortIndex=M,o(g,I),i(p)===null&&I===i(g)&&(j?(D(re),re=-1):j=!0,z(V,M-w))):(I.sortIndex=T,o(p,I),R||k||(R=!0,C(J))),I},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(I){var _=E;return function(){var M=E;E=_;try{return I.apply(this,arguments)}finally{E=M}}}}(uu)),uu}var Zd;function Ix(){return Zd||(Zd=1,au.exports=Tx()),au.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd;function Mx(){if(Jd)return yt;Jd=1;var n=hi(),o=Ix();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,a={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(a[e]=t,e=0;e<t.length;e++)l.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function E(e){return p.call(v,e)?!0:p.call(m,e)?!1:g.test(e)?v[e]=!0:(m[e]=!0,!1)}function k(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,t,r,s){if(t===null||typeof t>"u"||k(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function j(e,t,r,s,u,f,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=y}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];A[t]=new j(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function H(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,H);A[t]=new j(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,H);A[t]=new j(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,H);A[t]=new j(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function K(e,t,r,s){var u=A.hasOwnProperty(t)?A[t]:null;(u!==null?u.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R(t,r,u,s)&&(r=null),s||u===null?E(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,s=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var V=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),te=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),W=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),I=Symbol.iterator;function _(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var M=Object.assign,w;function T(e){if(w===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var Z=!1;function X(e,t){if(!e||Z)return"";Z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(Q){var s=Q}Reflect.construct(e,[],t)}else{try{t.call()}catch(Q){s=Q}e.call(t.prototype)}else{try{throw Error()}catch(Q){s=Q}e()}}catch(Q){if(Q&&s&&typeof Q.stack=="string"){for(var u=Q.stack.split(`
`),f=s.stack.split(`
`),y=u.length-1,P=f.length-1;1<=y&&0<=P&&u[y]!==f[P];)P--;for(;1<=y&&0<=P;y--,P--)if(u[y]!==f[P]){if(y!==1||P!==1)do if(y--,P--,0>P||u[y]!==f[P]){var $=`
`+u[y].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=y&&0<=P);break}}}finally{Z=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?T(e):""}function oe(e){switch(e.tag){case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return e=X(e.type,!1),e;case 11:return e=X(e.type.render,!1),e;case 1:return e=X(e.type,!0),e;default:return""}}function ne(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case te:return"Portal";case q:return"Profiler";case re:return"StrictMode";case b:return"Suspense";case S:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W:return(e.displayName||"Context")+".Consumer";case L:return(e._context.displayName||"Context")+".Provider";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return t=e.displayName||null,t!==null?t:ne(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return ne(e(t))}catch{}}return null}function ce(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(t);case 8:return t===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ue(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pe(e){var t=ue(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Me(e){e._valueTracker||(e._valueTracker=pe(e))}function Ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=ue(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function He(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ve(e,t){var r=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Pe(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=fe(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ye(e,t){t=t.checked,t!=null&&K(e,"checked",t,!1)}function Ce(e,t){Ye(e,t);var r=fe(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?et(e,t.type,r):t.hasOwnProperty("defaultValue")&&et(e,t.type,fe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xe(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function et(e,t,r){(t!=="number"||He(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xt=Array.isArray;function jt(e,t,r,s){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&s&&(e[r].defaultSelected=!0)}else{for(r=""+fe(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Zt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dn(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(xt(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:fe(r)}}function Pt(e,t){var r=fe(t.value),s=fe(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function hn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ft,pn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ft=Ft||document.createElement("div"),Ft.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ft.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ot(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Be={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wt=["Webkit","ms","Moz","O"];Object.keys(Be).forEach(function(e){wt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Be[t]=Be[e]})});function en(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Be.hasOwnProperty(e)&&Be[e]?(""+t).trim():t+"px"}function tn(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,u=en(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,u):e[r]=u}}var mn=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(e,t){if(t){if(mn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function ft(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gn=null;function rr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yn=null,nn=null,vn=null;function rn(e){if(e=Do(e)){if(typeof yn!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Qi(t),yn(e.stateNode,e.type,t))}}function yi(e){nn?vn?vn.push(e):vn=[e]:nn=e}function vi(){if(nn){var e=nn,t=vn;if(vn=nn=null,rn(e),t)for(e=0;e<t.length;e++)rn(t[e])}}function xi(e,t){return e(t)}function wi(){}var fo=!1;function Si(e,t,r){if(fo)return e(t,r);fo=!0;try{return xi(e,t,r)}finally{fo=!1,(nn!==null||vn!==null)&&(wi(),vi())}}function or(e,t){var r=e.stateNode;if(r===null)return null;var s=Qi(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var ho=!1;if(h)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){ho=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{ho=!1}function dl(e,t,r,s,u,f,y,P,$){var Q=Array.prototype.slice.call(arguments,3);try{t.apply(r,Q)}catch(se){this.onError(se)}}var sr=!1,kr=null,Cr=!1,po=null,hl={onError:function(e){sr=!0,kr=e}};function pl(e,t,r,s,u,f,y,P,$){sr=!1,kr=null,dl.apply(hl,arguments)}function Ei(e,t,r,s,u,f,y,P,$){if(pl.apply(this,arguments),sr){if(sr){var Q=kr;sr=!1,kr=null}else throw Error(i(198));Cr||(Cr=!0,po=Q)}}function xn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ni(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _i(e){if(xn(e)!==e)throw Error(i(188))}function ml(e){var t=e.alternate;if(!t){if(t=xn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,s=t;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(s=u.return,s!==null){r=s;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return _i(u),e;if(f===s)return _i(u),t;f=f.sibling}throw Error(i(188))}if(r.return!==s.return)r=u,s=f;else{for(var y=!1,P=u.child;P;){if(P===r){y=!0,r=u,s=f;break}if(P===s){y=!0,s=u,r=f;break}P=P.sibling}if(!y){for(P=f.child;P;){if(P===r){y=!0,r=f,s=u;break}if(P===s){y=!0,s=f,r=u;break}P=P.sibling}if(!y)throw Error(i(189))}}if(r.alternate!==s)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function ki(e){return e=ml(e),e!==null?Ci(e):null}function Ci(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ci(e);if(t!==null)return t;e=e.sibling}return null}var ji=o.unstable_scheduleCallback,Pi=o.unstable_cancelCallback,Ti=o.unstable_shouldYield,gl=o.unstable_requestPaint,$e=o.unstable_now,yl=o.unstable_getCurrentPriorityLevel,mo=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,jr=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Pr=null,Tt=null;function go(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Pr,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Zp,Kp=Math.log,Qp=Math.LN2;function Zp(e){return e>>>=0,e===0?32:31-(Kp(e)/Qp|0)|0}var zi=64,Ai=4194304;function yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Di(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,u=e.suspendedLanes,f=e.pingedLanes,y=r&268435455;if(y!==0){var P=y&~u;P!==0?s=yo(P):(f&=y,f!==0&&(s=yo(f)))}else y=r&~u,y!==0?s=yo(y):f!==0&&(s=yo(f));if(s===0)return 0;if(t!==0&&t!==s&&!(t&u)&&(u=s&-s,f=t&-t,u>=f||u===16&&(f&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Ht(t),u=1<<r,s|=e[r],t&=~u;return s}function Jp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function em(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-Ht(f),P=1<<y,$=u[y];$===-1?(!(P&r)||P&s)&&(u[y]=Jp(P,t)):$<=t&&(e.expiredLanes|=P),f&=~P}}function vl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ju(){var e=zi;return zi<<=1,!(zi&4194240)&&(zi=64),e}function xl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=r}function tm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Ht(r),f=1<<u;t[u]=0,s[u]=-1,e[u]=-1,r&=~f}}function wl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ht(r),u=1<<s;u&t|e[s]&t&&(e[s]|=t),r&=~u}}var Te=0;function ec(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tc,Sl,nc,rc,oc,El=!1,$i=[],zn=null,An=null,Dn=null,xo=new Map,wo=new Map,$n=[],nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ic(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(t.pointerId)}}function So(e,t,r,s,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Do(t),t!==null&&Sl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function rm(e,t,r,s,u){switch(t){case"focusin":return zn=So(zn,e,t,r,s,u),!0;case"dragenter":return An=So(An,e,t,r,s,u),!0;case"mouseover":return Dn=So(Dn,e,t,r,s,u),!0;case"pointerover":var f=u.pointerId;return xo.set(f,So(xo.get(f)||null,e,t,r,s,u)),!0;case"gotpointercapture":return f=u.pointerId,wo.set(f,So(wo.get(f)||null,e,t,r,s,u)),!0}return!1}function sc(e){var t=lr(e.target);if(t!==null){var r=xn(t);if(r!==null){if(t=r.tag,t===13){if(t=Ni(r),t!==null){e.blockedOn=t,oc(e.priority,function(){nc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_l(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);gn=s,r.target.dispatchEvent(s),gn=null}else return t=Do(r),t!==null&&Sl(t),e.blockedOn=r,!1;t.shift()}return!0}function lc(e,t,r){Li(e)&&r.delete(t)}function om(){El=!1,zn!==null&&Li(zn)&&(zn=null),An!==null&&Li(An)&&(An=null),Dn!==null&&Li(Dn)&&(Dn=null),xo.forEach(lc),wo.forEach(lc)}function Eo(e,t){e.blockedOn===t&&(e.blockedOn=null,El||(El=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,om)))}function No(e){function t(u){return Eo(u,e)}if(0<$i.length){Eo($i[0],e);for(var r=1;r<$i.length;r++){var s=$i[r];s.blockedOn===e&&(s.blockedOn=null)}}for(zn!==null&&Eo(zn,e),An!==null&&Eo(An,e),Dn!==null&&Eo(Dn,e),xo.forEach(t),wo.forEach(t),r=0;r<$n.length;r++)s=$n[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)sc(r),r.blockedOn===null&&$n.shift()}var Tr=V.ReactCurrentBatchConfig,Fi=!0;function im(e,t,r,s){var u=Te,f=Tr.transition;Tr.transition=null;try{Te=1,Nl(e,t,r,s)}finally{Te=u,Tr.transition=f}}function sm(e,t,r,s){var u=Te,f=Tr.transition;Tr.transition=null;try{Te=4,Nl(e,t,r,s)}finally{Te=u,Tr.transition=f}}function Nl(e,t,r,s){if(Fi){var u=_l(e,t,r,s);if(u===null)Vl(e,t,s,Oi,r),ic(e,s);else if(rm(u,e,t,r,s))s.stopPropagation();else if(ic(e,s),t&4&&-1<nm.indexOf(e)){for(;u!==null;){var f=Do(u);if(f!==null&&tc(f),f=_l(e,t,r,s),f===null&&Vl(e,t,s,Oi,r),f===u)break;u=f}u!==null&&s.stopPropagation()}else Vl(e,t,s,null,r)}}var Oi=null;function _l(e,t,r,s){if(Oi=null,e=rr(s),e=lr(e),e!==null)if(t=xn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ni(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oi=e,null}function ac(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yl()){case mo:return 1;case Ii:return 4;case jr:case Mi:return 16;case Ri:return 536870912;default:return 16}default:return 16}}var Ln=null,kl=null,Hi=null;function uc(){if(Hi)return Hi;var e,t=kl,r=t.length,s,u="value"in Ln?Ln.value:Ln.textContent,f=u.length;for(e=0;e<r&&t[e]===u[e];e++);var y=r-e;for(s=1;s<=y&&t[r-s]===u[f-s];s++);return Hi=u.slice(e,1<s?1-s:void 0)}function Vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function cc(){return!1}function Et(e){function t(r,s,u,f,y){this._reactName=r,this._targetInst=u,this.type=s,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(r=e[P],this[P]=r?r(f):f[P]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:cc,this.isPropagationStopped=cc,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),t}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=Et(Ir),_o=M({},Ir,{view:0,detail:0}),lm=Et(_o),jl,Pl,ko,qi=M({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Il,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ko&&(ko&&e.type==="mousemove"?(jl=e.screenX-ko.screenX,Pl=e.screenY-ko.screenY):Pl=jl=0,ko=e),jl)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),fc=Et(qi),am=M({},qi,{dataTransfer:0}),um=Et(am),cm=M({},_o,{relatedTarget:0}),Tl=Et(cm),fm=M({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),dm=Et(fm),hm=M({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pm=Et(hm),mm=M({},Ir,{data:0}),dc=Et(mm),gm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vm[e])?!!t[e]:!1}function Il(){return xm}var wm=M({},_o,{key:function(e){if(e.key){var t=gm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ym[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Il,charCode:function(e){return e.type==="keypress"?Vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sm=Et(wm),Em=M({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hc=Et(Em),Nm=M({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Il}),_m=Et(Nm),km=M({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cm=Et(km),jm=M({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pm=Et(jm),Tm=[9,13,27,32],Ml=h&&"CompositionEvent"in window,Co=null;h&&"documentMode"in document&&(Co=document.documentMode);var Im=h&&"TextEvent"in window&&!Co,pc=h&&(!Ml||Co&&8<Co&&11>=Co),mc=" ",gc=!1;function yc(e,t){switch(e){case"keyup":return Tm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function Mm(e,t){switch(e){case"compositionend":return vc(t);case"keypress":return t.which!==32?null:(gc=!0,mc);case"textInput":return e=t.data,e===mc&&gc?null:e;default:return null}}function Rm(e,t){if(Mr)return e==="compositionend"||!Ml&&yc(e,t)?(e=uc(),Hi=kl=Ln=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pc&&t.locale!=="ko"?null:t.data;default:return null}}var zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zm[e.type]:t==="textarea"}function wc(e,t,r,s){yi(s),t=Xi(t,"onChange"),0<t.length&&(r=new Cl("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var jo=null,Po=null;function Am(e){Fc(e,0)}function bi(e){var t=$r(e);if(Ae(t))return e}function Dm(e,t){if(e==="change")return t}var Sc=!1;if(h){var Rl;if(h){var zl="oninput"in document;if(!zl){var Ec=document.createElement("div");Ec.setAttribute("oninput","return;"),zl=typeof Ec.oninput=="function"}Rl=zl}else Rl=!1;Sc=Rl&&(!document.documentMode||9<document.documentMode)}function Nc(){jo&&(jo.detachEvent("onpropertychange",_c),Po=jo=null)}function _c(e){if(e.propertyName==="value"&&bi(Po)){var t=[];wc(t,Po,e,rr(e)),Si(Am,t)}}function $m(e,t,r){e==="focusin"?(Nc(),jo=t,Po=r,jo.attachEvent("onpropertychange",_c)):e==="focusout"&&Nc()}function Lm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bi(Po)}function Fm(e,t){if(e==="click")return bi(t)}function Om(e,t){if(e==="input"||e==="change")return bi(t)}function Hm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Hm;function To(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var u=r[s];if(!p.call(t,u)||!Vt(e[u],t[u]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cc(e,t){var r=kc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kc(r)}}function jc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pc(){for(var e=window,t=He();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=He(e.document)}return t}function Al(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vm(e){var t=Pc(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jc(r.ownerDocument.documentElement,r)){if(s!==null&&Al(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,f=Math.min(s.start,u);s=s.end===void 0?f:Math.min(s.end,u),!e.extend&&f>s&&(u=s,s=f,f=u),u=Cc(r,f);var y=Cc(r,s);u&&y&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),f>s?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bm=h&&"documentMode"in document&&11>=document.documentMode,Rr=null,Dl=null,Io=null,$l=!1;function Tc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$l||Rr==null||Rr!==He(s)||(s=Rr,"selectionStart"in s&&Al(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Io&&To(Io,s)||(Io=s,s=Xi(Dl,"onSelect"),0<s.length&&(t=new Cl("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Rr)))}function Ui(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zr={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},Ll={},Ic={};h&&(Ic=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Wi(e){if(Ll[e])return Ll[e];if(!zr[e])return e;var t=zr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ic)return Ll[e]=t[r];return e}var Mc=Wi("animationend"),Rc=Wi("animationiteration"),zc=Wi("animationstart"),Ac=Wi("transitionend"),Dc=new Map,$c="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(e,t){Dc.set(e,t),c(t,[e])}for(var Fl=0;Fl<$c.length;Fl++){var Ol=$c[Fl],qm=Ol.toLowerCase(),bm=Ol[0].toUpperCase()+Ol.slice(1);Fn(qm,"on"+bm)}Fn(Mc,"onAnimationEnd"),Fn(Rc,"onAnimationIteration"),Fn(zc,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(Ac,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Um=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mo));function Lc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Ei(s,t,void 0,e),e.currentTarget=null}function Fc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],u=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var y=s.length-1;0<=y;y--){var P=s[y],$=P.instance,Q=P.currentTarget;if(P=P.listener,$!==f&&u.isPropagationStopped())break e;Lc(u,P,Q),f=$}else for(y=0;y<s.length;y++){if(P=s[y],$=P.instance,Q=P.currentTarget,P=P.listener,$!==f&&u.isPropagationStopped())break e;Lc(u,P,Q),f=$}}}if(Cr)throw e=po,Cr=!1,po=null,e}function Re(e,t){var r=t[Yl];r===void 0&&(r=t[Yl]=new Set);var s=e+"__bubble";r.has(s)||(Oc(t,e,2,!1),r.add(s))}function Hl(e,t,r){var s=0;t&&(s|=4),Oc(r,e,s,t)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function Ro(e){if(!e[Yi]){e[Yi]=!0,l.forEach(function(r){r!=="selectionchange"&&(Um.has(r)||Hl(r,!1,e),Hl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yi]||(t[Yi]=!0,Hl("selectionchange",!1,t))}}function Oc(e,t,r,s){switch(ac(t)){case 1:var u=im;break;case 4:u=sm;break;default:u=Nl}r=u.bind(null,t,r,e),u=void 0,!ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Vl(e,t,r,s,u){var f=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var P=s.stateNode.containerInfo;if(P===u||P.nodeType===8&&P.parentNode===u)break;if(y===4)for(y=s.return;y!==null;){var $=y.tag;if(($===3||$===4)&&($=y.stateNode.containerInfo,$===u||$.nodeType===8&&$.parentNode===u))return;y=y.return}for(;P!==null;){if(y=lr(P),y===null)return;if($=y.tag,$===5||$===6){s=f=y;continue e}P=P.parentNode}}s=s.return}Si(function(){var Q=f,se=rr(r),le=[];e:{var ie=Dc.get(e);if(ie!==void 0){var de=Cl,me=e;switch(e){case"keypress":if(Vi(r)===0)break e;case"keydown":case"keyup":de=Sm;break;case"focusin":me="focus",de=Tl;break;case"focusout":me="blur",de=Tl;break;case"beforeblur":case"afterblur":de=Tl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=_m;break;case Mc:case Rc:case zc:de=dm;break;case Ac:de=Cm;break;case"scroll":de=lm;break;case"wheel":de=Pm;break;case"copy":case"cut":case"paste":de=pm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=hc}var ge=(t&4)!==0,Ue=!ge&&e==="scroll",U=ge?ie!==null?ie+"Capture":null:ie;ge=[];for(var O=Q,Y;O!==null;){Y=O;var ae=Y.stateNode;if(Y.tag===5&&ae!==null&&(Y=ae,U!==null&&(ae=or(O,U),ae!=null&&ge.push(zo(O,ae,Y)))),Ue)break;O=O.return}0<ge.length&&(ie=new de(ie,me,null,r,se),le.push({event:ie,listeners:ge}))}}if(!(t&7)){e:{if(ie=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",ie&&r!==gn&&(me=r.relatedTarget||r.fromElement)&&(lr(me)||me[wn]))break e;if((de||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,de?(me=r.relatedTarget||r.toElement,de=Q,me=me?lr(me):null,me!==null&&(Ue=xn(me),me!==Ue||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=Q),de!==me)){if(ge=fc,ae="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ge=hc,ae="onPointerLeave",U="onPointerEnter",O="pointer"),Ue=de==null?ie:$r(de),Y=me==null?ie:$r(me),ie=new ge(ae,O+"leave",de,r,se),ie.target=Ue,ie.relatedTarget=Y,ae=null,lr(se)===Q&&(ge=new ge(U,O+"enter",me,r,se),ge.target=Y,ge.relatedTarget=Ue,ae=ge),Ue=ae,de&&me)t:{for(ge=de,U=me,O=0,Y=ge;Y;Y=Ar(Y))O++;for(Y=0,ae=U;ae;ae=Ar(ae))Y++;for(;0<O-Y;)ge=Ar(ge),O--;for(;0<Y-O;)U=Ar(U),Y--;for(;O--;){if(ge===U||U!==null&&ge===U.alternate)break t;ge=Ar(ge),U=Ar(U)}ge=null}else ge=null;de!==null&&Hc(le,ie,de,ge,!1),me!==null&&Ue!==null&&Hc(le,Ue,me,ge,!0)}}e:{if(ie=Q?$r(Q):window,de=ie.nodeName&&ie.nodeName.toLowerCase(),de==="select"||de==="input"&&ie.type==="file")var ye=Dm;else if(xc(ie))if(Sc)ye=Om;else{ye=Lm;var we=$m}else(de=ie.nodeName)&&de.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(ye=Fm);if(ye&&(ye=ye(e,Q))){wc(le,ye,r,se);break e}we&&we(e,ie,Q),e==="focusout"&&(we=ie._wrapperState)&&we.controlled&&ie.type==="number"&&et(ie,"number",ie.value)}switch(we=Q?$r(Q):window,e){case"focusin":(xc(we)||we.contentEditable==="true")&&(Rr=we,Dl=Q,Io=null);break;case"focusout":Io=Dl=Rr=null;break;case"mousedown":$l=!0;break;case"contextmenu":case"mouseup":case"dragend":$l=!1,Tc(le,r,se);break;case"selectionchange":if(Bm)break;case"keydown":case"keyup":Tc(le,r,se)}var Se;if(Ml)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Mr?yc(e,r)&&(Ee="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ee="onCompositionStart");Ee&&(pc&&r.locale!=="ko"&&(Mr||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Mr&&(Se=uc()):(Ln=se,kl="value"in Ln?Ln.value:Ln.textContent,Mr=!0)),we=Xi(Q,Ee),0<we.length&&(Ee=new dc(Ee,e,null,r,se),le.push({event:Ee,listeners:we}),Se?Ee.data=Se:(Se=vc(r),Se!==null&&(Ee.data=Se)))),(Se=Im?Mm(e,r):Rm(e,r))&&(Q=Xi(Q,"onBeforeInput"),0<Q.length&&(se=new dc("onBeforeInput","beforeinput",null,r,se),le.push({event:se,listeners:Q}),se.data=Se))}Fc(le,t)})}function zo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xi(e,t){for(var r=t+"Capture",s=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=or(e,r),f!=null&&s.unshift(zo(e,f,u)),f=or(e,t),f!=null&&s.push(zo(e,f,u))),e=e.return}return s}function Ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hc(e,t,r,s,u){for(var f=t._reactName,y=[];r!==null&&r!==s;){var P=r,$=P.alternate,Q=P.stateNode;if($!==null&&$===s)break;P.tag===5&&Q!==null&&(P=Q,u?($=or(r,f),$!=null&&y.unshift(zo(r,$,P))):u||($=or(r,f),$!=null&&y.push(zo(r,$,P)))),r=r.return}y.length!==0&&e.push({event:t,listeners:y})}var Wm=/\r\n?/g,Ym=/\u0000|\uFFFD/g;function Vc(e){return(typeof e=="string"?e:""+e).replace(Wm,`
`).replace(Ym,"")}function Gi(e,t,r){if(t=Vc(t),Vc(e)!==t&&r)throw Error(i(425))}function Ki(){}var Bl=null,ql=null;function bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ul=typeof setTimeout=="function"?setTimeout:void 0,Xm=typeof clearTimeout=="function"?clearTimeout:void 0,Bc=typeof Promise=="function"?Promise:void 0,Gm=typeof queueMicrotask=="function"?queueMicrotask:typeof Bc<"u"?function(e){return Bc.resolve(null).then(e).catch(Km)}:Ul;function Km(e){setTimeout(function(){throw e})}function Wl(e,t){var r=t,s=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(s===0){e.removeChild(u),No(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=u}while(r);No(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),on="__reactFiber$"+Dr,Ao="__reactProps$"+Dr,wn="__reactContainer$"+Dr,Yl="__reactEvents$"+Dr,Qm="__reactListeners$"+Dr,Zm="__reactHandles$"+Dr;function lr(e){var t=e[on];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wn]||r[on]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=qc(e);e!==null;){if(r=e[on])return r;e=qc(e)}return t}e=r,r=e.parentNode}return null}function Do(e){return e=e[on]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Qi(e){return e[Ao]||null}var Xl=[],Lr=-1;function Hn(e){return{current:e}}function ze(e){0>Lr||(e.current=Xl[Lr],Xl[Lr]=null,Lr--)}function Ie(e,t){Lr++,Xl[Lr]=e.current,e.current=t}var Vn={},rt=Hn(Vn),dt=Hn(!1),ar=Vn;function Fr(e,t){var r=e.type.contextTypes;if(!r)return Vn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in r)u[f]=t[f];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function ht(e){return e=e.childContextTypes,e!=null}function Zi(){ze(dt),ze(rt)}function bc(e,t,r){if(rt.current!==Vn)throw Error(i(168));Ie(rt,t),Ie(dt,r)}function Uc(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var u in s)if(!(u in t))throw Error(i(108,ce(e)||"Unknown",u));return M({},r,s)}function Ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,ar=rt.current,Ie(rt,e),Ie(dt,dt.current),!0}function Wc(e,t,r){var s=e.stateNode;if(!s)throw Error(i(169));r?(e=Uc(e,t,ar),s.__reactInternalMemoizedMergedChildContext=e,ze(dt),ze(rt),Ie(rt,e)):ze(dt),Ie(dt,r)}var Sn=null,es=!1,Gl=!1;function Yc(e){Sn===null?Sn=[e]:Sn.push(e)}function Jm(e){es=!0,Yc(e)}function Bn(){if(!Gl&&Sn!==null){Gl=!0;var e=0,t=Te;try{var r=Sn;for(Te=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Sn=null,es=!1}catch(u){throw Sn!==null&&(Sn=Sn.slice(e+1)),ji(mo,Bn),u}finally{Te=t,Gl=!1}}return null}var Or=[],Hr=0,ts=null,ns=0,It=[],Mt=0,ur=null,En=1,Nn="";function cr(e,t){Or[Hr++]=ns,Or[Hr++]=ts,ts=e,ns=t}function Xc(e,t,r){It[Mt++]=En,It[Mt++]=Nn,It[Mt++]=ur,ur=e;var s=En;e=Nn;var u=32-Ht(s)-1;s&=~(1<<u),r+=1;var f=32-Ht(t)+u;if(30<f){var y=u-u%5;f=(s&(1<<y)-1).toString(32),s>>=y,u-=y,En=1<<32-Ht(t)+u|r<<u|s,Nn=f+e}else En=1<<f|r<<u|s,Nn=e}function Kl(e){e.return!==null&&(cr(e,1),Xc(e,1,0))}function Ql(e){for(;e===ts;)ts=Or[--Hr],Or[Hr]=null,ns=Or[--Hr],Or[Hr]=null;for(;e===ur;)ur=It[--Mt],It[Mt]=null,Nn=It[--Mt],It[Mt]=null,En=It[--Mt],It[Mt]=null}var Nt=null,_t=null,De=!1,Bt=null;function Gc(e,t){var r=Dt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Kc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,_t=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ur!==null?{id:En,overflow:Nn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nt=e,_t=null,!0):!1;default:return!1}}function Zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jl(e){if(De){var t=_t;if(t){var r=t;if(!Kc(e,t)){if(Zl(e))throw Error(i(418));t=On(r.nextSibling);var s=Nt;t&&Kc(e,t)?Gc(s,r):(e.flags=e.flags&-4097|2,De=!1,Nt=e)}}else{if(Zl(e))throw Error(i(418));e.flags=e.flags&-4097|2,De=!1,Nt=e}}}function Qc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function rs(e){if(e!==Nt)return!1;if(!De)return Qc(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bl(e.type,e.memoizedProps)),t&&(t=_t)){if(Zl(e))throw Zc(),Error(i(418));for(;t;)Gc(e,t),t=On(t.nextSibling)}if(Qc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_t=On(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Nt?On(e.stateNode.nextSibling):null;return!0}function Zc(){for(var e=_t;e;)e=On(e.nextSibling)}function Vr(){_t=Nt=null,De=!1}function ea(e){Bt===null?Bt=[e]:Bt.push(e)}var eg=V.ReactCurrentBatchConfig;function $o(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var s=r.stateNode}if(!s)throw Error(i(147,e));var u=s,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(y){var P=u.refs;y===null?delete P[f]:P[f]=y},t._stringRef=f,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function os(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jc(e){var t=e._init;return t(e._payload)}function ef(e){function t(U,O){if(e){var Y=U.deletions;Y===null?(U.deletions=[O],U.flags|=16):Y.push(O)}}function r(U,O){if(!e)return null;for(;O!==null;)t(U,O),O=O.sibling;return null}function s(U,O){for(U=new Map;O!==null;)O.key!==null?U.set(O.key,O):U.set(O.index,O),O=O.sibling;return U}function u(U,O){return U=Kn(U,O),U.index=0,U.sibling=null,U}function f(U,O,Y){return U.index=Y,e?(Y=U.alternate,Y!==null?(Y=Y.index,Y<O?(U.flags|=2,O):Y):(U.flags|=2,O)):(U.flags|=1048576,O)}function y(U){return e&&U.alternate===null&&(U.flags|=2),U}function P(U,O,Y,ae){return O===null||O.tag!==6?(O=Ua(Y,U.mode,ae),O.return=U,O):(O=u(O,Y),O.return=U,O)}function $(U,O,Y,ae){var ye=Y.type;return ye===G?se(U,O,Y.props.children,ae,Y.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&Jc(ye)===O.type)?(ae=u(O,Y.props),ae.ref=$o(U,O,Y),ae.return=U,ae):(ae=Ps(Y.type,Y.key,Y.props,null,U.mode,ae),ae.ref=$o(U,O,Y),ae.return=U,ae)}function Q(U,O,Y,ae){return O===null||O.tag!==4||O.stateNode.containerInfo!==Y.containerInfo||O.stateNode.implementation!==Y.implementation?(O=Wa(Y,U.mode,ae),O.return=U,O):(O=u(O,Y.children||[]),O.return=U,O)}function se(U,O,Y,ae,ye){return O===null||O.tag!==7?(O=vr(Y,U.mode,ae,ye),O.return=U,O):(O=u(O,Y),O.return=U,O)}function le(U,O,Y){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Ua(""+O,U.mode,Y),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case J:return Y=Ps(O.type,O.key,O.props,null,U.mode,Y),Y.ref=$o(U,null,O),Y.return=U,Y;case te:return O=Wa(O,U.mode,Y),O.return=U,O;case C:var ae=O._init;return le(U,ae(O._payload),Y)}if(xt(O)||_(O))return O=vr(O,U.mode,Y,null),O.return=U,O;os(U,O)}return null}function ie(U,O,Y,ae){var ye=O!==null?O.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return ye!==null?null:P(U,O,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case J:return Y.key===ye?$(U,O,Y,ae):null;case te:return Y.key===ye?Q(U,O,Y,ae):null;case C:return ye=Y._init,ie(U,O,ye(Y._payload),ae)}if(xt(Y)||_(Y))return ye!==null?null:se(U,O,Y,ae,null);os(U,Y)}return null}function de(U,O,Y,ae,ye){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return U=U.get(Y)||null,P(O,U,""+ae,ye);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case J:return U=U.get(ae.key===null?Y:ae.key)||null,$(O,U,ae,ye);case te:return U=U.get(ae.key===null?Y:ae.key)||null,Q(O,U,ae,ye);case C:var we=ae._init;return de(U,O,Y,we(ae._payload),ye)}if(xt(ae)||_(ae))return U=U.get(Y)||null,se(O,U,ae,ye,null);os(O,ae)}return null}function me(U,O,Y,ae){for(var ye=null,we=null,Se=O,Ee=O=0,Ze=null;Se!==null&&Ee<Y.length;Ee++){Se.index>Ee?(Ze=Se,Se=null):Ze=Se.sibling;var je=ie(U,Se,Y[Ee],ae);if(je===null){Se===null&&(Se=Ze);break}e&&Se&&je.alternate===null&&t(U,Se),O=f(je,O,Ee),we===null?ye=je:we.sibling=je,we=je,Se=Ze}if(Ee===Y.length)return r(U,Se),De&&cr(U,Ee),ye;if(Se===null){for(;Ee<Y.length;Ee++)Se=le(U,Y[Ee],ae),Se!==null&&(O=f(Se,O,Ee),we===null?ye=Se:we.sibling=Se,we=Se);return De&&cr(U,Ee),ye}for(Se=s(U,Se);Ee<Y.length;Ee++)Ze=de(Se,U,Ee,Y[Ee],ae),Ze!==null&&(e&&Ze.alternate!==null&&Se.delete(Ze.key===null?Ee:Ze.key),O=f(Ze,O,Ee),we===null?ye=Ze:we.sibling=Ze,we=Ze);return e&&Se.forEach(function(Qn){return t(U,Qn)}),De&&cr(U,Ee),ye}function ge(U,O,Y,ae){var ye=_(Y);if(typeof ye!="function")throw Error(i(150));if(Y=ye.call(Y),Y==null)throw Error(i(151));for(var we=ye=null,Se=O,Ee=O=0,Ze=null,je=Y.next();Se!==null&&!je.done;Ee++,je=Y.next()){Se.index>Ee?(Ze=Se,Se=null):Ze=Se.sibling;var Qn=ie(U,Se,je.value,ae);if(Qn===null){Se===null&&(Se=Ze);break}e&&Se&&Qn.alternate===null&&t(U,Se),O=f(Qn,O,Ee),we===null?ye=Qn:we.sibling=Qn,we=Qn,Se=Ze}if(je.done)return r(U,Se),De&&cr(U,Ee),ye;if(Se===null){for(;!je.done;Ee++,je=Y.next())je=le(U,je.value,ae),je!==null&&(O=f(je,O,Ee),we===null?ye=je:we.sibling=je,we=je);return De&&cr(U,Ee),ye}for(Se=s(U,Se);!je.done;Ee++,je=Y.next())je=de(Se,U,Ee,je.value,ae),je!==null&&(e&&je.alternate!==null&&Se.delete(je.key===null?Ee:je.key),O=f(je,O,Ee),we===null?ye=je:we.sibling=je,we=je);return e&&Se.forEach(function(Rg){return t(U,Rg)}),De&&cr(U,Ee),ye}function Ue(U,O,Y,ae){if(typeof Y=="object"&&Y!==null&&Y.type===G&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case J:e:{for(var ye=Y.key,we=O;we!==null;){if(we.key===ye){if(ye=Y.type,ye===G){if(we.tag===7){r(U,we.sibling),O=u(we,Y.props.children),O.return=U,U=O;break e}}else if(we.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&Jc(ye)===we.type){r(U,we.sibling),O=u(we,Y.props),O.ref=$o(U,we,Y),O.return=U,U=O;break e}r(U,we);break}else t(U,we);we=we.sibling}Y.type===G?(O=vr(Y.props.children,U.mode,ae,Y.key),O.return=U,U=O):(ae=Ps(Y.type,Y.key,Y.props,null,U.mode,ae),ae.ref=$o(U,O,Y),ae.return=U,U=ae)}return y(U);case te:e:{for(we=Y.key;O!==null;){if(O.key===we)if(O.tag===4&&O.stateNode.containerInfo===Y.containerInfo&&O.stateNode.implementation===Y.implementation){r(U,O.sibling),O=u(O,Y.children||[]),O.return=U,U=O;break e}else{r(U,O);break}else t(U,O);O=O.sibling}O=Wa(Y,U.mode,ae),O.return=U,U=O}return y(U);case C:return we=Y._init,Ue(U,O,we(Y._payload),ae)}if(xt(Y))return me(U,O,Y,ae);if(_(Y))return ge(U,O,Y,ae);os(U,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,O!==null&&O.tag===6?(r(U,O.sibling),O=u(O,Y),O.return=U,U=O):(r(U,O),O=Ua(Y,U.mode,ae),O.return=U,U=O),y(U)):r(U,O)}return Ue}var Br=ef(!0),tf=ef(!1),is=Hn(null),ss=null,qr=null,ta=null;function na(){ta=qr=ss=null}function ra(e){var t=is.current;ze(is),e._currentValue=t}function oa(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function br(e,t){ss=e,ta=qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pt=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(ta!==e)if(e={context:e,memoizedValue:t,next:null},qr===null){if(ss===null)throw Error(i(308));qr=e,ss.dependencies={lanes:0,firstContext:e}}else qr=qr.next=e;return t}var fr=null;function ia(e){fr===null?fr=[e]:fr.push(e)}function nf(e,t,r,s){var u=t.interleaved;return u===null?(r.next=r,ia(t)):(r.next=u.next,u.next=r),t.interleaved=r,_n(e,s)}function _n(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qn=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ke&2){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,_n(e,r)}return u=s.interleaved,u===null?(t.next=t,ia(s)):(t.next=u.next,u.next=t),s.interleaved=t,_n(e,r)}function ls(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,wl(e,r)}}function of(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?u=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?u=f=t:f=f.next=t}else u=f=t;r={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function as(e,t,r,s){var u=e.updateQueue;qn=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,P=u.shared.pending;if(P!==null){u.shared.pending=null;var $=P,Q=$.next;$.next=null,y===null?f=Q:y.next=Q,y=$;var se=e.alternate;se!==null&&(se=se.updateQueue,P=se.lastBaseUpdate,P!==y&&(P===null?se.firstBaseUpdate=Q:P.next=Q,se.lastBaseUpdate=$))}if(f!==null){var le=u.baseState;y=0,se=Q=$=null,P=f;do{var ie=P.lane,de=P.eventTime;if((s&ie)===ie){se!==null&&(se=se.next={eventTime:de,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var me=e,ge=P;switch(ie=t,de=r,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){le=me.call(de,le,ie);break e}le=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ie=typeof me=="function"?me.call(de,le,ie):me,ie==null)break e;le=M({},le,ie);break e;case 2:qn=!0}}P.callback!==null&&P.lane!==0&&(e.flags|=64,ie=u.effects,ie===null?u.effects=[P]:ie.push(P))}else de={eventTime:de,lane:ie,tag:P.tag,payload:P.payload,callback:P.callback,next:null},se===null?(Q=se=de,$=le):se=se.next=de,y|=ie;if(P=P.next,P===null){if(P=u.shared.pending,P===null)break;ie=P,P=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);if(se===null&&($=le),u.baseState=$,u.firstBaseUpdate=Q,u.lastBaseUpdate=se,t=u.shared.interleaved,t!==null){u=t;do y|=u.lane,u=u.next;while(u!==t)}else f===null&&(u.shared.lanes=0);pr|=y,e.lanes=y,e.memoizedState=le}}function sf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],u=s.callback;if(u!==null){if(s.callback=null,s=r,typeof u!="function")throw Error(i(191,u));u.call(s)}}}var Lo={},sn=Hn(Lo),Fo=Hn(Lo),Oo=Hn(Lo);function dr(e){if(e===Lo)throw Error(i(174));return e}function la(e,t){switch(Ie(Oo,t),Ie(Fo,e),Ie(sn,Lo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lt(t,e)}ze(sn),Ie(sn,t)}function Ur(){ze(sn),ze(Fo),ze(Oo)}function lf(e){dr(Oo.current);var t=dr(sn.current),r=Lt(t,e.type);t!==r&&(Ie(Fo,e),Ie(sn,r))}function aa(e){Fo.current===e&&(ze(sn),ze(Fo))}var Le=Hn(0);function us(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function ca(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var cs=V.ReactCurrentDispatcher,fa=V.ReactCurrentBatchConfig,hr=0,Fe=null,Xe=null,Ke=null,fs=!1,Ho=!1,Vo=0,tg=0;function ot(){throw Error(i(321))}function da(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vt(e[r],t[r]))return!1;return!0}function ha(e,t,r,s,u,f){if(hr=f,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cs.current=e===null||e.memoizedState===null?ig:sg,e=r(s,u),Ho){f=0;do{if(Ho=!1,Vo=0,25<=f)throw Error(i(301));f+=1,Ke=Xe=null,t.updateQueue=null,cs.current=lg,e=r(s,u)}while(Ho)}if(cs.current=ps,t=Xe!==null&&Xe.next!==null,hr=0,Ke=Xe=Fe=null,fs=!1,t)throw Error(i(300));return e}function pa(){var e=Vo!==0;return Vo=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Fe.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function zt(){if(Xe===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=Ke===null?Fe.memoizedState:Ke.next;if(t!==null)Ke=t,Xe=e;else{if(e===null)throw Error(i(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Ke===null?Fe.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Bo(e,t){return typeof t=="function"?t(e):t}function ma(e){var t=zt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=Xe,u=s.baseQueue,f=r.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}s.baseQueue=u=f,r.pending=null}if(u!==null){f=u.next,s=s.baseState;var P=y=null,$=null,Q=f;do{var se=Q.lane;if((hr&se)===se)$!==null&&($=$.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),s=Q.hasEagerState?Q.eagerState:e(s,Q.action);else{var le={lane:se,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};$===null?(P=$=le,y=s):$=$.next=le,Fe.lanes|=se,pr|=se}Q=Q.next}while(Q!==null&&Q!==f);$===null?y=s:$.next=P,Vt(s,t.memoizedState)||(pt=!0),t.memoizedState=s,t.baseState=y,t.baseQueue=$,r.lastRenderedState=s}if(e=r.interleaved,e!==null){u=e;do f=u.lane,Fe.lanes|=f,pr|=f,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ga(e){var t=zt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=r.dispatch,u=r.pending,f=t.memoizedState;if(u!==null){r.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);Vt(f,t.memoizedState)||(pt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,s]}function af(){}function uf(e,t){var r=Fe,s=zt(),u=t(),f=!Vt(s.memoizedState,u);if(f&&(s.memoizedState=u,pt=!0),s=s.queue,ya(df.bind(null,r,s,e),[e]),s.getSnapshot!==t||f||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,qo(9,ff.bind(null,r,s,u,t),void 0,null),Qe===null)throw Error(i(349));hr&30||cf(r,t,u)}return u}function cf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ff(e,t,r,s){t.value=r,t.getSnapshot=s,hf(t)&&pf(e)}function df(e,t,r){return r(function(){hf(t)&&pf(e)})}function hf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vt(e,r)}catch{return!0}}function pf(e){var t=_n(e,1);t!==null&&Wt(t,e,1,-1)}function mf(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:e},t.queue=e,e=e.dispatch=og.bind(null,Fe,e),[t.memoizedState,e]}function qo(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function gf(){return zt().memoizedState}function ds(e,t,r,s){var u=ln();Fe.flags|=e,u.memoizedState=qo(1|t,r,void 0,s===void 0?null:s)}function hs(e,t,r,s){var u=zt();s=s===void 0?null:s;var f=void 0;if(Xe!==null){var y=Xe.memoizedState;if(f=y.destroy,s!==null&&da(s,y.deps)){u.memoizedState=qo(t,r,f,s);return}}Fe.flags|=e,u.memoizedState=qo(1|t,r,f,s)}function yf(e,t){return ds(8390656,8,e,t)}function ya(e,t){return hs(2048,8,e,t)}function vf(e,t){return hs(4,2,e,t)}function xf(e,t){return hs(4,4,e,t)}function wf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sf(e,t,r){return r=r!=null?r.concat([e]):null,hs(4,4,wf.bind(null,t,e),r)}function va(){}function Ef(e,t){var r=zt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&da(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Nf(e,t){var r=zt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&da(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function _f(e,t,r){return hr&21?(Vt(r,t)||(r=Ju(),Fe.lanes|=r,pr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=r)}function ng(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var s=fa.transition;fa.transition={};try{e(!1),t()}finally{Te=r,fa.transition=s}}function kf(){return zt().memoizedState}function rg(e,t,r){var s=Xn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Cf(e))jf(t,r);else if(r=nf(e,t,r,s),r!==null){var u=ut();Wt(r,e,s,u),Pf(r,t,s)}}function og(e,t,r){var s=Xn(e),u={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cf(e))jf(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,P=f(y,r);if(u.hasEagerState=!0,u.eagerState=P,Vt(P,y)){var $=t.interleaved;$===null?(u.next=u,ia(t)):(u.next=$.next,$.next=u),t.interleaved=u;return}}catch{}finally{}r=nf(e,t,u,s),r!==null&&(u=ut(),Wt(r,e,s,u),Pf(r,t,s))}}function Cf(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function jf(e,t){Ho=fs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Pf(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,wl(e,r)}}var ps={readContext:Rt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},ig={readContext:Rt,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:yf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ds(4194308,4,wf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return ds(4,2,e,t)},useMemo:function(e,t){var r=ln();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=ln();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=rg.bind(null,Fe,e),[s.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:mf,useDebugValue:va,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=mf(!1),t=e[0];return e=ng.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Fe,u=ln();if(De){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),Qe===null)throw Error(i(349));hr&30||cf(s,t,r)}u.memoizedState=r;var f={value:r,getSnapshot:t};return u.queue=f,yf(df.bind(null,s,f,e),[e]),s.flags|=2048,qo(9,ff.bind(null,s,f,r,t),void 0,null),r},useId:function(){var e=ln(),t=Qe.identifierPrefix;if(De){var r=Nn,s=En;r=(s&~(1<<32-Ht(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=tg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sg={readContext:Rt,useCallback:Ef,useContext:Rt,useEffect:ya,useImperativeHandle:Sf,useInsertionEffect:vf,useLayoutEffect:xf,useMemo:Nf,useReducer:ma,useRef:gf,useState:function(){return ma(Bo)},useDebugValue:va,useDeferredValue:function(e){var t=zt();return _f(t,Xe.memoizedState,e)},useTransition:function(){var e=ma(Bo)[0],t=zt().memoizedState;return[e,t]},useMutableSource:af,useSyncExternalStore:uf,useId:kf,unstable_isNewReconciler:!1},lg={readContext:Rt,useCallback:Ef,useContext:Rt,useEffect:ya,useImperativeHandle:Sf,useInsertionEffect:vf,useLayoutEffect:xf,useMemo:Nf,useReducer:ga,useRef:gf,useState:function(){return ga(Bo)},useDebugValue:va,useDeferredValue:function(e){var t=zt();return Xe===null?t.memoizedState=e:_f(t,Xe.memoizedState,e)},useTransition:function(){var e=ga(Bo)[0],t=zt().memoizedState;return[e,t]},useMutableSource:af,useSyncExternalStore:uf,useId:kf,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=M({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function xa(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:M({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ms={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=ut(),u=Xn(e),f=kn(s,u);f.payload=t,r!=null&&(f.callback=r),t=bn(e,f,u),t!==null&&(Wt(t,e,u,s),ls(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=ut(),u=Xn(e),f=kn(s,u);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=bn(e,f,u),t!==null&&(Wt(t,e,u,s),ls(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ut(),s=Xn(e),u=kn(r,s);u.tag=2,t!=null&&(u.callback=t),t=bn(e,u,s),t!==null&&(Wt(t,e,s,r),ls(t,e,s))}};function Tf(e,t,r,s,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,y):t.prototype&&t.prototype.isPureReactComponent?!To(r,s)||!To(u,f):!0}function If(e,t,r){var s=!1,u=Vn,f=t.contextType;return typeof f=="object"&&f!==null?f=Rt(f):(u=ht(t)?ar:rt.current,s=t.contextTypes,f=(s=s!=null)?Fr(e,u):Vn),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ms,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),t}function Mf(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&ms.enqueueReplaceState(t,t.state,null)}function wa(e,t,r,s){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},sa(e);var f=t.contextType;typeof f=="object"&&f!==null?u.context=Rt(f):(f=ht(t)?ar:rt.current,u.context=Fr(e,f)),u.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(xa(e,t,f,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&ms.enqueueReplaceState(u,u.state,null),as(e,r,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Wr(e,t){try{var r="",s=t;do r+=oe(s),s=s.return;while(s);var u=r}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:u,digest:null}}function Sa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ea(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ag=typeof WeakMap=="function"?WeakMap:Map;function Rf(e,t,r){r=kn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Es||(Es=!0,La=s),Ea(e,t)},r}function zf(e,t,r){r=kn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=t.value;r.payload=function(){return s(u)},r.callback=function(){Ea(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){Ea(e,t),typeof s!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),r}function Af(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new ag;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(r)||(u.add(r),e=Eg.bind(null,e,t,r),t.then(e,e))}function Df(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $f(e,t,r,s,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kn(-1,1),t.tag=2,bn(r,t,1))),r.lanes|=1),e)}var ug=V.ReactCurrentOwner,pt=!1;function at(e,t,r,s){t.child=e===null?tf(t,null,r,s):Br(t,e.child,r,s)}function Lf(e,t,r,s,u){r=r.render;var f=t.ref;return br(t,u),s=ha(e,t,r,s,f,u),r=pa(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Cn(e,t,u)):(De&&r&&Kl(t),t.flags|=1,at(e,t,s,u),t.child)}function Ff(e,t,r,s,u){if(e===null){var f=r.type;return typeof f=="function"&&!ba(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,Of(e,t,f,s,u)):(e=Ps(r.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&u)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:To,r(y,s)&&e.ref===t.ref)return Cn(e,t,u)}return t.flags|=1,e=Kn(f,s),e.ref=t.ref,e.return=t,t.child=e}function Of(e,t,r,s,u){if(e!==null){var f=e.memoizedProps;if(To(f,s)&&e.ref===t.ref)if(pt=!1,t.pendingProps=s=f,(e.lanes&u)!==0)e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,Cn(e,t,u)}return Na(e,t,r,s,u)}function Hf(e,t,r){var s=t.pendingProps,u=s.children,f=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Xr,kt),kt|=r;else{if(!(r&1073741824))return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ie(Xr,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=f!==null?f.baseLanes:r,Ie(Xr,kt),kt|=s}else f!==null?(s=f.baseLanes|r,t.memoizedState=null):s=r,Ie(Xr,kt),kt|=s;return at(e,t,u,r),t.child}function Vf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Na(e,t,r,s,u){var f=ht(r)?ar:rt.current;return f=Fr(t,f),br(t,u),r=ha(e,t,r,s,f,u),s=pa(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Cn(e,t,u)):(De&&s&&Kl(t),t.flags|=1,at(e,t,r,u),t.child)}function Bf(e,t,r,s,u){if(ht(r)){var f=!0;Ji(t)}else f=!1;if(br(t,u),t.stateNode===null)ys(e,t),If(t,r,s),wa(t,r,s,u),s=!0;else if(e===null){var y=t.stateNode,P=t.memoizedProps;y.props=P;var $=y.context,Q=r.contextType;typeof Q=="object"&&Q!==null?Q=Rt(Q):(Q=ht(r)?ar:rt.current,Q=Fr(t,Q));var se=r.getDerivedStateFromProps,le=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function";le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P!==s||$!==Q)&&Mf(t,y,s,Q),qn=!1;var ie=t.memoizedState;y.state=ie,as(t,s,y,u),$=t.memoizedState,P!==s||ie!==$||dt.current||qn?(typeof se=="function"&&(xa(t,r,se,s),$=t.memoizedState),(P=qn||Tf(t,r,P,s,ie,$,Q))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=$),y.props=s,y.state=$,y.context=Q,s=P):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{y=t.stateNode,rf(e,t),P=t.memoizedProps,Q=t.type===t.elementType?P:qt(t.type,P),y.props=Q,le=t.pendingProps,ie=y.context,$=r.contextType,typeof $=="object"&&$!==null?$=Rt($):($=ht(r)?ar:rt.current,$=Fr(t,$));var de=r.getDerivedStateFromProps;(se=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P!==le||ie!==$)&&Mf(t,y,s,$),qn=!1,ie=t.memoizedState,y.state=ie,as(t,s,y,u);var me=t.memoizedState;P!==le||ie!==me||dt.current||qn?(typeof de=="function"&&(xa(t,r,de,s),me=t.memoizedState),(Q=qn||Tf(t,r,Q,s,ie,me,$)||!1)?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,me,$),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,me,$)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||P===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=me),y.props=s,y.state=me,y.context=$,s=Q):(typeof y.componentDidUpdate!="function"||P===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),s=!1)}return _a(e,t,r,s,f,u)}function _a(e,t,r,s,u,f){Vf(e,t);var y=(t.flags&128)!==0;if(!s&&!y)return u&&Wc(t,r,!1),Cn(e,t,f);s=t.stateNode,ug.current=t;var P=y&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&y?(t.child=Br(t,e.child,null,f),t.child=Br(t,null,P,f)):at(e,t,P,f),t.memoizedState=s.state,u&&Wc(t,r,!0),t.child}function qf(e){var t=e.stateNode;t.pendingContext?bc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bc(e,t.context,!1),la(e,t.containerInfo)}function bf(e,t,r,s,u){return Vr(),ea(u),t.flags|=256,at(e,t,r,s),t.child}var ka={dehydrated:null,treeContext:null,retryLane:0};function Ca(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uf(e,t,r){var s=t.pendingProps,u=Le.current,f=!1,y=(t.flags&128)!==0,P;if((P=y)||(P=e!==null&&e.memoizedState===null?!1:(u&2)!==0),P?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ie(Le,u&1),e===null)return Jl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(y=s.children,e=s.fallback,f?(s=t.mode,f=t.child,y={mode:"hidden",children:y},!(s&1)&&f!==null?(f.childLanes=0,f.pendingProps=y):f=Ts(y,s,0,null),e=vr(e,s,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Ca(r),t.memoizedState=ka,e):ja(t,y));if(u=e.memoizedState,u!==null&&(P=u.dehydrated,P!==null))return cg(e,t,y,s,P,u,r);if(f){f=s.fallback,y=t.mode,u=e.child,P=u.sibling;var $={mode:"hidden",children:s.children};return!(y&1)&&t.child!==u?(s=t.child,s.childLanes=0,s.pendingProps=$,t.deletions=null):(s=Kn(u,$),s.subtreeFlags=u.subtreeFlags&14680064),P!==null?f=Kn(P,f):(f=vr(f,y,r,null),f.flags|=2),f.return=t,s.return=t,s.sibling=f,t.child=s,s=f,f=t.child,y=e.child.memoizedState,y=y===null?Ca(r):{baseLanes:y.baseLanes|r,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~r,t.memoizedState=ka,s}return f=e.child,e=f.sibling,s=Kn(f,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function ja(e,t){return t=Ts({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gs(e,t,r,s){return s!==null&&ea(s),Br(t,e.child,null,r),e=ja(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cg(e,t,r,s,u,f,y){if(r)return t.flags&256?(t.flags&=-257,s=Sa(Error(i(422))),gs(e,t,y,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=s.fallback,u=t.mode,s=Ts({mode:"visible",children:s.children},u,0,null),f=vr(f,u,y,null),f.flags|=2,s.return=t,f.return=t,s.sibling=f,t.child=s,t.mode&1&&Br(t,e.child,null,y),t.child.memoizedState=Ca(y),t.memoizedState=ka,f);if(!(t.mode&1))return gs(e,t,y,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var P=s.dgst;return s=P,f=Error(i(419)),s=Sa(f,s,void 0),gs(e,t,y,s)}if(P=(y&e.childLanes)!==0,pt||P){if(s=Qe,s!==null){switch(y&-y){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(s.suspendedLanes|y)?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,_n(e,u),Wt(s,e,u,-1))}return qa(),s=Sa(Error(i(421))),gs(e,t,y,s)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Ng.bind(null,e),u._reactRetry=t,null):(e=f.treeContext,_t=On(u.nextSibling),Nt=t,De=!0,Bt=null,e!==null&&(It[Mt++]=En,It[Mt++]=Nn,It[Mt++]=ur,En=e.id,Nn=e.overflow,ur=t),t=ja(t,s.children),t.flags|=4096,t)}function Wf(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),oa(e.return,t,r)}function Pa(e,t,r,s,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=r,f.tailMode=u)}function Yf(e,t,r){var s=t.pendingProps,u=s.revealOrder,f=s.tail;if(at(e,t,s.children,r),s=Le.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wf(e,r,t);else if(e.tag===19)Wf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ie(Le,s),!(t.mode&1))t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&us(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),Pa(t,!1,u,r,f);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&us(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}Pa(t,!0,r,null,f);break;case"together":Pa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ys(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=Kn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function fg(e,t,r){switch(t.tag){case 3:qf(t),Vr();break;case 5:lf(t);break;case 1:ht(t.type)&&Ji(t);break;case 4:la(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,u=t.memoizedProps.value;Ie(is,s._currentValue),s._currentValue=u;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ie(Le,Le.current&1),t.flags|=128,null):r&t.child.childLanes?Uf(e,t,r):(Ie(Le,Le.current&1),e=Cn(e,t,r),e!==null?e.sibling:null);Ie(Le,Le.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Yf(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ie(Le,Le.current),s)break;return null;case 22:case 23:return t.lanes=0,Hf(e,t,r)}return Cn(e,t,r)}var Xf,Ta,Gf,Kf;Xf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ta=function(){},Gf=function(e,t,r,s){var u=e.memoizedProps;if(u!==s){e=t.stateNode,dr(sn.current);var f=null;switch(r){case"input":u=Ve(e,u),s=Ve(e,s),f=[];break;case"select":u=M({},u,{value:void 0}),s=M({},s,{value:void 0}),f=[];break;case"textarea":u=Zt(e,u),s=Zt(e,s),f=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ki)}St(r,s);var y;r=null;for(Q in u)if(!s.hasOwnProperty(Q)&&u.hasOwnProperty(Q)&&u[Q]!=null)if(Q==="style"){var P=u[Q];for(y in P)P.hasOwnProperty(y)&&(r||(r={}),r[y]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(a.hasOwnProperty(Q)?f||(f=[]):(f=f||[]).push(Q,null));for(Q in s){var $=s[Q];if(P=u!=null?u[Q]:void 0,s.hasOwnProperty(Q)&&$!==P&&($!=null||P!=null))if(Q==="style")if(P){for(y in P)!P.hasOwnProperty(y)||$&&$.hasOwnProperty(y)||(r||(r={}),r[y]="");for(y in $)$.hasOwnProperty(y)&&P[y]!==$[y]&&(r||(r={}),r[y]=$[y])}else r||(f||(f=[]),f.push(Q,r)),r=$;else Q==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,P=P?P.__html:void 0,$!=null&&P!==$&&(f=f||[]).push(Q,$)):Q==="children"?typeof $!="string"&&typeof $!="number"||(f=f||[]).push(Q,""+$):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(a.hasOwnProperty(Q)?($!=null&&Q==="onScroll"&&Re("scroll",e),f||P===$||(f=[])):(f=f||[]).push(Q,$))}r&&(f=f||[]).push("style",r);var Q=f;(t.updateQueue=Q)&&(t.flags|=4)}},Kf=function(e,t,r,s){r!==s&&(t.flags|=4)};function bo(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function dg(e,t,r){var s=t.pendingProps;switch(Ql(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return ht(t.type)&&Zi(),it(t),null;case 3:return s=t.stateNode,Ur(),ze(dt),ze(rt),ca(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(Ha(Bt),Bt=null))),Ta(e,t),it(t),null;case 5:aa(t);var u=dr(Oo.current);if(r=t.type,e!==null&&t.stateNode!=null)Gf(e,t,r,s,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return it(t),null}if(e=dr(sn.current),rs(t)){s=t.stateNode,r=t.type;var f=t.memoizedProps;switch(s[on]=t,s[Ao]=f,e=(t.mode&1)!==0,r){case"dialog":Re("cancel",s),Re("close",s);break;case"iframe":case"object":case"embed":Re("load",s);break;case"video":case"audio":for(u=0;u<Mo.length;u++)Re(Mo[u],s);break;case"source":Re("error",s);break;case"img":case"image":case"link":Re("error",s),Re("load",s);break;case"details":Re("toggle",s);break;case"input":Pe(s,f),Re("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!f.multiple},Re("invalid",s);break;case"textarea":dn(s,f),Re("invalid",s)}St(r,f),u=null;for(var y in f)if(f.hasOwnProperty(y)){var P=f[y];y==="children"?typeof P=="string"?s.textContent!==P&&(f.suppressHydrationWarning!==!0&&Gi(s.textContent,P,e),u=["children",P]):typeof P=="number"&&s.textContent!==""+P&&(f.suppressHydrationWarning!==!0&&Gi(s.textContent,P,e),u=["children",""+P]):a.hasOwnProperty(y)&&P!=null&&y==="onScroll"&&Re("scroll",s)}switch(r){case"input":Me(s),xe(s,f,!0);break;case"textarea":Me(s),hn(s);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(s.onclick=Ki)}s=u,t.updateQueue=s,s!==null&&(t.flags|=4)}else{y=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jt(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=y.createElement(r,{is:s.is}):(e=y.createElement(r),r==="select"&&(y=e,s.multiple?y.multiple=!0:s.size&&(y.size=s.size))):e=y.createElementNS(e,r),e[on]=t,e[Ao]=s,Xf(e,t,!1,!1),t.stateNode=e;e:{switch(y=ft(r,s),r){case"dialog":Re("cancel",e),Re("close",e),u=s;break;case"iframe":case"object":case"embed":Re("load",e),u=s;break;case"video":case"audio":for(u=0;u<Mo.length;u++)Re(Mo[u],e);u=s;break;case"source":Re("error",e),u=s;break;case"img":case"image":case"link":Re("error",e),Re("load",e),u=s;break;case"details":Re("toggle",e),u=s;break;case"input":Pe(e,s),u=Ve(e,s),Re("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=M({},s,{value:void 0}),Re("invalid",e);break;case"textarea":dn(e,s),u=Zt(e,s),Re("invalid",e);break;default:u=s}St(r,u),P=u;for(f in P)if(P.hasOwnProperty(f)){var $=P[f];f==="style"?tn(e,$):f==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&pn(e,$)):f==="children"?typeof $=="string"?(r!=="textarea"||$!=="")&&Ot(e,$):typeof $=="number"&&Ot(e,""+$):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?$!=null&&f==="onScroll"&&Re("scroll",e):$!=null&&K(e,f,$,y))}switch(r){case"input":Me(e),xe(e,s,!1);break;case"textarea":Me(e),hn(e);break;case"option":s.value!=null&&e.setAttribute("value",""+fe(s.value));break;case"select":e.multiple=!!s.multiple,f=s.value,f!=null?jt(e,!!s.multiple,f,!1):s.defaultValue!=null&&jt(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Ki)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)Kf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(r=dr(Oo.current),dr(sn.current),rs(t)){if(s=t.stateNode,r=t.memoizedProps,s[on]=t,(f=s.nodeValue!==r)&&(e=Nt,e!==null))switch(e.tag){case 3:Gi(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gi(s.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[on]=t,t.stateNode=s}return it(t),null;case 13:if(ze(Le),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&_t!==null&&t.mode&1&&!(t.flags&128))Zc(),Vr(),t.flags|=98560,f=!1;else if(f=rs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[on]=t}else Vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),f=!1}else Bt!==null&&(Ha(Bt),Bt=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Ge===0&&(Ge=3):qa())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Ur(),Ta(e,t),e===null&&Ro(t.stateNode.containerInfo),it(t),null;case 10:return ra(t.type._context),it(t),null;case 17:return ht(t.type)&&Zi(),it(t),null;case 19:if(ze(Le),f=t.memoizedState,f===null)return it(t),null;if(s=(t.flags&128)!==0,y=f.rendering,y===null)if(s)bo(f,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(y=us(e),y!==null){for(t.flags|=128,bo(f,!1),s=y.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)f=r,e=s,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ie(Le,Le.current&1|2),t.child}e=e.sibling}f.tail!==null&&$e()>Gr&&(t.flags|=128,s=!0,bo(f,!1),t.lanes=4194304)}else{if(!s)if(e=us(y),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!De)return it(t),null}else 2*$e()-f.renderingStartTime>Gr&&r!==1073741824&&(t.flags|=128,s=!0,bo(f,!1),t.lanes=4194304);f.isBackwards?(y.sibling=t.child,t.child=y):(r=f.last,r!==null?r.sibling=y:t.child=y,f.last=y)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=$e(),t.sibling=null,r=Le.current,Ie(Le,s?r&1|2:r&1),t):(it(t),null);case 22:case 23:return Ba(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?kt&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function hg(e,t){switch(Ql(t),t.tag){case 1:return ht(t.type)&&Zi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ur(),ze(dt),ze(rt),ca(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return aa(t),null;case 13:if(ze(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Le),null;case 4:return Ur(),null;case 10:return ra(t.type._context),null;case 22:case 23:return Ba(),null;case 24:return null;default:return null}}var vs=!1,st=!1,pg=typeof WeakSet=="function"?WeakSet:Set,he=null;function Yr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){qe(e,t,s)}else r.current=null}function Ia(e,t,r){try{r()}catch(s){qe(e,t,s)}}var Qf=!1;function mg(e,t){if(Bl=Fi,e=Pc(),Al(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var u=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,P=-1,$=-1,Q=0,se=0,le=e,ie=null;t:for(;;){for(var de;le!==r||u!==0&&le.nodeType!==3||(P=y+u),le!==f||s!==0&&le.nodeType!==3||($=y+s),le.nodeType===3&&(y+=le.nodeValue.length),(de=le.firstChild)!==null;)ie=le,le=de;for(;;){if(le===e)break t;if(ie===r&&++Q===u&&(P=y),ie===f&&++se===s&&($=y),(de=le.nextSibling)!==null)break;le=ie,ie=le.parentNode}le=de}r=P===-1||$===-1?null:{start:P,end:$}}else r=null}r=r||{start:0,end:0}}else r=null;for(ql={focusedElem:e,selectionRange:r},Fi=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var me=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,Ue=me.memoizedState,U=t.stateNode,O=U.getSnapshotBeforeUpdate(t.elementType===t.type?ge:qt(t.type,ge),Ue);U.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var Y=t.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ae){qe(t,t.return,ae)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return me=Qf,Qf=!1,me}function Uo(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&Ia(t,r,f)}u=u.next}while(u!==s)}}function xs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Ma(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Zf(e){var t=e.alternate;t!==null&&(e.alternate=null,Zf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[on],delete t[Ao],delete t[Yl],delete t[Qm],delete t[Zm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jf(e){return e.tag===5||e.tag===3||e.tag===4}function ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ra(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ki));else if(s!==4&&(e=e.child,e!==null))for(Ra(e,t,r),e=e.sibling;e!==null;)Ra(e,t,r),e=e.sibling}function za(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(za(e,t,r),e=e.sibling;e!==null;)za(e,t,r),e=e.sibling}var tt=null,bt=!1;function Un(e,t,r){for(r=r.child;r!==null;)td(e,t,r),r=r.sibling}function td(e,t,r){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Pr,r)}catch{}switch(r.tag){case 5:st||Yr(r,t);case 6:var s=tt,u=bt;tt=null,Un(e,t,r),tt=s,bt=u,tt!==null&&(bt?(e=tt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tt.removeChild(r.stateNode));break;case 18:tt!==null&&(bt?(e=tt,r=r.stateNode,e.nodeType===8?Wl(e.parentNode,r):e.nodeType===1&&Wl(e,r),No(e)):Wl(tt,r.stateNode));break;case 4:s=tt,u=bt,tt=r.stateNode.containerInfo,bt=!0,Un(e,t,r),tt=s,bt=u;break;case 0:case 11:case 14:case 15:if(!st&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var f=u,y=f.destroy;f=f.tag,y!==void 0&&(f&2||f&4)&&Ia(r,t,y),u=u.next}while(u!==s)}Un(e,t,r);break;case 1:if(!st&&(Yr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(P){qe(r,t,P)}Un(e,t,r);break;case 21:Un(e,t,r);break;case 22:r.mode&1?(st=(s=st)||r.memoizedState!==null,Un(e,t,r),st=s):Un(e,t,r);break;default:Un(e,t,r)}}function nd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pg),t.forEach(function(s){var u=_g.bind(null,e,s);r.has(s)||(r.add(s),s.then(u,u))})}}function Ut(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];try{var f=e,y=t,P=y;e:for(;P!==null;){switch(P.tag){case 5:tt=P.stateNode,bt=!1;break e;case 3:tt=P.stateNode.containerInfo,bt=!0;break e;case 4:tt=P.stateNode.containerInfo,bt=!0;break e}P=P.return}if(tt===null)throw Error(i(160));td(f,y,u),tt=null,bt=!1;var $=u.alternate;$!==null&&($.return=null),u.return=null}catch(Q){qe(u,t,Q)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rd(t,e),t=t.sibling}function rd(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),an(e),s&4){try{Uo(3,e,e.return),xs(3,e)}catch(ge){qe(e,e.return,ge)}try{Uo(5,e,e.return)}catch(ge){qe(e,e.return,ge)}}break;case 1:Ut(t,e),an(e),s&512&&r!==null&&Yr(r,r.return);break;case 5:if(Ut(t,e),an(e),s&512&&r!==null&&Yr(r,r.return),e.flags&32){var u=e.stateNode;try{Ot(u,"")}catch(ge){qe(e,e.return,ge)}}if(s&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,y=r!==null?r.memoizedProps:f,P=e.type,$=e.updateQueue;if(e.updateQueue=null,$!==null)try{P==="input"&&f.type==="radio"&&f.name!=null&&Ye(u,f),ft(P,y);var Q=ft(P,f);for(y=0;y<$.length;y+=2){var se=$[y],le=$[y+1];se==="style"?tn(u,le):se==="dangerouslySetInnerHTML"?pn(u,le):se==="children"?Ot(u,le):K(u,se,le,Q)}switch(P){case"input":Ce(u,f);break;case"textarea":Pt(u,f);break;case"select":var ie=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var de=f.value;de!=null?jt(u,!!f.multiple,de,!1):ie!==!!f.multiple&&(f.defaultValue!=null?jt(u,!!f.multiple,f.defaultValue,!0):jt(u,!!f.multiple,f.multiple?[]:"",!1))}u[Ao]=f}catch(ge){qe(e,e.return,ge)}}break;case 6:if(Ut(t,e),an(e),s&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(ge){qe(e,e.return,ge)}}break;case 3:if(Ut(t,e),an(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{No(t.containerInfo)}catch(ge){qe(e,e.return,ge)}break;case 4:Ut(t,e),an(e);break;case 13:Ut(t,e),an(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||($a=$e())),s&4&&nd(e);break;case 22:if(se=r!==null&&r.memoizedState!==null,e.mode&1?(st=(Q=st)||se,Ut(t,e),st=Q):Ut(t,e),an(e),s&8192){if(Q=e.memoizedState!==null,(e.stateNode.isHidden=Q)&&!se&&e.mode&1)for(he=e,se=e.child;se!==null;){for(le=he=se;he!==null;){switch(ie=he,de=ie.child,ie.tag){case 0:case 11:case 14:case 15:Uo(4,ie,ie.return);break;case 1:Yr(ie,ie.return);var me=ie.stateNode;if(typeof me.componentWillUnmount=="function"){s=ie,r=ie.return;try{t=s,me.props=t.memoizedProps,me.state=t.memoizedState,me.componentWillUnmount()}catch(ge){qe(s,r,ge)}}break;case 5:Yr(ie,ie.return);break;case 22:if(ie.memoizedState!==null){sd(le);continue}}de!==null?(de.return=ie,he=de):sd(le)}se=se.sibling}e:for(se=null,le=e;;){if(le.tag===5){if(se===null){se=le;try{u=le.stateNode,Q?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(P=le.stateNode,$=le.memoizedProps.style,y=$!=null&&$.hasOwnProperty("display")?$.display:null,P.style.display=en("display",y))}catch(ge){qe(e,e.return,ge)}}}else if(le.tag===6){if(se===null)try{le.stateNode.nodeValue=Q?"":le.memoizedProps}catch(ge){qe(e,e.return,ge)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===e)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===e)break e;for(;le.sibling===null;){if(le.return===null||le.return===e)break e;se===le&&(se=null),le=le.return}se===le&&(se=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Ut(t,e),an(e),s&4&&nd(e);break;case 21:break;default:Ut(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Jf(r)){var s=r;break e}r=r.return}throw Error(i(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(Ot(u,""),s.flags&=-33);var f=ed(e);za(e,f,u);break;case 3:case 4:var y=s.stateNode.containerInfo,P=ed(e);Ra(e,P,y);break;default:throw Error(i(161))}}catch($){qe(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gg(e,t,r){he=e,od(e)}function od(e,t,r){for(var s=(e.mode&1)!==0;he!==null;){var u=he,f=u.child;if(u.tag===22&&s){var y=u.memoizedState!==null||vs;if(!y){var P=u.alternate,$=P!==null&&P.memoizedState!==null||st;P=vs;var Q=st;if(vs=y,(st=$)&&!Q)for(he=u;he!==null;)y=he,$=y.child,y.tag===22&&y.memoizedState!==null?ld(u):$!==null?($.return=y,he=$):ld(u);for(;f!==null;)he=f,od(f),f=f.sibling;he=u,vs=P,st=Q}id(e)}else u.subtreeFlags&8772&&f!==null?(f.return=u,he=f):id(e)}}function id(e){for(;he!==null;){var t=he;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:st||xs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!st)if(r===null)s.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:qt(t.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&sf(t,f,s);break;case 3:var y=t.updateQueue;if(y!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sf(t,y,r)}break;case 5:var P=t.stateNode;if(r===null&&t.flags&4){r=P;var $=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&r.focus();break;case"img":$.src&&(r.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var Q=t.alternate;if(Q!==null){var se=Q.memoizedState;if(se!==null){var le=se.dehydrated;le!==null&&No(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}st||t.flags&512&&Ma(t)}catch(ie){qe(t,t.return,ie)}}if(t===e){he=null;break}if(r=t.sibling,r!==null){r.return=t.return,he=r;break}he=t.return}}function sd(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var r=t.sibling;if(r!==null){r.return=t.return,he=r;break}he=t.return}}function ld(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xs(4,t)}catch($){qe(t,r,$)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var u=t.return;try{s.componentDidMount()}catch($){qe(t,u,$)}}var f=t.return;try{Ma(t)}catch($){qe(t,f,$)}break;case 5:var y=t.return;try{Ma(t)}catch($){qe(t,y,$)}}}catch($){qe(t,t.return,$)}if(t===e){he=null;break}var P=t.sibling;if(P!==null){P.return=t.return,he=P;break}he=t.return}}var yg=Math.ceil,ws=V.ReactCurrentDispatcher,Aa=V.ReactCurrentOwner,At=V.ReactCurrentBatchConfig,ke=0,Qe=null,We=null,nt=0,kt=0,Xr=Hn(0),Ge=0,Wo=null,pr=0,Ss=0,Da=0,Yo=null,mt=null,$a=0,Gr=1/0,jn=null,Es=!1,La=null,Wn=null,Ns=!1,Yn=null,_s=0,Xo=0,Fa=null,ks=-1,Cs=0;function ut(){return ke&6?$e():ks!==-1?ks:ks=$e()}function Xn(e){return e.mode&1?ke&2&&nt!==0?nt&-nt:eg.transition!==null?(Cs===0&&(Cs=Ju()),Cs):(e=Te,e!==0||(e=window.event,e=e===void 0?16:ac(e.type)),e):1}function Wt(e,t,r,s){if(50<Xo)throw Xo=0,Fa=null,Error(i(185));vo(e,r,s),(!(ke&2)||e!==Qe)&&(e===Qe&&(!(ke&2)&&(Ss|=r),Ge===4&&Gn(e,nt)),gt(e,s),r===1&&ke===0&&!(t.mode&1)&&(Gr=$e()+500,es&&Bn()))}function gt(e,t){var r=e.callbackNode;em(e,t);var s=Di(e,e===Qe?nt:0);if(s===0)r!==null&&Pi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Pi(r),t===1)e.tag===0?Jm(ud.bind(null,e)):Yc(ud.bind(null,e)),Gm(function(){!(ke&6)&&Bn()}),r=null;else{switch(ec(s)){case 1:r=mo;break;case 4:r=Ii;break;case 16:r=jr;break;case 536870912:r=Ri;break;default:r=jr}r=yd(r,ad.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ad(e,t){if(ks=-1,Cs=0,ke&6)throw Error(i(327));var r=e.callbackNode;if(Kr()&&e.callbackNode!==r)return null;var s=Di(e,e===Qe?nt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=js(e,s);else{t=s;var u=ke;ke|=2;var f=fd();(Qe!==e||nt!==t)&&(jn=null,Gr=$e()+500,gr(e,t));do try{wg();break}catch(P){cd(e,P)}while(!0);na(),ws.current=f,ke=u,We!==null?t=0:(Qe=null,nt=0,t=Ge)}if(t!==0){if(t===2&&(u=vl(e),u!==0&&(s=u,t=Oa(e,u))),t===1)throw r=Wo,gr(e,0),Gn(e,s),gt(e,$e()),r;if(t===6)Gn(e,s);else{if(u=e.current.alternate,!(s&30)&&!vg(u)&&(t=js(e,s),t===2&&(f=vl(e),f!==0&&(s=f,t=Oa(e,f))),t===1))throw r=Wo,gr(e,0),Gn(e,s),gt(e,$e()),r;switch(e.finishedWork=u,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:yr(e,mt,jn);break;case 3:if(Gn(e,s),(s&130023424)===s&&(t=$a+500-$e(),10<t)){if(Di(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){ut(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Ul(yr.bind(null,e,mt,jn),t);break}yr(e,mt,jn);break;case 4:if(Gn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,u=-1;0<s;){var y=31-Ht(s);f=1<<y,y=t[y],y>u&&(u=y),s&=~f}if(s=u,s=$e()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*yg(s/1960))-s,10<s){e.timeoutHandle=Ul(yr.bind(null,e,mt,jn),s);break}yr(e,mt,jn);break;case 5:yr(e,mt,jn);break;default:throw Error(i(329))}}}return gt(e,$e()),e.callbackNode===r?ad.bind(null,e):null}function Oa(e,t){var r=Yo;return e.current.memoizedState.isDehydrated&&(gr(e,t).flags|=256),e=js(e,t),e!==2&&(t=mt,mt=r,t!==null&&Ha(t)),e}function Ha(e){mt===null?mt=e:mt.push.apply(mt,e)}function vg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var u=r[s],f=u.getSnapshot;u=u.value;try{if(!Vt(f(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t){for(t&=~Da,t&=~Ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ht(t),s=1<<r;e[r]=-1,t&=~s}}function ud(e){if(ke&6)throw Error(i(327));Kr();var t=Di(e,0);if(!(t&1))return gt(e,$e()),null;var r=js(e,t);if(e.tag!==0&&r===2){var s=vl(e);s!==0&&(t=s,r=Oa(e,s))}if(r===1)throw r=Wo,gr(e,0),Gn(e,t),gt(e,$e()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,mt,jn),gt(e,$e()),null}function Va(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&(Gr=$e()+500,es&&Bn())}}function mr(e){Yn!==null&&Yn.tag===0&&!(ke&6)&&Kr();var t=ke;ke|=1;var r=At.transition,s=Te;try{if(At.transition=null,Te=1,e)return e()}finally{Te=s,At.transition=r,ke=t,!(ke&6)&&Bn()}}function Ba(){kt=Xr.current,ze(Xr)}function gr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Xm(r)),We!==null)for(r=We.return;r!==null;){var s=r;switch(Ql(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Zi();break;case 3:Ur(),ze(dt),ze(rt),ca();break;case 5:aa(s);break;case 4:Ur();break;case 13:ze(Le);break;case 19:ze(Le);break;case 10:ra(s.type._context);break;case 22:case 23:Ba()}r=r.return}if(Qe=e,We=e=Kn(e.current,null),nt=kt=t,Ge=0,Wo=null,Da=Ss=pr=0,mt=Yo=null,fr!==null){for(t=0;t<fr.length;t++)if(r=fr[t],s=r.interleaved,s!==null){r.interleaved=null;var u=s.next,f=r.pending;if(f!==null){var y=f.next;f.next=u,s.next=y}r.pending=s}fr=null}return e}function cd(e,t){do{var r=We;try{if(na(),cs.current=ps,fs){for(var s=Fe.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}fs=!1}if(hr=0,Ke=Xe=Fe=null,Ho=!1,Vo=0,Aa.current=null,r===null||r.return===null){Ge=1,Wo=t,We=null;break}e:{var f=e,y=r.return,P=r,$=t;if(t=nt,P.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Q=$,se=P,le=se.tag;if(!(se.mode&1)&&(le===0||le===11||le===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var de=Df(y);if(de!==null){de.flags&=-257,$f(de,y,P,f,t),de.mode&1&&Af(f,Q,t),t=de,$=Q;var me=t.updateQueue;if(me===null){var ge=new Set;ge.add($),t.updateQueue=ge}else me.add($);break e}else{if(!(t&1)){Af(f,Q,t),qa();break e}$=Error(i(426))}}else if(De&&P.mode&1){var Ue=Df(y);if(Ue!==null){!(Ue.flags&65536)&&(Ue.flags|=256),$f(Ue,y,P,f,t),ea(Wr($,P));break e}}f=$=Wr($,P),Ge!==4&&(Ge=2),Yo===null?Yo=[f]:Yo.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var U=Rf(f,$,t);of(f,U);break e;case 1:P=$;var O=f.type,Y=f.stateNode;if(!(f.flags&128)&&(typeof O.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Wn===null||!Wn.has(Y)))){f.flags|=65536,t&=-t,f.lanes|=t;var ae=zf(f,P,t);of(f,ae);break e}}f=f.return}while(f!==null)}hd(r)}catch(ye){t=ye,We===r&&r!==null&&(We=r=r.return);continue}break}while(!0)}function fd(){var e=ws.current;return ws.current=ps,e===null?ps:e}function qa(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Qe===null||!(pr&268435455)&&!(Ss&268435455)||Gn(Qe,nt)}function js(e,t){var r=ke;ke|=2;var s=fd();(Qe!==e||nt!==t)&&(jn=null,gr(e,t));do try{xg();break}catch(u){cd(e,u)}while(!0);if(na(),ke=r,ws.current=s,We!==null)throw Error(i(261));return Qe=null,nt=0,Ge}function xg(){for(;We!==null;)dd(We)}function wg(){for(;We!==null&&!Ti();)dd(We)}function dd(e){var t=gd(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?hd(e):We=t,Aa.current=null}function hd(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=hg(r,t),r!==null){r.flags&=32767,We=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,We=null;return}}else if(r=dg(r,t,kt),r!==null){We=r;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Ge===0&&(Ge=5)}function yr(e,t,r){var s=Te,u=At.transition;try{At.transition=null,Te=1,Sg(e,t,r,s)}finally{At.transition=u,Te=s}return null}function Sg(e,t,r,s){do Kr();while(Yn!==null);if(ke&6)throw Error(i(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(tm(e,f),e===Qe&&(We=Qe=null,nt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ns||(Ns=!0,yd(jr,function(){return Kr(),null})),f=(r.flags&15990)!==0,r.subtreeFlags&15990||f){f=At.transition,At.transition=null;var y=Te;Te=1;var P=ke;ke|=4,Aa.current=null,mg(e,r),rd(r,e),Vm(ql),Fi=!!Bl,ql=Bl=null,e.current=r,gg(r),gl(),ke=P,Te=y,At.transition=f}else e.current=r;if(Ns&&(Ns=!1,Yn=e,_s=u),f=e.pendingLanes,f===0&&(Wn=null),go(r.stateNode),gt(e,$e()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],s(u.value,{componentStack:u.stack,digest:u.digest});if(Es)throw Es=!1,e=La,La=null,e;return _s&1&&e.tag!==0&&Kr(),f=e.pendingLanes,f&1?e===Fa?Xo++:(Xo=0,Fa=e):Xo=0,Bn(),null}function Kr(){if(Yn!==null){var e=ec(_s),t=At.transition,r=Te;try{if(At.transition=null,Te=16>e?16:e,Yn===null)var s=!1;else{if(e=Yn,Yn=null,_s=0,ke&6)throw Error(i(331));var u=ke;for(ke|=4,he=e.current;he!==null;){var f=he,y=f.child;if(he.flags&16){var P=f.deletions;if(P!==null){for(var $=0;$<P.length;$++){var Q=P[$];for(he=Q;he!==null;){var se=he;switch(se.tag){case 0:case 11:case 15:Uo(8,se,f)}var le=se.child;if(le!==null)le.return=se,he=le;else for(;he!==null;){se=he;var ie=se.sibling,de=se.return;if(Zf(se),se===Q){he=null;break}if(ie!==null){ie.return=de,he=ie;break}he=de}}}var me=f.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var Ue=ge.sibling;ge.sibling=null,ge=Ue}while(ge!==null)}}he=f}}if(f.subtreeFlags&2064&&y!==null)y.return=f,he=y;else e:for(;he!==null;){if(f=he,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Uo(9,f,f.return)}var U=f.sibling;if(U!==null){U.return=f.return,he=U;break e}he=f.return}}var O=e.current;for(he=O;he!==null;){y=he;var Y=y.child;if(y.subtreeFlags&2064&&Y!==null)Y.return=y,he=Y;else e:for(y=O;he!==null;){if(P=he,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:xs(9,P)}}catch(ye){qe(P,P.return,ye)}if(P===y){he=null;break e}var ae=P.sibling;if(ae!==null){ae.return=P.return,he=ae;break e}he=P.return}}if(ke=u,Bn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Pr,e)}catch{}s=!0}return s}finally{Te=r,At.transition=t}}return!1}function pd(e,t,r){t=Wr(r,t),t=Rf(e,t,1),e=bn(e,t,1),t=ut(),e!==null&&(vo(e,1,t),gt(e,t))}function qe(e,t,r){if(e.tag===3)pd(e,e,r);else for(;t!==null;){if(t.tag===3){pd(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Wn===null||!Wn.has(s))){e=Wr(r,e),e=zf(t,e,1),t=bn(t,e,1),e=ut(),t!==null&&(vo(t,1,e),gt(t,e));break}}t=t.return}}function Eg(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&r,Qe===e&&(nt&r)===r&&(Ge===4||Ge===3&&(nt&130023424)===nt&&500>$e()-$a?gr(e,0):Da|=r),gt(e,t)}function md(e,t){t===0&&(e.mode&1?(t=Ai,Ai<<=1,!(Ai&130023424)&&(Ai=4194304)):t=1);var r=ut();e=_n(e,t),e!==null&&(vo(e,t,r),gt(e,r))}function Ng(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),md(e,r)}function _g(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),md(e,r)}var gd;gd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)pt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return pt=!1,fg(e,t,r);pt=!!(e.flags&131072)}else pt=!1,De&&t.flags&1048576&&Xc(t,ns,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ys(e,t),e=t.pendingProps;var u=Fr(t,rt.current);br(t,r),u=ha(null,t,s,e,u,r);var f=pa();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(s)?(f=!0,Ji(t)):f=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,sa(t),u.updater=ms,t.stateNode=u,u._reactInternals=t,wa(t,s,e,r),t=_a(null,t,s,!0,f,r)):(t.tag=0,De&&f&&Kl(t),at(null,t,u,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ys(e,t),e=t.pendingProps,u=s._init,s=u(s._payload),t.type=s,u=t.tag=Cg(s),e=qt(s,e),u){case 0:t=Na(null,t,s,e,r);break e;case 1:t=Bf(null,t,s,e,r);break e;case 11:t=Lf(null,t,s,e,r);break e;case 14:t=Ff(null,t,s,qt(s.type,e),r);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:qt(s,u),Na(e,t,s,u,r);case 1:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:qt(s,u),Bf(e,t,s,u,r);case 3:e:{if(qf(t),e===null)throw Error(i(387));s=t.pendingProps,f=t.memoizedState,u=f.element,rf(e,t),as(t,s,null,r);var y=t.memoizedState;if(s=y.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){u=Wr(Error(i(423)),t),t=bf(e,t,s,r,u);break e}else if(s!==u){u=Wr(Error(i(424)),t),t=bf(e,t,s,r,u);break e}else for(_t=On(t.stateNode.containerInfo.firstChild),Nt=t,De=!0,Bt=null,r=tf(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vr(),s===u){t=Cn(e,t,r);break e}at(e,t,s,r)}t=t.child}return t;case 5:return lf(t),e===null&&Jl(t),s=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,y=u.children,bl(s,u)?y=null:f!==null&&bl(s,f)&&(t.flags|=32),Vf(e,t),at(e,t,y,r),t.child;case 6:return e===null&&Jl(t),null;case 13:return Uf(e,t,r);case 4:return la(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Br(t,null,s,r):at(e,t,s,r),t.child;case 11:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:qt(s,u),Lf(e,t,s,u,r);case 7:return at(e,t,t.pendingProps,r),t.child;case 8:return at(e,t,t.pendingProps.children,r),t.child;case 12:return at(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,u=t.pendingProps,f=t.memoizedProps,y=u.value,Ie(is,s._currentValue),s._currentValue=y,f!==null)if(Vt(f.value,y)){if(f.children===u.children&&!dt.current){t=Cn(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var P=f.dependencies;if(P!==null){y=f.child;for(var $=P.firstContext;$!==null;){if($.context===s){if(f.tag===1){$=kn(-1,r&-r),$.tag=2;var Q=f.updateQueue;if(Q!==null){Q=Q.shared;var se=Q.pending;se===null?$.next=$:($.next=se.next,se.next=$),Q.pending=$}}f.lanes|=r,$=f.alternate,$!==null&&($.lanes|=r),oa(f.return,r,t),P.lanes|=r;break}$=$.next}}else if(f.tag===10)y=f.type===t.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(i(341));y.lanes|=r,P=y.alternate,P!==null&&(P.lanes|=r),oa(y,r,t),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}at(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,s=t.pendingProps.children,br(t,r),u=Rt(u),s=s(u),t.flags|=1,at(e,t,s,r),t.child;case 14:return s=t.type,u=qt(s,t.pendingProps),u=qt(s.type,u),Ff(e,t,s,u,r);case 15:return Of(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:qt(s,u),ys(e,t),t.tag=1,ht(s)?(e=!0,Ji(t)):e=!1,br(t,r),If(t,s,u),wa(t,s,u,r),_a(null,t,s,!0,e,r);case 19:return Yf(e,t,r);case 22:return Hf(e,t,r)}throw Error(i(156,t.tag))};function yd(e,t){return ji(e,t)}function kg(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,r,s){return new kg(e,t,r,s)}function ba(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cg(e){if(typeof e=="function")return ba(e)?1:0;if(e!=null){if(e=e.$$typeof,e===F)return 11;if(e===N)return 14}return 2}function Kn(e,t){var r=e.alternate;return r===null?(r=Dt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ps(e,t,r,s,u,f){var y=2;if(s=e,typeof e=="function")ba(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case G:return vr(r.children,u,f,t);case re:y=8,u|=8;break;case q:return e=Dt(12,r,t,u|2),e.elementType=q,e.lanes=f,e;case b:return e=Dt(13,r,t,u),e.elementType=b,e.lanes=f,e;case S:return e=Dt(19,r,t,u),e.elementType=S,e.lanes=f,e;case z:return Ts(r,u,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:y=10;break e;case W:y=9;break e;case F:y=11;break e;case N:y=14;break e;case C:y=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Dt(y,r,t,u),t.elementType=e,t.type=s,t.lanes=f,t}function vr(e,t,r,s){return e=Dt(7,e,s,t),e.lanes=r,e}function Ts(e,t,r,s){return e=Dt(22,e,s,t),e.elementType=z,e.lanes=r,e.stateNode={isHidden:!1},e}function Ua(e,t,r){return e=Dt(6,e,null,t),e.lanes=r,e}function Wa(e,t,r){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jg(e,t,r,s,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xl(0),this.expirationTimes=xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Ya(e,t,r,s,u,f,y,P,$){return e=new jg(e,t,r,P,$),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Dt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sa(f),e}function Pg(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function vd(e){if(!e)return Vn;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(ht(r))return Uc(e,r,t)}return t}function xd(e,t,r,s,u,f,y,P,$){return e=Ya(r,s,!0,e,u,f,y,P,$),e.context=vd(null),r=e.current,s=ut(),u=Xn(r),f=kn(s,u),f.callback=t??null,bn(r,f,u),e.current.lanes=u,vo(e,u,s),gt(e,s),e}function Is(e,t,r,s){var u=t.current,f=ut(),y=Xn(u);return r=vd(r),t.context===null?t.context=r:t.pendingContext=r,t=kn(f,y),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=bn(u,t,y),e!==null&&(Wt(e,u,y,f),ls(e,u,y)),y}function Ms(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xa(e,t){wd(e,t),(e=e.alternate)&&wd(e,t)}var Sd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ga(e){this._internalRoot=e}Rs.prototype.render=Ga.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Is(e,t,null,null)},Rs.prototype.unmount=Ga.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mr(function(){Is(null,e,null,null)}),t[wn]=null}};function Rs(e){this._internalRoot=e}Rs.prototype.unstable_scheduleHydration=function(e){if(e){var t=rc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$n.length&&t!==0&&t<$n[r].priority;r++);$n.splice(r,0,e),r===0&&sc(e)}};function Ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ed(){}function Tg(e,t,r,s,u){if(u){if(typeof s=="function"){var f=s;s=function(){var Q=Ms(y);f.call(Q)}}var y=xd(t,s,e,0,null,!1,!1,"",Ed);return e._reactRootContainer=y,e[wn]=y.current,Ro(e.nodeType===8?e.parentNode:e),mr(),y}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var P=s;s=function(){var Q=Ms($);P.call(Q)}}var $=Ya(e,0,!1,null,null,!1,!1,"",Ed);return e._reactRootContainer=$,e[wn]=$.current,Ro(e.nodeType===8?e.parentNode:e),mr(function(){Is(t,$,r,s)}),$}function As(e,t,r,s,u){var f=r._reactRootContainer;if(f){var y=f;if(typeof u=="function"){var P=u;u=function(){var $=Ms(y);P.call($)}}Is(t,y,e,u)}else y=Tg(r,t,e,u,s);return Ms(y)}tc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yo(t.pendingLanes);r!==0&&(wl(t,r|1),gt(t,$e()),!(ke&6)&&(Gr=$e()+500,Bn()))}break;case 13:mr(function(){var s=_n(e,1);if(s!==null){var u=ut();Wt(s,e,1,u)}}),Xa(e,1)}},Sl=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var r=ut();Wt(t,e,134217728,r)}Xa(e,134217728)}},nc=function(e){if(e.tag===13){var t=Xn(e),r=_n(e,t);if(r!==null){var s=ut();Wt(r,e,t,s)}Xa(e,t)}},rc=function(){return Te},oc=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}},yn=function(e,t,r){switch(t){case"input":if(Ce(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var u=Qi(s);if(!u)throw Error(i(90));Ae(s),Ce(s,u)}}}break;case"textarea":Pt(e,r);break;case"select":t=r.value,t!=null&&jt(e,!!r.multiple,t,!1)}},xi=Va,wi=mr;var Ig={usingClientEntryPoint:!1,Events:[Do,$r,Qi,yi,vi,Va]},Go={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mg={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ki(e),e===null?null:e.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Pr=Ds.inject(Mg),Tt=Ds}catch{}}return yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ig,yt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ka(t))throw Error(i(200));return Pg(e,t,null,r)},yt.createRoot=function(e,t){if(!Ka(e))throw Error(i(299));var r=!1,s="",u=Sd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Ya(e,1,!1,null,null,r,!1,s,u),e[wn]=t.current,Ro(e.nodeType===8?e.parentNode:e),new Ga(t)},yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=ki(t),e=e===null?null:e.stateNode,e},yt.flushSync=function(e){return mr(e)},yt.hydrate=function(e,t,r){if(!zs(t))throw Error(i(200));return As(null,e,t,!0,r)},yt.hydrateRoot=function(e,t,r){if(!Ka(e))throw Error(i(405));var s=r!=null&&r.hydratedSources||null,u=!1,f="",y=Sd;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),t=xd(t,null,e,1,r??null,u,!1,f,y),e[wn]=t.current,Ro(e),s)for(e=0;e<s.length;e++)r=s[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new Rs(t)},yt.render=function(e,t,r){if(!zs(t))throw Error(i(200));return As(null,e,t,!1,r)},yt.unmountComponentAtNode=function(e){if(!zs(e))throw Error(i(40));return e._reactRootContainer?(mr(function(){As(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1},yt.unstable_batchedUpdates=Va,yt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!zs(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return As(e,t,r,!1,s)},yt.version="18.3.1-next-f1338f8080-20240426",yt}var eh;function np(){if(eh)return lu.exports;eh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),lu.exports=Mx(),lu.exports}np();const ul=B.createContext(null),Rx=ul.Provider,Rn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,o)=>`Couldn't create edge for ${n?"target":"source"} handle id: "${n?o.targetHandle:o.sourceHandle}", edge id: ${o.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},rp=Rn.error001();function Oe(n,o){const i=B.useContext(ul);if(i===null)throw new Error(rp);return Ph(i,n,o)}const Je=()=>{const n=B.useContext(ul);if(n===null)throw new Error(rp);return B.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe,destroy:n.destroy}),[n])},zx=n=>n.userSelectionActive?"none":"all";function op({position:n,children:o,className:i,style:l,...a}){const c=Oe(zx),d=`${n}`.split("-");return ee.createElement("div",{className:ct(["react-flow__panel",i,...d]),style:{...l,pointerEvents:c},...a},o)}function Ax({proOptions:n,position:o="bottom-right"}){return n!=null&&n.hideAttribution?null:ee.createElement(op,{position:o,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ee.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Dx=({x:n,y:o,label:i,labelStyle:l={},labelShowBg:a=!0,labelBgStyle:c={},labelBgPadding:d=[2,4],labelBgBorderRadius:h=2,children:p,className:g,...m})=>{const v=B.useRef(null),[E,k]=B.useState({x:0,y:0,width:0,height:0}),R=ct(["react-flow__edge-textwrapper",g]);return B.useEffect(()=>{if(v.current){const j=v.current.getBBox();k({x:j.x,y:j.y,width:j.width,height:j.height})}},[i]),typeof i>"u"||!i?null:ee.createElement("g",{transform:`translate(${n-E.width/2} ${o-E.height/2})`,className:R,visibility:E.width?"visible":"hidden",...m},a&&ee.createElement("rect",{width:E.width+2*d[0],x:-d[0],y:-d[1],height:E.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:h,ry:h}),ee.createElement("text",{className:"react-flow__edge-text",y:E.height/2,dy:"0.3em",ref:v,style:l},i),p)};var $x=B.memo(Dx);const Hu=n=>({width:n.offsetWidth,height:n.offsetHeight}),ao=(n,o=0,i=1)=>Math.min(Math.max(n,o),i),Vu=(n={x:0,y:0},o)=>({x:ao(n.x,o[0][0],o[1][0]),y:ao(n.y,o[0][1],o[1][1])}),th=(n,o,i)=>n<o?ao(Math.abs(n-o),1,50)/50:n>i?-ao(Math.abs(n-i),1,50)/50:0,ip=(n,o)=>{const i=th(n.x,35,o.width-35)*20,l=th(n.y,35,o.height-35)*20;return[i,l]},sp=n=>{var o;return((o=n.getRootNode)==null?void 0:o.call(n))||(window==null?void 0:window.document)},Lx=(n,o)=>({x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x2,o.x2),y2:Math.max(n.y2,o.y2)}),Bu=({x:n,y:o,width:i,height:l})=>({x:n,y:o,x2:n+i,y2:o+l}),Fx=({x:n,y:o,x2:i,y2:l})=>({x:n,y:o,width:i-n,height:l-o}),nh=n=>({...n.positionAbsolute||{x:0,y:0},width:n.width||0,height:n.height||0}),Cu=(n,o)=>{const i=Math.max(0,Math.min(n.x+n.width,o.x+o.width)-Math.max(n.x,o.x)),l=Math.max(0,Math.min(n.y+n.height,o.y+o.height)-Math.max(n.y,o.y));return Math.ceil(i*l)},Ox=n=>$t(n.width)&&$t(n.height)&&$t(n.x)&&$t(n.y),$t=n=>!isNaN(n)&&isFinite(n),be=Symbol.for("internals"),lp=["Enter"," ","Escape"],Hx=(n,o)=>{},Vx=n=>"nativeEvent"in n;function ju(n){var a,c;const o=Vx(n)?n.nativeEvent:n,i=((c=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:c[0])||n.target;return["INPUT","SELECT","TEXTAREA"].includes(i==null?void 0:i.nodeName)||(i==null?void 0:i.hasAttribute("contenteditable"))||!!(i!=null&&i.closest(".nokey"))}const ap=n=>"clientX"in n,nr=(n,o)=>{var c,d;const i=ap(n),l=i?n.clientX:(c=n.touches)==null?void 0:c[0].clientX,a=i?n.clientY:(d=n.touches)==null?void 0:d[0].clientY;return{x:l-((o==null?void 0:o.left)??0),y:a-((o==null?void 0:o.top)??0)}},rl=()=>{var n;return typeof navigator<"u"&&((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.indexOf("Mac"))>=0},gi=({id:n,path:o,labelX:i,labelY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:E,interactionWidth:k=20})=>ee.createElement(ee.Fragment,null,ee.createElement("path",{id:n,style:m,d:o,fill:"none",className:"react-flow__edge-path",markerEnd:v,markerStart:E}),k&&ee.createElement("path",{d:o,fill:"none",strokeOpacity:0,strokeWidth:k,className:"react-flow__edge-interaction"}),a&&$t(i)&&$t(l)?ee.createElement($x,{x:i,y:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g}):null);gi.displayName="BaseEdge";function Jo(n,o,i){return i===void 0?i:l=>{const a=o().edges.find(c=>c.id===n);a&&i(l,{...a})}}function up({sourceX:n,sourceY:o,targetX:i,targetY:l}){const a=Math.abs(i-n)/2,c=i<n?i+a:i-a,d=Math.abs(l-o)/2,h=l<o?l+d:l-d;return[c,h,a,d]}function cp({sourceX:n,sourceY:o,targetX:i,targetY:l,sourceControlX:a,sourceControlY:c,targetControlX:d,targetControlY:h}){const p=n*.125+a*.375+d*.375+i*.125,g=o*.125+c*.375+h*.375+l*.125,m=Math.abs(p-n),v=Math.abs(g-o);return[p,g,m,v]}var _r;(function(n){n.Strict="strict",n.Loose="loose"})(_r||(_r={}));var Sr;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(Sr||(Sr={}));var ci;(function(n){n.Partial="partial",n.Full="full"})(ci||(ci={}));var Tn;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(Tn||(Tn={}));var uo;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(uo||(uo={}));var ve;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(ve||(ve={}));function rh({pos:n,x1:o,y1:i,x2:l,y2:a}){return n===ve.Left||n===ve.Right?[.5*(o+l),i]:[o,.5*(i+a)]}function fp({sourceX:n,sourceY:o,sourcePosition:i=ve.Bottom,targetX:l,targetY:a,targetPosition:c=ve.Top}){const[d,h]=rh({pos:i,x1:n,y1:o,x2:l,y2:a}),[p,g]=rh({pos:c,x1:l,y1:a,x2:n,y2:o}),[m,v,E,k]=cp({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:d,sourceControlY:h,targetControlX:p,targetControlY:g});return[`M${n},${o} C${d},${h} ${p},${g} ${l},${a}`,m,v,E,k]}const qu=B.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,sourcePosition:a=ve.Bottom,targetPosition:c=ve.Top,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:E,markerEnd:k,markerStart:R,interactionWidth:j})=>{const[A,D,H]=fp({sourceX:n,sourceY:o,sourcePosition:a,targetX:i,targetY:l,targetPosition:c});return ee.createElement(gi,{path:A,labelX:D,labelY:H,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:E,markerEnd:k,markerStart:R,interactionWidth:j})});qu.displayName="SimpleBezierEdge";const oh={[ve.Left]:{x:-1,y:0},[ve.Right]:{x:1,y:0},[ve.Top]:{x:0,y:-1},[ve.Bottom]:{x:0,y:1}},Bx=({source:n,sourcePosition:o=ve.Bottom,target:i})=>o===ve.Left||o===ve.Right?n.x<i.x?{x:1,y:0}:{x:-1,y:0}:n.y<i.y?{x:0,y:1}:{x:0,y:-1},ih=(n,o)=>Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2));function qx({source:n,sourcePosition:o=ve.Bottom,target:i,targetPosition:l=ve.Top,center:a,offset:c}){const d=oh[o],h=oh[l],p={x:n.x+d.x*c,y:n.y+d.y*c},g={x:i.x+h.x*c,y:i.y+h.y*c},m=Bx({source:p,sourcePosition:o,target:g}),v=m.x!==0?"x":"y",E=m[v];let k=[],R,j;const A={x:0,y:0},D={x:0,y:0},[H,K,V,J]=up({sourceX:n.x,sourceY:n.y,targetX:i.x,targetY:i.y});if(d[v]*h[v]===-1){R=a.x??H,j=a.y??K;const G=[{x:R,y:p.y},{x:R,y:g.y}],re=[{x:p.x,y:j},{x:g.x,y:j}];d[v]===E?k=v==="x"?G:re:k=v==="x"?re:G}else{const G=[{x:p.x,y:g.y}],re=[{x:g.x,y:p.y}];if(v==="x"?k=d.x===E?re:G:k=d.y===E?G:re,o===l){const b=Math.abs(n[v]-i[v]);if(b<=c){const S=Math.min(c-1,c-b);d[v]===E?A[v]=(p[v]>n[v]?-1:1)*S:D[v]=(g[v]>i[v]?-1:1)*S}}if(o!==l){const b=v==="x"?"y":"x",S=d[v]===h[b],N=p[b]>g[b],C=p[b]<g[b];(d[v]===1&&(!S&&N||S&&C)||d[v]!==1&&(!S&&C||S&&N))&&(k=v==="x"?G:re)}const q={x:p.x+A.x,y:p.y+A.y},L={x:g.x+D.x,y:g.y+D.y},W=Math.max(Math.abs(q.x-k[0].x),Math.abs(L.x-k[0].x)),F=Math.max(Math.abs(q.y-k[0].y),Math.abs(L.y-k[0].y));W>=F?(R=(q.x+L.x)/2,j=k[0].y):(R=k[0].x,j=(q.y+L.y)/2)}return[[n,{x:p.x+A.x,y:p.y+A.y},...k,{x:g.x+D.x,y:g.y+D.y},i],R,j,V,J]}function bx(n,o,i,l){const a=Math.min(ih(n,o)/2,ih(o,i)/2,l),{x:c,y:d}=o;if(n.x===c&&c===i.x||n.y===d&&d===i.y)return`L${c} ${d}`;if(n.y===d){const g=n.x<i.x?-1:1,m=n.y<i.y?1:-1;return`L ${c+a*g},${d}Q ${c},${d} ${c},${d+a*m}`}const h=n.x<i.x?1:-1,p=n.y<i.y?-1:1;return`L ${c},${d+a*p}Q ${c},${d} ${c+a*h},${d}`}function Pu({sourceX:n,sourceY:o,sourcePosition:i=ve.Bottom,targetX:l,targetY:a,targetPosition:c=ve.Top,borderRadius:d=5,centerX:h,centerY:p,offset:g=20}){const[m,v,E,k,R]=qx({source:{x:n,y:o},sourcePosition:i,target:{x:l,y:a},targetPosition:c,center:{x:h,y:p},offset:g});return[m.reduce((A,D,H)=>{let K="";return H>0&&H<m.length-1?K=bx(m[H-1],D,m[H+1],d):K=`${H===0?"M":"L"}${D.x} ${D.y}`,A+=K,A},""),v,E,k,R]}const cl=B.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,sourcePosition:v=ve.Bottom,targetPosition:E=ve.Top,markerEnd:k,markerStart:R,pathOptions:j,interactionWidth:A})=>{const[D,H,K]=Pu({sourceX:n,sourceY:o,sourcePosition:v,targetX:i,targetY:l,targetPosition:E,borderRadius:j==null?void 0:j.borderRadius,offset:j==null?void 0:j.offset});return ee.createElement(gi,{path:D,labelX:H,labelY:K,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:k,markerStart:R,interactionWidth:A})});cl.displayName="SmoothStepEdge";const bu=B.memo(n=>{var o;return ee.createElement(cl,{...n,pathOptions:B.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})});bu.displayName="StepEdge";function Ux({sourceX:n,sourceY:o,targetX:i,targetY:l}){const[a,c,d,h]=up({sourceX:n,sourceY:o,targetX:i,targetY:l});return[`M ${n},${o}L ${i},${l}`,a,c,d,h]}const Uu=B.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:E,interactionWidth:k})=>{const[R,j,A]=Ux({sourceX:n,sourceY:o,targetX:i,targetY:l});return ee.createElement(gi,{path:R,labelX:j,labelY:A,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:E,interactionWidth:k})});Uu.displayName="StraightEdge";function Vs(n,o){return n>=0?.5*n:o*25*Math.sqrt(-n)}function sh({pos:n,x1:o,y1:i,x2:l,y2:a,c}){switch(n){case ve.Left:return[o-Vs(o-l,c),i];case ve.Right:return[o+Vs(l-o,c),i];case ve.Top:return[o,i-Vs(i-a,c)];case ve.Bottom:return[o,i+Vs(a-i,c)]}}function dp({sourceX:n,sourceY:o,sourcePosition:i=ve.Bottom,targetX:l,targetY:a,targetPosition:c=ve.Top,curvature:d=.25}){const[h,p]=sh({pos:i,x1:n,y1:o,x2:l,y2:a,c:d}),[g,m]=sh({pos:c,x1:l,y1:a,x2:n,y2:o,c:d}),[v,E,k,R]=cp({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:h,sourceControlY:p,targetControlX:g,targetControlY:m});return[`M${n},${o} C${h},${p} ${g},${m} ${l},${a}`,v,E,k,R]}const ol=B.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,sourcePosition:a=ve.Bottom,targetPosition:c=ve.Top,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:E,markerEnd:k,markerStart:R,pathOptions:j,interactionWidth:A})=>{const[D,H,K]=dp({sourceX:n,sourceY:o,sourcePosition:a,targetX:i,targetY:l,targetPosition:c,curvature:j==null?void 0:j.curvature});return ee.createElement(gi,{path:D,labelX:H,labelY:K,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:E,markerEnd:k,markerStart:R,interactionWidth:A})});ol.displayName="BezierEdge";const Wu=B.createContext(null),Wx=Wu.Provider;Wu.Consumer;const Yx=()=>B.useContext(Wu),Xx=n=>"id"in n&&"source"in n&&"target"in n,Gx=({source:n,sourceHandle:o,target:i,targetHandle:l})=>`reactflow__edge-${n}${o||""}-${i}${l||""}`,Tu=(n,o)=>typeof n>"u"?"":typeof n=="string"?n:`${o?`${o}__`:""}${Object.keys(n).sort().map(l=>`${l}=${n[l]}`).join("&")}`,Kx=(n,o)=>o.some(i=>i.source===n.source&&i.target===n.target&&(i.sourceHandle===n.sourceHandle||!i.sourceHandle&&!n.sourceHandle)&&(i.targetHandle===n.targetHandle||!i.targetHandle&&!n.targetHandle)),Qx=(n,o)=>{if(!n.source||!n.target)return o;let i;return Xx(n)?i={...n}:i={...n,id:Gx(n)},Kx(i,o)?o:o.concat(i)},Iu=({x:n,y:o},[i,l,a],c,[d,h])=>{const p={x:(n-i)/a,y:(o-l)/a};return c?{x:d*Math.round(p.x/d),y:h*Math.round(p.y/h)}:p},hp=({x:n,y:o},[i,l,a])=>({x:n*a+i,y:o*a+l}),oo=(n,o=[0,0])=>{if(!n)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const i=(n.width??0)*o[0],l=(n.height??0)*o[1],a={x:n.position.x-i,y:n.position.y-l};return{...a,positionAbsolute:n.positionAbsolute?{x:n.positionAbsolute.x-i,y:n.positionAbsolute.y-l}:a}},Yu=(n,o=[0,0])=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const i=n.reduce((l,a)=>{const{x:c,y:d}=oo(a,o).positionAbsolute;return Lx(l,Bu({x:c,y:d,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Fx(i)},pp=(n,o,[i,l,a]=[0,0,1],c=!1,d=!1,h=[0,0])=>{const p={x:(o.x-i)/a,y:(o.y-l)/a,width:o.width/a,height:o.height/a},g=[];return n.forEach(m=>{const{width:v,height:E,selectable:k=!0,hidden:R=!1}=m;if(d&&!k||R)return!1;const{positionAbsolute:j}=oo(m,h),A={x:j.x,y:j.y,width:v||0,height:E||0},D=Cu(p,A),H=typeof v>"u"||typeof E>"u"||v===null||E===null,K=c&&D>0,V=(v||0)*(E||0);(H||K||D>=V||m.dragging)&&g.push(m)}),g},mp=(n,o)=>{const i=n.map(l=>l.id);return o.filter(l=>i.includes(l.source)||i.includes(l.target))},gp=(n,o,i,l,a,c=.1)=>{const d=o/(n.width*(1+c)),h=i/(n.height*(1+c)),p=Math.min(d,h),g=ao(p,l,a),m=n.x+n.width/2,v=n.y+n.height/2,E=o/2-m*g,k=i/2-v*g;return{x:E,y:k,zoom:g}},xr=(n,o=0)=>n.transition().duration(o);function lh(n,o,i,l){return(o[i]||[]).reduce((a,c)=>{var d,h;return`${n.id}-${c.id}-${i}`!==l&&a.push({id:c.id||null,type:i,nodeId:n.id,x:(((d=n.positionAbsolute)==null?void 0:d.x)??0)+c.x+c.width/2,y:(((h=n.positionAbsolute)==null?void 0:h.y)??0)+c.y+c.height/2}),a},[])}function Zx(n,o,i,l,a,c){const{x:d,y:h}=nr(n),g=o.elementsFromPoint(d,h).find(R=>R.classList.contains("react-flow__handle"));if(g){const R=g.getAttribute("data-nodeid");if(R){const j=Xu(void 0,g),A=g.getAttribute("data-handleid"),D=c({nodeId:R,id:A,type:j});if(D){const H=a.find(K=>K.nodeId===R&&K.type===j&&K.id===A);return{handle:{id:A,type:j,nodeId:R,x:(H==null?void 0:H.x)||i.x,y:(H==null?void 0:H.y)||i.y},validHandleResult:D}}}}let m=[],v=1/0;if(a.forEach(R=>{const j=Math.sqrt((R.x-i.x)**2+(R.y-i.y)**2);if(j<=l){const A=c(R);j<=v&&(j<v?m=[{handle:R,validHandleResult:A}]:j===v&&m.push({handle:R,validHandleResult:A}),v=j)}}),!m.length)return{handle:null,validHandleResult:yp()};if(m.length===1)return m[0];const E=m.some(({validHandleResult:R})=>R.isValid),k=m.some(({handle:R})=>R.type==="target");return m.find(({handle:R,validHandleResult:j})=>k?R.type==="target":E?j.isValid:!0)||m[0]}const Jx={source:null,target:null,sourceHandle:null,targetHandle:null},yp=()=>({handleDomNode:null,isValid:!1,connection:Jx,endHandle:null});function vp(n,o,i,l,a,c,d){const h=a==="target",p=d.querySelector(`.react-flow__handle[data-id="${n==null?void 0:n.nodeId}-${n==null?void 0:n.id}-${n==null?void 0:n.type}"]`),g={...yp(),handleDomNode:p};if(p){const m=Xu(void 0,p),v=p.getAttribute("data-nodeid"),E=p.getAttribute("data-handleid"),k=p.classList.contains("connectable"),R=p.classList.contains("connectableend"),j={source:h?v:i,sourceHandle:h?E:l,target:h?i:v,targetHandle:h?l:E};g.connection=j,k&&R&&(o===_r.Strict?h&&m==="source"||!h&&m==="target":v!==i||E!==l)&&(g.endHandle={nodeId:v,handleId:E,type:m},g.isValid=c(j))}return g}function ew({nodes:n,nodeId:o,handleId:i,handleType:l}){return n.reduce((a,c)=>{if(c[be]){const{handleBounds:d}=c[be];let h=[],p=[];d&&(h=lh(c,d,"source",`${o}-${i}-${l}`),p=lh(c,d,"target",`${o}-${i}-${l}`)),a.push(...h,...p)}return a},[])}function Xu(n,o){return n||(o!=null&&o.classList.contains("target")?"target":o!=null&&o.classList.contains("source")?"source":null)}function cu(n){n==null||n.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function tw(n,o){let i=null;return o?i="valid":n&&!o&&(i="invalid"),i}function xp({event:n,handleId:o,nodeId:i,onConnect:l,isTarget:a,getState:c,setState:d,isValidConnection:h,edgeUpdaterType:p,onReconnectEnd:g}){const m=sp(n.target),{connectionMode:v,domNode:E,autoPanOnConnect:k,connectionRadius:R,onConnectStart:j,panBy:A,getNodes:D,cancelConnection:H}=c();let K=0,V;const{x:J,y:te}=nr(n),G=m==null?void 0:m.elementFromPoint(J,te),re=Xu(p,G),q=E==null?void 0:E.getBoundingClientRect();if(!q||!re)return;let L,W=nr(n,q),F=!1,b=null,S=!1,N=null;const C=ew({nodes:D(),nodeId:i,handleId:o,handleType:re}),z=()=>{if(!k)return;const[M,w]=ip(W,q);A({x:M,y:w}),K=requestAnimationFrame(z)};d({connectionPosition:W,connectionStatus:null,connectionNodeId:i,connectionHandleId:o,connectionHandleType:re,connectionStartHandle:{nodeId:i,handleId:o,type:re},connectionEndHandle:null}),j==null||j(n,{nodeId:i,handleId:o,handleType:re});function I(M){const{transform:w}=c();W=nr(M,q);const{handle:T,validHandleResult:Z}=Zx(M,m,Iu(W,w,!1,[1,1]),R,C,X=>vp(X,v,i,o,a?"target":"source",h,m));if(V=T,F||(z(),F=!0),N=Z.handleDomNode,b=Z.connection,S=Z.isValid,d({connectionPosition:V&&S?hp({x:V.x,y:V.y},w):W,connectionStatus:tw(!!V,S),connectionEndHandle:Z.endHandle}),!V&&!S&&!N)return cu(L);b.source!==b.target&&N&&(cu(L),L=N,N.classList.add("connecting","react-flow__handle-connecting"),N.classList.toggle("valid",S),N.classList.toggle("react-flow__handle-valid",S))}function _(M){var w,T;(V||N)&&b&&S&&(l==null||l(b)),(T=(w=c()).onConnectEnd)==null||T.call(w,M),p&&(g==null||g(M)),cu(L),H(),cancelAnimationFrame(K),F=!1,S=!1,b=null,N=null,m.removeEventListener("mousemove",I),m.removeEventListener("mouseup",_),m.removeEventListener("touchmove",I),m.removeEventListener("touchend",_)}m.addEventListener("mousemove",I),m.addEventListener("mouseup",_),m.addEventListener("touchmove",I),m.addEventListener("touchend",_)}const ah=()=>!0,nw=n=>({connectionStartHandle:n.connectionStartHandle,connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName}),rw=(n,o,i)=>l=>{const{connectionStartHandle:a,connectionEndHandle:c,connectionClickStartHandle:d}=l;return{connecting:(a==null?void 0:a.nodeId)===n&&(a==null?void 0:a.handleId)===o&&(a==null?void 0:a.type)===i||(c==null?void 0:c.nodeId)===n&&(c==null?void 0:c.handleId)===o&&(c==null?void 0:c.type)===i,clickConnecting:(d==null?void 0:d.nodeId)===n&&(d==null?void 0:d.handleId)===o&&(d==null?void 0:d.type)===i}},wp=B.forwardRef(({type:n="source",position:o=ve.Top,isValidConnection:i,isConnectable:l=!0,isConnectableStart:a=!0,isConnectableEnd:c=!0,id:d,onConnect:h,children:p,className:g,onMouseDown:m,onTouchStart:v,...E},k)=>{var q,L;const R=d||null,j=n==="target",A=Je(),D=Yx(),{connectOnClick:H,noPanClassName:K}=Oe(nw,lt),{connecting:V,clickConnecting:J}=Oe(rw(D,R,n),lt);D||(L=(q=A.getState()).onError)==null||L.call(q,"010",Rn.error010());const te=W=>{const{defaultEdgeOptions:F,onConnect:b,hasDefaultEdges:S}=A.getState(),N={...F,...W};if(S){const{edges:C,setEdges:z}=A.getState();z(Qx(N,C))}b==null||b(N),h==null||h(N)},G=W=>{if(!D)return;const F=ap(W);a&&(F&&W.button===0||!F)&&xp({event:W,handleId:R,nodeId:D,onConnect:te,isTarget:j,getState:A.getState,setState:A.setState,isValidConnection:i||A.getState().isValidConnection||ah}),F?m==null||m(W):v==null||v(W)},re=W=>{const{onClickConnectStart:F,onClickConnectEnd:b,connectionClickStartHandle:S,connectionMode:N,isValidConnection:C}=A.getState();if(!D||!S&&!a)return;if(!S){F==null||F(W,{nodeId:D,handleId:R,handleType:n}),A.setState({connectionClickStartHandle:{nodeId:D,type:n,handleId:R}});return}const z=sp(W.target),I=i||C||ah,{connection:_,isValid:M}=vp({nodeId:D,id:R,type:n},N,S.nodeId,S.handleId||null,S.type,I,z);M&&te(_),b==null||b(W),A.setState({connectionClickStartHandle:null})};return ee.createElement("div",{"data-handleid":R,"data-nodeid":D,"data-handlepos":o,"data-id":`${D}-${R}-${n}`,className:ct(["react-flow__handle",`react-flow__handle-${o}`,"nodrag",K,g,{source:!j,target:j,connectable:l,connectablestart:a,connectableend:c,connecting:J,connectionindicator:l&&(a&&!V||c&&V)}]),onMouseDown:G,onTouchStart:G,onClick:H?re:void 0,ref:k,...E},p)});wp.displayName="Handle";var co=B.memo(wp);const Sp=({data:n,isConnectable:o,targetPosition:i=ve.Top,sourcePosition:l=ve.Bottom})=>ee.createElement(ee.Fragment,null,ee.createElement(co,{type:"target",position:i,isConnectable:o}),n==null?void 0:n.label,ee.createElement(co,{type:"source",position:l,isConnectable:o}));Sp.displayName="DefaultNode";var Mu=B.memo(Sp);const Ep=({data:n,isConnectable:o,sourcePosition:i=ve.Bottom})=>ee.createElement(ee.Fragment,null,n==null?void 0:n.label,ee.createElement(co,{type:"source",position:i,isConnectable:o}));Ep.displayName="InputNode";var Np=B.memo(Ep);const _p=({data:n,isConnectable:o,targetPosition:i=ve.Top})=>ee.createElement(ee.Fragment,null,ee.createElement(co,{type:"target",position:i,isConnectable:o}),n==null?void 0:n.label);_p.displayName="OutputNode";var kp=B.memo(_p);const Gu=()=>null;Gu.displayName="GroupNode";const ow=n=>({selectedNodes:n.getNodes().filter(o=>o.selected),selectedEdges:n.edges.filter(o=>o.selected).map(o=>({...o}))}),Bs=n=>n.id;function iw(n,o){return lt(n.selectedNodes.map(Bs),o.selectedNodes.map(Bs))&&lt(n.selectedEdges.map(Bs),o.selectedEdges.map(Bs))}const Cp=B.memo(({onSelectionChange:n})=>{const o=Je(),{selectedNodes:i,selectedEdges:l}=Oe(ow,iw);return B.useEffect(()=>{const a={nodes:i,edges:l};n==null||n(a),o.getState().onSelectionChange.forEach(c=>c(a))},[i,l,n]),null});Cp.displayName="SelectionListener";const sw=n=>!!n.onSelectionChange;function lw({onSelectionChange:n}){const o=Oe(sw);return n||o?ee.createElement(Cp,{onSelectionChange:n}):null}const aw=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset});function Qr(n,o){B.useEffect(()=>{typeof n<"u"&&o(n)},[n])}function _e(n,o,i){B.useEffect(()=>{typeof o<"u"&&i({[n]:o})},[o])}const uw=({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,onConnect:a,onConnectStart:c,onConnectEnd:d,onClickConnectStart:h,onClickConnectEnd:p,nodesDraggable:g,nodesConnectable:m,nodesFocusable:v,edgesFocusable:E,edgesUpdatable:k,elevateNodesOnSelect:R,minZoom:j,maxZoom:A,nodeExtent:D,onNodesChange:H,onEdgesChange:K,elementsSelectable:V,connectionMode:J,snapGrid:te,snapToGrid:G,translateExtent:re,connectOnClick:q,defaultEdgeOptions:L,fitView:W,fitViewOptions:F,onNodesDelete:b,onEdgesDelete:S,onNodeDrag:N,onNodeDragStart:C,onNodeDragStop:z,onSelectionDrag:I,onSelectionDragStart:_,onSelectionDragStop:M,noPanClassName:w,nodeOrigin:T,rfId:Z,autoPanOnConnect:X,autoPanOnNodeDrag:oe,onError:ne,connectionRadius:ce,isValidConnection:fe,nodeDragThreshold:ue})=>{const{setNodes:pe,setEdges:Me,setDefaultNodesAndEdges:Ae,setMinZoom:He,setMaxZoom:Ve,setTranslateExtent:Pe,setNodeExtent:Ye,reset:Ce}=Oe(aw,lt),xe=Je();return B.useEffect(()=>{const et=l==null?void 0:l.map(xt=>({...xt,...L}));return Ae(i,et),()=>{Ce()}},[]),_e("defaultEdgeOptions",L,xe.setState),_e("connectionMode",J,xe.setState),_e("onConnect",a,xe.setState),_e("onConnectStart",c,xe.setState),_e("onConnectEnd",d,xe.setState),_e("onClickConnectStart",h,xe.setState),_e("onClickConnectEnd",p,xe.setState),_e("nodesDraggable",g,xe.setState),_e("nodesConnectable",m,xe.setState),_e("nodesFocusable",v,xe.setState),_e("edgesFocusable",E,xe.setState),_e("edgesUpdatable",k,xe.setState),_e("elementsSelectable",V,xe.setState),_e("elevateNodesOnSelect",R,xe.setState),_e("snapToGrid",G,xe.setState),_e("snapGrid",te,xe.setState),_e("onNodesChange",H,xe.setState),_e("onEdgesChange",K,xe.setState),_e("connectOnClick",q,xe.setState),_e("fitViewOnInit",W,xe.setState),_e("fitViewOnInitOptions",F,xe.setState),_e("onNodesDelete",b,xe.setState),_e("onEdgesDelete",S,xe.setState),_e("onNodeDrag",N,xe.setState),_e("onNodeDragStart",C,xe.setState),_e("onNodeDragStop",z,xe.setState),_e("onSelectionDrag",I,xe.setState),_e("onSelectionDragStart",_,xe.setState),_e("onSelectionDragStop",M,xe.setState),_e("noPanClassName",w,xe.setState),_e("nodeOrigin",T,xe.setState),_e("rfId",Z,xe.setState),_e("autoPanOnConnect",X,xe.setState),_e("autoPanOnNodeDrag",oe,xe.setState),_e("onError",ne,xe.setState),_e("connectionRadius",ce,xe.setState),_e("isValidConnection",fe,xe.setState),_e("nodeDragThreshold",ue,xe.setState),Qr(n,pe),Qr(o,Me),Qr(j,He),Qr(A,Ve),Qr(re,Pe),Qr(D,Ye),null},uh={display:"none"},cw={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},jp="react-flow__node-desc",Pp="react-flow__edge-desc",fw="react-flow__aria-live",dw=n=>n.ariaLiveMessage;function hw({rfId:n}){const o=Oe(dw);return ee.createElement("div",{id:`${fw}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:cw},o)}function pw({rfId:n,disableKeyboardA11y:o}){return ee.createElement(ee.Fragment,null,ee.createElement("div",{id:`${jp}-${n}`,style:uh},"Press enter or space to select a node.",!o&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ee.createElement("div",{id:`${Pp}-${n}`,style:uh},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!o&&ee.createElement(hw,{rfId:n}))}var fi=(n=null,o={actInsideInputWithModifier:!0})=>{const[i,l]=B.useState(!1),a=B.useRef(!1),c=B.useRef(new Set([])),[d,h]=B.useMemo(()=>{if(n!==null){const g=(Array.isArray(n)?n:[n]).filter(v=>typeof v=="string").map(v=>v.split("+")),m=g.reduce((v,E)=>v.concat(...E),[]);return[g,m]}return[[],[]]},[n]);return B.useEffect(()=>{const p=typeof document<"u"?document:null,g=(o==null?void 0:o.target)||p;if(n!==null){const m=k=>{if(a.current=k.ctrlKey||k.metaKey||k.shiftKey,(!a.current||a.current&&!o.actInsideInputWithModifier)&&ju(k))return!1;const j=fh(k.code,h);c.current.add(k[j]),ch(d,c.current,!1)&&(k.preventDefault(),l(!0))},v=k=>{if((!a.current||a.current&&!o.actInsideInputWithModifier)&&ju(k))return!1;const j=fh(k.code,h);ch(d,c.current,!0)?(l(!1),c.current.clear()):c.current.delete(k[j]),k.key==="Meta"&&c.current.clear(),a.current=!1},E=()=>{c.current.clear(),l(!1)};return g==null||g.addEventListener("keydown",m),g==null||g.addEventListener("keyup",v),window.addEventListener("blur",E),()=>{g==null||g.removeEventListener("keydown",m),g==null||g.removeEventListener("keyup",v),window.removeEventListener("blur",E)}}},[n,l]),i};function ch(n,o,i){return n.filter(l=>i||l.length===o.size).some(l=>l.every(a=>o.has(a)))}function fh(n,o){return o.includes(n)?"code":"key"}function Tp(n,o,i,l){var h,p;const a=n.parentNode||n.parentId;if(!a)return i;const c=o.get(a),d=oo(c,l);return Tp(c,o,{x:(i.x??0)+d.x,y:(i.y??0)+d.y,z:(((h=c[be])==null?void 0:h.z)??0)>(i.z??0)?((p=c[be])==null?void 0:p.z)??0:i.z??0},l)}function Ip(n,o,i){n.forEach(l=>{var c;const a=l.parentNode||l.parentId;if(a&&!n.has(a))throw new Error(`Parent node ${a} not found`);if(a||i!=null&&i[l.id]){const{x:d,y:h,z:p}=Tp(l,n,{...l.position,z:((c=l[be])==null?void 0:c.z)??0},o);l.positionAbsolute={x:d,y:h},l[be].z=p,i!=null&&i[l.id]&&(l[be].isParent=!0)}})}function fu(n,o,i,l){const a=new Map,c={},d=l?1e3:0;return n.forEach(h=>{var k;const p=($t(h.zIndex)?h.zIndex:0)+(h.selected?d:0),g=o.get(h.id),m={...h,positionAbsolute:{x:h.position.x,y:h.position.y}},v=h.parentNode||h.parentId;v&&(c[v]=!0);const E=(g==null?void 0:g.type)&&(g==null?void 0:g.type)!==h.type;Object.defineProperty(m,be,{enumerable:!1,value:{handleBounds:E||(k=g==null?void 0:g[be])==null?void 0:k.handleBounds,z:p}}),a.set(h.id,m)}),Ip(a,i,c),a}function Mp(n,o={}){const{getNodes:i,width:l,height:a,minZoom:c,maxZoom:d,d3Zoom:h,d3Selection:p,fitViewOnInitDone:g,fitViewOnInit:m,nodeOrigin:v}=n(),E=o.initial&&!g&&m;if(h&&p&&(E||!o.initial)){const R=i().filter(A=>{var H;const D=o.includeHiddenNodes?A.width&&A.height:!A.hidden;return(H=o.nodes)!=null&&H.length?D&&o.nodes.some(K=>K.id===A.id):D}),j=R.every(A=>A.width&&A.height);if(R.length>0&&j){const A=Yu(R,v),{x:D,y:H,zoom:K}=gp(A,l,a,o.minZoom??c,o.maxZoom??d,o.padding??.1),V=tr.translate(D,H).scale(K);return typeof o.duration=="number"&&o.duration>0?h.transform(xr(p,o.duration),V):h.transform(p,V),!0}}return!1}function mw(n,o){return n.forEach(i=>{const l=o.get(i.id);l&&o.set(l.id,{...l,[be]:l[be],selected:i.selected})}),new Map(o)}function gw(n,o){return o.map(i=>{const l=n.find(a=>a.id===i.id);return l&&(i.selected=l.selected),i})}function qs({changedNodes:n,changedEdges:o,get:i,set:l}){const{nodeInternals:a,edges:c,onNodesChange:d,onEdgesChange:h,hasDefaultNodes:p,hasDefaultEdges:g}=i();n!=null&&n.length&&(p&&l({nodeInternals:mw(n,a)}),d==null||d(n)),o!=null&&o.length&&(g&&l({edges:gw(o,c)}),h==null||h(o))}const Zr=()=>{},yw={zoomIn:Zr,zoomOut:Zr,zoomTo:Zr,getZoom:()=>1,setViewport:Zr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Zr,fitBounds:Zr,project:n=>n,screenToFlowPosition:n=>n,flowToScreenPosition:n=>n,viewportInitialized:!1},vw=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection}),xw=()=>{const n=Je(),{d3Zoom:o,d3Selection:i}=Oe(vw,lt);return B.useMemo(()=>i&&o?{zoomIn:a=>o.scaleBy(xr(i,a==null?void 0:a.duration),1.2),zoomOut:a=>o.scaleBy(xr(i,a==null?void 0:a.duration),1/1.2),zoomTo:(a,c)=>o.scaleTo(xr(i,c==null?void 0:c.duration),a),getZoom:()=>n.getState().transform[2],setViewport:(a,c)=>{const[d,h,p]=n.getState().transform,g=tr.translate(a.x??d,a.y??h).scale(a.zoom??p);o.transform(xr(i,c==null?void 0:c.duration),g)},getViewport:()=>{const[a,c,d]=n.getState().transform;return{x:a,y:c,zoom:d}},fitView:a=>Mp(n.getState,a),setCenter:(a,c,d)=>{const{width:h,height:p,maxZoom:g}=n.getState(),m=typeof(d==null?void 0:d.zoom)<"u"?d.zoom:g,v=h/2-a*m,E=p/2-c*m,k=tr.translate(v,E).scale(m);o.transform(xr(i,d==null?void 0:d.duration),k)},fitBounds:(a,c)=>{const{width:d,height:h,minZoom:p,maxZoom:g}=n.getState(),{x:m,y:v,zoom:E}=gp(a,d,h,p,g,(c==null?void 0:c.padding)??.1),k=tr.translate(m,v).scale(E);o.transform(xr(i,c==null?void 0:c.duration),k)},project:a=>{const{transform:c,snapToGrid:d,snapGrid:h}=n.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Iu(a,c,d,h)},screenToFlowPosition:a=>{const{transform:c,snapToGrid:d,snapGrid:h,domNode:p}=n.getState();if(!p)return a;const{x:g,y:m}=p.getBoundingClientRect(),v={x:a.x-g,y:a.y-m};return Iu(v,c,d,h)},flowToScreenPosition:a=>{const{transform:c,domNode:d}=n.getState();if(!d)return a;const{x:h,y:p}=d.getBoundingClientRect(),g=hp(a,c);return{x:g.x+h,y:g.y+p}},viewportInitialized:!0}:yw,[o,i])};function fl(){const n=xw(),o=Je(),i=B.useCallback(()=>o.getState().getNodes().map(j=>({...j})),[]),l=B.useCallback(j=>o.getState().nodeInternals.get(j),[]),a=B.useCallback(()=>{const{edges:j=[]}=o.getState();return j.map(A=>({...A}))},[]),c=B.useCallback(j=>{const{edges:A=[]}=o.getState();return A.find(D=>D.id===j)},[]),d=B.useCallback(j=>{const{getNodes:A,setNodes:D,hasDefaultNodes:H,onNodesChange:K}=o.getState(),V=A(),J=typeof j=="function"?j(V):j;if(H)D(J);else if(K){const te=J.length===0?V.map(G=>({type:"remove",id:G.id})):J.map(G=>({item:G,type:"reset"}));K(te)}},[]),h=B.useCallback(j=>{const{edges:A=[],setEdges:D,hasDefaultEdges:H,onEdgesChange:K}=o.getState(),V=typeof j=="function"?j(A):j;if(H)D(V);else if(K){const J=V.length===0?A.map(te=>({type:"remove",id:te.id})):V.map(te=>({item:te,type:"reset"}));K(J)}},[]),p=B.useCallback(j=>{const A=Array.isArray(j)?j:[j],{getNodes:D,setNodes:H,hasDefaultNodes:K,onNodesChange:V}=o.getState();if(K){const te=[...D(),...A];H(te)}else if(V){const J=A.map(te=>({item:te,type:"add"}));V(J)}},[]),g=B.useCallback(j=>{const A=Array.isArray(j)?j:[j],{edges:D=[],setEdges:H,hasDefaultEdges:K,onEdgesChange:V}=o.getState();if(K)H([...D,...A]);else if(V){const J=A.map(te=>({item:te,type:"add"}));V(J)}},[]),m=B.useCallback(()=>{const{getNodes:j,edges:A=[],transform:D}=o.getState(),[H,K,V]=D;return{nodes:j().map(J=>({...J})),edges:A.map(J=>({...J})),viewport:{x:H,y:K,zoom:V}}},[]),v=B.useCallback(({nodes:j,edges:A})=>{const{nodeInternals:D,getNodes:H,edges:K,hasDefaultNodes:V,hasDefaultEdges:J,onNodesDelete:te,onEdgesDelete:G,onNodesChange:re,onEdgesChange:q}=o.getState(),L=(j||[]).map(N=>N.id),W=(A||[]).map(N=>N.id),F=H().reduce((N,C)=>{const z=C.parentNode||C.parentId,I=!L.includes(C.id)&&z&&N.find(M=>M.id===z);return(typeof C.deletable=="boolean"?C.deletable:!0)&&(L.includes(C.id)||I)&&N.push(C),N},[]),b=K.filter(N=>typeof N.deletable=="boolean"?N.deletable:!0),S=b.filter(N=>W.includes(N.id));if(F||S){const N=mp(F,b),C=[...S,...N],z=C.reduce((I,_)=>(I.includes(_.id)||I.push(_.id),I),[]);if((J||V)&&(J&&o.setState({edges:K.filter(I=>!z.includes(I.id))}),V&&(F.forEach(I=>{D.delete(I.id)}),o.setState({nodeInternals:new Map(D)}))),z.length>0&&(G==null||G(C),q&&q(z.map(I=>({id:I,type:"remove"})))),F.length>0&&(te==null||te(F),re)){const I=F.map(_=>({id:_.id,type:"remove"}));re(I)}}},[]),E=B.useCallback(j=>{const A=Ox(j),D=A?null:o.getState().nodeInternals.get(j.id);return!A&&!D?[null,null,A]:[A?j:nh(D),D,A]},[]),k=B.useCallback((j,A=!0,D)=>{const[H,K,V]=E(j);return H?(D||o.getState().getNodes()).filter(J=>{if(!V&&(J.id===K.id||!J.positionAbsolute))return!1;const te=nh(J),G=Cu(te,H);return A&&G>0||G>=H.width*H.height}):[]},[]),R=B.useCallback((j,A,D=!0)=>{const[H]=E(j);if(!H)return!1;const K=Cu(H,A);return D&&K>0||K>=H.width*H.height},[]);return B.useMemo(()=>({...n,getNodes:i,getNode:l,getEdges:a,getEdge:c,setNodes:d,setEdges:h,addNodes:p,addEdges:g,toObject:m,deleteElements:v,getIntersectingNodes:k,isNodeIntersecting:R}),[n,i,l,a,c,d,h,p,g,m,v,k,R])}const ww={actInsideInputWithModifier:!1};var Sw=({deleteKeyCode:n,multiSelectionKeyCode:o})=>{const i=Je(),{deleteElements:l}=fl(),a=fi(n,ww),c=fi(o);B.useEffect(()=>{if(a){const{edges:d,getNodes:h}=i.getState(),p=h().filter(m=>m.selected),g=d.filter(m=>m.selected);l({nodes:p,edges:g}),i.setState({nodesSelectionActive:!1})}},[a]),B.useEffect(()=>{i.setState({multiSelectionActive:c})},[c])};function Ew(n){const o=Je();B.useEffect(()=>{let i;const l=()=>{var c,d;if(!n.current)return;const a=Hu(n.current);(a.height===0||a.width===0)&&((d=(c=o.getState()).onError)==null||d.call(c,"004",Rn.error004())),o.setState({width:a.width||500,height:a.height||500})};return l(),window.addEventListener("resize",l),n.current&&(i=new ResizeObserver(()=>l()),i.observe(n.current)),()=>{window.removeEventListener("resize",l),i&&n.current&&i.unobserve(n.current)}},[])}const Ku={position:"absolute",width:"100%",height:"100%",top:0,left:0},Nw=(n,o)=>n.x!==o.x||n.y!==o.y||n.zoom!==o.k,bs=n=>({x:n.x,y:n.y,zoom:n.k}),Jr=(n,o)=>n.target.closest(`.${o}`),dh=(n,o)=>o===2&&Array.isArray(n)&&n.includes(2),hh=n=>{const o=n.ctrlKey&&rl()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*o},_w=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection,d3ZoomHandler:n.d3ZoomHandler,userSelectionActive:n.userSelectionActive}),kw=({onMove:n,onMoveStart:o,onMoveEnd:i,onPaneContextMenu:l,zoomOnScroll:a=!0,zoomOnPinch:c=!0,panOnScroll:d=!1,panOnScrollSpeed:h=.5,panOnScrollMode:p=Sr.Free,zoomOnDoubleClick:g=!0,elementsSelectable:m,panOnDrag:v=!0,defaultViewport:E,translateExtent:k,minZoom:R,maxZoom:j,zoomActivationKeyCode:A,preventScrolling:D=!0,children:H,noWheelClassName:K,noPanClassName:V})=>{const J=B.useRef(),te=Je(),G=B.useRef(!1),re=B.useRef(!1),q=B.useRef(null),L=B.useRef({x:0,y:0,zoom:0}),{d3Zoom:W,d3Selection:F,d3ZoomHandler:b,userSelectionActive:S}=Oe(_w,lt),N=fi(A),C=B.useRef(0),z=B.useRef(!1),I=B.useRef();return Ew(q),B.useEffect(()=>{if(q.current){const _=q.current.getBoundingClientRect(),M=Px().scaleExtent([R,j]).translateExtent(k),w=Xt(q.current).call(M),T=tr.translate(E.x,E.y).scale(ao(E.zoom,R,j)),Z=[[0,0],[_.width,_.height]],X=M.constrain()(T,Z,k);M.transform(w,X),M.wheelDelta(hh),te.setState({d3Zoom:M,d3Selection:w,d3ZoomHandler:w.on("wheel.zoom"),transform:[X.x,X.y,X.k],domNode:q.current.closest(".react-flow")})}},[]),B.useEffect(()=>{F&&W&&(d&&!N&&!S?F.on("wheel.zoom",_=>{if(Jr(_,K))return!1;_.preventDefault(),_.stopImmediatePropagation();const M=F.property("__zoom").k||1;if(_.ctrlKey&&c){const fe=un(_),ue=hh(_),pe=M*Math.pow(2,ue);W.scaleTo(F,pe,fe,_);return}const w=_.deltaMode===1?20:1;let T=p===Sr.Vertical?0:_.deltaX*w,Z=p===Sr.Horizontal?0:_.deltaY*w;!rl()&&_.shiftKey&&p!==Sr.Vertical&&(T=_.deltaY*w,Z=0),W.translateBy(F,-(T/M)*h,-(Z/M)*h,{internal:!0});const X=bs(F.property("__zoom")),{onViewportChangeStart:oe,onViewportChange:ne,onViewportChangeEnd:ce}=te.getState();clearTimeout(I.current),z.current||(z.current=!0,o==null||o(_,X),oe==null||oe(X)),z.current&&(n==null||n(_,X),ne==null||ne(X),I.current=setTimeout(()=>{i==null||i(_,X),ce==null||ce(X),z.current=!1},150))},{passive:!1}):typeof b<"u"&&F.on("wheel.zoom",function(_,M){if(!D&&_.type==="wheel"&&!_.ctrlKey||Jr(_,K))return null;_.preventDefault(),b.call(this,_,M)},{passive:!1}))},[S,d,p,F,W,b,N,c,D,K,o,n,i]),B.useEffect(()=>{W&&W.on("start",_=>{var T,Z;if(!_.sourceEvent||_.sourceEvent.internal)return null;C.current=(T=_.sourceEvent)==null?void 0:T.button;const{onViewportChangeStart:M}=te.getState(),w=bs(_.transform);G.current=!0,L.current=w,((Z=_.sourceEvent)==null?void 0:Z.type)==="mousedown"&&te.setState({paneDragging:!0}),M==null||M(w),o==null||o(_.sourceEvent,w)})},[W,o]),B.useEffect(()=>{W&&(S&&!G.current?W.on("zoom",null):S||W.on("zoom",_=>{var w;const{onViewportChange:M}=te.getState();if(te.setState({transform:[_.transform.x,_.transform.y,_.transform.k]}),re.current=!!(l&&dh(v,C.current??0)),(n||M)&&!((w=_.sourceEvent)!=null&&w.internal)){const T=bs(_.transform);M==null||M(T),n==null||n(_.sourceEvent,T)}}))},[S,W,n,v,l]),B.useEffect(()=>{W&&W.on("end",_=>{if(!_.sourceEvent||_.sourceEvent.internal)return null;const{onViewportChangeEnd:M}=te.getState();if(G.current=!1,te.setState({paneDragging:!1}),l&&dh(v,C.current??0)&&!re.current&&l(_.sourceEvent),re.current=!1,(i||M)&&Nw(L.current,_.transform)){const w=bs(_.transform);L.current=w,clearTimeout(J.current),J.current=setTimeout(()=>{M==null||M(w),i==null||i(_.sourceEvent,w)},d?150:0)}})},[W,d,v,i,l]),B.useEffect(()=>{W&&W.filter(_=>{const M=N||a,w=c&&_.ctrlKey;if((v===!0||Array.isArray(v)&&v.includes(1))&&_.button===1&&_.type==="mousedown"&&(Jr(_,"react-flow__node")||Jr(_,"react-flow__edge")))return!0;if(!v&&!M&&!d&&!g&&!c||S||!g&&_.type==="dblclick"||Jr(_,K)&&_.type==="wheel"||Jr(_,V)&&(_.type!=="wheel"||d&&_.type==="wheel"&&!N)||!c&&_.ctrlKey&&_.type==="wheel"||!M&&!d&&!w&&_.type==="wheel"||!v&&(_.type==="mousedown"||_.type==="touchstart")||Array.isArray(v)&&!v.includes(_.button)&&_.type==="mousedown")return!1;const T=Array.isArray(v)&&v.includes(_.button)||!_.button||_.button<=1;return(!_.ctrlKey||_.type==="wheel")&&T})},[S,W,a,c,d,g,v,m,N]),ee.createElement("div",{className:"react-flow__renderer",ref:q,style:Ku},H)},Cw=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function jw(){const{userSelectionActive:n,userSelectionRect:o}=Oe(Cw,lt);return n&&o?ee.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:o.width,height:o.height,transform:`translate(${o.x}px, ${o.y}px)`}}):null}function ph(n,o){const i=o.parentNode||o.parentId,l=n.find(a=>a.id===i);if(l){const a=o.position.x+o.width-l.width,c=o.position.y+o.height-l.height;if(a>0||c>0||o.position.x<0||o.position.y<0){if(l.style={...l.style},l.style.width=l.style.width??l.width,l.style.height=l.style.height??l.height,a>0&&(l.style.width+=a),c>0&&(l.style.height+=c),o.position.x<0){const d=Math.abs(o.position.x);l.position.x=l.position.x-d,l.style.width+=d,o.position.x=0}if(o.position.y<0){const d=Math.abs(o.position.y);l.position.y=l.position.y-d,l.style.height+=d,o.position.y=0}l.width=l.style.width,l.height=l.style.height}}}function Pw(n,o){if(n.some(l=>l.type==="reset"))return n.filter(l=>l.type==="reset").map(l=>l.item);const i=n.filter(l=>l.type==="add").map(l=>l.item);return o.reduce((l,a)=>{const c=n.filter(h=>h.id===a.id);if(c.length===0)return l.push(a),l;const d={...a};for(const h of c)if(h)switch(h.type){case"select":{d.selected=h.selected;break}case"position":{typeof h.position<"u"&&(d.position=h.position),typeof h.positionAbsolute<"u"&&(d.positionAbsolute=h.positionAbsolute),typeof h.dragging<"u"&&(d.dragging=h.dragging),d.expandParent&&ph(l,d);break}case"dimensions":{typeof h.dimensions<"u"&&(d.width=h.dimensions.width,d.height=h.dimensions.height),typeof h.updateStyle<"u"&&(d.style={...d.style||{},...h.dimensions}),typeof h.resizing=="boolean"&&(d.resizing=h.resizing),d.expandParent&&ph(l,d);break}case"remove":return l}return l.push(d),l},i)}function Rp(n,o){return Pw(n,o)}const er=(n,o)=>({id:n,type:"select",selected:o});function to(n,o){return n.reduce((i,l)=>{const a=o.includes(l.id);return!l.selected&&a?(l.selected=!0,i.push(er(l.id,!0))):l.selected&&!a&&(l.selected=!1,i.push(er(l.id,!1))),i},[])}const du=(n,o)=>i=>{i.target===o.current&&(n==null||n(i))},Tw=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,dragging:n.paneDragging}),zp=B.memo(({isSelecting:n,selectionMode:o=ci.Full,panOnDrag:i,onSelectionStart:l,onSelectionEnd:a,onPaneClick:c,onPaneContextMenu:d,onPaneScroll:h,onPaneMouseEnter:p,onPaneMouseMove:g,onPaneMouseLeave:m,children:v})=>{const E=B.useRef(null),k=Je(),R=B.useRef(0),j=B.useRef(0),A=B.useRef(),{userSelectionActive:D,elementsSelectable:H,dragging:K}=Oe(Tw,lt),V=()=>{k.setState({userSelectionActive:!1,userSelectionRect:null}),R.current=0,j.current=0},J=b=>{c==null||c(b),k.getState().resetSelectedElements(),k.setState({nodesSelectionActive:!1})},te=b=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){b.preventDefault();return}d==null||d(b)},G=h?b=>h(b):void 0,re=b=>{const{resetSelectedElements:S,domNode:N}=k.getState();if(A.current=N==null?void 0:N.getBoundingClientRect(),!H||!n||b.button!==0||b.target!==E.current||!A.current)return;const{x:C,y:z}=nr(b,A.current);S(),k.setState({userSelectionRect:{width:0,height:0,startX:C,startY:z,x:C,y:z}}),l==null||l(b)},q=b=>{const{userSelectionRect:S,nodeInternals:N,edges:C,transform:z,onNodesChange:I,onEdgesChange:_,nodeOrigin:M,getNodes:w}=k.getState();if(!n||!A.current||!S)return;k.setState({userSelectionActive:!0,nodesSelectionActive:!1});const T=nr(b,A.current),Z=S.startX??0,X=S.startY??0,oe={...S,x:T.x<Z?T.x:Z,y:T.y<X?T.y:X,width:Math.abs(T.x-Z),height:Math.abs(T.y-X)},ne=w(),ce=pp(N,oe,z,o===ci.Partial,!0,M),fe=mp(ce,C).map(pe=>pe.id),ue=ce.map(pe=>pe.id);if(R.current!==ue.length){R.current=ue.length;const pe=to(ne,ue);pe.length&&(I==null||I(pe))}if(j.current!==fe.length){j.current=fe.length;const pe=to(C,fe);pe.length&&(_==null||_(pe))}k.setState({userSelectionRect:oe})},L=b=>{if(b.button!==0)return;const{userSelectionRect:S}=k.getState();!D&&S&&b.target===E.current&&(J==null||J(b)),k.setState({nodesSelectionActive:R.current>0}),V(),a==null||a(b)},W=b=>{D&&(k.setState({nodesSelectionActive:R.current>0}),a==null||a(b)),V()},F=H&&(n||D);return ee.createElement("div",{className:ct(["react-flow__pane",{dragging:K,selection:n}]),onClick:F?void 0:du(J,E),onContextMenu:du(te,E),onWheel:du(G,E),onMouseEnter:F?void 0:p,onMouseDown:F?re:void 0,onMouseMove:F?q:g,onMouseUp:F?L:void 0,onMouseLeave:F?W:m,ref:E,style:Ku},v,ee.createElement(jw,null))});zp.displayName="Pane";function Ap(n,o){const i=n.parentNode||n.parentId;if(!i)return!1;const l=o.get(i);return l?l.selected?!0:Ap(l,o):!1}function mh(n,o,i){let l=n;do{if(l!=null&&l.matches(o))return!0;if(l===i.current)return!1;l=l.parentElement}while(l);return!1}function Iw(n,o,i,l){return Array.from(n.values()).filter(a=>(a.selected||a.id===l)&&(!a.parentNode||a.parentId||!Ap(a,n))&&(a.draggable||o&&typeof a.draggable>"u")).map(a=>{var c,d;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:i.x-(((c=a.positionAbsolute)==null?void 0:c.x)??0),y:i.y-(((d=a.positionAbsolute)==null?void 0:d.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function Mw(n,o){return!o||o==="parent"?o:[o[0],[o[1][0]-(n.width||0),o[1][1]-(n.height||0)]]}function Dp(n,o,i,l,a=[0,0],c){const d=Mw(n,n.extent||l);let h=d;const p=n.parentNode||n.parentId;if(n.extent==="parent"&&!n.expandParent)if(p&&n.width&&n.height){const v=i.get(p),{x:E,y:k}=oo(v,a).positionAbsolute;h=v&&$t(E)&&$t(k)&&$t(v.width)&&$t(v.height)?[[E+n.width*a[0],k+n.height*a[1]],[E+v.width-n.width+n.width*a[0],k+v.height-n.height+n.height*a[1]]]:h}else c==null||c("005",Rn.error005()),h=d;else if(n.extent&&p&&n.extent!=="parent"){const v=i.get(p),{x:E,y:k}=oo(v,a).positionAbsolute;h=[[n.extent[0][0]+E,n.extent[0][1]+k],[n.extent[1][0]+E,n.extent[1][1]+k]]}let g={x:0,y:0};if(p){const v=i.get(p);g=oo(v,a).positionAbsolute}const m=h&&h!=="parent"?Vu(o,h):o;return{position:{x:m.x-g.x,y:m.y-g.y},positionAbsolute:m}}function hu({nodeId:n,dragItems:o,nodeInternals:i}){const l=o.map(a=>({...i.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[n?l.find(a=>a.id===n):l[0],l]}const gh=(n,o,i,l)=>{const a=o.querySelectorAll(n);if(!a||!a.length)return null;const c=Array.from(a),d=o.getBoundingClientRect(),h={x:d.width*l[0],y:d.height*l[1]};return c.map(p=>{const g=p.getBoundingClientRect();return{id:p.getAttribute("data-handleid"),position:p.getAttribute("data-handlepos"),x:(g.left-d.left-h.x)/i,y:(g.top-d.top-h.y)/i,...Hu(p)}})};function ei(n,o,i){return i===void 0?i:l=>{const a=o().nodeInternals.get(n);a&&i(l,{...a})}}function Ru({id:n,store:o,unselect:i=!1,nodeRef:l}){const{addSelectedNodes:a,unselectNodesAndEdges:c,multiSelectionActive:d,nodeInternals:h,onError:p}=o.getState(),g=h.get(n);if(!g){p==null||p("012",Rn.error012(n));return}o.setState({nodesSelectionActive:!1}),g.selected?(i||g.selected&&d)&&(c({nodes:[g],edges:[]}),requestAnimationFrame(()=>{var m;return(m=l==null?void 0:l.current)==null?void 0:m.blur()})):a([n])}function Rw(){const n=Je();return B.useCallback(({sourceEvent:i})=>{const{transform:l,snapGrid:a,snapToGrid:c}=n.getState(),d=i.touches?i.touches[0].clientX:i.clientX,h=i.touches?i.touches[0].clientY:i.clientY,p={x:(d-l[0])/l[2],y:(h-l[1])/l[2]};return{xSnapped:c?a[0]*Math.round(p.x/a[0]):p.x,ySnapped:c?a[1]*Math.round(p.y/a[1]):p.y,...p}},[])}function pu(n){return(o,i,l)=>n==null?void 0:n(o,l)}function $p({nodeRef:n,disabled:o=!1,noDragClassName:i,handleSelector:l,nodeId:a,isSelectable:c,selectNodesOnDrag:d}){const h=Je(),[p,g]=B.useState(!1),m=B.useRef([]),v=B.useRef({x:null,y:null}),E=B.useRef(0),k=B.useRef(null),R=B.useRef({x:0,y:0}),j=B.useRef(null),A=B.useRef(!1),D=B.useRef(!1),H=B.useRef(!1),K=Rw();return B.useEffect(()=>{if(n!=null&&n.current){const V=Xt(n.current),J=({x:re,y:q})=>{const{nodeInternals:L,onNodeDrag:W,onSelectionDrag:F,updateNodePositions:b,nodeExtent:S,snapGrid:N,snapToGrid:C,nodeOrigin:z,onError:I}=h.getState();v.current={x:re,y:q};let _=!1,M={x:0,y:0,x2:0,y2:0};if(m.current.length>1&&S){const T=Yu(m.current,z);M=Bu(T)}if(m.current=m.current.map(T=>{const Z={x:re-T.distance.x,y:q-T.distance.y};C&&(Z.x=N[0]*Math.round(Z.x/N[0]),Z.y=N[1]*Math.round(Z.y/N[1]));const X=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];m.current.length>1&&S&&!T.extent&&(X[0][0]=T.positionAbsolute.x-M.x+S[0][0],X[1][0]=T.positionAbsolute.x+(T.width??0)-M.x2+S[1][0],X[0][1]=T.positionAbsolute.y-M.y+S[0][1],X[1][1]=T.positionAbsolute.y+(T.height??0)-M.y2+S[1][1]);const oe=Dp(T,Z,L,X,z,I);return _=_||T.position.x!==oe.position.x||T.position.y!==oe.position.y,T.position=oe.position,T.positionAbsolute=oe.positionAbsolute,T}),!_)return;b(m.current,!0,!0),g(!0);const w=a?W:pu(F);if(w&&j.current){const[T,Z]=hu({nodeId:a,dragItems:m.current,nodeInternals:L});w(j.current,T,Z)}},te=()=>{if(!k.current)return;const[re,q]=ip(R.current,k.current);if(re!==0||q!==0){const{transform:L,panBy:W}=h.getState();v.current.x=(v.current.x??0)-re/L[2],v.current.y=(v.current.y??0)-q/L[2],W({x:re,y:q})&&J(v.current)}E.current=requestAnimationFrame(te)},G=re=>{var z;const{nodeInternals:q,multiSelectionActive:L,nodesDraggable:W,unselectNodesAndEdges:F,onNodeDragStart:b,onSelectionDragStart:S}=h.getState();D.current=!0;const N=a?b:pu(S);(!d||!c)&&!L&&a&&((z=q.get(a))!=null&&z.selected||F()),a&&c&&d&&Ru({id:a,store:h,nodeRef:n});const C=K(re);if(v.current=C,m.current=Iw(q,W,C,a),N&&m.current){const[I,_]=hu({nodeId:a,dragItems:m.current,nodeInternals:q});N(re.sourceEvent,I,_)}};if(o)V.on(".drag",null);else{const re=F0().on("start",q=>{const{domNode:L,nodeDragThreshold:W}=h.getState();W===0&&G(q),H.current=!1;const F=K(q);v.current=F,k.current=(L==null?void 0:L.getBoundingClientRect())||null,R.current=nr(q.sourceEvent,k.current)}).on("drag",q=>{var b,S;const L=K(q),{autoPanOnNodeDrag:W,nodeDragThreshold:F}=h.getState();if(q.sourceEvent.type==="touchmove"&&q.sourceEvent.touches.length>1&&(H.current=!0),!H.current){if(!A.current&&D.current&&W&&(A.current=!0,te()),!D.current){const N=L.xSnapped-(((b=v==null?void 0:v.current)==null?void 0:b.x)??0),C=L.ySnapped-(((S=v==null?void 0:v.current)==null?void 0:S.y)??0);Math.sqrt(N*N+C*C)>F&&G(q)}(v.current.x!==L.xSnapped||v.current.y!==L.ySnapped)&&m.current&&D.current&&(j.current=q.sourceEvent,R.current=nr(q.sourceEvent,k.current),J(L))}}).on("end",q=>{if(!(!D.current||H.current)&&(g(!1),A.current=!1,D.current=!1,cancelAnimationFrame(E.current),m.current)){const{updateNodePositions:L,nodeInternals:W,onNodeDragStop:F,onSelectionDragStop:b}=h.getState(),S=a?F:pu(b);if(L(m.current,!1,!1),S){const[N,C]=hu({nodeId:a,dragItems:m.current,nodeInternals:W});S(q.sourceEvent,N,C)}}}).filter(q=>{const L=q.target;return!q.button&&(!i||!mh(L,`.${i}`,n))&&(!l||mh(L,l,n))});return V.call(re),()=>{V.on(".drag",null)}}}},[n,o,i,l,c,h,a,d,K]),p}function Lp(){const n=Je();return B.useCallback(i=>{const{nodeInternals:l,nodeExtent:a,updateNodePositions:c,getNodes:d,snapToGrid:h,snapGrid:p,onError:g,nodesDraggable:m}=n.getState(),v=d().filter(H=>H.selected&&(H.draggable||m&&typeof H.draggable>"u")),E=h?p[0]:5,k=h?p[1]:5,R=i.isShiftPressed?4:1,j=i.x*E*R,A=i.y*k*R,D=v.map(H=>{if(H.positionAbsolute){const K={x:H.positionAbsolute.x+j,y:H.positionAbsolute.y+A};h&&(K.x=p[0]*Math.round(K.x/p[0]),K.y=p[1]*Math.round(K.y/p[1]));const{positionAbsolute:V,position:J}=Dp(H,K,l,a,void 0,g);H.position=J,H.positionAbsolute=V}return H});c(D,!0,!1)},[])}const io={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ti=n=>{const o=({id:i,type:l,data:a,xPos:c,yPos:d,xPosOrigin:h,yPosOrigin:p,selected:g,onClick:m,onMouseEnter:v,onMouseMove:E,onMouseLeave:k,onContextMenu:R,onDoubleClick:j,style:A,className:D,isDraggable:H,isSelectable:K,isConnectable:V,isFocusable:J,selectNodesOnDrag:te,sourcePosition:G,targetPosition:re,hidden:q,resizeObserver:L,dragHandle:W,zIndex:F,isParent:b,noDragClassName:S,noPanClassName:N,initialized:C,disableKeyboardA11y:z,ariaLabel:I,rfId:_,hasHandleBounds:M})=>{const w=Je(),T=B.useRef(null),Z=B.useRef(null),X=B.useRef(G),oe=B.useRef(re),ne=B.useRef(l),ce=K||H||m||v||E||k,fe=Lp(),ue=ei(i,w.getState,v),pe=ei(i,w.getState,E),Me=ei(i,w.getState,k),Ae=ei(i,w.getState,R),He=ei(i,w.getState,j),Ve=Ce=>{const{nodeDragThreshold:xe}=w.getState();if(K&&(!te||!H||xe>0)&&Ru({id:i,store:w,nodeRef:T}),m){const et=w.getState().nodeInternals.get(i);et&&m(Ce,{...et})}},Pe=Ce=>{if(!ju(Ce)&&!z)if(lp.includes(Ce.key)&&K){const xe=Ce.key==="Escape";Ru({id:i,store:w,unselect:xe,nodeRef:T})}else H&&g&&Object.prototype.hasOwnProperty.call(io,Ce.key)&&(w.setState({ariaLiveMessage:`Moved selected node ${Ce.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~c}, y: ${~~d}`}),fe({x:io[Ce.key].x,y:io[Ce.key].y,isShiftPressed:Ce.shiftKey}))};B.useEffect(()=>()=>{Z.current&&(L==null||L.unobserve(Z.current),Z.current=null)},[]),B.useEffect(()=>{if(T.current&&!q){const Ce=T.current;(!C||!M||Z.current!==Ce)&&(Z.current&&(L==null||L.unobserve(Z.current)),L==null||L.observe(Ce),Z.current=Ce)}},[q,C,M]),B.useEffect(()=>{const Ce=ne.current!==l,xe=X.current!==G,et=oe.current!==re;T.current&&(Ce||xe||et)&&(Ce&&(ne.current=l),xe&&(X.current=G),et&&(oe.current=re),w.getState().updateNodeDimensions([{id:i,nodeElement:T.current,forceUpdate:!0}]))},[i,l,G,re]);const Ye=$p({nodeRef:T,disabled:q||!H,noDragClassName:S,handleSelector:W,nodeId:i,isSelectable:K,selectNodesOnDrag:te});return q?null:ee.createElement("div",{className:ct(["react-flow__node",`react-flow__node-${l}`,{[N]:H},D,{selected:g,selectable:K,parent:b,dragging:Ye}]),ref:T,style:{zIndex:F,transform:`translate(${h}px,${p}px)`,pointerEvents:ce?"all":"none",visibility:C?"visible":"hidden",...A},"data-id":i,"data-testid":`rf__node-${i}`,onMouseEnter:ue,onMouseMove:pe,onMouseLeave:Me,onContextMenu:Ae,onClick:Ve,onDoubleClick:He,onKeyDown:J?Pe:void 0,tabIndex:J?0:void 0,role:J?"button":void 0,"aria-describedby":z?void 0:`${jp}-${_}`,"aria-label":I},ee.createElement(Wx,{value:i},ee.createElement(n,{id:i,data:a,type:l,xPos:c,yPos:d,selected:g,isConnectable:V,sourcePosition:G,targetPosition:re,dragging:Ye,dragHandle:W,zIndex:F})))};return o.displayName="NodeWrapper",B.memo(o)};const zw=n=>{const o=n.getNodes().filter(i=>i.selected);return{...Yu(o,n.nodeOrigin),transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`,userSelectionActive:n.userSelectionActive}};function Aw({onSelectionContextMenu:n,noPanClassName:o,disableKeyboardA11y:i}){const l=Je(),{width:a,height:c,x:d,y:h,transformString:p,userSelectionActive:g}=Oe(zw,lt),m=Lp(),v=B.useRef(null);if(B.useEffect(()=>{var R;i||(R=v.current)==null||R.focus({preventScroll:!0})},[i]),$p({nodeRef:v}),g||!a||!c)return null;const E=n?R=>{const j=l.getState().getNodes().filter(A=>A.selected);n(R,j)}:void 0,k=R=>{Object.prototype.hasOwnProperty.call(io,R.key)&&m({x:io[R.key].x,y:io[R.key].y,isShiftPressed:R.shiftKey})};return ee.createElement("div",{className:ct(["react-flow__nodesselection","react-flow__container",o]),style:{transform:p}},ee.createElement("div",{ref:v,className:"react-flow__nodesselection-rect",onContextMenu:E,tabIndex:i?void 0:-1,onKeyDown:i?void 0:k,style:{width:a,height:c,top:h,left:d}}))}var Dw=B.memo(Aw);const $w=n=>n.nodesSelectionActive,Fp=({children:n,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,deleteKeyCode:h,onMove:p,onMoveStart:g,onMoveEnd:m,selectionKeyCode:v,selectionOnDrag:E,selectionMode:k,onSelectionStart:R,onSelectionEnd:j,multiSelectionKeyCode:A,panActivationKeyCode:D,zoomActivationKeyCode:H,elementsSelectable:K,zoomOnScroll:V,zoomOnPinch:J,panOnScroll:te,panOnScrollSpeed:G,panOnScrollMode:re,zoomOnDoubleClick:q,panOnDrag:L,defaultViewport:W,translateExtent:F,minZoom:b,maxZoom:S,preventScrolling:N,onSelectionContextMenu:C,noWheelClassName:z,noPanClassName:I,disableKeyboardA11y:_})=>{const M=Oe($w),w=fi(v),T=fi(D),Z=T||L,X=T||te,oe=w||E&&Z!==!0;return Sw({deleteKeyCode:h,multiSelectionKeyCode:A}),ee.createElement(kw,{onMove:p,onMoveStart:g,onMoveEnd:m,onPaneContextMenu:c,elementsSelectable:K,zoomOnScroll:V,zoomOnPinch:J,panOnScroll:X,panOnScrollSpeed:G,panOnScrollMode:re,zoomOnDoubleClick:q,panOnDrag:!w&&Z,defaultViewport:W,translateExtent:F,minZoom:b,maxZoom:S,zoomActivationKeyCode:H,preventScrolling:N,noWheelClassName:z,noPanClassName:I},ee.createElement(zp,{onSelectionStart:R,onSelectionEnd:j,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,panOnDrag:Z,isSelecting:!!oe,selectionMode:k},n,M&&ee.createElement(Dw,{onSelectionContextMenu:C,noPanClassName:I,disableKeyboardA11y:_})))};Fp.displayName="FlowRenderer";var Lw=B.memo(Fp);function Fw(n){return Oe(B.useCallback(i=>n?pp(i.nodeInternals,{x:0,y:0,width:i.width,height:i.height},i.transform,!0):i.getNodes(),[n]))}function Ow(n){const o={input:ti(n.input||Np),default:ti(n.default||Mu),output:ti(n.output||kp),group:ti(n.group||Gu)},i={},l=Object.keys(n).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,c)=>(a[c]=ti(n[c]||Mu),a),i);return{...o,...l}}const Hw=({x:n,y:o,width:i,height:l,origin:a})=>!i||!l?{x:n,y:o}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:n,y:o}:{x:n-i*a[0],y:o-l*a[1]},Vw=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,updateNodeDimensions:n.updateNodeDimensions,onError:n.onError}),Op=n=>{const{nodesDraggable:o,nodesConnectable:i,nodesFocusable:l,elementsSelectable:a,updateNodeDimensions:c,onError:d}=Oe(Vw,lt),h=Fw(n.onlyRenderVisibleElements),p=B.useRef(),g=B.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const m=new ResizeObserver(v=>{const E=v.map(k=>({id:k.target.getAttribute("data-id"),nodeElement:k.target,forceUpdate:!0}));c(E)});return p.current=m,m},[]);return B.useEffect(()=>()=>{var m;(m=p==null?void 0:p.current)==null||m.disconnect()},[]),ee.createElement("div",{className:"react-flow__nodes",style:Ku},h.map(m=>{var J,te,G;let v=m.type||"default";n.nodeTypes[v]||(d==null||d("003",Rn.error003(v)),v="default");const E=n.nodeTypes[v]||n.nodeTypes.default,k=!!(m.draggable||o&&typeof m.draggable>"u"),R=!!(m.selectable||a&&typeof m.selectable>"u"),j=!!(m.connectable||i&&typeof m.connectable>"u"),A=!!(m.focusable||l&&typeof m.focusable>"u"),D=n.nodeExtent?Vu(m.positionAbsolute,n.nodeExtent):m.positionAbsolute,H=(D==null?void 0:D.x)??0,K=(D==null?void 0:D.y)??0,V=Hw({x:H,y:K,width:m.width??0,height:m.height??0,origin:n.nodeOrigin});return ee.createElement(E,{key:m.id,id:m.id,className:m.className,style:m.style,type:v,data:m.data,sourcePosition:m.sourcePosition||ve.Bottom,targetPosition:m.targetPosition||ve.Top,hidden:m.hidden,xPos:H,yPos:K,xPosOrigin:V.x,yPosOrigin:V.y,selectNodesOnDrag:n.selectNodesOnDrag,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,selected:!!m.selected,isDraggable:k,isSelectable:R,isConnectable:j,isFocusable:A,resizeObserver:g,dragHandle:m.dragHandle,zIndex:((J=m[be])==null?void 0:J.z)??0,isParent:!!((te=m[be])!=null&&te.isParent),noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,initialized:!!m.width&&!!m.height,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,ariaLabel:m.ariaLabel,hasHandleBounds:!!((G=m[be])!=null&&G.handleBounds)})}))};Op.displayName="NodeRenderer";var Bw=B.memo(Op);const qw=(n,o,i)=>i===ve.Left?n-o:i===ve.Right?n+o:n,bw=(n,o,i)=>i===ve.Top?n-o:i===ve.Bottom?n+o:n,yh="react-flow__edgeupdater",vh=({position:n,centerX:o,centerY:i,radius:l=10,onMouseDown:a,onMouseEnter:c,onMouseOut:d,type:h})=>ee.createElement("circle",{onMouseDown:a,onMouseEnter:c,onMouseOut:d,className:ct([yh,`${yh}-${h}`]),cx:qw(o,l,n),cy:bw(i,l,n),r:l,stroke:"transparent",fill:"transparent"}),Uw=()=>!0;var eo=n=>{const o=({id:i,className:l,type:a,data:c,onClick:d,onEdgeDoubleClick:h,selected:p,animated:g,label:m,labelStyle:v,labelShowBg:E,labelBgStyle:k,labelBgPadding:R,labelBgBorderRadius:j,style:A,source:D,target:H,sourceX:K,sourceY:V,targetX:J,targetY:te,sourcePosition:G,targetPosition:re,elementsSelectable:q,hidden:L,sourceHandleId:W,targetHandleId:F,onContextMenu:b,onMouseEnter:S,onMouseMove:N,onMouseLeave:C,reconnectRadius:z,onReconnect:I,onReconnectStart:_,onReconnectEnd:M,markerEnd:w,markerStart:T,rfId:Z,ariaLabel:X,isFocusable:oe,isReconnectable:ne,pathOptions:ce,interactionWidth:fe,disableKeyboardA11y:ue})=>{const pe=B.useRef(null),[Me,Ae]=B.useState(!1),[He,Ve]=B.useState(!1),Pe=Je(),Ye=B.useMemo(()=>`url('#${Tu(T,Z)}')`,[T,Z]),Ce=B.useMemo(()=>`url('#${Tu(w,Z)}')`,[w,Z]);if(L)return null;const xe=Be=>{var ft;const{edges:wt,addSelectedEdges:en,unselectNodesAndEdges:tn,multiSelectionActive:mn}=Pe.getState(),St=wt.find(gn=>gn.id===i);St&&(q&&(Pe.setState({nodesSelectionActive:!1}),St.selected&&mn?(tn({nodes:[],edges:[St]}),(ft=pe.current)==null||ft.blur()):en([i])),d&&d(Be,St))},et=Jo(i,Pe.getState,h),xt=Jo(i,Pe.getState,b),jt=Jo(i,Pe.getState,S),Zt=Jo(i,Pe.getState,N),dn=Jo(i,Pe.getState,C),Pt=(Be,wt)=>{if(Be.button!==0)return;const{edges:en,isValidConnection:tn}=Pe.getState(),mn=wt?H:D,St=(wt?F:W)||null,ft=wt?"target":"source",gn=tn||Uw,rr=wt,yn=en.find(rn=>rn.id===i);Ve(!0),_==null||_(Be,yn,ft);const nn=rn=>{Ve(!1),M==null||M(rn,yn,ft)};xp({event:Be,handleId:St,nodeId:mn,onConnect:rn=>I==null?void 0:I(yn,rn),isTarget:rr,getState:Pe.getState,setState:Pe.setState,isValidConnection:gn,edgeUpdaterType:ft,onReconnectEnd:nn})},hn=Be=>Pt(Be,!0),Jt=Be=>Pt(Be,!1),Lt=()=>Ae(!0),Ft=()=>Ae(!1),pn=!q&&!d,Ot=Be=>{var wt;if(!ue&&lp.includes(Be.key)&&q){const{unselectNodesAndEdges:en,addSelectedEdges:tn,edges:mn}=Pe.getState();Be.key==="Escape"?((wt=pe.current)==null||wt.blur(),en({edges:[mn.find(ft=>ft.id===i)]})):tn([i])}};return ee.createElement("g",{className:ct(["react-flow__edge",`react-flow__edge-${a}`,l,{selected:p,animated:g,inactive:pn,updating:Me}]),onClick:xe,onDoubleClick:et,onContextMenu:xt,onMouseEnter:jt,onMouseMove:Zt,onMouseLeave:dn,onKeyDown:oe?Ot:void 0,tabIndex:oe?0:void 0,role:oe?"button":"img","data-testid":`rf__edge-${i}`,"aria-label":X===null?void 0:X||`Edge from ${D} to ${H}`,"aria-describedby":oe?`${Pp}-${Z}`:void 0,ref:pe},!He&&ee.createElement(n,{id:i,source:D,target:H,selected:p,animated:g,label:m,labelStyle:v,labelShowBg:E,labelBgStyle:k,labelBgPadding:R,labelBgBorderRadius:j,data:c,style:A,sourceX:K,sourceY:V,targetX:J,targetY:te,sourcePosition:G,targetPosition:re,sourceHandleId:W,targetHandleId:F,markerStart:Ye,markerEnd:Ce,pathOptions:ce,interactionWidth:fe}),ne&&ee.createElement(ee.Fragment,null,(ne==="source"||ne===!0)&&ee.createElement(vh,{position:G,centerX:K,centerY:V,radius:z,onMouseDown:hn,onMouseEnter:Lt,onMouseOut:Ft,type:"source"}),(ne==="target"||ne===!0)&&ee.createElement(vh,{position:re,centerX:J,centerY:te,radius:z,onMouseDown:Jt,onMouseEnter:Lt,onMouseOut:Ft,type:"target"})))};return o.displayName="EdgeWrapper",B.memo(o)};function Ww(n){const o={default:eo(n.default||ol),straight:eo(n.bezier||Uu),step:eo(n.step||bu),smoothstep:eo(n.step||cl),simplebezier:eo(n.simplebezier||qu)},i={},l=Object.keys(n).filter(a=>!["default","bezier"].includes(a)).reduce((a,c)=>(a[c]=eo(n[c]||ol),a),i);return{...o,...l}}function xh(n,o,i=null){const l=((i==null?void 0:i.x)||0)+o.x,a=((i==null?void 0:i.y)||0)+o.y,c=(i==null?void 0:i.width)||o.width,d=(i==null?void 0:i.height)||o.height;switch(n){case ve.Top:return{x:l+c/2,y:a};case ve.Right:return{x:l+c,y:a+d/2};case ve.Bottom:return{x:l+c/2,y:a+d};case ve.Left:return{x:l,y:a+d/2}}}function wh(n,o){return n?n.length===1||!o?n[0]:o&&n.find(i=>i.id===o)||null:null}const Yw=(n,o,i,l,a,c)=>{const d=xh(i,n,o),h=xh(c,l,a);return{sourceX:d.x,sourceY:d.y,targetX:h.x,targetY:h.y}};function Xw({sourcePos:n,targetPos:o,sourceWidth:i,sourceHeight:l,targetWidth:a,targetHeight:c,width:d,height:h,transform:p}){const g={x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x+i,o.x+a),y2:Math.max(n.y+l,o.y+c)};g.x===g.x2&&(g.x2+=1),g.y===g.y2&&(g.y2+=1);const m=Bu({x:(0-p[0])/p[2],y:(0-p[1])/p[2],width:d/p[2],height:h/p[2]}),v=Math.max(0,Math.min(m.x2,g.x2)-Math.max(m.x,g.x)),E=Math.max(0,Math.min(m.y2,g.y2)-Math.max(m.y,g.y));return Math.ceil(v*E)>0}function Sh(n){var l,a,c,d,h;const o=((l=n==null?void 0:n[be])==null?void 0:l.handleBounds)||null,i=o&&(n==null?void 0:n.width)&&(n==null?void 0:n.height)&&typeof((a=n==null?void 0:n.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((c=n==null?void 0:n.positionAbsolute)==null?void 0:c.y)<"u";return[{x:((d=n==null?void 0:n.positionAbsolute)==null?void 0:d.x)||0,y:((h=n==null?void 0:n.positionAbsolute)==null?void 0:h.y)||0,width:(n==null?void 0:n.width)||0,height:(n==null?void 0:n.height)||0},o,!!i]}const Gw=[{level:0,isMaxLevel:!0,edges:[]}];function Kw(n,o,i=!1){let l=-1;const a=n.reduce((d,h)=>{var m,v;const p=$t(h.zIndex);let g=p?h.zIndex:0;if(i){const E=o.get(h.target),k=o.get(h.source),R=h.selected||(E==null?void 0:E.selected)||(k==null?void 0:k.selected),j=Math.max(((m=k==null?void 0:k[be])==null?void 0:m.z)||0,((v=E==null?void 0:E[be])==null?void 0:v.z)||0,1e3);g=(p?h.zIndex:0)+(R?j:0)}return d[g]?d[g].push(h):d[g]=[h],l=g>l?g:l,d},{}),c=Object.entries(a).map(([d,h])=>{const p=+d;return{edges:h,level:p,isMaxLevel:p===l}});return c.length===0?Gw:c}function Qw(n,o,i){const l=Oe(B.useCallback(a=>n?a.edges.filter(c=>{const d=o.get(c.source),h=o.get(c.target);return(d==null?void 0:d.width)&&(d==null?void 0:d.height)&&(h==null?void 0:h.width)&&(h==null?void 0:h.height)&&Xw({sourcePos:d.positionAbsolute||{x:0,y:0},targetPos:h.positionAbsolute||{x:0,y:0},sourceWidth:d.width,sourceHeight:d.height,targetWidth:h.width,targetHeight:h.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[n,o]));return Kw(l,o,i)}const Zw=({color:n="none",strokeWidth:o=1})=>ee.createElement("polyline",{style:{stroke:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Jw=({color:n="none",strokeWidth:o=1})=>ee.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Eh={[uo.Arrow]:Zw,[uo.ArrowClosed]:Jw};function e1(n){const o=Je();return B.useMemo(()=>{var a,c;return Object.prototype.hasOwnProperty.call(Eh,n)?Eh[n]:((c=(a=o.getState()).onError)==null||c.call(a,"009",Rn.error009(n)),null)},[n])}const t1=({id:n,type:o,color:i,width:l=12.5,height:a=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:h="auto-start-reverse"})=>{const p=e1(o);return p?ee.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${l}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:h,refX:"0",refY:"0"},ee.createElement(p,{color:i,strokeWidth:d})):null},n1=({defaultColor:n,rfId:o})=>i=>{const l=[];return i.edges.reduce((a,c)=>([c.markerStart,c.markerEnd].forEach(d=>{if(d&&typeof d=="object"){const h=Tu(d,o);l.includes(h)||(a.push({id:h,color:d.color||n,...d}),l.push(h))}}),a),[]).sort((a,c)=>a.id.localeCompare(c.id))},Hp=({defaultColor:n,rfId:o})=>{const i=Oe(B.useCallback(n1({defaultColor:n,rfId:o}),[n,o]),(l,a)=>!(l.length!==a.length||l.some((c,d)=>c.id!==a[d].id)));return ee.createElement("defs",null,i.map(l=>ee.createElement(t1,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient})))};Hp.displayName="MarkerDefinitions";var r1=B.memo(Hp);const o1=n=>({nodesConnectable:n.nodesConnectable,edgesFocusable:n.edgesFocusable,edgesUpdatable:n.edgesUpdatable,elementsSelectable:n.elementsSelectable,width:n.width,height:n.height,connectionMode:n.connectionMode,nodeInternals:n.nodeInternals,onError:n.onError}),Vp=({defaultMarkerColor:n,onlyRenderVisibleElements:o,elevateEdgesOnSelect:i,rfId:l,edgeTypes:a,noPanClassName:c,onEdgeContextMenu:d,onEdgeMouseEnter:h,onEdgeMouseMove:p,onEdgeMouseLeave:g,onEdgeClick:m,onEdgeDoubleClick:v,onReconnect:E,onReconnectStart:k,onReconnectEnd:R,reconnectRadius:j,children:A,disableKeyboardA11y:D})=>{const{edgesFocusable:H,edgesUpdatable:K,elementsSelectable:V,width:J,height:te,connectionMode:G,nodeInternals:re,onError:q}=Oe(o1,lt),L=Qw(o,re,i);return J?ee.createElement(ee.Fragment,null,L.map(({level:W,edges:F,isMaxLevel:b})=>ee.createElement("svg",{key:W,style:{zIndex:W},width:J,height:te,className:"react-flow__edges react-flow__container"},b&&ee.createElement(r1,{defaultColor:n,rfId:l}),ee.createElement("g",null,F.map(S=>{const[N,C,z]=Sh(re.get(S.source)),[I,_,M]=Sh(re.get(S.target));if(!z||!M)return null;let w=S.type||"default";a[w]||(q==null||q("011",Rn.error011(w)),w="default");const T=a[w]||a.default,Z=G===_r.Strict?_.target:(_.target??[]).concat(_.source??[]),X=wh(C.source,S.sourceHandle),oe=wh(Z,S.targetHandle),ne=(X==null?void 0:X.position)||ve.Bottom,ce=(oe==null?void 0:oe.position)||ve.Top,fe=!!(S.focusable||H&&typeof S.focusable>"u"),ue=S.reconnectable||S.updatable,pe=typeof E<"u"&&(ue||K&&typeof ue>"u");if(!X||!oe)return q==null||q("008",Rn.error008(X,S)),null;const{sourceX:Me,sourceY:Ae,targetX:He,targetY:Ve}=Yw(N,X,ne,I,oe,ce);return ee.createElement(T,{key:S.id,id:S.id,className:ct([S.className,c]),type:w,data:S.data,selected:!!S.selected,animated:!!S.animated,hidden:!!S.hidden,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,style:S.style,source:S.source,target:S.target,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerEnd:S.markerEnd,markerStart:S.markerStart,sourceX:Me,sourceY:Ae,targetX:He,targetY:Ve,sourcePosition:ne,targetPosition:ce,elementsSelectable:V,onContextMenu:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:g,onClick:m,onEdgeDoubleClick:v,onReconnect:E,onReconnectStart:k,onReconnectEnd:R,reconnectRadius:j,rfId:l,ariaLabel:S.ariaLabel,isFocusable:fe,isReconnectable:pe,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth,disableKeyboardA11y:D})})))),A):null};Vp.displayName="EdgeRenderer";var i1=B.memo(Vp);const s1=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function l1({children:n}){const o=Oe(s1);return ee.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:o}},n)}function a1(n){const o=fl(),i=B.useRef(!1);B.useEffect(()=>{!i.current&&o.viewportInitialized&&n&&(setTimeout(()=>n(o),1),i.current=!0)},[n,o.viewportInitialized])}const u1={[ve.Left]:ve.Right,[ve.Right]:ve.Left,[ve.Top]:ve.Bottom,[ve.Bottom]:ve.Top},Bp=({nodeId:n,handleType:o,style:i,type:l=Tn.Bezier,CustomComponent:a,connectionStatus:c})=>{var te,G,re;const{fromNode:d,handleId:h,toX:p,toY:g,connectionMode:m}=Oe(B.useCallback(q=>({fromNode:q.nodeInternals.get(n),handleId:q.connectionHandleId,toX:(q.connectionPosition.x-q.transform[0])/q.transform[2],toY:(q.connectionPosition.y-q.transform[1])/q.transform[2],connectionMode:q.connectionMode}),[n]),lt),v=(te=d==null?void 0:d[be])==null?void 0:te.handleBounds;let E=v==null?void 0:v[o];if(m===_r.Loose&&(E=E||(v==null?void 0:v[o==="source"?"target":"source"])),!d||!E)return null;const k=h?E.find(q=>q.id===h):E[0],R=k?k.x+k.width/2:(d.width??0)/2,j=k?k.y+k.height/2:d.height??0,A=(((G=d.positionAbsolute)==null?void 0:G.x)??0)+R,D=(((re=d.positionAbsolute)==null?void 0:re.y)??0)+j,H=k==null?void 0:k.position,K=H?u1[H]:null;if(!H||!K)return null;if(a)return ee.createElement(a,{connectionLineType:l,connectionLineStyle:i,fromNode:d,fromHandle:k,fromX:A,fromY:D,toX:p,toY:g,fromPosition:H,toPosition:K,connectionStatus:c});let V="";const J={sourceX:A,sourceY:D,sourcePosition:H,targetX:p,targetY:g,targetPosition:K};return l===Tn.Bezier?[V]=dp(J):l===Tn.Step?[V]=Pu({...J,borderRadius:0}):l===Tn.SmoothStep?[V]=Pu(J):l===Tn.SimpleBezier?[V]=fp(J):V=`M${A},${D} ${p},${g}`,ee.createElement("path",{d:V,fill:"none",className:"react-flow__connection-path",style:i})};Bp.displayName="ConnectionLine";const c1=n=>({nodeId:n.connectionNodeId,handleType:n.connectionHandleType,nodesConnectable:n.nodesConnectable,connectionStatus:n.connectionStatus,width:n.width,height:n.height});function f1({containerStyle:n,style:o,type:i,component:l}){const{nodeId:a,handleType:c,nodesConnectable:d,width:h,height:p,connectionStatus:g}=Oe(c1,lt);return!(a&&c&&h&&d)?null:ee.createElement("svg",{style:n,width:h,height:p,className:"react-flow__edges react-flow__connectionline react-flow__container"},ee.createElement("g",{className:ct(["react-flow__connection",g])},ee.createElement(Bp,{nodeId:a,handleType:c,style:o,type:i,CustomComponent:l,connectionStatus:g})))}function Nh(n,o){return B.useRef(null),Je(),B.useMemo(()=>o(n),[n])}const qp=({nodeTypes:n,edgeTypes:o,onMove:i,onMoveStart:l,onMoveEnd:a,onInit:c,onNodeClick:d,onEdgeClick:h,onNodeDoubleClick:p,onEdgeDoubleClick:g,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:E,onNodeContextMenu:k,onSelectionContextMenu:R,onSelectionStart:j,onSelectionEnd:A,connectionLineType:D,connectionLineStyle:H,connectionLineComponent:K,connectionLineContainerStyle:V,selectionKeyCode:J,selectionOnDrag:te,selectionMode:G,multiSelectionKeyCode:re,panActivationKeyCode:q,zoomActivationKeyCode:L,deleteKeyCode:W,onlyRenderVisibleElements:F,elementsSelectable:b,selectNodesOnDrag:S,defaultViewport:N,translateExtent:C,minZoom:z,maxZoom:I,preventScrolling:_,defaultMarkerColor:M,zoomOnScroll:w,zoomOnPinch:T,panOnScroll:Z,panOnScrollSpeed:X,panOnScrollMode:oe,zoomOnDoubleClick:ne,panOnDrag:ce,onPaneClick:fe,onPaneMouseEnter:ue,onPaneMouseMove:pe,onPaneMouseLeave:Me,onPaneScroll:Ae,onPaneContextMenu:He,onEdgeContextMenu:Ve,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ye,onEdgeMouseLeave:Ce,onReconnect:xe,onReconnectStart:et,onReconnectEnd:xt,reconnectRadius:jt,noDragClassName:Zt,noWheelClassName:dn,noPanClassName:Pt,elevateEdgesOnSelect:hn,disableKeyboardA11y:Jt,nodeOrigin:Lt,nodeExtent:Ft,rfId:pn})=>{const Ot=Nh(n,Ow),Be=Nh(o,Ww);return a1(c),ee.createElement(Lw,{onPaneClick:fe,onPaneMouseEnter:ue,onPaneMouseMove:pe,onPaneMouseLeave:Me,onPaneContextMenu:He,onPaneScroll:Ae,deleteKeyCode:W,selectionKeyCode:J,selectionOnDrag:te,selectionMode:G,onSelectionStart:j,onSelectionEnd:A,multiSelectionKeyCode:re,panActivationKeyCode:q,zoomActivationKeyCode:L,elementsSelectable:b,onMove:i,onMoveStart:l,onMoveEnd:a,zoomOnScroll:w,zoomOnPinch:T,zoomOnDoubleClick:ne,panOnScroll:Z,panOnScrollSpeed:X,panOnScrollMode:oe,panOnDrag:ce,defaultViewport:N,translateExtent:C,minZoom:z,maxZoom:I,onSelectionContextMenu:R,preventScrolling:_,noDragClassName:Zt,noWheelClassName:dn,noPanClassName:Pt,disableKeyboardA11y:Jt},ee.createElement(l1,null,ee.createElement(i1,{edgeTypes:Be,onEdgeClick:h,onEdgeDoubleClick:g,onlyRenderVisibleElements:F,onEdgeContextMenu:Ve,onEdgeMouseEnter:Pe,onEdgeMouseMove:Ye,onEdgeMouseLeave:Ce,onReconnect:xe,onReconnectStart:et,onReconnectEnd:xt,reconnectRadius:jt,defaultMarkerColor:M,noPanClassName:Pt,elevateEdgesOnSelect:!!hn,disableKeyboardA11y:Jt,rfId:pn},ee.createElement(f1,{style:H,type:D,component:K,containerStyle:V})),ee.createElement("div",{className:"react-flow__edgelabel-renderer"}),ee.createElement(Bw,{nodeTypes:Ot,onNodeClick:d,onNodeDoubleClick:p,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:E,onNodeContextMenu:k,selectNodesOnDrag:S,onlyRenderVisibleElements:F,noPanClassName:Pt,noDragClassName:Zt,disableKeyboardA11y:Jt,nodeOrigin:Lt,nodeExtent:Ft,rfId:pn})))};qp.displayName="GraphView";var d1=B.memo(qp);const zu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Zn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:zu,nodeExtent:zu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:_r.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Hx,isValidConnection:void 0},h1=()=>Kg((n,o)=>({...Zn,setNodes:i=>{const{nodeInternals:l,nodeOrigin:a,elevateNodesOnSelect:c}=o();n({nodeInternals:fu(i,l,a,c)})},getNodes:()=>Array.from(o().nodeInternals.values()),setEdges:i=>{const{defaultEdgeOptions:l={}}=o();n({edges:i.map(a=>({...l,...a}))})},setDefaultNodesAndEdges:(i,l)=>{const a=typeof i<"u",c=typeof l<"u",d=a?fu(i,new Map,o().nodeOrigin,o().elevateNodesOnSelect):new Map;n({nodeInternals:d,edges:c?l:[],hasDefaultNodes:a,hasDefaultEdges:c})},updateNodeDimensions:i=>{const{onNodesChange:l,nodeInternals:a,fitViewOnInit:c,fitViewOnInitDone:d,fitViewOnInitOptions:h,domNode:p,nodeOrigin:g}=o(),m=p==null?void 0:p.querySelector(".react-flow__viewport");if(!m)return;const v=window.getComputedStyle(m),{m22:E}=new window.DOMMatrixReadOnly(v.transform),k=i.reduce((j,A)=>{const D=a.get(A.id);if(D!=null&&D.hidden)a.set(D.id,{...D,[be]:{...D[be],handleBounds:void 0}});else if(D){const H=Hu(A.nodeElement);!!(H.width&&H.height&&(D.width!==H.width||D.height!==H.height||A.forceUpdate))&&(a.set(D.id,{...D,[be]:{...D[be],handleBounds:{source:gh(".source",A.nodeElement,E,g),target:gh(".target",A.nodeElement,E,g)}},...H}),j.push({id:D.id,type:"dimensions",dimensions:H}))}return j},[]);Ip(a,g);const R=d||c&&!d&&Mp(o,{initial:!0,...h});n({nodeInternals:new Map(a),fitViewOnInitDone:R}),(k==null?void 0:k.length)>0&&(l==null||l(k))},updateNodePositions:(i,l=!0,a=!1)=>{const{triggerNodeChanges:c}=o(),d=i.map(h=>{const p={id:h.id,type:"position",dragging:a};return l&&(p.positionAbsolute=h.positionAbsolute,p.position=h.position),p});c(d)},triggerNodeChanges:i=>{const{onNodesChange:l,nodeInternals:a,hasDefaultNodes:c,nodeOrigin:d,getNodes:h,elevateNodesOnSelect:p}=o();if(i!=null&&i.length){if(c){const g=Rp(i,h()),m=fu(g,a,d,p);n({nodeInternals:m})}l==null||l(i)}},addSelectedNodes:i=>{const{multiSelectionActive:l,edges:a,getNodes:c}=o();let d,h=null;l?d=i.map(p=>er(p,!0)):(d=to(c(),i),h=to(a,[])),qs({changedNodes:d,changedEdges:h,get:o,set:n})},addSelectedEdges:i=>{const{multiSelectionActive:l,edges:a,getNodes:c}=o();let d,h=null;l?d=i.map(p=>er(p,!0)):(d=to(a,i),h=to(c(),[])),qs({changedNodes:h,changedEdges:d,get:o,set:n})},unselectNodesAndEdges:({nodes:i,edges:l}={})=>{const{edges:a,getNodes:c}=o(),d=i||c(),h=l||a,p=d.map(m=>(m.selected=!1,er(m.id,!1))),g=h.map(m=>er(m.id,!1));qs({changedNodes:p,changedEdges:g,get:o,set:n})},setMinZoom:i=>{const{d3Zoom:l,maxZoom:a}=o();l==null||l.scaleExtent([i,a]),n({minZoom:i})},setMaxZoom:i=>{const{d3Zoom:l,minZoom:a}=o();l==null||l.scaleExtent([a,i]),n({maxZoom:i})},setTranslateExtent:i=>{var l;(l=o().d3Zoom)==null||l.translateExtent(i),n({translateExtent:i})},resetSelectedElements:()=>{const{edges:i,getNodes:l}=o(),c=l().filter(h=>h.selected).map(h=>er(h.id,!1)),d=i.filter(h=>h.selected).map(h=>er(h.id,!1));qs({changedNodes:c,changedEdges:d,get:o,set:n})},setNodeExtent:i=>{const{nodeInternals:l}=o();l.forEach(a=>{a.positionAbsolute=Vu(a.position,i)}),n({nodeExtent:i,nodeInternals:new Map(l)})},panBy:i=>{const{transform:l,width:a,height:c,d3Zoom:d,d3Selection:h,translateExtent:p}=o();if(!d||!h||!i.x&&!i.y)return!1;const g=tr.translate(l[0]+i.x,l[1]+i.y).scale(l[2]),m=[[0,0],[a,c]],v=d==null?void 0:d.constrain()(g,m,p);return d.transform(h,v),l[0]!==v.x||l[1]!==v.y||l[2]!==v.k},cancelConnection:()=>n({connectionNodeId:Zn.connectionNodeId,connectionHandleId:Zn.connectionHandleId,connectionHandleType:Zn.connectionHandleType,connectionStatus:Zn.connectionStatus,connectionStartHandle:Zn.connectionStartHandle,connectionEndHandle:Zn.connectionEndHandle}),reset:()=>n({...Zn})}),Object.is),Qu=({children:n})=>{const o=B.useRef(null);return o.current||(o.current=h1()),ee.createElement(Rx,{value:o.current},n)};Qu.displayName="ReactFlowProvider";const bp=({children:n})=>B.useContext(ul)?ee.createElement(ee.Fragment,null,n):ee.createElement(Qu,null,n);bp.displayName="ReactFlowWrapper";const p1={input:Np,default:Mu,output:kp,group:Gu},m1={default:ol,straight:Uu,step:bu,smoothstep:cl,simplebezier:qu},g1=[0,0],y1=[15,15],v1={x:0,y:0,zoom:1},x1={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Up=B.forwardRef(({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,className:a,nodeTypes:c=p1,edgeTypes:d=m1,onNodeClick:h,onEdgeClick:p,onInit:g,onMove:m,onMoveStart:v,onMoveEnd:E,onConnect:k,onConnectStart:R,onConnectEnd:j,onClickConnectStart:A,onClickConnectEnd:D,onNodeMouseEnter:H,onNodeMouseMove:K,onNodeMouseLeave:V,onNodeContextMenu:J,onNodeDoubleClick:te,onNodeDragStart:G,onNodeDrag:re,onNodeDragStop:q,onNodesDelete:L,onEdgesDelete:W,onSelectionChange:F,onSelectionDragStart:b,onSelectionDrag:S,onSelectionDragStop:N,onSelectionContextMenu:C,onSelectionStart:z,onSelectionEnd:I,connectionMode:_=_r.Strict,connectionLineType:M=Tn.Bezier,connectionLineStyle:w,connectionLineComponent:T,connectionLineContainerStyle:Z,deleteKeyCode:X="Backspace",selectionKeyCode:oe="Shift",selectionOnDrag:ne=!1,selectionMode:ce=ci.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:ue=rl()?"Meta":"Control",zoomActivationKeyCode:pe=rl()?"Meta":"Control",snapToGrid:Me=!1,snapGrid:Ae=y1,onlyRenderVisibleElements:He=!1,selectNodesOnDrag:Ve=!0,nodesDraggable:Pe,nodesConnectable:Ye,nodesFocusable:Ce,nodeOrigin:xe=g1,edgesFocusable:et,edgesUpdatable:xt,elementsSelectable:jt,defaultViewport:Zt=v1,minZoom:dn=.5,maxZoom:Pt=2,translateExtent:hn=zu,preventScrolling:Jt=!0,nodeExtent:Lt,defaultMarkerColor:Ft="#b1b1b7",zoomOnScroll:pn=!0,zoomOnPinch:Ot=!0,panOnScroll:Be=!1,panOnScrollSpeed:wt=.5,panOnScrollMode:en=Sr.Free,zoomOnDoubleClick:tn=!0,panOnDrag:mn=!0,onPaneClick:St,onPaneMouseEnter:ft,onPaneMouseMove:gn,onPaneMouseLeave:rr,onPaneScroll:yn,onPaneContextMenu:nn,children:vn,onEdgeContextMenu:rn,onEdgeDoubleClick:yi,onEdgeMouseEnter:vi,onEdgeMouseMove:xi,onEdgeMouseLeave:wi,onEdgeUpdate:fo,onEdgeUpdateStart:Si,onEdgeUpdateEnd:or,onReconnect:ho,onReconnectStart:ir,onReconnectEnd:dl,reconnectRadius:sr=10,edgeUpdaterRadius:kr=10,onNodesChange:Cr,onEdgesChange:po,noDragClassName:hl="nodrag",noWheelClassName:pl="nowheel",noPanClassName:Ei="nopan",fitView:xn=!1,fitViewOptions:Ni,connectOnClick:_i=!0,attributionPosition:ml,proOptions:ki,defaultEdgeOptions:Ci,elevateNodesOnSelect:ji=!0,elevateEdgesOnSelect:Pi=!1,disableKeyboardA11y:Ti=!1,autoPanOnConnect:gl=!0,autoPanOnNodeDrag:$e=!0,connectionRadius:yl=20,isValidConnection:mo,onError:Ii,style:jr,id:Mi,nodeDragThreshold:Ri,...Pr},Tt)=>{const go=Mi||"1";return ee.createElement("div",{...Pr,style:{...jr,...x1},ref:Tt,className:ct(["react-flow",a]),"data-testid":"rf__wrapper",id:Mi},ee.createElement(bp,null,ee.createElement(d1,{onInit:g,onMove:m,onMoveStart:v,onMoveEnd:E,onNodeClick:h,onEdgeClick:p,onNodeMouseEnter:H,onNodeMouseMove:K,onNodeMouseLeave:V,onNodeContextMenu:J,onNodeDoubleClick:te,nodeTypes:c,edgeTypes:d,connectionLineType:M,connectionLineStyle:w,connectionLineComponent:T,connectionLineContainerStyle:Z,selectionKeyCode:oe,selectionOnDrag:ne,selectionMode:ce,deleteKeyCode:X,multiSelectionKeyCode:ue,panActivationKeyCode:fe,zoomActivationKeyCode:pe,onlyRenderVisibleElements:He,selectNodesOnDrag:Ve,defaultViewport:Zt,translateExtent:hn,minZoom:dn,maxZoom:Pt,preventScrolling:Jt,zoomOnScroll:pn,zoomOnPinch:Ot,zoomOnDoubleClick:tn,panOnScroll:Be,panOnScrollSpeed:wt,panOnScrollMode:en,panOnDrag:mn,onPaneClick:St,onPaneMouseEnter:ft,onPaneMouseMove:gn,onPaneMouseLeave:rr,onPaneScroll:yn,onPaneContextMenu:nn,onSelectionContextMenu:C,onSelectionStart:z,onSelectionEnd:I,onEdgeContextMenu:rn,onEdgeDoubleClick:yi,onEdgeMouseEnter:vi,onEdgeMouseMove:xi,onEdgeMouseLeave:wi,onReconnect:ho??fo,onReconnectStart:ir??Si,onReconnectEnd:dl??or,reconnectRadius:sr??kr,defaultMarkerColor:Ft,noDragClassName:hl,noWheelClassName:pl,noPanClassName:Ei,elevateEdgesOnSelect:Pi,rfId:go,disableKeyboardA11y:Ti,nodeOrigin:xe,nodeExtent:Lt}),ee.createElement(uw,{nodes:n,edges:o,defaultNodes:i,defaultEdges:l,onConnect:k,onConnectStart:R,onConnectEnd:j,onClickConnectStart:A,onClickConnectEnd:D,nodesDraggable:Pe,nodesConnectable:Ye,nodesFocusable:Ce,edgesFocusable:et,edgesUpdatable:xt,elementsSelectable:jt,elevateNodesOnSelect:ji,minZoom:dn,maxZoom:Pt,nodeExtent:Lt,onNodesChange:Cr,onEdgesChange:po,snapToGrid:Me,snapGrid:Ae,connectionMode:_,translateExtent:hn,connectOnClick:_i,defaultEdgeOptions:Ci,fitView:xn,fitViewOptions:Ni,onNodesDelete:L,onEdgesDelete:W,onNodeDragStart:G,onNodeDrag:re,onNodeDragStop:q,onSelectionDrag:S,onSelectionDragStart:b,onSelectionDragStop:N,noPanClassName:Ei,nodeOrigin:xe,rfId:go,autoPanOnConnect:gl,autoPanOnNodeDrag:$e,onError:Ii,connectionRadius:yl,isValidConnection:mo,nodeDragThreshold:Ri}),ee.createElement(lw,{onSelectionChange:F}),vn,ee.createElement(Ax,{proOptions:ki,position:ml}),ee.createElement(pw,{rfId:go,disableKeyboardA11y:Ti})))});Up.displayName="ReactFlow";function w1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ee.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function S1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ee.createElement("path",{d:"M0 0h32v4.2H0z"}))}function E1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ee.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function N1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ee.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function _1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ee.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const oi=({children:n,className:o,...i})=>ee.createElement("button",{type:"button",className:ct(["react-flow__controls-button",o]),...i},n);oi.displayName="ControlButton";const k1=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom}),Wp=({style:n,showZoom:o=!0,showFitView:i=!0,showInteractive:l=!0,fitViewOptions:a,onZoomIn:c,onZoomOut:d,onFitView:h,onInteractiveChange:p,className:g,children:m,position:v="bottom-left"})=>{const E=Je(),[k,R]=B.useState(!1),{isInteractive:j,minZoomReached:A,maxZoomReached:D}=Oe(k1,lt),{zoomIn:H,zoomOut:K,fitView:V}=fl();if(B.useEffect(()=>{R(!0)},[]),!k)return null;const J=()=>{H(),c==null||c()},te=()=>{K(),d==null||d()},G=()=>{V(a),h==null||h()},re=()=>{E.setState({nodesDraggable:!j,nodesConnectable:!j,elementsSelectable:!j}),p==null||p(!j)};return ee.createElement(op,{className:ct(["react-flow__controls",g]),position:v,style:n,"data-testid":"rf__controls"},o&&ee.createElement(ee.Fragment,null,ee.createElement(oi,{onClick:J,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:D},ee.createElement(w1,null)),ee.createElement(oi,{onClick:te,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:A},ee.createElement(S1,null))),i&&ee.createElement(oi,{className:"react-flow__controls-fitview",onClick:G,title:"fit view","aria-label":"fit view"},ee.createElement(E1,null)),l&&ee.createElement(oi,{className:"react-flow__controls-interactive",onClick:re,title:"toggle interactivity","aria-label":"toggle interactivity"},j?ee.createElement(_1,null):ee.createElement(N1,null)),m)};Wp.displayName="Controls";var C1=B.memo(Wp),Kt;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(Kt||(Kt={}));function j1({color:n,dimensions:o,lineWidth:i}){return ee.createElement("path",{stroke:n,strokeWidth:i,d:`M${o[0]/2} 0 V${o[1]} M0 ${o[1]/2} H${o[0]}`})}function P1({color:n,radius:o}){return ee.createElement("circle",{cx:o,cy:o,r:o,fill:n})}const T1={[Kt.Dots]:"#91919a",[Kt.Lines]:"#eee",[Kt.Cross]:"#e2e2e2"},I1={[Kt.Dots]:1,[Kt.Lines]:1,[Kt.Cross]:6},M1=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function Yp({id:n,variant:o=Kt.Dots,gap:i=20,size:l,lineWidth:a=1,offset:c=2,color:d,style:h,className:p}){const g=B.useRef(null),{transform:m,patternId:v}=Oe(M1,lt),E=d||T1[o],k=l||I1[o],R=o===Kt.Dots,j=o===Kt.Cross,A=Array.isArray(i)?i:[i,i],D=[A[0]*m[2]||1,A[1]*m[2]||1],H=k*m[2],K=j?[H,H]:D,V=R?[H/c,H/c]:[K[0]/c,K[1]/c];return ee.createElement("svg",{className:ct(["react-flow__background",p]),style:{...h,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:g,"data-testid":"rf__background"},ee.createElement("pattern",{id:v+n,x:m[0]%D[0],y:m[1]%D[1],width:D[0],height:D[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${V[0]},-${V[1]})`},R?ee.createElement(P1,{color:E,radius:H/c}):ee.createElement(j1,{dimensions:K,color:E,lineWidth:a})),ee.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${v+n})`}))}Yp.displayName="Background";var R1=B.memo(Yp);const z1=({onFormat:n})=>{const[o,i]=B.useState(!1),l=[{label:"B",format:"b",title:"Bold"},{label:"I",format:"i",title:"Italic"},{label:"~",format:"s",title:"Strikethrough"}],a={"Text Colors":["black","white","gray","silver","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua"],"Extended Colors":["darkred","crimson","tomato","coral","indianred","lightcoral","darkorange","orange","darkgreen","forestgreen","seagreen","darkseagreen","darkcyan","lightseagreen","darkturquoise","turquoise","darkblue","mediumblue","royalblue","cornflowerblue","darkviolet","blueviolet","darkorchid","mediumorchid"]};return x.jsxs("div",{className:"text-format-toolbar",children:[l.map(({label:c,format:d,title:h})=>x.jsx("button",{onClick:()=>n(d),title:h,className:"format-button",children:c},d)),x.jsx("div",{className:"format-divider"}),x.jsxs("div",{className:"color-picker-container",children:[x.jsxs("button",{onClick:()=>i(!o),className:"format-button color-picker-button",title:"Text Color",children:[x.jsx("span",{className:"color-icon",children:"A"}),x.jsx("span",{className:"color-dropdown-arrow",children:"â–¼"})]}),o&&x.jsx("div",{className:"color-picker-dropdown",children:Object.entries(a).map(([c,d])=>x.jsxs("div",{className:"color-category",children:[x.jsx("div",{className:"color-category-label",children:c}),x.jsx("div",{className:"color-grid",children:d.map(h=>x.jsx("button",{onClick:()=>{n("color",h),i(!1)},className:"color-option",style:{backgroundColor:h},title:h.charAt(0).toUpperCase()+h.slice(1)},h))})]},c))})]})]})},A1=(n,o,i,l,a)=>{const c=n.slice(o,i),d=n.slice(0,o),h=n.slice(i);if(l==="color"&&a){const v=`[color=${a}]`,E="[/color]";return o===i?{text:`${d}${v}${E}${h}`,newCursorPos:o+v.length}:{text:`${d}${v}${c}${E}${h}`,newCursorPos:i+v.length+E.length}}const p=`[${l}]`,g=`[/${l}]`;return o===i?{text:`${d}${p}${g}${h}`,newCursorPos:o+p.length}:{text:`${d}${p}${c}${g}${h}`,newCursorPos:i+p.length+g.length}},Zu=({value:n,onChange:o,placeholder:i,className:l=""})=>{const a=B.useRef(null),[c,d]=ee.useState(n);B.useEffect(()=>{d(n)},[n]);const h=(g,m)=>{const v=a.current;if(!v)return;const{selectionStart:E,selectionEnd:k}=v,{text:R,newCursorPos:j}=A1(c,E,k,g,m);d(R),o(R),setTimeout(()=>{v.focus(),v.setSelectionRange(j,j)},0)},p=g=>{const m=g.target.value;d(m),console.log("TextInput handleChange:",m),o(m)};return x.jsxs("div",{className:"text-input-with-toolbar",children:[x.jsx(z1,{onFormat:h}),x.jsx("textarea",{ref:a,value:c,onChange:p,placeholder:i,className:`text-input ${l}`})]})},D1=({node:n,onUpdate:o})=>{const i=l=>{const a={...n,text:l};console.log("NodeInspector handleTextChange - after:",a),o(a)};return x.jsxs("div",{className:"inspector-content",children:[x.jsx("h3",{className:"inspector-title",children:"Node Settings"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Speaker:"}),x.jsx("input",{type:"text",value:n.speaker,onChange:l=>o({...n,speaker:l.target.value}),placeholder:"Who is speaking..."})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Default Text:"}),x.jsx(Zu,{value:n.text,onChange:i,placeholder:"Enter node text...",className:"node-text-input"}),x.jsxs("div",{className:"help-text",children:["Supports BBCode formatting: [b]bold[/b], [i]italic[/i], [s]strikethrough[/s], [color=red]colors[/color], and variables using ","{","$$variable_name","}"]})]})]})},Yt=({value:n,onChange:o,onEnter:i,suggestions:l=[],placeholder:a,className:c})=>{const[d,h]=B.useState(!1),[p,g]=B.useState(-1),m=B.useRef(null),v=B.useRef(null),E=B.useMemo(()=>n?l.filter(R=>R.toLowerCase().includes(n.toLowerCase())):l,[n,l]),k=R=>{R.key==="ArrowDown"?(R.preventDefault(),g(j=>Math.min(j+1,E.length-1))):R.key==="ArrowUp"?(R.preventDefault(),g(j=>Math.max(j-1,-1))):R.key==="Enter"&&i?(R.preventDefault(),i(n)):R.key==="Escape"&&h(!1)};return B.useEffect(()=>{const R=j=>{m.current&&!m.current.contains(j.target)&&v.current&&!v.current.contains(j.target)&&h(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),x.jsxs("div",{className:"autocomplete-container",children:[x.jsx("input",{ref:m,type:"text",value:n,onChange:R=>{o(R.target.value),h(!0)},onFocus:()=>h(!0),onKeyDown:k,placeholder:a,className:c}),d&&E.length>0&&x.jsx("div",{ref:v,className:"suggestions-list",children:E.map((R,j)=>x.jsx("div",{className:`suggestion-item ${j===p?"focused":""}`,onClick:()=>{o(R),h(!1)},onMouseEnter:()=>g(j),children:R},R))})]})},$1=({choice:n,onUpdate:o,availableNodes:i,onCreateNode:l,existingFlags:a,existingStateKeys:c})=>{var H,K,V,J,te,G,re;const[d,h]=ee.useState(""),[p,g]=ee.useState(""),m=q=>{o({...n,text:q})},v=q=>{o({...n,nextNodeId:q})},E=(q,L=!1,W)=>{var F;q&&(i.includes(q)?o(L&&W!==void 0?{...n,alternateDestinations:(F=n.alternateDestinations)==null?void 0:F.map((b,S)=>S===W?{...b,nextNodeId:q}:b)}:{...n,nextNodeId:q}):l==null||l(q))},k=()=>{o({...n,alternateDestinations:[...n.alternateDestinations||[],{nextNodeId:"",prerequisites:{requiredFlags:[],blockedFlags:[],stateConditions:[]}}]})},R=(q,L,W)=>{const F=[...n.stateChanges||[]];for(;F.length<=q;)F.push({key:"",value:0});F[q]={...F[q],[L]:W},console.log("Updating state changes:",F);const b={...n,stateChanges:F};o(b)},j=(q,L)=>{if(!o)return;const W={...n.flagChanges,[q]:L};o({...n,flagChanges:W})},A=q=>{var W;if(!q)return;const L=((W=n.flagChanges)==null?void 0:W.add)||[];j("add",[...L,q]),h("")},D=q=>{var W;if(!q)return;const L=((W=n.flagChanges)==null?void 0:W.remove)||[];j("remove",[...L,q]),g("")};return x.jsxs("div",{className:"inspector-content",children:[x.jsx("h3",{className:"inspector-title",children:"Choice Settings"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Text:"}),x.jsx(Zu,{value:n.text,onChange:m,placeholder:"Enter choice text...",className:"choice-text-input"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Next Node:"}),x.jsx("div",{className:"next-node-selector",children:x.jsxs("div",{className:"node-id-input",children:[x.jsx(Yt,{value:n.nextNodeId,onChange:v,onEnter:q=>E(q),suggestions:i,placeholder:"Select or create node..."}),x.jsx("button",{onClick:()=>E(n.nextNodeId),className:"quick-create-button",disabled:!n.nextNodeId||i.includes(n.nextNodeId)||!!n.exit,children:"Create Node"})]})})]}),x.jsxs("div",{className:"form-group",children:[x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:!!n.exit,onChange:q=>{o({...n,exit:q.target.checked?{status:""}:void 0,nextNodeId:q.target.checked?"":n.nextNodeId})}}),"End conversation with status code"]}),n.exit&&x.jsx("input",{type:"text",value:n.exit.status,onChange:q=>{o({...n,exit:{status:q.target.value}})},placeholder:"Enter status code...",className:"exit-status-input"})]}),x.jsxs("div",{className:"prerequisites-section",children:[x.jsx("h4",{children:"Prerequisites"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Required Flags:"}),x.jsx(Yt,{value:"",onChange:q=>{var L,W;o({...n,prerequisites:{...n.prerequisites||{},requiredFlags:((W=(L=n.prerequisites)==null?void 0:L.requiredFlags)==null?void 0:W.filter(F=>F!==q))||[]}})},suggestions:a,placeholder:"Add required flag..."}),x.jsx("div",{className:"flag-chips",children:(K=(H=n.prerequisites)==null?void 0:H.requiredFlags)==null?void 0:K.map(q=>x.jsxs("div",{className:"flag-chip",children:[q,x.jsx("button",{onClick:()=>{var L,W;return o({...n,prerequisites:{...n.prerequisites,requiredFlags:((W=(L=n.prerequisites)==null?void 0:L.requiredFlags)==null?void 0:W.filter(F=>F!==q))||[]}})},children:"Ã—"})]},q))})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"State Conditions:"}),x.jsx("button",{onClick:()=>{var q;return o({...n,prerequisites:{...n.prerequisites,stateConditions:[...((q=n.prerequisites)==null?void 0:q.stateConditions)||[],{key:"",operator:"=",value:0}]}})},className:"add-condition-button",children:"Add Condition"}),(J=(V=n.prerequisites)==null?void 0:V.stateConditions)==null?void 0:J.map((q,L)=>x.jsxs("div",{className:"state-condition",children:[x.jsx(Yt,{value:q.key,onChange:W=>{var F,b;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(b=(F=n.prerequisites)==null?void 0:F.stateConditions)==null?void 0:b.map((S,N)=>N===L?{...S,key:W}:S)}})},suggestions:c,placeholder:"State key"}),x.jsxs("select",{className:"operator-select",value:q.operator,onChange:W=>{var F,b;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(b=(F=n.prerequisites)==null?void 0:F.stateConditions)==null?void 0:b.map((S,N)=>N===L?{...S,operator:W.target.value}:S)}})},children:[x.jsx("option",{value:"=",children:"="}),x.jsx("option",{value:">",children:">"}),x.jsx("option",{value:"<",children:"<"}),x.jsx("option",{value:">=",children:"â‰¥"}),x.jsx("option",{value:"<=",children:"â‰¤"})]}),x.jsx("input",{type:"number",value:q.value,onChange:W=>{var F,b;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(b=(F=n.prerequisites)==null?void 0:F.stateConditions)==null?void 0:b.map((S,N)=>N===L?{...S,value:Number(W.target.value)}:S)}})}}),x.jsx("button",{onClick:()=>{var W,F;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(F=(W=n.prerequisites)==null?void 0:W.stateConditions)==null?void 0:F.filter((b,S)=>S!==L)}})},className:"remove-condition-button",children:"Ã—"})]},L))]})]}),x.jsxs("div",{className:"alternate-destinations-section",children:[x.jsxs("div",{className:"section-header",children:[x.jsx("h4",{children:"Alternate Destinations"}),x.jsx("button",{onClick:k,className:"add-section-button",children:"Add Alternate Path"})]}),(te=n.alternateDestinations)==null?void 0:te.map((q,L)=>{var W,F,b,S;return x.jsxs("div",{className:"alternate-destination",children:[x.jsxs("div",{className:"destination-header",children:[x.jsxs("h5",{children:["Alternate Path ",L+1]}),x.jsx("button",{onClick:()=>{var N;return o({...n,alternateDestinations:(N=n.alternateDestinations)==null?void 0:N.filter((C,z)=>z!==L)})},className:"remove-destination-button",children:"Remove"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Next Node:"}),x.jsx("div",{className:"next-node-selector",children:x.jsxs("div",{className:"node-id-input",children:[x.jsx(Yt,{value:q.nextNodeId,onChange:N=>{var C;return o({...n,alternateDestinations:(C=n.alternateDestinations)==null?void 0:C.map((z,I)=>I===L?{...z,nextNodeId:N}:z)})},onEnter:N=>E(N,!0,L),suggestions:i,placeholder:"Select or create node..."}),x.jsx("button",{onClick:()=>E(q.nextNodeId,!0,L),className:"quick-create-button",disabled:!q.nextNodeId||i.includes(q.nextNodeId),children:"Create Node"})]})})]}),x.jsxs("div",{className:"prerequisites-section",children:[x.jsx("h4",{children:"Prerequisites"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Required Flags:"}),x.jsx(Yt,{value:"",onChange:N=>{var z,I;const C=((z=q.prerequisites)==null?void 0:z.requiredFlags)||[];o({...n,alternateDestinations:(I=n.alternateDestinations)==null?void 0:I.map((_,M)=>M===L?{..._,prerequisites:{..._.prerequisites,requiredFlags:[...C,N]}}:_)})},suggestions:a,placeholder:"Add required flag..."}),x.jsx("div",{className:"flag-chips",children:(F=(W=q.prerequisites)==null?void 0:W.requiredFlags)==null?void 0:F.map(N=>x.jsxs("div",{className:"flag-chip",children:[N,x.jsx("button",{onClick:()=>{var C;return o({...n,alternateDestinations:(C=n.alternateDestinations)==null?void 0:C.map((z,I)=>{var _;return I===L?{...z,prerequisites:{...z.prerequisites,requiredFlags:(_=z.prerequisites.requiredFlags)==null?void 0:_.filter(M=>M!==N)}}:z})})},children:"Ã—"})]},N))})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"State Conditions:"}),x.jsx("button",{onClick:()=>{var N;return o({...n,alternateDestinations:(N=n.alternateDestinations)==null?void 0:N.map((C,z)=>{var I;return z===L?{...C,prerequisites:{...C.prerequisites,stateConditions:[...((I=C.prerequisites)==null?void 0:I.stateConditions)||[],{key:"",operator:"=",value:0}]}}:C})})},className:"add-condition-button",children:"Add Condition"}),(S=(b=q.prerequisites)==null?void 0:b.stateConditions)==null?void 0:S.map((N,C)=>x.jsxs("div",{className:"state-condition",children:[x.jsx(Yt,{value:N.key,onChange:z=>{var I;return o({...n,alternateDestinations:(I=n.alternateDestinations)==null?void 0:I.map((_,M)=>{var w;return M===L?{..._,prerequisites:{..._.prerequisites,stateConditions:(w=_.prerequisites.stateConditions)==null?void 0:w.map((T,Z)=>Z===C?{...T,key:z}:T)}}:_})})},suggestions:c,placeholder:"State key"}),x.jsxs("select",{className:"operator-select",value:N.operator,onChange:z=>{var I;return o({...n,alternateDestinations:(I=n.alternateDestinations)==null?void 0:I.map((_,M)=>{var w;return M===L?{..._,prerequisites:{..._.prerequisites,stateConditions:(w=_.prerequisites.stateConditions)==null?void 0:w.map((T,Z)=>Z===C?{...T,operator:z.target.value}:T)}}:_})})},children:[x.jsx("option",{value:"=",children:"="}),x.jsx("option",{value:">",children:">"}),x.jsx("option",{value:"<",children:"<"}),x.jsx("option",{value:">=",children:"â‰¥"}),x.jsx("option",{value:"<=",children:"â‰¤"})]}),x.jsx("input",{type:"number",value:N.value,onChange:z=>{var I;return o({...n,alternateDestinations:(I=n.alternateDestinations)==null?void 0:I.map((_,M)=>{var w;return M===L?{..._,prerequisites:{..._.prerequisites,stateConditions:(w=_.prerequisites.stateConditions)==null?void 0:w.map((T,Z)=>Z===C?{...T,value:Number(z.target.value)}:T)}}:_})})}}),x.jsx("button",{onClick:()=>{var z;return o({...n,alternateDestinations:(z=n.alternateDestinations)==null?void 0:z.map((I,_)=>{var M;return _===L?{...I,prerequisites:{...I.prerequisites,stateConditions:(M=I.prerequisites.stateConditions)==null?void 0:M.filter((w,T)=>T!==C)}}:I})})},className:"remove-condition-button",children:"Ã—"})]},C))]})]})]},L)})]}),x.jsxs("div",{className:"effects-section",children:[x.jsx("h4",{children:"Effects"}),x.jsxs("div",{className:"state-changes",children:[x.jsx("h5",{children:"State Changes"}),(n.stateChanges||[]).map((q,L)=>x.jsxs("div",{className:"state-change-row",children:[x.jsx(Yt,{value:q.key||"",onChange:W=>R(L,"key",W),suggestions:c,placeholder:"State key..."}),x.jsxs("select",{value:q.operation||"set",onChange:W=>R(L,"operation",W.target.value),children:[x.jsx("option",{value:"set",children:"Set"}),x.jsx("option",{value:"add",children:"Add"}),x.jsx("option",{value:"subtract",children:"Subtract"})]}),x.jsx("input",{type:"number",value:q.value||0,onChange:W=>R(L,"value",Number(W.target.value)),placeholder:"Value"}),x.jsx("button",{onClick:()=>{var F;const W=((F=n.stateChanges)==null?void 0:F.filter((b,S)=>S!==L))||[];o({...n,stateChanges:W})},children:"Ã—"})]},L)),x.jsx("button",{onClick:()=>{const q=[...n.stateChanges||[]];q.push({key:"",value:0,operation:"set"}),o({...n,stateChanges:q})},className:"add-state-change-button",children:"Add State Change"})]}),x.jsxs("div",{className:"flag-changes",children:[x.jsx("h5",{children:"Flag Changes"}),x.jsxs("div",{className:"flag-section",children:[x.jsx("label",{children:"Add Flags:"}),x.jsx(Yt,{value:d,onChange:h,onEnter:A,suggestions:a,placeholder:"Add flags... (press Enter)"}),x.jsx("div",{className:"flag-chips",children:(((G=n.flagChanges)==null?void 0:G.add)||[]).map(q=>x.jsxs("div",{className:"flag-chip",children:[q,x.jsx("button",{onClick:()=>{var W;const L=((W=n.flagChanges)==null?void 0:W.add)||[];j("add",L.filter(F=>F!==q))},children:"Ã—"})]},q))})]}),x.jsxs("div",{className:"flag-section",children:[x.jsx("label",{children:"Remove Flags:"}),x.jsx(Yt,{value:p,onChange:g,onEnter:D,suggestions:a,placeholder:"Remove flags... (press Enter)"}),x.jsx("div",{className:"flag-chips",children:(((re=n.flagChanges)==null?void 0:re.remove)||[]).map(q=>x.jsxs("div",{className:"flag-chip",children:[q,x.jsx("button",{onClick:()=>{var W;const L=((W=n.flagChanges)==null?void 0:W.remove)||[];j("remove",L.filter(F=>F!==q))},children:"Ã—"})]},q))})]})]})]})]})},L1=({alternateText:n,onUpdate:o,existingFlags:i=[],existingStateKeys:l=[]})=>{var a,c,d,h;return x.jsxs("div",{className:"inspector-content",children:[x.jsx("h3",{className:"inspector-title",children:"Alternate Text Settings"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Text:"}),x.jsx(Zu,{value:n.text,onChange:p=>o({...n,text:p}),placeholder:"Enter alternate text...",className:"alternate-text-input"}),x.jsxs("div",{className:"help-text",children:["Supports markdown and variables using ","{","$$variable_name","}"]})]}),x.jsxs("div",{className:"prerequisites-section",children:[x.jsx("h4",{children:"Prerequisites"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Required Flags:"}),x.jsx(Yt,{value:"",onChange:p=>{var v;const g=((v=n.prerequisites)==null?void 0:v.requiredFlags)||[],m={...n.prerequisites,requiredFlags:g.filter(E=>E!==p)||[]};o({...n,prerequisites:m})},suggestions:i,placeholder:"Add required flag..."}),x.jsx("div",{className:"flag-chips",children:(c=(a=n.prerequisites)==null?void 0:a.requiredFlags)==null?void 0:c.map(p=>x.jsxs("div",{className:"flag-chip",children:[p,x.jsx("button",{onClick:()=>{var g,m;return o({...n,prerequisites:{...n.prerequisites,requiredFlags:((m=(g=n==null?void 0:n.prerequisites)==null?void 0:g.requiredFlags)==null?void 0:m.filter(v=>v!==p))||[]}})},children:"Ã—"})]},p))})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"State Conditions:"}),x.jsx("button",{onClick:()=>{var p;return o({...n,prerequisites:{...n.prerequisites,stateConditions:[...((p=n.prerequisites)==null?void 0:p.stateConditions)||[],{key:"",operator:"=",value:0}]}})},className:"add-condition-button",children:"Add Condition"}),(h=(d=n.prerequisites)==null?void 0:d.stateConditions)==null?void 0:h.map((p,g)=>x.jsxs("div",{className:"state-condition",children:[x.jsx(Yt,{value:p.key,onChange:m=>{var v,E;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(E=(v=n==null?void 0:n.prerequisites)==null?void 0:v.stateConditions)==null?void 0:E.map((k,R)=>R===g?{...k,key:m}:k)}})},suggestions:l,placeholder:"State key"}),x.jsxs("select",{value:p.operator,onChange:m=>{var v,E;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(E=(v=n==null?void 0:n.prerequisites)==null?void 0:v.stateConditions)==null?void 0:E.map((k,R)=>R===g?{...k,operator:m.target.value}:k)}})},children:[x.jsx("option",{value:"=",children:"="}),x.jsx("option",{value:">",children:">"}),x.jsx("option",{value:"<",children:"<"}),x.jsx("option",{value:">=",children:"â‰¥"}),x.jsx("option",{value:"<=",children:"â‰¤"})]}),x.jsx("input",{type:"number",value:p.value,onChange:m=>{var v,E;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(E=(v=n==null?void 0:n.prerequisites)==null?void 0:v.stateConditions)==null?void 0:E.map((k,R)=>R===g?{...k,value:Number(m.target.value)}:k)}})}}),x.jsx("button",{onClick:()=>{var m,v;return o({...n,prerequisites:{...n.prerequisites,stateConditions:((v=(m=n==null?void 0:n.prerequisites)==null?void 0:m.stateConditions)==null?void 0:v.filter((E,k)=>k!==g))||[]}})},className:"remove-condition-button",children:"Ã—"})]},g))]})]})]})},F1=({target:n,node:o,onUpdate:i,availableNodes:l,onCreateNode:a,existingFlags:c,existingStateKeys:d})=>{console.log("Inspector render - target:",n),console.log("Inspector render - node:",o);const h=()=>{switch(n.type){case"node":return x.jsx(D1,{node:o,onUpdate:i});case"choice":return typeof n.index=="number"&&x.jsx($1,{choice:o.choices[n.index],onUpdate:p=>{const g={...o,choices:o.choices.map((m,v)=>v===n.index?p:m)};i(g)},availableNodes:l,onCreateNode:a,existingFlags:c,existingStateKeys:d});case"alternateText":return x.jsx(L1,{alternateText:o.alternateTexts[n.index],onUpdate:p=>{i({...o,alternateTexts:o.alternateTexts.map((g,m)=>m===n.index?p:g)})},existingFlags:c,existingStateKeys:d});default:return null}};return x.jsx("div",{className:"inspector",children:h()})},di=({text:n})=>{const o=i=>{const l=[];let a="",c=0;const d=/\[(\/?)(b|i|s|color=([^\]]+))\]/g;let h;for(;(h=d.exec(i))!==null;){const g=i.slice(c,h.index);g&&(a+=g);const[m,v,E,k]=h;if(v)a&&(l.push(x.jsx("span",{children:a},l.length)),a="");else if(a&&(l.push(x.jsx("span",{children:a},l.length)),a=""),E.startsWith("color=")){const R=k,j=i.indexOf("[/color]",h.index);if(j!==-1){const A=i.slice(h.index+m.length,j);l.push(x.jsx("span",{style:{color:R},children:A},l.length)),d.lastIndex=j+8}}else{const R={b:{fontWeight:"bold"},i:{fontStyle:"italic"},s:{textDecoration:"line-through"}},j=i.indexOf(`[/${E}]`,h.index);if(j!==-1){const A=i.slice(h.index+m.length,j);l.push(x.jsx("span",{style:R[E],children:A},l.length)),d.lastIndex=j+E.length+3}}c=d.lastIndex}const p=i.slice(c);return p&&l.push(x.jsx("span",{children:p},l.length)),l};return x.jsx("div",{className:"bbcode-text",children:o(n)})},Xp=({node:n,dialogueTree:o,isOpen:i,onClose:l,onSave:a,availableNodes:c,onCreateNode:d})=>{var G,re,q;const[h,p]=B.useState({...n}),[g,m]=B.useState(null),[v,E]=B.useState(n.emotion||""),[k,R]=B.useState(n.character||Object.keys(o.characters)[0]),[j,A]=B.useState(n.speaker||((G=o.characters[k])==null?void 0:G.name)||""),D=Object.keys(((re=o.characters[k])==null?void 0:re.portraits)||{}),{existingFlags:H,existingStateKeys:K}=ee.useMemo(()=>{const L=new Set,W=new Set;return Object.values(o.nodes).forEach(F=>{var b;(b=F.alternateTexts)==null||b.forEach(S=>{var N,C,z,I,_,M;(C=(N=S.prerequisites)==null?void 0:N.requiredFlags)==null||C.forEach(w=>L.add(w)),(I=(z=S.prerequisites)==null?void 0:z.blockedFlags)==null||I.forEach(w=>L.add(w)),(M=(_=S.prerequisites)==null?void 0:_.stateConditions)==null||M.forEach(w=>{W.add(w.key)})}),F.choices.forEach(S=>{var N,C,z,I,_,M,w,T,Z,X,oe;(C=(N=S.prerequisites)==null?void 0:N.requiredFlags)==null||C.forEach(ne=>L.add(ne)),(I=(z=S.prerequisites)==null?void 0:z.blockedFlags)==null||I.forEach(ne=>L.add(ne)),(M=(_=S.prerequisites)==null?void 0:_.stateConditions)==null||M.forEach(ne=>{W.add(ne.key)}),(T=(w=S.flagChanges)==null?void 0:w.add)==null||T.forEach(ne=>L.add(ne)),(X=(Z=S.flagChanges)==null?void 0:Z.remove)==null||X.forEach(ne=>L.add(ne)),(oe=S.stateChanges)==null||oe.forEach(ne=>{W.add(ne.key)})})}),{existingFlags:Array.from(L).sort(),existingStateKeys:Array.from(W).sort()}},[o]),V=()=>{p(L=>({...L,choices:[...L.choices,{id:`choice_${Date.now()}`,text:"New choice",nextNodeId:c[0]||""}]}))},J=L=>{console.log("DialogueNodeEditor handleInspectorUpdate - before:",h),console.log("DialogueNodeEditor handleInspectorUpdate - update:",L),p(L),console.log("DialogueNodeEditor handleInspectorUpdate - after state set")},te=()=>{console.log("DialogueNodeEditor handleSave - before:",h);const L={...h,emotion:v,character:k,speaker:j};console.log("DialogueNodeEditor handleSave - after:",L),console.log("DialogueNodeEditor calling onSave with:",L),a(L),console.log("DialogueNodeEditor onSave called"),l()};return B.useEffect(()=>{E(n.emotion||"")},[n]),B.useEffect(()=>{p(L=>({...L,emotion:v}))},[v]),B.useEffect(()=>{p({...n})},[n]),B.useEffect(()=>{console.log("DialogueNodeEditor editedNode changed:",h)},[h]),B.useEffect(()=>{var L;n.speaker||A(((L=o.characters[k])==null?void 0:L.name)||"")},[k]),i?x.jsx("div",{className:"modal-overlay",children:x.jsxs("div",{className:"node-editor-modal",children:[x.jsxs("div",{className:"node-editor-header",children:[x.jsxs("div",{className:"node-editor-title",children:[x.jsx("h3",{children:"Edit Node"}),x.jsx("span",{className:"node-id",children:h.id})]}),x.jsx("button",{onClick:l,className:"close-button",children:"Ã—"})]}),x.jsxs("div",{className:"node-editor-content",children:[x.jsxs("div",{className:"node-editor-main",children:[x.jsxs("div",{className:"editor-section",children:[x.jsx("div",{className:"editor-section-header",children:x.jsx("h4",{children:"Character"})}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{children:"Character:"}),x.jsx("select",{value:k,onChange:L=>R(L.target.value),children:Object.entries(o.characters).map(([L,W])=>x.jsx("option",{value:L,children:W.name},L))})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{children:"Display Name:"}),x.jsx("input",{type:"text",value:j,onChange:L=>A(L.target.value),placeholder:"Custom speaker name..."})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{children:"Emotion"}),x.jsxs("select",{value:v,onChange:L=>E(L.target.value),children:[x.jsx("option",{value:"",children:"Default"}),D.map(L=>x.jsx("option",{value:L,children:L},L))]})]})]}),x.jsxs("div",{className:"editor-section",children:[x.jsx("div",{className:"editor-section-header",children:x.jsx("h4",{children:"Default Text"})}),x.jsxs("div",{className:"node-preview",onClick:()=>m({type:"node",id:h.id}),children:[x.jsx("div",{className:"node-speaker",children:h.speaker}),x.jsx("div",{className:"node-text",children:x.jsx(di,{text:h.text})})]})]}),x.jsxs("div",{className:"editor-section",children:[x.jsxs("div",{className:"editor-section-header",children:[x.jsx("h4",{children:"Alternate Texts"}),x.jsx("button",{onClick:()=>{p(L=>({...L,alternateTexts:[...L.alternateTexts||[],{text:"",prerequisites:{}}]}))},className:"add-section-button",children:"Add Alternate Text"})]}),(q=h.alternateTexts)==null?void 0:q.map((L,W)=>{var F,b,S,N;return x.jsxs("div",{className:"alternate-text-preview",onClick:()=>m({type:"alternateText",id:h.id,index:W}),children:[x.jsxs("div",{className:"alternate-text-content",children:[x.jsx(di,{text:L.text||"(Empty text)"}),L.emotion&&x.jsxs("span",{className:"alternate-text-emotion",children:["â€¢ ",L.emotion]})]}),x.jsxs("div",{className:"alternate-text-conditions",children:[(b=(F=L.prerequisites)==null?void 0:F.requiredFlags)!=null&&b.length?x.jsxs("div",{className:"condition-tag",children:["Required: ",L.prerequisites.requiredFlags.join(", ")]}):null,(N=(S=L.prerequisites)==null?void 0:S.stateConditions)!=null&&N.length?x.jsxs("div",{className:"condition-tag",children:[L.prerequisites.stateConditions.length," condition(s)"]}):null]})]},W)})]}),x.jsxs("div",{className:"editor-section",children:[x.jsxs("div",{className:"editor-section-header",children:[x.jsx("h4",{children:"Choices"}),x.jsx("button",{onClick:V,className:"add-section-button",children:"Add Choice"})]}),h.choices.map((L,W)=>x.jsxs("div",{className:`choice-preview ${L.exit?"choice-preview-exit":""}`,onClick:()=>m({type:"choice",id:L.id,index:W}),children:[x.jsx("div",{className:"choice-text",children:L.text}),x.jsxs("div",{className:"choice-meta",children:[L.prerequisites&&x.jsx("span",{className:"condition-badge",children:"âš¡"}),L.flagChanges&&x.jsx("span",{className:"flag-badge",children:"ðŸš©"}),L.stateChanges&&L.stateChanges.length>0&&x.jsx("span",{className:"state-badge",children:"ðŸ“Š"}),L.exit?x.jsxs("span",{className:"exit-badge",children:["ðŸšª ",L.exit.status]}):`â†’ ${L.nextNodeId||"???"}`]})]},L.id))]})]}),g&&x.jsx("div",{className:"node-editor-inspector",children:x.jsx(F1,{target:g,node:h,onUpdate:J,availableNodes:c,onCreateNode:d,existingFlags:H,existingStateKeys:K})})]}),x.jsxs("div",{className:"node-editor-footer",children:[x.jsx("button",{onClick:te,className:"save-button",children:"Save Changes"}),x.jsx("button",{onClick:l,className:"cancel-button",children:"Cancel"})]})]})}):null},O1=({children:n,variant:o="primary",size:i="medium",className:l="",...a})=>x.jsx("button",{className:`button ${o} ${i} ${l}`,...a,children:n}),H1=({data:n,id:o,style:i})=>x.jsxs("div",{className:"dialogue-node",style:i,children:[x.jsx(co,{type:"target",position:ve.Left}),x.jsxs("div",{className:"dialogue-node-header",children:[x.jsxs("div",{className:"dialogue-node-speaker",children:[n.speaker,n.emotion&&x.jsxs("span",{className:"dialogue-node-emotion",children:["â€¢ ",n.emotion]})]}),x.jsx("div",{className:"dialogue-node-id",children:o})]}),x.jsx("div",{className:"dialogue-node-text",children:x.jsx(di,{text:n.text})}),x.jsxs("div",{className:"dialogue-node-choices",children:[x.jsx("div",{className:"dialogue-node-choices-label",children:"Player options:"}),n.choices.map((l,a)=>{var g,m,v,E,k,R,j,A,D,H,K;const c=!!((m=(g=l.prerequisites)==null?void 0:g.requiredFlags)!=null&&m.length)||!!((E=(v=l.prerequisites)==null?void 0:v.stateConditions)!=null&&E.length),d=!!((R=(k=l.prerequisites)==null?void 0:k.blockedFlags)!=null&&R.length),h=!l.nextNodeId&&!l.exit,p=l.exit?`Exit: ${l.exit.status}`:h?"Missing target node!":c?`Required: ${(A=(j=l.prerequisites)==null?void 0:j.requiredFlags)==null?void 0:A.join(", ")}${(D=l.prerequisites)!=null&&D.blockedFlags?`
Blocked by: ${l.prerequisites.blockedFlags.join(", ")}`:""}`:d?`Can be blocked by: ${(K=(H=l.prerequisites)==null?void 0:H.blockedFlags)==null?void 0:K.join(", ")}`:"";return x.jsxs("div",{className:`dialogue-node-choice ${c?"locked":""} ${d?"blockable":""} ${l.exit?"exit":""} ${h?"broken":""}`,title:p,children:["â€¢ ",l.text,c&&x.jsx("span",{className:"lock-icon",children:"ðŸ”’"}),d&&x.jsx("span",{className:"block-icon",children:"âš ï¸"}),h&&x.jsx("span",{className:"broken-icon",children:"âš¡"}),l.exit&&x.jsx("span",{className:"exit-icon",children:"ðŸšª"})]},a)})]}),x.jsx(co,{type:"source",position:ve.Right})]}),V1={dialogueNode:H1},B1=n=>{const h=Math.ceil(n.text.length/35)*20,p=n.choices.length*30,g=n.choices.length>0?p+20:0;return 80+h+g},q1=({dialogueTree:n,onCreateNode:o,onUpdate:i})=>{const[l,a]=B.useState([]),[c,d]=B.useState([]),[h,p]=B.useState(null),[g,m]=B.useState(null),v=400,E=200,k=50,{fitView:R}=fl(),j=B.useCallback(()=>{const F=[],b=[],S=new Map,N=new Map,C=new Map;Object.entries(n.nodes).forEach(([w,T])=>{N.set(w,B1(T))});const z=(w,T,Z)=>{if(Z.has(w))return;Z.add(w);const X=n.nodes[w];X&&(C.has(T)||C.set(T,[]),C.get(T).push(w),X.choices.forEach(oe=>{var ne;oe.nextNodeId&&n.nodes[oe.nextNodeId]&&z(oe.nextNodeId,T+1,Z),(ne=oe.alternateDestinations)==null||ne.forEach(ce=>{ce.nextNodeId&&n.nodes[ce.nextNodeId]&&z(ce.nextNodeId,T+1,Z)})}))};z(n.startNodeId,0,new Set),C.forEach((w,T)=>{const Z=w.length;w.forEach((ue,pe)=>{var Ve;const Me=T*v;let Ae=(pe-(Z-1)/2)*E;const He=S.get(w[pe-1]);if(He){const Pe=N.get(w[pe-1])||0,Ye=He.y+Pe+k;Ae<Ye&&(Ae=Ye)}if(pe>0){const Pe=((Ve=S.get(w[pe-1]))==null?void 0:Ve.y)||0,Ce=(N.get(w[pe-1])||0)+k;Ae-Pe<Ce&&(Ae=Pe+Ce)}S.set(ue,{x:Me,y:Ae})});const X=w.map(ue=>{const pe=S.get(ue),Me=N.get(ue)||0;return{y:(pe==null?void 0:pe.y)||0,height:Me}}),oe=Math.min(...X.map(ue=>ue.y)),fe=-(Math.max(...X.map(ue=>ue.y+ue.height))-oe)/2;w.forEach(ue=>{const pe=S.get(ue);pe&&S.set(ue,{x:pe.x,y:pe.y+fe})})}),Object.entries(n.nodes).forEach(([w,T])=>{const Z=S.get(w)||{x:0,y:0};F.push({id:w,type:"dialogueNode",position:Z,data:{text:T.text,speaker:T.speaker,emotion:T.emotion,choices:T.choices.map(X=>({...X,prerequisites:X.prerequisites,exit:X.exit}))},style:{width:250},draggable:!0}),T.choices.forEach((X,oe)=>{var fe,ue,pe,Me,Ae,He,Ve;const ne=((ue=(fe=X.prerequisites)==null?void 0:fe.requiredFlags)==null?void 0:ue.length)||((Me=(pe=X.prerequisites)==null?void 0:pe.blockedFlags)==null?void 0:Me.length)||((He=(Ae=X.prerequisites)==null?void 0:Ae.stateConditions)==null?void 0:He.length),ce={type:"smoothstep",sourceHandle:ve.Right,targetHandle:ve.Left,labelStyle:{fill:"var(--color-text)",fontWeight:500},labelBgStyle:{fill:"var(--color-background-tertiary)",stroke:"var(--color-border)",strokeWidth:1,color:"white",rx:4,ry:4},labelBgPadding:[4,4],labelBgBorderRadius:4};(Ve=X.alternateDestinations)!=null&&Ve.length?X.alternateDestinations.forEach((Pe,Ye)=>{b.push({...ce,id:`${w}-${Pe.nextNodeId}-alt-${Ye}`,source:w,target:Pe.nextNodeId,label:X.text,animated:!0,style:{strokeWidth:2,stroke:ne?"var(--color-text-tertiary)":"var(--color-border)",strokeDasharray:ne?"5 5":void 0},markerEnd:{type:uo.ArrowClosed,width:20,height:20,color:ne?"var(--color-text-tertiary)":"var(--color-primary)"}})}):b.push({...ce,id:`${w}-${X.nextNodeId}-${oe}`,source:w,target:X.nextNodeId,label:X.text,style:{strokeWidth:2,stroke:ne?"var(--color-text-tertiary)":"var(--color-border)",strokeDasharray:ne?"5 5":void 0},markerEnd:{type:uo.ArrowClosed,width:20,height:20,color:ne?"var(--color-text-tertiary)":"var(--color-border)"}})})});const I=w=>{const T=[],Z=[],X=Math.max(...w.map(fe=>{const ue=S.get(fe.id);return ue?ue.x:0}));let oe=0;const ne=150,ce=400;return w.forEach(fe=>{fe.choices.forEach(ue=>{if(ue.exit){const pe=`exit_${ue.exit.status}`;T.find(Me=>Me.id===pe)||(T.push({id:pe,type:"exit",data:{label:`Exit: ${ue.exit.status}`},position:{x:X+ce,y:oe},style:{background:"var(--color-error-light)",border:"2px solid var(--color-error)",borderRadius:"8px",padding:"10px"}}),oe+=ne),Z.push({id:`${fe.id}-${pe}`,source:fe.id,target:pe,label:ue.text,type:"exit",style:{stroke:"#ff6666"}})}})}),{exitNodes:T,exitEdges:Z}},{exitNodes:_,exitEdges:M}=I(Object.values(n.nodes));a([...F,..._]),d([...b,...M])},[n]);ee.useEffect(()=>{j()},[n,j]);const A=B.useCallback(F=>{a(b=>Rp(F,b))},[]),D=B.useCallback((F,b)=>{b&&typeof b=="object"&&"id"in b&&typeof b.id=="string"&&(p(b.id),m(b.id))},[]),H=B.useCallback(F=>{if(!n)return;const b={...n,nodes:{...n.nodes,[F.id]:F}};i(b),p(null)},[n,i]),K=B.useCallback(F=>{h&&(o==null||o(F))},[h,o]),V=B.useCallback((F,b)=>{b&&typeof b.id=="string"&&m(b.id)},[]),J=B.useCallback((F,b)=>{b&&typeof b.id=="string"&&m(b.id)},[]);B.useEffect(()=>{h||m(null)},[h]);const te=(F,b,S="both")=>{const N=new Set;return N.add(F),b.forEach(C=>{(S==="outgoing"||S==="both")&&C.source===F&&N.add(C.target),(S==="incoming"||S==="both")&&C.target===F&&N.add(C.source)}),N},G=B.useMemo(()=>g?te(g,c):null,[g,c]),re=B.useMemo(()=>G?l.map(F=>({...F,style:{...F.style,opacity:G.has(F.id)?1:.2,transition:"opacity 0.3s ease-in-out"},className:G.has(F.id)?"connected-node":"unconnected-node"})):l,[l,G]),q=B.useMemo(()=>G?c.map(F=>({...F,style:{...F.style,opacity:G.has(F.source)&&G.has(F.target)?1:.2,transition:"opacity 0.3s ease-in-out"},className:G.has(F.source)&&G.has(F.target)?"connected-edge":"unconnected-edge"})):c,[c,G]),L=B.useCallback(()=>{m(null)},[]),W=B.useCallback(()=>{if(!n)return;const F=300,b=150,S=50,N=100,C=new Map,z=new Set,I=(X,oe)=>{if(z.has(X))return;z.add(X),C.set(X,Math.max(C.get(X)||0,oe));const ne=n.nodes[X];ne&&ne.choices.forEach(ce=>{var fe;ce.nextNodeId&&I(ce.nextNodeId,oe+1),(fe=ce.alternateDestinations)==null||fe.forEach(ue=>{ue.nextNodeId&&I(ue.nextNodeId,oe+1)})})};I(n.startNodeId,0);const _=new Map;C.forEach((X,oe)=>{var ne;_.has(X)||_.set(X,[]),(ne=_.get(X))==null||ne.push(oe)});const M=[...l];_.forEach((X,oe)=>{const ne=(X.length-1)*b;X.forEach((ce,fe)=>{const ue=M.find(pe=>pe.id===ce);ue&&(ue.position={x:S+oe*F,y:N+fe*b-ne/2})})});const w=Math.max(..._.keys(),0),T=M.filter(X=>X.type==="exit"),Z=(T.length-1)*b;T.forEach((X,oe)=>{X.position={x:S+(w+1)*F,y:N+oe*b-Z/2}}),a(M),setTimeout(()=>{R({padding:.2})},100)},[n,l]);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{style:{height:"calc(100vh - 160px)",width:"100%",position:"relative"},children:[x.jsx("div",{style:{position:"absolute",top:10,right:10,zIndex:1},children:x.jsx(O1,{onClick:W,children:"Arrange Nodes"})}),x.jsxs(Up,{nodes:re,edges:q,nodeTypes:V1,connectionLineType:Tn.SmoothStep,onNodesChange:A,onNodeDoubleClick:D,onNodeClick:V,onNodeDragStart:J,onPaneClick:L,fitView:!0,children:[x.jsx(R1,{}),x.jsx(C1,{})]})]}),h&&x.jsx(Xp,{node:n.nodes[h],dialogueTree:n,isOpen:!0,onClose:()=>p(null),onSave:H,availableNodes:Object.keys(n.nodes),onCreateNode:K})]})},_h=(n,o)=>{console.log("Input text:",n),console.log("Variables:",o);const i=/\{\$\$([^}]+)\}/g,l=n.replace(i,(a,c)=>{const d=c.trim(),h=o[d];return console.log(`Matching: "${a}"`),console.log(`Variable name: "${d}"`),console.log(`Value found: ${h}`),h!==void 0?h.toString():"VALUE_NOT_FOUND"});return console.log("Output text:",l),l},mu=n=>{const o=/\{\$\$([^}]+)\}/g;return(n.match(o)||[]).map(l=>l.slice(3,-1).trim())},gu="./characters/default/default.webp",b1=({dialogueTree:n,isOpen:o,onClose:i})=>{var b,S;const[l,a]=B.useState(n.startNodeId),[c,d]=B.useState([]),[h,p]=B.useState(new Set),[g,m]=B.useState({}),[v,E]=B.useState(!1),[k,R]=B.useState(new Set),j=B.useRef(null),A=()=>{var N;(N=j.current)==null||N.scrollIntoView({behavior:"smooth"})};B.useEffect(()=>{A()},[c]);const{allFlags:D,allStateKeys:H}=ee.useMemo(()=>{const N=new Set,C=new Set;return Object.values(n.nodes).forEach(z=>{var I;mu(z.text).forEach(_=>C.add(_)),(I=z.alternateTexts)==null||I.forEach(_=>{var M,w,T,Z,X,oe;mu(_.text).forEach(ne=>C.add(ne)),(w=(M=_.prerequisites)==null?void 0:M.requiredFlags)==null||w.forEach(ne=>N.add(ne)),(Z=(T=_.prerequisites)==null?void 0:T.blockedFlags)==null||Z.forEach(ne=>N.add(ne)),(oe=(X=_.prerequisites)==null?void 0:X.stateConditions)==null||oe.forEach(ne=>{C.add(ne.key)})}),z.choices.forEach(_=>{var M,w,T,Z,X,oe;mu(_.text).forEach(ne=>C.add(ne)),_.prerequisites&&((M=_.prerequisites.requiredFlags)==null||M.forEach(ne=>N.add(ne)),(w=_.prerequisites.blockedFlags)==null||w.forEach(ne=>N.add(ne)),(T=_.prerequisites.stateConditions)==null||T.forEach(ne=>{C.add(ne.key)})),_.flagChanges&&((Z=_.flagChanges.add)==null||Z.forEach(ne=>N.add(ne)),(X=_.flagChanges.remove)==null||X.forEach(ne=>N.add(ne))),(oe=_.stateChanges)==null||oe.forEach(ne=>{C.add(ne.key)})})}),{allFlags:Array.from(N).sort(),allStateKeys:Array.from(C).sort()}},[n]);ee.useEffect(()=>{m(N=>{const C={...N};return H.forEach(z=>{z in C||(z==="jonas_weight"?C[z]=450:C[z]=0)}),C})},[H]);const K=N=>{p(C=>{const z=new Set(C);return z.has(N)?z.delete(N):z.add(N),z})},V=N=>{var z;if(!N)return{text:""};const C=(z=N.alternateTexts)==null?void 0:z.find(I=>{if(!I.prerequisites)return!1;const{requiredFlags:_,blockedFlags:M,stateConditions:w}=I.prerequisites;return!(_!=null&&_.some(T=>!h.has(T))||M!=null&&M.some(T=>h.has(T))||w!=null&&w.some(T=>!W(T,g)))});return C?{text:C.text,emotion:C.emotion||N.emotion}:{text:N.text,emotion:N.emotion}};ee.useEffect(()=>{l&&d(N=>N.map(C=>{if(C.isPlayer)return C;const z=Object.values(n.nodes).find(I=>I.speaker===C.speaker&&I.text===C.originalText);return z?{...C,text:V(z).text,originalText:z.text,emotion:z.emotion}:C}))},[h,g,l,n.nodes]);const J=ee.useCallback(()=>{const N=n.nodes[n.startNodeId];a(n.startNodeId),d([{text:V(N).text,originalText:N.text,speaker:N.speaker,emotion:N.emotion,isPlayer:!1}])},[n]);ee.useEffect(()=>{o&&J()},[o,n,J]);const te=(N,C)=>{if(!N||!C||!n.characters[N])return gu;const z=n.characters[N].portraits,I=z[C]||z[n.characters[N].defaultEmotion];if(!I)return gu;if(I.startsWith("res://")||!I.startsWith("/characters/"))return"Godot Image Path";try{return"./"+I.replace(/^\//,"")}catch{return gu}},G=n==null?void 0:n.nodes[l],re=te(G==null?void 0:G.character,G==null?void 0:G.emotion),q=N=>{let C=N.nextNodeId;if(N.alternateDestinations){for(const I of N.alternateDestinations)if(I.prerequisites&&L({prerequisites:I.prerequisites},h,g)){C=I.nextNodeId;break}}const z=n.nodes[C];if(!z){console.error("Next node not found:",C);return}N.flagChanges&&p(I=>{var M,w,T,Z;const _=new Set(I);return(w=(M=N.flagChanges)==null?void 0:M.add)==null||w.forEach(X=>_.add(X)),(Z=(T=N.flagChanges)==null?void 0:T.remove)==null||Z.forEach(X=>_.delete(X)),_}),N.stateChanges&&m(I=>{var M;const _={...I};return(M=N.stateChanges)==null||M.forEach(w=>{const T=_[w.key]??0;switch(w.operation){case"add":_[w.key]=T+w.value;break;case"subtract":_[w.key]=T-w.value;break;default:_[w.key]=w.value}}),_}),d(I=>[...I,{text:N.text,speaker:"You",isPlayer:!0},{text:V(z).text,originalText:z.text,speaker:z.speaker,emotion:z.emotion,isPlayer:!1}]),a(C)},L=(N,C,z)=>{if(!N.prerequisites)return!0;const{requiredFlags:I,blockedFlags:_,stateConditions:M}=N.prerequisites;return!(I!=null&&I.some(w=>!C.has(w))||_!=null&&_.some(w=>C.has(w))||M!=null&&M.some(w=>!W(w,z)))},W=(N,C)=>{const z=C[N.key]??0;switch(N.operator){case"=":return z===N.value;case">":return z>N.value;case"<":return z<N.value;case">=":return z>=N.value;case"<=":return z<=N.value;default:return!1}},F=(N,C)=>{if(!N.prerequisites)return"";const{requiredFlags:z,blockedFlags:I,stateConditions:_}=N.prerequisites,M=[];return z!=null&&z.some(w=>!C.has(w))&&M.push(`Required flags: ${z.join(", ")}`),I!=null&&I.some(w=>C.has(w))&&M.push(`Blocked by flags: ${I.join(", ")}`),_!=null&&_.length&&M.push("State conditions not met"),M.join(`
`)};return!o||!n||!G?null:x.jsx("div",{className:"modal-overlay",children:x.jsxs("div",{className:"dialogue-preview-modal",children:[x.jsxs("div",{className:"preview-header",children:[x.jsxs("h3",{children:["Dialogue Preview - ",G==null?void 0:G.speaker]}),x.jsxs("div",{className:"preview-controls",children:[x.jsx("button",{onClick:()=>E(!v),className:"flag-manager-button",title:"Toggle game flags",children:"ðŸš© Game Flags"}),x.jsx("button",{onClick:i,className:"close-button",children:"Ã—"})]})]}),x.jsxs("div",{className:"preview-content",children:[v&&x.jsxs("div",{className:"flag-manager",children:[x.jsxs("div",{className:"flag-manager-header",children:[x.jsx("h4",{children:"Game State"}),x.jsx("button",{onClick:()=>{p(new Set),m(Object.fromEntries([...H].map(N=>[N,0])))},className:"clear-flags-button",children:"Reset All"})]}),x.jsx("div",{className:"state-list",children:H.length>0&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"state-section-header",children:"State Values"}),H.map(N=>x.jsxs("div",{className:`state-item ${N==="jonas_weight"?"variable-item":""}`,children:[x.jsx("span",{className:"state-name",children:N}),x.jsx("input",{type:"number",value:g[N]??0,onChange:C=>m(z=>({...z,[N]:Number(C.target.value)})),className:"state-input"})]},N))]})}),x.jsx("div",{className:"flag-list",children:D.map(N=>x.jsxs("label",{className:"flag-item",children:[x.jsx("input",{type:"checkbox",checked:h.has(N),onChange:()=>K(N)}),x.jsx("span",{className:"flag-name",children:N})]},N))})]}),x.jsxs("div",{className:"character-portrait-container",children:[x.jsx("img",{className:"character-portrait",src:re,alt:`${(G==null?void 0:G.speaker)||"Unknown"} - ${(G==null?void 0:G.emotion)||"default"}`,onError:N=>{var I,_;const C=N.target,z=C.src;if(!k.has(z)){R(w=>new Set([...w,z]));const M=n.characters[G.character];((I=M==null?void 0:M.portraits)==null?void 0:I.default)!==z&&(C.src=(_=M==null?void 0:M.portraits)==null?void 0:_.default)}}}),x.jsxs("div",{className:"character-portrait-info",children:[x.jsx("div",{className:"character-portrait-name",children:G==null?void 0:G.speaker}),((b=c[c.length-1])==null?void 0:b.emotion)&&x.jsx("div",{className:"character-portrait-emotion",children:c[c.length-1].emotion})]})]}),x.jsxs("div",{className:"dialogue-container",children:[x.jsxs("div",{className:"messages-container",children:[c.map((N,C)=>{const z=_h(N.text,g);return x.jsxs("div",{className:`message ${N.isPlayer?"player":"npc"}`,children:[x.jsx("div",{className:"message-speaker",children:N.speaker}),x.jsx("div",{className:"message-text",children:x.jsx(di,{text:z})})]},C)}),x.jsx("div",{ref:j})," "]}),x.jsx("div",{className:"choices-container",children:(S=G==null?void 0:G.choices)==null?void 0:S.map(N=>{const C=L(N,h,g),z=C?"":F(N,h),I=_h(N.text,g);return x.jsxs("button",{onClick:()=>C&&q(N),className:`choice-button ${C?"":"locked"}`,disabled:!n.nodes[N.nextNodeId],title:z,children:[!C&&x.jsx("span",{className:"lock-icon",children:"ðŸ”’"}),x.jsx("div",{className:"choice-text",children:x.jsx(di,{text:I})})]},N.id)})}),x.jsx("div",{className:"preview-footer",children:x.jsx("button",{onClick:J,className:"reset-button",children:"Reset Conversation"})})]})]})]})})},U1=n=>{const o=l=>l.replace(/[A-Z]/g,a=>`_${a.toLowerCase()}`).replace(/^_/,""),i=(l,a="")=>{if(Array.isArray(l))return l.length===0?"[]":`[${l.map(c=>i(c,a)).join(", ")}]`;if(typeof l=="object"&&l!==null){const c=Object.entries(l).filter(([,d])=>d!==void 0).map(([d,h])=>{const p=o(d);return d==="text"?`"${p}": "${h}"`:`"${p}": ${i(h,a)}`});return c.length===0?"{}":`{${c.join(", ")}}`}return typeof l=="string"?`"${l.replace(/"/g,'\\"')}"`:String(l)};return`[gd_resource type="Resource" script_class="DialogueTree" load_steps=2 format=3]

[ext_resource type="Script" path="res://addons/dialogue_tree/dialogue_tree.gd" id="1_script"]

[resource]
script = ExtResource("1_script")
name = "${n.name}"
characters = ${i(n.characters)}
start_node_id = "${n.startNodeId}"
nodes = ${i(n.nodes)}`},Gp=async(n,o,i)=>{try{const a=await(await window.showSaveFilePicker({suggestedName:o,...i})).createWritable();await a.write(n),await a.close()}catch(l){if(l instanceof Error&&l.name!=="AbortError"){console.error("Error saving file:",l);const a=document.createElement("a"),c=new Blob([n],{type:"text/plain"});a.href=URL.createObjectURL(c),a.download=o,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},W1=async n=>{const o=U1(n),i=`${n.name.toLowerCase().replace(/\s+/g,"_")}.tres`;await Gp(o,i,{types:[{description:"Godot Resource",accept:{"application/tres":[".tres"]}}]})},Y1=async()=>{try{const o=await(await fetch("/src/assets/dialogueTree.gd")).text();await Gp(o,"dialogue_tree.gd",{types:[{description:"GDScript File",accept:{"text/x-gdscript":[".gd"]}}]})}catch(n){console.error("Error downloading script:",n)}},X1=({dialogueTree:n,isOpen:o,onClose:i,onUpdate:l})=>{const[a,c]=B.useState(n.characters),[d,h]=B.useState(""),[p,g]=B.useState("");B.useEffect(()=>{o&&c(n.characters)},[o,n.characters]);const m=()=>{const A=`character_${Date.now()}`;c(D=>({...D,[A]:{name:"New Character",defaultEmotion:"default",portraits:{default:"/characters/default/default.png"}}}))},v=(A,D)=>{c(H=>({...H,[A]:{...H[A],...D}}))},E=A=>{!d||!p||(c(D=>({...D,[A]:{...D[A],portraits:{...D[A].portraits,[d]:p}}})),h(""),g(""))},k=A=>{c(D=>{const H={...D};return delete H[A],H})},R=()=>{l({...n,characters:a}),i()},j=()=>{c(n.characters),i()};return o?x.jsx("div",{className:"modal-overlay",children:x.jsxs("div",{className:"character-manager-modal",children:[x.jsxs("div",{className:"character-manager-header",children:[x.jsx("h3",{children:"Character Manager"}),x.jsx("button",{onClick:j,className:"close-button",children:"Ã—"})]}),x.jsxs("div",{className:"character-manager-content",children:[x.jsx("button",{onClick:m,className:"add-character-button",children:"Add Character"}),x.jsx("div",{className:"character-list",children:Object.entries(a).map(([A,D])=>x.jsxs("div",{className:"character-item",children:[x.jsxs("div",{className:"character-header",children:[x.jsx("input",{type:"text",value:D.name,onChange:H=>v(A,{name:H.target.value}),className:"character-name-input"}),x.jsx("select",{value:D.defaultEmotion,onChange:H=>v(A,{defaultEmotion:H.target.value}),className:"default-emotion-select",children:Object.keys(D.portraits).map(H=>x.jsx("option",{value:H,children:H},H))}),x.jsx("button",{onClick:()=>k(A),className:"delete-character-button",title:"Delete Character",children:"ðŸ—‘ï¸"})]}),x.jsxs("div",{className:"portrait-list",children:[Object.entries(D.portraits).map(([H,K])=>x.jsxs("div",{className:"portrait-item",children:[x.jsx("span",{className:"portrait-emotion",children:H}),x.jsx("input",{type:"text",value:K,onChange:V=>v(A,{portraits:{...D.portraits,[H]:V.target.value}}),className:"portrait-url-input"})]},H)),x.jsxs("div",{className:"add-portrait",children:[x.jsx("input",{type:"text",value:d,onChange:H=>h(H.target.value),placeholder:"Emotion name...",className:"new-emotion-input"}),x.jsx("input",{type:"text",value:p,onChange:H=>g(H.target.value),placeholder:"Portrait URL...",className:"new-url-input"}),x.jsx("button",{onClick:()=>E(A),className:"add-portrait-button",children:"Add Portrait"})]})]})]},A))})]}),x.jsxs("div",{className:"character-manager-footer",children:[x.jsx("button",{onClick:j,className:"cancel-button",children:"Cancel"}),x.jsx("button",{onClick:R,className:"save-button",children:"Save Changes"})]})]})}):null},yu="dialogue_tree_data",Us="./characters/default/default.webp",G1=()=>{var re,q,L,W;const[n,o]=B.useState(null),[i,l]=B.useState(null),[a,c]=B.useState(!1),[d,h]=B.useState(!1),[p,g]=B.useState(!1),[m,v]=B.useState(""),[E]=B.useState(Og()),[k,R]=B.useState(((re=E[0])==null?void 0:re.path)||""),[j,A]=B.useState(!1);B.useEffect(()=>{const F=localStorage.getItem(yu);if(F)try{o(JSON.parse(F))}catch(b){console.error("Error loading saved data:",b),G()}else G()},[]),B.useEffect(()=>{n&&localStorage.setItem(yu,JSON.stringify(n))},[n]);const D=async()=>{if(!n)return;const F=JSON.stringify(n,null,2),b=`${n.name}.json`;try{if("showSaveFilePicker"in window){const N=await(await window.showSaveFilePicker({suggestedName:b,types:[{description:"JSON File",accept:{"application/json":[".json"]}}]})).createWritable();await N.write(F),await N.close()}else throw new Error("File system API not supported")}catch(S){if(S&&typeof S=="object"&&"name"in S&&S.name!=="AbortError"){console.error("Error saving file:",S);const N=document.createElement("a"),C=new Blob([F],{type:"application/json"});N.href=URL.createObjectURL(C),N.download=b,document.body.appendChild(N),N.click(),document.body.removeChild(N)}}},H=async F=>{if(F&&window.confirm("Loading a file will discard any unsaved changes. Continue?"))try{const b=await F.text();if(F.name.endsWith(".tres"))console.log("Not yet implemented");else{const S=JSON.parse(b);o(S)}l(null),localStorage.removeItem(yu)}catch(b){console.error("Error loading file:",b)}},K=()=>{var F,b,S;if(n){if(!n.characters.default){o({...n,characters:{...n.characters,default:{name:"Default",defaultEmotion:"default",portraits:{default:Us}}}});return}p?(o({...n,characters:{...n.characters,default:{...n.characters.default,portraits:{...n.characters.default.portraits,default:m}}}}),g(!1)):(v(((S=(b=(F=n==null?void 0:n.characters)==null?void 0:F.default)==null?void 0:b.portraits)==null?void 0:S.default)||Us),g(!0))}},V=F=>{l(F),c(!0)},J=F=>{if(console.log("DialogueEditor handleNodeSave called"),console.log("DialogueEditor handleNodeSave - before:",n==null?void 0:n.nodes[F.id]),console.log("DialogueEditor handleNodeSave - update:",F),!n)return;const b={...n,nodes:{...n.nodes,[F.id]:{...F}}};console.log("DialogueEditor handleNodeSave - after:",b.nodes[F.id]),o(b),l(null),c(!1)},te=F=>{if(!n)return;const b={id:F,character:Object.keys(n.characters)[0],speaker:n.characters[Object.keys(n.characters)[0]].name,text:"New dialogue node",choices:[{id:`choice_${Date.now()}`,text:"Continue",nextNodeId:""}]};o(S=>S&&{...S,nodes:{...S.nodes,[F]:b}})},G=async()=>{try{const F=E.find(b=>b.path===k);if(F){const S=await(await fetch(F.path)).json();S.characters||(S.characters={default:{name:"Default",defaultEmotion:"default",portraits:{default:Us}}}),o(S)}}catch(F){console.error("Error loading template:",F),o({name:"New Dialogue",characters:{default:{name:"Default",defaultEmotion:"default",portraits:{default:Us}}},startNodeId:"start",nodes:{}})}};return n?x.jsx("div",{className:"dialogue-editor",children:x.jsxs(Qu,{children:[x.jsx("div",{className:"editor-header",children:x.jsxs("div",{className:"editor-controls",children:[x.jsx("select",{value:k,onChange:F=>R(F.target.value),className:"template-select",children:E.map(F=>x.jsx("option",{value:F.path,children:F.name},F.path))}),x.jsx("button",{onClick:G,className:"template-button",children:"New from Template"}),x.jsx("div",{className:"editor-controls-divider"}),x.jsxs("div",{className:"picture-edit-container",children:[p?x.jsx("input",{type:"text",value:m,onChange:F=>v(F.target.value),placeholder:"Character picture URL...",className:"picture-url-input"}):x.jsx("span",{className:"current-picture",children:((W=(L=(q=n==null?void 0:n.characters)==null?void 0:q.default)==null?void 0:L.portraits)==null?void 0:W.default)||"No picture set"}),x.jsx("button",{onClick:K,className:"picture-edit-button",children:p?"Save":"Edit Picture"})]}),x.jsx("div",{className:"editor-controls-divider"}),x.jsx("button",{onClick:D,className:"save-button",children:"Save"}),x.jsx("input",{type:"file",accept:".json,.tres",onChange:F=>{var S;const b=(S=F.target.files)==null?void 0:S[0];b&&H(b),F.target.value=""},style:{display:"none"},id:"load-file"}),x.jsx("label",{htmlFor:"load-file",className:"load-button",children:"Load"}),x.jsx("button",{onClick:()=>h(!0),className:"preview-button",children:"Preview"}),x.jsx("button",{onClick:()=>W1(n),className:"export-button",children:"Export Resource"}),x.jsx("button",{onClick:Y1,className:"export-button",children:"Export Script"}),x.jsx("button",{onClick:()=>A(!0),className:"character-manager-button",children:"ðŸ‘¥ Characters"})]})}),x.jsx("div",{className:"editor-content",children:x.jsx(q1,{dialogueTree:n,onNodeSelect:V,onCreateNode:te,onUpdate:F=>{console.log("DialogueEditor onUpdate called with:",F),o(F)}})}),i&&x.jsx(Xp,{node:i,dialogueTree:n,isOpen:a,onClose:()=>c(!1),onSave:J,availableNodes:Object.keys(n.nodes),onCreateNode:te}),x.jsx(b1,{dialogueTree:n,isOpen:d,onClose:()=>h(!1)}),x.jsx(X1,{dialogueTree:n,isOpen:j,onClose:()=>A(!1),onUpdate:o})]})}):x.jsx("div",{children:"Loading..."})};function K1(){return x.jsx(Lg,{children:x.jsxs("div",{className:"App",children:[x.jsx("header",{children:x.jsx("h1",{children:"Dialogue Tree Editor"})}),x.jsxs("main",{children:[x.jsx(G1,{}),x.jsx(Fg,{})]})]})})}var Ws={},kh;function Q1(){if(kh)return Ws;kh=1;var n=np();return Ws.createRoot=n.createRoot,Ws.hydrateRoot=n.hydrateRoot,Ws}var Z1=Q1();const J1=Z1.createRoot(document.getElementById("root"));J1.render(x.jsx(K1,{}));
