(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();function kh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ka={exports:{}},Ko={},Qa={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed;function Rg(){if(Ed)return Ne;Ed=1;var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function E(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,j={};function D(w,I,te){this.props=w,this.context=I,this.refs=j,this.updater=te||k}D.prototype.isReactComponent={},D.prototype.setState=function(w,I){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,I,"setState")},D.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function $(){}$.prototype=D.prototype;function H(w,I,te){this.props=w,this.context=I,this.refs=j,this.updater=te||k}var G=H.prototype=new $;G.constructor=H,A(G,D.prototype),G.isPureReactComponent=!0;var O=Array.isArray,J=Object.prototype.hasOwnProperty,Q={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function ne(w,I,te){var Z,oe={},re=null,ce=null;if(I!=null)for(Z in I.ref!==void 0&&(ce=I.ref),I.key!==void 0&&(re=""+I.key),I)J.call(I,Z)&&!K.hasOwnProperty(Z)&&(oe[Z]=I[Z]);var he=arguments.length-2;if(he===1)oe.children=te;else if(1<he){for(var ve=Array(he),Se=0;Se<he;Se++)ve[Se]=arguments[Se+2];oe.children=ve}if(w&&w.defaultProps)for(Z in he=w.defaultProps,he)oe[Z]===void 0&&(oe[Z]=he[Z]);return{$$typeof:n,type:w,key:re,ref:ce,props:oe,_owner:Q.current}}function q(w,I){return{$$typeof:n,type:w.type,key:I,ref:w.ref,props:w.props,_owner:w._owner}}function R(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function b(w){var I={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(te){return I[te]})}var B=/\/+/g;function Y(w,I){return typeof w=="object"&&w!==null&&w.key!=null?b(""+w.key):I.toString(36)}function S(w,I,te,Z,oe){var re=typeof w;(re==="undefined"||re==="boolean")&&(w=null);var ce=!1;if(w===null)ce=!0;else switch(re){case"string":case"number":ce=!0;break;case"object":switch(w.$$typeof){case n:case o:ce=!0}}if(ce)return ce=w,oe=oe(ce),w=Z===""?"."+Y(ce,0):Z,O(oe)?(te="",w!=null&&(te=w.replace(B,"$&/")+"/"),S(oe,I,te,"",function(Se){return Se})):oe!=null&&(R(oe)&&(oe=q(oe,te+(!oe.key||ce&&ce.key===oe.key?"":(""+oe.key).replace(B,"$&/")+"/")+w)),I.push(oe)),1;if(ce=0,Z=Z===""?".":Z+":",O(w))for(var he=0;he<w.length;he++){re=w[he];var ve=Z+Y(re,he);ce+=S(re,I,te,ve,oe)}else if(ve=E(w),typeof ve=="function")for(w=ve.call(w),he=0;!(re=w.next()).done;)re=re.value,ve=Z+Y(re,he++),ce+=S(re,I,te,ve,oe);else if(re==="object")throw I=String(w),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return ce}function _(w,I,te){if(w==null)return w;var Z=[],oe=0;return S(w,Z,"","",function(re){return I.call(te,re,oe++)}),Z}function C(w){if(w._status===-1){var I=w._result;I=I(),I.then(function(te){(w._status===0||w._status===-1)&&(w._status=1,w._result=te)},function(te){(w._status===0||w._status===-1)&&(w._status=2,w._result=te)}),w._status===-1&&(w._status=0,w._result=I)}if(w._status===1)return w._result.default;throw w._result}var z={current:null},M={transition:null},N={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:M,ReactCurrentOwner:Q};function T(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:_,forEach:function(w,I,te){_(w,function(){I.apply(this,arguments)},te)},count:function(w){var I=0;return _(w,function(){I++}),I},toArray:function(w){return _(w,function(I){return I})||[]},only:function(w){if(!R(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Ne.Component=D,Ne.Fragment=i,Ne.Profiler=a,Ne.PureComponent=H,Ne.StrictMode=l,Ne.Suspense=p,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,Ne.act=T,Ne.cloneElement=function(w,I,te){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var Z=A({},w.props),oe=w.key,re=w.ref,ce=w._owner;if(I!=null){if(I.ref!==void 0&&(re=I.ref,ce=Q.current),I.key!==void 0&&(oe=""+I.key),w.type&&w.type.defaultProps)var he=w.type.defaultProps;for(ve in I)J.call(I,ve)&&!K.hasOwnProperty(ve)&&(Z[ve]=I[ve]===void 0&&he!==void 0?he[ve]:I[ve])}var ve=arguments.length-2;if(ve===1)Z.children=te;else if(1<ve){he=Array(ve);for(var Se=0;Se<ve;Se++)he[Se]=arguments[Se+2];Z.children=he}return{$$typeof:n,type:w.type,key:oe,ref:re,props:Z,_owner:ce}},Ne.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:c,_context:w},w.Consumer=w},Ne.createElement=ne,Ne.createFactory=function(w){var I=ne.bind(null,w);return I.type=w,I},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(w){return{$$typeof:h,render:w}},Ne.isValidElement=R,Ne.lazy=function(w){return{$$typeof:m,_payload:{_status:-1,_result:w},_init:C}},Ne.memo=function(w,I){return{$$typeof:g,type:w,compare:I===void 0?null:I}},Ne.startTransition=function(w){var I=M.transition;M.transition={};try{w()}finally{M.transition=I}},Ne.unstable_act=T,Ne.useCallback=function(w,I){return z.current.useCallback(w,I)},Ne.useContext=function(w){return z.current.useContext(w)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(w){return z.current.useDeferredValue(w)},Ne.useEffect=function(w,I){return z.current.useEffect(w,I)},Ne.useId=function(){return z.current.useId()},Ne.useImperativeHandle=function(w,I,te){return z.current.useImperativeHandle(w,I,te)},Ne.useInsertionEffect=function(w,I){return z.current.useInsertionEffect(w,I)},Ne.useLayoutEffect=function(w,I){return z.current.useLayoutEffect(w,I)},Ne.useMemo=function(w,I){return z.current.useMemo(w,I)},Ne.useReducer=function(w,I,te){return z.current.useReducer(w,I,te)},Ne.useRef=function(w){return z.current.useRef(w)},Ne.useState=function(w){return z.current.useState(w)},Ne.useSyncExternalStore=function(w,I,te){return z.current.useSyncExternalStore(w,I,te)},Ne.useTransition=function(){return z.current.useTransition()},Ne.version="18.3.1",Ne}var Nd;function hi(){return Nd||(Nd=1,Qa.exports=Rg()),Qa.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d;function Ag(){if(_d)return Ko;_d=1;var n=hi(),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var m,v={},E=null,k=null;g!==void 0&&(E=""+g),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(k=p.ref);for(m in p)l.call(p,m)&&!c.hasOwnProperty(m)&&(v[m]=p[m]);if(h&&h.defaultProps)for(m in p=h.defaultProps,p)v[m]===void 0&&(v[m]=p[m]);return{$$typeof:o,type:h,key:E,ref:k,props:v,_owner:a.current}}return Ko.Fragment=i,Ko.jsx=d,Ko.jsxs=d,Ko}var kd;function Dg(){return kd||(kd=1,Ka.exports=Ag()),Ka.exports}var x=Dg(),V=hi();const ee=kh(V),Ch=V.createContext({theme:"light",toggleTheme:()=>{}}),$g=()=>V.useContext(Ch),Lg=({children:n})=>{const[o,i]=V.useState("light");V.useEffect(()=>{const a=localStorage.getItem("theme");if(a)i(a);else{const c=window.matchMedia("(prefers-color-scheme: dark)").matches;i(c?"dark":"light")}},[]),V.useEffect(()=>{document.documentElement.setAttribute("data-theme",o),localStorage.setItem("theme",o)},[o]);const l=()=>{i(a=>a==="light"?"dark":"light")};return x.jsx(Ch.Provider,{value:{theme:o,toggleTheme:l},children:n})},Fg=()=>{const{theme:n,toggleTheme:o}=$g();return x.jsx("button",{onClick:o,className:"theme-toggle",title:`Switch to ${n==="light"?"dark":"light"} theme`,children:n==="light"?"ðŸŒ™":"â˜€ï¸"})},Og=()=>[{name:"Tutorial",path:"./templates/tutorialDialogue.json",content:{name:"",characters:{},startNodeId:"",nodes:{}}}];function ut(n){if(typeof n=="string"||typeof n=="number")return""+n;let o="";if(Array.isArray(n))for(let i=0,l;i<n.length;i++)(l=ut(n[i]))!==""&&(o+=(o&&" ")+l);else for(let i in n)n[i]&&(o+=(o&&" ")+i);return o}var Za={exports:{}},Ja={},eu={exports:{}},tu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd;function Hg(){if(Cd)return tu;Cd=1;var n=hi();function o(v,E){return v===E&&(v!==0||1/v===1/E)||v!==v&&E!==E}var i=typeof Object.is=="function"?Object.is:o,l=n.useState,a=n.useEffect,c=n.useLayoutEffect,d=n.useDebugValue;function h(v,E){var k=E(),A=l({inst:{value:k,getSnapshot:E}}),j=A[0].inst,D=A[1];return c(function(){j.value=k,j.getSnapshot=E,p(j)&&D({inst:j})},[v,k,E]),a(function(){return p(j)&&D({inst:j}),v(function(){p(j)&&D({inst:j})})},[v]),d(k),k}function p(v){var E=v.getSnapshot;v=v.value;try{var k=E();return!i(v,k)}catch{return!0}}function g(v,E){return E()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:h;return tu.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,tu}var jd;function Vg(){return jd||(jd=1,eu.exports=Hg()),eu.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function Bg(){if(Pd)return Ja;Pd=1;var n=hi(),o=Vg();function i(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var l=typeof Object.is=="function"?Object.is:i,a=o.useSyncExternalStore,c=n.useRef,d=n.useEffect,h=n.useMemo,p=n.useDebugValue;return Ja.useSyncExternalStoreWithSelector=function(g,m,v,E,k){var A=c(null);if(A.current===null){var j={hasValue:!1,value:null};A.current=j}else j=A.current;A=h(function(){function $(Q){if(!H){if(H=!0,G=Q,Q=E(Q),k!==void 0&&j.hasValue){var K=j.value;if(k(K,Q))return O=K}return O=Q}if(K=O,l(G,Q))return K;var ne=E(Q);return k!==void 0&&k(K,ne)?(G=Q,K):(G=Q,O=ne)}var H=!1,G,O,J=v===void 0?null:v;return[function(){return $(m())},J===null?void 0:function(){return $(J())}]},[m,v,E,k]);var D=a(g,A[0],A[1]);return d(function(){j.hasValue=!0,j.value=D},[D]),p(D),D},Ja}var Md;function qg(){return Md||(Md=1,Za.exports=Bg()),Za.exports}var bg=qg();const Ug=kh(bg),Td=n=>{let o;const i=new Set,l=(m,v)=>{const E=typeof m=="function"?m(o):m;if(!Object.is(E,o)){const k=o;o=v??(typeof E!="object"||E===null)?E:Object.assign({},o,E),i.forEach(A=>A(o,k))}},a=()=>o,p={setState:l,getState:a,getInitialState:()=>g,subscribe:m=>(i.add(m),()=>i.delete(m)),destroy:()=>{i.clear()}},g=o=n(l,a,p);return p},Wg=n=>n?Td(n):Td,{useDebugValue:Yg}=ee,{useSyncExternalStoreWithSelector:Xg}=Ug,Gg=n=>n;function jh(n,o=Gg,i){const l=Xg(n.subscribe,n.getState,n.getServerState||n.getInitialState,o,i);return Yg(l),l}const Id=(n,o)=>{const i=Wg(n),l=(a,c=o)=>jh(i,a,c);return Object.assign(l,i),l},Kg=(n,o)=>n?Id(n,o):Id;function st(n,o){if(Object.is(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;if(n instanceof Map&&o instanceof Map){if(n.size!==o.size)return!1;for(const[l,a]of n)if(!Object.is(a,o.get(l)))return!1;return!0}if(n instanceof Set&&o instanceof Set){if(n.size!==o.size)return!1;for(const l of n)if(!o.has(l))return!1;return!0}const i=Object.keys(n);if(i.length!==Object.keys(o).length)return!1;for(const l of i)if(!Object.prototype.hasOwnProperty.call(o,l)||!Object.is(n[l],o[l]))return!1;return!0}var Qg={value:()=>{}};function il(){for(var n=0,o=arguments.length,i={},l;n<o;++n){if(!(l=arguments[n]+"")||l in i||/[\s.]/.test(l))throw new Error("illegal type: "+l);i[l]=[]}return new Ys(i)}function Ys(n){this._=n}function Zg(n,o){return n.trim().split(/^|\s+/).map(function(i){var l="",a=i.indexOf(".");if(a>=0&&(l=i.slice(a+1),i=i.slice(0,a)),i&&!o.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:l}})}Ys.prototype=il.prototype={constructor:Ys,on:function(n,o){var i=this._,l=Zg(n+"",i),a,c=-1,d=l.length;if(arguments.length<2){for(;++c<d;)if((a=(n=l[c]).type)&&(a=Jg(i[a],n.name)))return a;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++c<d;)if(a=(n=l[c]).type)i[a]=zd(i[a],n.name,o);else if(o==null)for(a in i)i[a]=zd(i[a],n.name,null);return this},copy:function(){var n={},o=this._;for(var i in o)n[i]=o[i].slice();return new Ys(n)},call:function(n,o){if((a=arguments.length-2)>0)for(var i=new Array(a),l=0,a,c;l<a;++l)i[l]=arguments[l+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(c=this._[n],l=0,a=c.length;l<a;++l)c[l].value.apply(o,i)},apply:function(n,o,i){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var l=this._[n],a=0,c=l.length;a<c;++a)l[a].value.apply(o,i)}};function Jg(n,o){for(var i=0,l=n.length,a;i<l;++i)if((a=n[i]).name===o)return a.value}function zd(n,o,i){for(var l=0,a=n.length;l<a;++l)if(n[l].name===o){n[l]=Qg,n=n.slice(0,l).concat(n.slice(l+1));break}return i!=null&&n.push({name:o,value:i}),n}var yu="http://www.w3.org/1999/xhtml";const Rd={svg:"http://www.w3.org/2000/svg",xhtml:yu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sl(n){var o=n+="",i=o.indexOf(":");return i>=0&&(o=n.slice(0,i))!=="xmlns"&&(n=n.slice(i+1)),Rd.hasOwnProperty(o)?{space:Rd[o],local:n}:n}function ey(n){return function(){var o=this.ownerDocument,i=this.namespaceURI;return i===yu&&o.documentElement.namespaceURI===yu?o.createElement(n):o.createElementNS(i,n)}}function ty(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Ph(n){var o=sl(n);return(o.local?ty:ey)(o)}function ny(){}function Ru(n){return n==null?ny:function(){return this.querySelector(n)}}function ry(n){typeof n!="function"&&(n=Ru(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,h=l[a]=new Array(d),p,g,m=0;m<d;++m)(p=c[m])&&(g=n.call(p,p.__data__,m,c))&&("__data__"in p&&(g.__data__=p.__data__),h[m]=g);return new Ct(l,this._parents)}function oy(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function iy(){return[]}function Mh(n){return n==null?iy:function(){return this.querySelectorAll(n)}}function sy(n){return function(){return oy(n.apply(this,arguments))}}function ly(n){typeof n=="function"?n=sy(n):n=Mh(n);for(var o=this._groups,i=o.length,l=[],a=[],c=0;c<i;++c)for(var d=o[c],h=d.length,p,g=0;g<h;++g)(p=d[g])&&(l.push(n.call(p,p.__data__,g,d)),a.push(p));return new Ct(l,a)}function Th(n){return function(){return this.matches(n)}}function Ih(n){return function(o){return o.matches(n)}}var ay=Array.prototype.find;function uy(n){return function(){return ay.call(this.children,n)}}function cy(){return this.firstElementChild}function fy(n){return this.select(n==null?cy:uy(typeof n=="function"?n:Ih(n)))}var dy=Array.prototype.filter;function hy(){return Array.from(this.children)}function py(n){return function(){return dy.call(this.children,n)}}function my(n){return this.selectAll(n==null?hy:py(typeof n=="function"?n:Ih(n)))}function gy(n){typeof n!="function"&&(n=Th(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,h=l[a]=[],p,g=0;g<d;++g)(p=c[g])&&n.call(p,p.__data__,g,c)&&h.push(p);return new Ct(l,this._parents)}function zh(n){return new Array(n.length)}function yy(){return new Ct(this._enter||this._groups.map(zh),this._parents)}function Qs(n,o){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=o}Qs.prototype={constructor:Qs,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,o){return this._parent.insertBefore(n,o)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function vy(n){return function(){return n}}function xy(n,o,i,l,a,c){for(var d=0,h,p=o.length,g=c.length;d<g;++d)(h=o[d])?(h.__data__=c[d],l[d]=h):i[d]=new Qs(n,c[d]);for(;d<p;++d)(h=o[d])&&(a[d]=h)}function wy(n,o,i,l,a,c,d){var h,p,g=new Map,m=o.length,v=c.length,E=new Array(m),k;for(h=0;h<m;++h)(p=o[h])&&(E[h]=k=d.call(p,p.__data__,h,o)+"",g.has(k)?a[h]=p:g.set(k,p));for(h=0;h<v;++h)k=d.call(n,c[h],h,c)+"",(p=g.get(k))?(l[h]=p,p.__data__=c[h],g.delete(k)):i[h]=new Qs(n,c[h]);for(h=0;h<m;++h)(p=o[h])&&g.get(E[h])===p&&(a[h]=p)}function Sy(n){return n.__data__}function Ey(n,o){if(!arguments.length)return Array.from(this,Sy);var i=o?wy:xy,l=this._parents,a=this._groups;typeof n!="function"&&(n=vy(n));for(var c=a.length,d=new Array(c),h=new Array(c),p=new Array(c),g=0;g<c;++g){var m=l[g],v=a[g],E=v.length,k=Ny(n.call(m,m&&m.__data__,g,l)),A=k.length,j=h[g]=new Array(A),D=d[g]=new Array(A),$=p[g]=new Array(E);i(m,v,j,D,$,k,o);for(var H=0,G=0,O,J;H<A;++H)if(O=j[H]){for(H>=G&&(G=H+1);!(J=D[G])&&++G<A;);O._next=J||null}}return d=new Ct(d,l),d._enter=h,d._exit=p,d}function Ny(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function _y(){return new Ct(this._exit||this._groups.map(zh),this._parents)}function ky(n,o,i){var l=this.enter(),a=this,c=this.exit();return typeof n=="function"?(l=n(l),l&&(l=l.selection())):l=l.append(n+""),o!=null&&(a=o(a),a&&(a=a.selection())),i==null?c.remove():i(c),l&&a?l.merge(a).order():a}function Cy(n){for(var o=n.selection?n.selection():n,i=this._groups,l=o._groups,a=i.length,c=l.length,d=Math.min(a,c),h=new Array(a),p=0;p<d;++p)for(var g=i[p],m=l[p],v=g.length,E=h[p]=new Array(v),k,A=0;A<v;++A)(k=g[A]||m[A])&&(E[A]=k);for(;p<a;++p)h[p]=i[p];return new Ct(h,this._parents)}function jy(){for(var n=this._groups,o=-1,i=n.length;++o<i;)for(var l=n[o],a=l.length-1,c=l[a],d;--a>=0;)(d=l[a])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function Py(n){n||(n=My);function o(v,E){return v&&E?n(v.__data__,E.__data__):!v-!E}for(var i=this._groups,l=i.length,a=new Array(l),c=0;c<l;++c){for(var d=i[c],h=d.length,p=a[c]=new Array(h),g,m=0;m<h;++m)(g=d[m])&&(p[m]=g);p.sort(o)}return new Ct(a,this._parents).order()}function My(n,o){return n<o?-1:n>o?1:n>=o?0:NaN}function Ty(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function Iy(){return Array.from(this)}function zy(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length;a<c;++a){var d=l[a];if(d)return d}return null}function Ry(){let n=0;for(const o of this)++n;return n}function Ay(){return!this.node()}function Dy(n){for(var o=this._groups,i=0,l=o.length;i<l;++i)for(var a=o[i],c=0,d=a.length,h;c<d;++c)(h=a[c])&&n.call(h,h.__data__,c,a);return this}function $y(n){return function(){this.removeAttribute(n)}}function Ly(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Fy(n,o){return function(){this.setAttribute(n,o)}}function Oy(n,o){return function(){this.setAttributeNS(n.space,n.local,o)}}function Hy(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttribute(n):this.setAttribute(n,i)}}function Vy(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,i)}}function By(n,o){var i=sl(n);if(arguments.length<2){var l=this.node();return i.local?l.getAttributeNS(i.space,i.local):l.getAttribute(i)}return this.each((o==null?i.local?Ly:$y:typeof o=="function"?i.local?Vy:Hy:i.local?Oy:Fy)(i,o))}function Rh(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function qy(n){return function(){this.style.removeProperty(n)}}function by(n,o,i){return function(){this.style.setProperty(n,o,i)}}function Uy(n,o,i){return function(){var l=o.apply(this,arguments);l==null?this.style.removeProperty(n):this.style.setProperty(n,l,i)}}function Wy(n,o,i){return arguments.length>1?this.each((o==null?qy:typeof o=="function"?Uy:by)(n,o,i??"")):so(this.node(),n)}function so(n,o){return n.style.getPropertyValue(o)||Rh(n).getComputedStyle(n,null).getPropertyValue(o)}function Yy(n){return function(){delete this[n]}}function Xy(n,o){return function(){this[n]=o}}function Gy(n,o){return function(){var i=o.apply(this,arguments);i==null?delete this[n]:this[n]=i}}function Ky(n,o){return arguments.length>1?this.each((o==null?Yy:typeof o=="function"?Gy:Xy)(n,o)):this.node()[n]}function Ah(n){return n.trim().split(/^|\s+/)}function Au(n){return n.classList||new Dh(n)}function Dh(n){this._node=n,this._names=Ah(n.getAttribute("class")||"")}Dh.prototype={add:function(n){var o=this._names.indexOf(n);o<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var o=this._names.indexOf(n);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function $h(n,o){for(var i=Au(n),l=-1,a=o.length;++l<a;)i.add(o[l])}function Lh(n,o){for(var i=Au(n),l=-1,a=o.length;++l<a;)i.remove(o[l])}function Qy(n){return function(){$h(this,n)}}function Zy(n){return function(){Lh(this,n)}}function Jy(n,o){return function(){(o.apply(this,arguments)?$h:Lh)(this,n)}}function e0(n,o){var i=Ah(n+"");if(arguments.length<2){for(var l=Au(this.node()),a=-1,c=i.length;++a<c;)if(!l.contains(i[a]))return!1;return!0}return this.each((typeof o=="function"?Jy:o?Qy:Zy)(i,o))}function t0(){this.textContent=""}function n0(n){return function(){this.textContent=n}}function r0(n){return function(){var o=n.apply(this,arguments);this.textContent=o??""}}function o0(n){return arguments.length?this.each(n==null?t0:(typeof n=="function"?r0:n0)(n)):this.node().textContent}function i0(){this.innerHTML=""}function s0(n){return function(){this.innerHTML=n}}function l0(n){return function(){var o=n.apply(this,arguments);this.innerHTML=o??""}}function a0(n){return arguments.length?this.each(n==null?i0:(typeof n=="function"?l0:s0)(n)):this.node().innerHTML}function u0(){this.nextSibling&&this.parentNode.appendChild(this)}function c0(){return this.each(u0)}function f0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function d0(){return this.each(f0)}function h0(n){var o=typeof n=="function"?n:Ph(n);return this.select(function(){return this.appendChild(o.apply(this,arguments))})}function p0(){return null}function m0(n,o){var i=typeof n=="function"?n:Ph(n),l=o==null?p0:typeof o=="function"?o:Ru(o);return this.select(function(){return this.insertBefore(i.apply(this,arguments),l.apply(this,arguments)||null)})}function g0(){var n=this.parentNode;n&&n.removeChild(this)}function y0(){return this.each(g0)}function v0(){var n=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function x0(){var n=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function w0(n){return this.select(n?x0:v0)}function S0(n){return arguments.length?this.property("__data__",n):this.node().__data__}function E0(n){return function(o){n.call(this,o,this.__data__)}}function N0(n){return n.trim().split(/^|\s+/).map(function(o){var i="",l=o.indexOf(".");return l>=0&&(i=o.slice(l+1),o=o.slice(0,l)),{type:o,name:i}})}function _0(n){return function(){var o=this.__on;if(o){for(var i=0,l=-1,a=o.length,c;i<a;++i)c=o[i],(!n.type||c.type===n.type)&&c.name===n.name?this.removeEventListener(c.type,c.listener,c.options):o[++l]=c;++l?o.length=l:delete this.__on}}}function k0(n,o,i){return function(){var l=this.__on,a,c=E0(o);if(l){for(var d=0,h=l.length;d<h;++d)if((a=l[d]).type===n.type&&a.name===n.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=c,a.options=i),a.value=o;return}}this.addEventListener(n.type,c,i),a={type:n.type,name:n.name,value:o,listener:c,options:i},l?l.push(a):this.__on=[a]}}function C0(n,o,i){var l=N0(n+""),a,c=l.length,d;if(arguments.length<2){var h=this.node().__on;if(h){for(var p=0,g=h.length,m;p<g;++p)for(a=0,m=h[p];a<c;++a)if((d=l[a]).type===m.type&&d.name===m.name)return m.value}return}for(h=o?k0:_0,a=0;a<c;++a)this.each(h(l[a],o,i));return this}function Fh(n,o,i){var l=Rh(n),a=l.CustomEvent;typeof a=="function"?a=new a(o,i):(a=l.document.createEvent("Event"),i?(a.initEvent(o,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(o,!1,!1)),n.dispatchEvent(a)}function j0(n,o){return function(){return Fh(this,n,o)}}function P0(n,o){return function(){return Fh(this,n,o.apply(this,arguments))}}function M0(n,o){return this.each((typeof o=="function"?P0:j0)(n,o))}function*T0(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length,d;a<c;++a)(d=l[a])&&(yield d)}var Oh=[null];function Ct(n,o){this._groups=n,this._parents=o}function pi(){return new Ct([[document.documentElement]],Oh)}function I0(){return this}Ct.prototype=pi.prototype={constructor:Ct,select:ry,selectAll:ly,selectChild:fy,selectChildren:my,filter:gy,data:Ey,enter:yy,exit:_y,join:ky,merge:Cy,selection:I0,order:jy,sort:Py,call:Ty,nodes:Iy,node:zy,size:Ry,empty:Ay,each:Dy,attr:By,style:Wy,property:Ky,classed:e0,text:o0,html:a0,raise:c0,lower:d0,append:h0,insert:m0,remove:y0,clone:w0,datum:S0,on:C0,dispatch:M0,[Symbol.iterator]:T0};function Xt(n){return typeof n=="string"?new Ct([[document.querySelector(n)]],[document.documentElement]):new Ct([[n]],Oh)}function z0(n){let o;for(;o=n.sourceEvent;)n=o;return n}function un(n,o){if(n=z0(n),o===void 0&&(o=n.currentTarget),o){var i=o.ownerSVGElement||o;if(i.createSVGPoint){var l=i.createSVGPoint();return l.x=n.clientX,l.y=n.clientY,l=l.matrixTransform(o.getScreenCTM().inverse()),[l.x,l.y]}if(o.getBoundingClientRect){var a=o.getBoundingClientRect();return[n.clientX-a.left-o.clientLeft,n.clientY-a.top-o.clientTop]}}return[n.pageX,n.pageY]}const R0={passive:!1},ii={capture:!0,passive:!1};function nu(n){n.stopImmediatePropagation()}function no(n){n.preventDefault(),n.stopImmediatePropagation()}function Hh(n){var o=n.document.documentElement,i=Xt(n).on("dragstart.drag",no,ii);"onselectstart"in o?i.on("selectstart.drag",no,ii):(o.__noselect=o.style.MozUserSelect,o.style.MozUserSelect="none")}function Vh(n,o){var i=n.document.documentElement,l=Xt(n).on("dragstart.drag",null);o&&(l.on("click.drag",no,ii),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in i?l.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const $s=n=>()=>n;function vu(n,{sourceEvent:o,subject:i,target:l,identifier:a,active:c,x:d,y:h,dx:p,dy:g,dispatch:m}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:h,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:m}})}vu.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function A0(n){return!n.ctrlKey&&!n.button}function D0(){return this.parentNode}function $0(n,o){return o??{x:n.x,y:n.y}}function L0(){return navigator.maxTouchPoints||"ontouchstart"in this}function F0(){var n=A0,o=D0,i=$0,l=L0,a={},c=il("start","drag","end"),d=0,h,p,g,m,v=0;function E(O){O.on("mousedown.drag",k).filter(l).on("touchstart.drag",D).on("touchmove.drag",$,R0).on("touchend.drag touchcancel.drag",H).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function k(O,J){if(!(m||!n.call(this,O,J))){var Q=G(this,o.call(this,O,J),O,J,"mouse");Q&&(Xt(O.view).on("mousemove.drag",A,ii).on("mouseup.drag",j,ii),Hh(O.view),nu(O),g=!1,h=O.clientX,p=O.clientY,Q("start",O))}}function A(O){if(no(O),!g){var J=O.clientX-h,Q=O.clientY-p;g=J*J+Q*Q>v}a.mouse("drag",O)}function j(O){Xt(O.view).on("mousemove.drag mouseup.drag",null),Vh(O.view,g),no(O),a.mouse("end",O)}function D(O,J){if(n.call(this,O,J)){var Q=O.changedTouches,K=o.call(this,O,J),ne=Q.length,q,R;for(q=0;q<ne;++q)(R=G(this,K,O,J,Q[q].identifier,Q[q]))&&(nu(O),R("start",O,Q[q]))}}function $(O){var J=O.changedTouches,Q=J.length,K,ne;for(K=0;K<Q;++K)(ne=a[J[K].identifier])&&(no(O),ne("drag",O,J[K]))}function H(O){var J=O.changedTouches,Q=J.length,K,ne;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),K=0;K<Q;++K)(ne=a[J[K].identifier])&&(nu(O),ne("end",O,J[K]))}function G(O,J,Q,K,ne,q){var R=c.copy(),b=un(q||Q,J),B,Y,S;if((S=i.call(O,new vu("beforestart",{sourceEvent:Q,target:E,identifier:ne,active:d,x:b[0],y:b[1],dx:0,dy:0,dispatch:R}),K))!=null)return B=S.x-b[0]||0,Y=S.y-b[1]||0,function _(C,z,M){var N=b,T;switch(C){case"start":a[ne]=_,T=d++;break;case"end":delete a[ne],--d;case"drag":b=un(M||z,J),T=d;break}R.call(C,O,new vu(C,{sourceEvent:z,subject:S,target:E,identifier:ne,active:T,x:b[0]+B,y:b[1]+Y,dx:b[0]-N[0],dy:b[1]-N[1],dispatch:R}),K)}}return E.filter=function(O){return arguments.length?(n=typeof O=="function"?O:$s(!!O),E):n},E.container=function(O){return arguments.length?(o=typeof O=="function"?O:$s(O),E):o},E.subject=function(O){return arguments.length?(i=typeof O=="function"?O:$s(O),E):i},E.touchable=function(O){return arguments.length?(l=typeof O=="function"?O:$s(!!O),E):l},E.on=function(){var O=c.on.apply(c,arguments);return O===c?E:O},E.clickDistance=function(O){return arguments.length?(v=(O=+O)*O,E):Math.sqrt(v)},E}function Du(n,o,i){n.prototype=o.prototype=i,i.constructor=n}function Bh(n,o){var i=Object.create(n.prototype);for(var l in o)i[l]=o[l];return i}function mi(){}var si=.7,Zs=1/si,ro="\\s*([+-]?\\d+)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O0=/^#([0-9a-f]{3,8})$/,H0=new RegExp(`^rgb\\(${ro},${ro},${ro}\\)$`),V0=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),B0=new RegExp(`^rgba\\(${ro},${ro},${ro},${li}\\)$`),q0=new RegExp(`^rgba\\(${cn},${cn},${cn},${li}\\)$`),b0=new RegExp(`^hsl\\(${li},${cn},${cn}\\)$`),U0=new RegExp(`^hsla\\(${li},${cn},${cn},${li}\\)$`),Ad={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Du(mi,ai,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Dd,formatHex:Dd,formatHex8:W0,formatHsl:Y0,formatRgb:$d,toString:$d});function Dd(){return this.rgb().formatHex()}function W0(){return this.rgb().formatHex8()}function Y0(){return qh(this).formatHsl()}function $d(){return this.rgb().formatRgb()}function ai(n){var o,i;return n=(n+"").trim().toLowerCase(),(o=O0.exec(n))?(i=o[1].length,o=parseInt(o[1],16),i===6?Ld(o):i===3?new yt(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):i===8?Ls(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):i===4?Ls(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=H0.exec(n))?new yt(o[1],o[2],o[3],1):(o=V0.exec(n))?new yt(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=B0.exec(n))?Ls(o[1],o[2],o[3],o[4]):(o=q0.exec(n))?Ls(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=b0.exec(n))?Hd(o[1],o[2]/100,o[3]/100,1):(o=U0.exec(n))?Hd(o[1],o[2]/100,o[3]/100,o[4]):Ad.hasOwnProperty(n)?Ld(Ad[n]):n==="transparent"?new yt(NaN,NaN,NaN,0):null}function Ld(n){return new yt(n>>16&255,n>>8&255,n&255,1)}function Ls(n,o,i,l){return l<=0&&(n=o=i=NaN),new yt(n,o,i,l)}function X0(n){return n instanceof mi||(n=ai(n)),n?(n=n.rgb(),new yt(n.r,n.g,n.b,n.opacity)):new yt}function xu(n,o,i,l){return arguments.length===1?X0(n):new yt(n,o,i,l??1)}function yt(n,o,i,l){this.r=+n,this.g=+o,this.b=+i,this.opacity=+l}Du(yt,xu,Bh(mi,{brighter(n){return n=n==null?Zs:Math.pow(Zs,n),new yt(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?si:Math.pow(si,n),new yt(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new yt(Er(this.r),Er(this.g),Er(this.b),Js(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fd,formatHex:Fd,formatHex8:G0,formatRgb:Od,toString:Od}));function Fd(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}`}function G0(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}${wr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Od(){const n=Js(this.opacity);return`${n===1?"rgb(":"rgba("}${Er(this.r)}, ${Er(this.g)}, ${Er(this.b)}${n===1?")":`, ${n})`}`}function Js(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Er(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function wr(n){return n=Er(n),(n<16?"0":"")+n.toString(16)}function Hd(n,o,i,l){return l<=0?n=o=i=NaN:i<=0||i>=1?n=o=NaN:o<=0&&(n=NaN),new Gt(n,o,i,l)}function qh(n){if(n instanceof Gt)return new Gt(n.h,n.s,n.l,n.opacity);if(n instanceof mi||(n=ai(n)),!n)return new Gt;if(n instanceof Gt)return n;n=n.rgb();var o=n.r/255,i=n.g/255,l=n.b/255,a=Math.min(o,i,l),c=Math.max(o,i,l),d=NaN,h=c-a,p=(c+a)/2;return h?(o===c?d=(i-l)/h+(i<l)*6:i===c?d=(l-o)/h+2:d=(o-i)/h+4,h/=p<.5?c+a:2-c-a,d*=60):h=p>0&&p<1?0:d,new Gt(d,h,p,n.opacity)}function K0(n,o,i,l){return arguments.length===1?qh(n):new Gt(n,o,i,l??1)}function Gt(n,o,i,l){this.h=+n,this.s=+o,this.l=+i,this.opacity=+l}Du(Gt,K0,Bh(mi,{brighter(n){return n=n==null?Zs:Math.pow(Zs,n),new Gt(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?si:Math.pow(si,n),new Gt(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,o=isNaN(n)||isNaN(this.s)?0:this.s,i=this.l,l=i+(i<.5?i:1-i)*o,a=2*i-l;return new yt(ru(n>=240?n-240:n+120,a,l),ru(n,a,l),ru(n<120?n+240:n-120,a,l),this.opacity)},clamp(){return new Gt(Vd(this.h),Fs(this.s),Fs(this.l),Js(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Js(this.opacity);return`${n===1?"hsl(":"hsla("}${Vd(this.h)}, ${Fs(this.s)*100}%, ${Fs(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Vd(n){return n=(n||0)%360,n<0?n+360:n}function Fs(n){return Math.max(0,Math.min(1,n||0))}function ru(n,o,i){return(n<60?o+(i-o)*n/60:n<180?i:n<240?o+(i-o)*(240-n)/60:o)*255}const bh=n=>()=>n;function Q0(n,o){return function(i){return n+i*o}}function Z0(n,o,i){return n=Math.pow(n,i),o=Math.pow(o,i)-n,i=1/i,function(l){return Math.pow(n+l*o,i)}}function J0(n){return(n=+n)==1?Uh:function(o,i){return i-o?Z0(o,i,n):bh(isNaN(o)?i:o)}}function Uh(n,o){var i=o-n;return i?Q0(n,i):bh(isNaN(n)?o:n)}const Bd=function n(o){var i=J0(o);function l(a,c){var d=i((a=xu(a)).r,(c=xu(c)).r),h=i(a.g,c.g),p=i(a.b,c.b),g=Uh(a.opacity,c.opacity);return function(m){return a.r=d(m),a.g=h(m),a.b=p(m),a.opacity=g(m),a+""}}return l.gamma=n,l}(1);function Jn(n,o){return n=+n,o=+o,function(i){return n*(1-i)+o*i}}var wu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ou=new RegExp(wu.source,"g");function ev(n){return function(){return n}}function tv(n){return function(o){return n(o)+""}}function nv(n,o){var i=wu.lastIndex=ou.lastIndex=0,l,a,c,d=-1,h=[],p=[];for(n=n+"",o=o+"";(l=wu.exec(n))&&(a=ou.exec(o));)(c=a.index)>i&&(c=o.slice(i,c),h[d]?h[d]+=c:h[++d]=c),(l=l[0])===(a=a[0])?h[d]?h[d]+=a:h[++d]=a:(h[++d]=null,p.push({i:d,x:Jn(l,a)})),i=ou.lastIndex;return i<o.length&&(c=o.slice(i),h[d]?h[d]+=c:h[++d]=c),h.length<2?p[0]?tv(p[0].x):ev(o):(o=p.length,function(g){for(var m=0,v;m<o;++m)h[(v=p[m]).i]=v.x(g);return h.join("")})}var qd=180/Math.PI,Su={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wh(n,o,i,l,a,c){var d,h,p;return(d=Math.sqrt(n*n+o*o))&&(n/=d,o/=d),(p=n*i+o*l)&&(i-=n*p,l-=o*p),(h=Math.sqrt(i*i+l*l))&&(i/=h,l/=h,p/=h),n*l<o*i&&(n=-n,o=-o,p=-p,d=-d),{translateX:a,translateY:c,rotate:Math.atan2(o,n)*qd,skewX:Math.atan(p)*qd,scaleX:d,scaleY:h}}var Os;function rv(n){const o=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return o.isIdentity?Su:Wh(o.a,o.b,o.c,o.d,o.e,o.f)}function ov(n){return n==null||(Os||(Os=document.createElementNS("http://www.w3.org/2000/svg","g")),Os.setAttribute("transform",n),!(n=Os.transform.baseVal.consolidate()))?Su:(n=n.matrix,Wh(n.a,n.b,n.c,n.d,n.e,n.f))}function Yh(n,o,i,l){function a(g){return g.length?g.pop()+" ":""}function c(g,m,v,E,k,A){if(g!==v||m!==E){var j=k.push("translate(",null,o,null,i);A.push({i:j-4,x:Jn(g,v)},{i:j-2,x:Jn(m,E)})}else(v||E)&&k.push("translate("+v+o+E+i)}function d(g,m,v,E){g!==m?(g-m>180?m+=360:m-g>180&&(g+=360),E.push({i:v.push(a(v)+"rotate(",null,l)-2,x:Jn(g,m)})):m&&v.push(a(v)+"rotate("+m+l)}function h(g,m,v,E){g!==m?E.push({i:v.push(a(v)+"skewX(",null,l)-2,x:Jn(g,m)}):m&&v.push(a(v)+"skewX("+m+l)}function p(g,m,v,E,k,A){if(g!==v||m!==E){var j=k.push(a(k)+"scale(",null,",",null,")");A.push({i:j-4,x:Jn(g,v)},{i:j-2,x:Jn(m,E)})}else(v!==1||E!==1)&&k.push(a(k)+"scale("+v+","+E+")")}return function(g,m){var v=[],E=[];return g=n(g),m=n(m),c(g.translateX,g.translateY,m.translateX,m.translateY,v,E),d(g.rotate,m.rotate,v,E),h(g.skewX,m.skewX,v,E),p(g.scaleX,g.scaleY,m.scaleX,m.scaleY,v,E),g=m=null,function(k){for(var A=-1,j=E.length,D;++A<j;)v[(D=E[A]).i]=D.x(k);return v.join("")}}}var iv=Yh(rv,"px, ","px)","deg)"),sv=Yh(ov,", ",")",")"),lv=1e-12;function bd(n){return((n=Math.exp(n))+1/n)/2}function av(n){return((n=Math.exp(n))-1/n)/2}function uv(n){return((n=Math.exp(2*n))-1)/(n+1)}const cv=function n(o,i,l){function a(c,d){var h=c[0],p=c[1],g=c[2],m=d[0],v=d[1],E=d[2],k=m-h,A=v-p,j=k*k+A*A,D,$;if(j<lv)$=Math.log(E/g)/o,D=function(K){return[h+K*k,p+K*A,g*Math.exp(o*K*$)]};else{var H=Math.sqrt(j),G=(E*E-g*g+l*j)/(2*g*i*H),O=(E*E-g*g-l*j)/(2*E*i*H),J=Math.log(Math.sqrt(G*G+1)-G),Q=Math.log(Math.sqrt(O*O+1)-O);$=(Q-J)/o,D=function(K){var ne=K*$,q=bd(J),R=g/(i*H)*(q*uv(o*ne+J)-av(J));return[h+R*k,p+R*A,g*q/bd(o*ne+J)]}}return D.duration=$*1e3*o/Math.SQRT2,D}return a.rho=function(c){var d=Math.max(.001,+c),h=d*d,p=h*h;return n(d,h,p)},a}(Math.SQRT2,2,4);var lo=0,ni=0,Qo=0,Xh=1e3,el,ri,tl=0,Nr=0,ll=0,ui=typeof performance=="object"&&performance.now?performance:Date,Gh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function $u(){return Nr||(Gh(fv),Nr=ui.now()+ll)}function fv(){Nr=0}function nl(){this._call=this._time=this._next=null}nl.prototype=Kh.prototype={constructor:nl,restart:function(n,o,i){if(typeof n!="function")throw new TypeError("callback is not a function");i=(i==null?$u():+i)+(o==null?0:+o),!this._next&&ri!==this&&(ri?ri._next=this:el=this,ri=this),this._call=n,this._time=i,Eu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Eu())}};function Kh(n,o,i){var l=new nl;return l.restart(n,o,i),l}function dv(){$u(),++lo;for(var n=el,o;n;)(o=Nr-n._time)>=0&&n._call.call(void 0,o),n=n._next;--lo}function Ud(){Nr=(tl=ui.now())+ll,lo=ni=0;try{dv()}finally{lo=0,pv(),Nr=0}}function hv(){var n=ui.now(),o=n-tl;o>Xh&&(ll-=o,tl=n)}function pv(){for(var n,o=el,i,l=1/0;o;)o._call?(l>o._time&&(l=o._time),n=o,o=o._next):(i=o._next,o._next=null,o=n?n._next=i:el=i);ri=n,Eu(l)}function Eu(n){if(!lo){ni&&(ni=clearTimeout(ni));var o=n-Nr;o>24?(n<1/0&&(ni=setTimeout(Ud,n-ui.now()-ll)),Qo&&(Qo=clearInterval(Qo))):(Qo||(tl=ui.now(),Qo=setInterval(hv,Xh)),lo=1,Gh(Ud))}}function Wd(n,o,i){var l=new nl;return o=o==null?0:+o,l.restart(a=>{l.stop(),n(a+o)},o,i),l}var mv=il("start","end","cancel","interrupt"),gv=[],Qh=0,Yd=1,Nu=2,Xs=3,Xd=4,_u=5,Gs=6;function al(n,o,i,l,a,c){var d=n.__transition;if(!d)n.__transition={};else if(i in d)return;yv(n,i,{name:o,index:l,group:a,on:mv,tween:gv,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:Qh})}function Lu(n,o){var i=Qt(n,o);if(i.state>Qh)throw new Error("too late; already scheduled");return i}function fn(n,o){var i=Qt(n,o);if(i.state>Xs)throw new Error("too late; already running");return i}function Qt(n,o){var i=n.__transition;if(!i||!(i=i[o]))throw new Error("transition not found");return i}function yv(n,o,i){var l=n.__transition,a;l[o]=i,i.timer=Kh(c,0,i.time);function c(g){i.state=Yd,i.timer.restart(d,i.delay,i.time),i.delay<=g&&d(g-i.delay)}function d(g){var m,v,E,k;if(i.state!==Yd)return p();for(m in l)if(k=l[m],k.name===i.name){if(k.state===Xs)return Wd(d);k.state===Xd?(k.state=Gs,k.timer.stop(),k.on.call("interrupt",n,n.__data__,k.index,k.group),delete l[m]):+m<o&&(k.state=Gs,k.timer.stop(),k.on.call("cancel",n,n.__data__,k.index,k.group),delete l[m])}if(Wd(function(){i.state===Xs&&(i.state=Xd,i.timer.restart(h,i.delay,i.time),h(g))}),i.state=Nu,i.on.call("start",n,n.__data__,i.index,i.group),i.state===Nu){for(i.state=Xs,a=new Array(E=i.tween.length),m=0,v=-1;m<E;++m)(k=i.tween[m].value.call(n,n.__data__,i.index,i.group))&&(a[++v]=k);a.length=v+1}}function h(g){for(var m=g<i.duration?i.ease.call(null,g/i.duration):(i.timer.restart(p),i.state=_u,1),v=-1,E=a.length;++v<E;)a[v].call(n,m);i.state===_u&&(i.on.call("end",n,n.__data__,i.index,i.group),p())}function p(){i.state=Gs,i.timer.stop(),delete l[o];for(var g in l)return;delete n.__transition}}function Ks(n,o){var i=n.__transition,l,a,c=!0,d;if(i){o=o==null?null:o+"";for(d in i){if((l=i[d]).name!==o){c=!1;continue}a=l.state>Nu&&l.state<_u,l.state=Gs,l.timer.stop(),l.on.call(a?"interrupt":"cancel",n,n.__data__,l.index,l.group),delete i[d]}c&&delete n.__transition}}function vv(n){return this.each(function(){Ks(this,n)})}function xv(n,o){var i,l;return function(){var a=fn(this,n),c=a.tween;if(c!==i){l=i=c;for(var d=0,h=l.length;d<h;++d)if(l[d].name===o){l=l.slice(),l.splice(d,1);break}}a.tween=l}}function wv(n,o,i){var l,a;if(typeof i!="function")throw new Error;return function(){var c=fn(this,n),d=c.tween;if(d!==l){a=(l=d).slice();for(var h={name:o,value:i},p=0,g=a.length;p<g;++p)if(a[p].name===o){a[p]=h;break}p===g&&a.push(h)}c.tween=a}}function Sv(n,o){var i=this._id;if(n+="",arguments.length<2){for(var l=Qt(this.node(),i).tween,a=0,c=l.length,d;a<c;++a)if((d=l[a]).name===n)return d.value;return null}return this.each((o==null?xv:wv)(i,n,o))}function Fu(n,o,i){var l=n._id;return n.each(function(){var a=fn(this,l);(a.value||(a.value={}))[o]=i.apply(this,arguments)}),function(a){return Qt(a,l).value[o]}}function Zh(n,o){var i;return(typeof o=="number"?Jn:o instanceof ai?Bd:(i=ai(o))?(o=i,Bd):nv)(n,o)}function Ev(n){return function(){this.removeAttribute(n)}}function Nv(n){return function(){this.removeAttributeNS(n.space,n.local)}}function _v(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttribute(n);return d===a?null:d===l?c:c=o(l=d,i)}}function kv(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttributeNS(n.space,n.local);return d===a?null:d===l?c:c=o(l=d,i)}}function Cv(n,o,i){var l,a,c;return function(){var d,h=i(this),p;return h==null?void this.removeAttribute(n):(d=this.getAttribute(n),p=h+"",d===p?null:d===l&&p===a?c:(a=p,c=o(l=d,h)))}}function jv(n,o,i){var l,a,c;return function(){var d,h=i(this),p;return h==null?void this.removeAttributeNS(n.space,n.local):(d=this.getAttributeNS(n.space,n.local),p=h+"",d===p?null:d===l&&p===a?c:(a=p,c=o(l=d,h)))}}function Pv(n,o){var i=sl(n),l=i==="transform"?sv:Zh;return this.attrTween(n,typeof o=="function"?(i.local?jv:Cv)(i,l,Fu(this,"attr."+n,o)):o==null?(i.local?Nv:Ev)(i):(i.local?kv:_v)(i,l,o))}function Mv(n,o){return function(i){this.setAttribute(n,o.call(this,i))}}function Tv(n,o){return function(i){this.setAttributeNS(n.space,n.local,o.call(this,i))}}function Iv(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&Tv(n,c)),i}return a._value=o,a}function zv(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&Mv(n,c)),i}return a._value=o,a}function Rv(n,o){var i="attr."+n;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(o==null)return this.tween(i,null);if(typeof o!="function")throw new Error;var l=sl(n);return this.tween(i,(l.local?Iv:zv)(l,o))}function Av(n,o){return function(){Lu(this,n).delay=+o.apply(this,arguments)}}function Dv(n,o){return o=+o,function(){Lu(this,n).delay=o}}function $v(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?Av:Dv)(o,n)):Qt(this.node(),o).delay}function Lv(n,o){return function(){fn(this,n).duration=+o.apply(this,arguments)}}function Fv(n,o){return o=+o,function(){fn(this,n).duration=o}}function Ov(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?Lv:Fv)(o,n)):Qt(this.node(),o).duration}function Hv(n,o){if(typeof o!="function")throw new Error;return function(){fn(this,n).ease=o}}function Vv(n){var o=this._id;return arguments.length?this.each(Hv(o,n)):Qt(this.node(),o).ease}function Bv(n,o){return function(){var i=o.apply(this,arguments);if(typeof i!="function")throw new Error;fn(this,n).ease=i}}function qv(n){if(typeof n!="function")throw new Error;return this.each(Bv(this._id,n))}function bv(n){typeof n!="function"&&(n=Th(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,h=l[a]=[],p,g=0;g<d;++g)(p=c[g])&&n.call(p,p.__data__,g,c)&&h.push(p);return new In(l,this._parents,this._name,this._id)}function Uv(n){if(n._id!==this._id)throw new Error;for(var o=this._groups,i=n._groups,l=o.length,a=i.length,c=Math.min(l,a),d=new Array(l),h=0;h<c;++h)for(var p=o[h],g=i[h],m=p.length,v=d[h]=new Array(m),E,k=0;k<m;++k)(E=p[k]||g[k])&&(v[k]=E);for(;h<l;++h)d[h]=o[h];return new In(d,this._parents,this._name,this._id)}function Wv(n){return(n+"").trim().split(/^|\s+/).every(function(o){var i=o.indexOf(".");return i>=0&&(o=o.slice(0,i)),!o||o==="start"})}function Yv(n,o,i){var l,a,c=Wv(o)?Lu:fn;return function(){var d=c(this,n),h=d.on;h!==l&&(a=(l=h).copy()).on(o,i),d.on=a}}function Xv(n,o){var i=this._id;return arguments.length<2?Qt(this.node(),i).on.on(n):this.each(Yv(i,n,o))}function Gv(n){return function(){var o=this.parentNode;for(var i in this.__transition)if(+i!==n)return;o&&o.removeChild(this)}}function Kv(){return this.on("end.remove",Gv(this._id))}function Qv(n){var o=this._name,i=this._id;typeof n!="function"&&(n=Ru(n));for(var l=this._groups,a=l.length,c=new Array(a),d=0;d<a;++d)for(var h=l[d],p=h.length,g=c[d]=new Array(p),m,v,E=0;E<p;++E)(m=h[E])&&(v=n.call(m,m.__data__,E,h))&&("__data__"in m&&(v.__data__=m.__data__),g[E]=v,al(g[E],o,i,E,g,Qt(m,i)));return new In(c,this._parents,o,i)}function Zv(n){var o=this._name,i=this._id;typeof n!="function"&&(n=Mh(n));for(var l=this._groups,a=l.length,c=[],d=[],h=0;h<a;++h)for(var p=l[h],g=p.length,m,v=0;v<g;++v)if(m=p[v]){for(var E=n.call(m,m.__data__,v,p),k,A=Qt(m,i),j=0,D=E.length;j<D;++j)(k=E[j])&&al(k,o,i,j,E,A);c.push(E),d.push(m)}return new In(c,d,o,i)}var Jv=pi.prototype.constructor;function ex(){return new Jv(this._groups,this._parents)}function tx(n,o){var i,l,a;return function(){var c=so(this,n),d=(this.style.removeProperty(n),so(this,n));return c===d?null:c===i&&d===l?a:a=o(i=c,l=d)}}function Jh(n){return function(){this.style.removeProperty(n)}}function nx(n,o,i){var l,a=i+"",c;return function(){var d=so(this,n);return d===a?null:d===l?c:c=o(l=d,i)}}function rx(n,o,i){var l,a,c;return function(){var d=so(this,n),h=i(this),p=h+"";return h==null&&(p=h=(this.style.removeProperty(n),so(this,n))),d===p?null:d===l&&p===a?c:(a=p,c=o(l=d,h))}}function ox(n,o){var i,l,a,c="style."+o,d="end."+c,h;return function(){var p=fn(this,n),g=p.on,m=p.value[c]==null?h||(h=Jh(o)):void 0;(g!==i||a!==m)&&(l=(i=g).copy()).on(d,a=m),p.on=l}}function ix(n,o,i){var l=(n+="")=="transform"?iv:Zh;return o==null?this.styleTween(n,tx(n,l)).on("end.style."+n,Jh(n)):typeof o=="function"?this.styleTween(n,rx(n,l,Fu(this,"style."+n,o))).each(ox(this._id,n)):this.styleTween(n,nx(n,l,o),i).on("end.style."+n,null)}function sx(n,o,i){return function(l){this.style.setProperty(n,o.call(this,l),i)}}function lx(n,o,i){var l,a;function c(){var d=o.apply(this,arguments);return d!==a&&(l=(a=d)&&sx(n,d,i)),l}return c._value=o,c}function ax(n,o,i){var l="style."+(n+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(o==null)return this.tween(l,null);if(typeof o!="function")throw new Error;return this.tween(l,lx(n,o,i??""))}function ux(n){return function(){this.textContent=n}}function cx(n){return function(){var o=n(this);this.textContent=o??""}}function fx(n){return this.tween("text",typeof n=="function"?cx(Fu(this,"text",n)):ux(n==null?"":n+""))}function dx(n){return function(o){this.textContent=n.call(this,o)}}function hx(n){var o,i;function l(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&dx(a)),o}return l._value=n,l}function px(n){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,hx(n))}function mx(){for(var n=this._name,o=this._id,i=ep(),l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],h=d.length,p,g=0;g<h;++g)if(p=d[g]){var m=Qt(p,o);al(p,n,i,g,d,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new In(l,this._parents,n,i)}function gx(){var n,o,i=this,l=i._id,a=i.size();return new Promise(function(c,d){var h={value:d},p={value:function(){--a===0&&c()}};i.each(function(){var g=fn(this,l),m=g.on;m!==n&&(o=(n=m).copy(),o._.cancel.push(h),o._.interrupt.push(h),o._.end.push(p)),g.on=o}),a===0&&c()})}var yx=0;function In(n,o,i,l){this._groups=n,this._parents=o,this._name=i,this._id=l}function ep(){return++yx}var Pn=pi.prototype;In.prototype={constructor:In,select:Qv,selectAll:Zv,selectChild:Pn.selectChild,selectChildren:Pn.selectChildren,filter:bv,merge:Uv,selection:ex,transition:mx,call:Pn.call,nodes:Pn.nodes,node:Pn.node,size:Pn.size,empty:Pn.empty,each:Pn.each,on:Xv,attr:Pv,attrTween:Rv,style:ix,styleTween:ax,text:fx,textTween:px,remove:Kv,tween:Sv,delay:$v,duration:Ov,ease:Vv,easeVarying:qv,end:gx,[Symbol.iterator]:Pn[Symbol.iterator]};function vx(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var xx={time:null,delay:0,duration:250,ease:vx};function wx(n,o){for(var i;!(i=n.__transition)||!(i=i[o]);)if(!(n=n.parentNode))throw new Error(`transition ${o} not found`);return i}function Sx(n){var o,i;n instanceof In?(o=n._id,n=n._name):(o=ep(),(i=xx).time=$u(),n=n==null?null:n+"");for(var l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],h=d.length,p,g=0;g<h;++g)(p=d[g])&&al(p,n,o,g,d,i||wx(p,o));return new In(l,this._parents,n,o)}pi.prototype.interrupt=vv;pi.prototype.transition=Sx;const Hs=n=>()=>n;function Ex(n,{sourceEvent:o,target:i,transform:l,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:a}})}function Tn(n,o,i){this.k=n,this.x=o,this.y=i}Tn.prototype={constructor:Tn,scale:function(n){return n===1?this:new Tn(this.k*n,this.x,this.y)},translate:function(n,o){return n===0&o===0?this:new Tn(this.k,this.x+this.k*n,this.y+this.k*o)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tr=new Tn(1,0,0);Tn.prototype;function iu(n){n.stopImmediatePropagation()}function Zo(n){n.preventDefault(),n.stopImmediatePropagation()}function Nx(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function _x(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Gd(){return this.__zoom||tr}function kx(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Cx(){return navigator.maxTouchPoints||"ontouchstart"in this}function jx(n,o,i){var l=n.invertX(o[0][0])-i[0][0],a=n.invertX(o[1][0])-i[1][0],c=n.invertY(o[0][1])-i[0][1],d=n.invertY(o[1][1])-i[1][1];return n.translate(a>l?(l+a)/2:Math.min(0,l)||Math.max(0,a),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function Px(){var n=Nx,o=_x,i=jx,l=kx,a=Cx,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],h=250,p=cv,g=il("start","zoom","end"),m,v,E,k=500,A=150,j=0,D=10;function $(S){S.property("__zoom",Gd).on("wheel.zoom",ne,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",R).filter(a).on("touchstart.zoom",b).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}$.transform=function(S,_,C,z){var M=S.selection?S.selection():S;M.property("__zoom",Gd),S!==M?J(S,_,C,z):M.interrupt().each(function(){Q(this,arguments).event(z).start().zoom(null,typeof _=="function"?_.apply(this,arguments):_).end()})},$.scaleBy=function(S,_,C,z){$.scaleTo(S,function(){var M=this.__zoom.k,N=typeof _=="function"?_.apply(this,arguments):_;return M*N},C,z)},$.scaleTo=function(S,_,C,z){$.transform(S,function(){var M=o.apply(this,arguments),N=this.__zoom,T=C==null?O(M):typeof C=="function"?C.apply(this,arguments):C,w=N.invert(T),I=typeof _=="function"?_.apply(this,arguments):_;return i(G(H(N,I),T,w),M,d)},C,z)},$.translateBy=function(S,_,C,z){$.transform(S,function(){return i(this.__zoom.translate(typeof _=="function"?_.apply(this,arguments):_,typeof C=="function"?C.apply(this,arguments):C),o.apply(this,arguments),d)},null,z)},$.translateTo=function(S,_,C,z,M){$.transform(S,function(){var N=o.apply(this,arguments),T=this.__zoom,w=z==null?O(N):typeof z=="function"?z.apply(this,arguments):z;return i(tr.translate(w[0],w[1]).scale(T.k).translate(typeof _=="function"?-_.apply(this,arguments):-_,typeof C=="function"?-C.apply(this,arguments):-C),N,d)},z,M)};function H(S,_){return _=Math.max(c[0],Math.min(c[1],_)),_===S.k?S:new Tn(_,S.x,S.y)}function G(S,_,C){var z=_[0]-C[0]*S.k,M=_[1]-C[1]*S.k;return z===S.x&&M===S.y?S:new Tn(S.k,z,M)}function O(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function J(S,_,C,z){S.on("start.zoom",function(){Q(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){Q(this,arguments).event(z).end()}).tween("zoom",function(){var M=this,N=arguments,T=Q(M,N).event(z),w=o.apply(M,N),I=C==null?O(w):typeof C=="function"?C.apply(M,N):C,te=Math.max(w[1][0]-w[0][0],w[1][1]-w[0][1]),Z=M.__zoom,oe=typeof _=="function"?_.apply(M,N):_,re=p(Z.invert(I).concat(te/Z.k),oe.invert(I).concat(te/oe.k));return function(ce){if(ce===1)ce=oe;else{var he=re(ce),ve=te/he[2];ce=new Tn(ve,I[0]-he[0]*ve,I[1]-he[1]*ve)}T.zoom(null,ce)}})}function Q(S,_,C){return!C&&S.__zooming||new K(S,_)}function K(S,_){this.that=S,this.args=_,this.active=0,this.sourceEvent=null,this.extent=o.apply(S,_),this.taps=0}K.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,_){return this.mouse&&S!=="mouse"&&(this.mouse[1]=_.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=_.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=_.invert(this.touch1[0])),this.that.__zoom=_,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var _=Xt(this.that).datum();g.call(S,this.that,new Ex(S,{sourceEvent:this.sourceEvent,target:$,type:S,transform:this.that.__zoom,dispatch:g}),_)}};function ne(S,..._){if(!n.apply(this,arguments))return;var C=Q(this,_).event(S),z=this.__zoom,M=Math.max(c[0],Math.min(c[1],z.k*Math.pow(2,l.apply(this,arguments)))),N=un(S);if(C.wheel)(C.mouse[0][0]!==N[0]||C.mouse[0][1]!==N[1])&&(C.mouse[1]=z.invert(C.mouse[0]=N)),clearTimeout(C.wheel);else{if(z.k===M)return;C.mouse=[N,z.invert(N)],Ks(this),C.start()}Zo(S),C.wheel=setTimeout(T,A),C.zoom("mouse",i(G(H(z,M),C.mouse[0],C.mouse[1]),C.extent,d));function T(){C.wheel=null,C.end()}}function q(S,..._){if(E||!n.apply(this,arguments))return;var C=S.currentTarget,z=Q(this,_,!0).event(S),M=Xt(S.view).on("mousemove.zoom",I,!0).on("mouseup.zoom",te,!0),N=un(S,C),T=S.clientX,w=S.clientY;Hh(S.view),iu(S),z.mouse=[N,this.__zoom.invert(N)],Ks(this),z.start();function I(Z){if(Zo(Z),!z.moved){var oe=Z.clientX-T,re=Z.clientY-w;z.moved=oe*oe+re*re>j}z.event(Z).zoom("mouse",i(G(z.that.__zoom,z.mouse[0]=un(Z,C),z.mouse[1]),z.extent,d))}function te(Z){M.on("mousemove.zoom mouseup.zoom",null),Vh(Z.view,z.moved),Zo(Z),z.event(Z).end()}}function R(S,..._){if(n.apply(this,arguments)){var C=this.__zoom,z=un(S.changedTouches?S.changedTouches[0]:S,this),M=C.invert(z),N=C.k*(S.shiftKey?.5:2),T=i(G(H(C,N),z,M),o.apply(this,_),d);Zo(S),h>0?Xt(this).transition().duration(h).call(J,T,z,S):Xt(this).call($.transform,T,z,S)}}function b(S,..._){if(n.apply(this,arguments)){var C=S.touches,z=C.length,M=Q(this,_,S.changedTouches.length===z).event(S),N,T,w,I;for(iu(S),T=0;T<z;++T)w=C[T],I=un(w,this),I=[I,this.__zoom.invert(I),w.identifier],M.touch0?!M.touch1&&M.touch0[2]!==I[2]&&(M.touch1=I,M.taps=0):(M.touch0=I,N=!0,M.taps=1+!!m);m&&(m=clearTimeout(m)),N&&(M.taps<2&&(v=I[0],m=setTimeout(function(){m=null},k)),Ks(this),M.start())}}function B(S,..._){if(this.__zooming){var C=Q(this,_).event(S),z=S.changedTouches,M=z.length,N,T,w,I;for(Zo(S),N=0;N<M;++N)T=z[N],w=un(T,this),C.touch0&&C.touch0[2]===T.identifier?C.touch0[0]=w:C.touch1&&C.touch1[2]===T.identifier&&(C.touch1[0]=w);if(T=C.that.__zoom,C.touch1){var te=C.touch0[0],Z=C.touch0[1],oe=C.touch1[0],re=C.touch1[1],ce=(ce=oe[0]-te[0])*ce+(ce=oe[1]-te[1])*ce,he=(he=re[0]-Z[0])*he+(he=re[1]-Z[1])*he;T=H(T,Math.sqrt(ce/he)),w=[(te[0]+oe[0])/2,(te[1]+oe[1])/2],I=[(Z[0]+re[0])/2,(Z[1]+re[1])/2]}else if(C.touch0)w=C.touch0[0],I=C.touch0[1];else return;C.zoom("touch",i(G(T,w,I),C.extent,d))}}function Y(S,..._){if(this.__zooming){var C=Q(this,_).event(S),z=S.changedTouches,M=z.length,N,T;for(iu(S),E&&clearTimeout(E),E=setTimeout(function(){E=null},k),N=0;N<M;++N)T=z[N],C.touch0&&C.touch0[2]===T.identifier?delete C.touch0:C.touch1&&C.touch1[2]===T.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(T=un(T,this),Math.hypot(v[0]-T[0],v[1]-T[1])<D)){var w=Xt(this).on("dblclick.zoom");w&&w.apply(this,arguments)}}}return $.wheelDelta=function(S){return arguments.length?(l=typeof S=="function"?S:Hs(+S),$):l},$.filter=function(S){return arguments.length?(n=typeof S=="function"?S:Hs(!!S),$):n},$.touchable=function(S){return arguments.length?(a=typeof S=="function"?S:Hs(!!S),$):a},$.extent=function(S){return arguments.length?(o=typeof S=="function"?S:Hs([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),$):o},$.scaleExtent=function(S){return arguments.length?(c[0]=+S[0],c[1]=+S[1],$):[c[0],c[1]]},$.translateExtent=function(S){return arguments.length?(d[0][0]=+S[0][0],d[1][0]=+S[1][0],d[0][1]=+S[0][1],d[1][1]=+S[1][1],$):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},$.constrain=function(S){return arguments.length?(i=S,$):i},$.duration=function(S){return arguments.length?(h=+S,$):h},$.interpolate=function(S){return arguments.length?(p=S,$):p},$.on=function(){var S=g.on.apply(g,arguments);return S===g?$:S},$.clickDistance=function(S){return arguments.length?(j=(S=+S)*S,$):Math.sqrt(j)},$.tapDistance=function(S){return arguments.length?(D=+S,$):D},$}var su={exports:{}},gt={},lu={exports:{}},au={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd;function Mx(){return Kd||(Kd=1,function(n){function o(M,N){var T=M.length;M.push(N);e:for(;0<T;){var w=T-1>>>1,I=M[w];if(0<a(I,N))M[w]=N,M[T]=I,T=w;else break e}}function i(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var N=M[0],T=M.pop();if(T!==N){M[0]=T;e:for(var w=0,I=M.length,te=I>>>1;w<te;){var Z=2*(w+1)-1,oe=M[Z],re=Z+1,ce=M[re];if(0>a(oe,T))re<I&&0>a(ce,oe)?(M[w]=ce,M[re]=T,w=re):(M[w]=oe,M[Z]=T,w=Z);else if(re<I&&0>a(ce,T))M[w]=ce,M[re]=T,w=re;else break e}}return N}function a(M,N){var T=M.sortIndex-N.sortIndex;return T!==0?T:M.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var p=[],g=[],m=1,v=null,E=3,k=!1,A=!1,j=!1,D=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(M){for(var N=i(g);N!==null;){if(N.callback===null)l(g);else if(N.startTime<=M)l(g),N.sortIndex=N.expirationTime,o(p,N);else break;N=i(g)}}function O(M){if(j=!1,G(M),!A)if(i(p)!==null)A=!0,C(J);else{var N=i(g);N!==null&&z(O,N.startTime-M)}}function J(M,N){A=!1,j&&(j=!1,$(ne),ne=-1),k=!0;var T=E;try{for(G(N),v=i(p);v!==null&&(!(v.expirationTime>N)||M&&!b());){var w=v.callback;if(typeof w=="function"){v.callback=null,E=v.priorityLevel;var I=w(v.expirationTime<=N);N=n.unstable_now(),typeof I=="function"?v.callback=I:v===i(p)&&l(p),G(N)}else l(p);v=i(p)}if(v!==null)var te=!0;else{var Z=i(g);Z!==null&&z(O,Z.startTime-N),te=!1}return te}finally{v=null,E=T,k=!1}}var Q=!1,K=null,ne=-1,q=5,R=-1;function b(){return!(n.unstable_now()-R<q)}function B(){if(K!==null){var M=n.unstable_now();R=M;var N=!0;try{N=K(!0,M)}finally{N?Y():(Q=!1,K=null)}}else Q=!1}var Y;if(typeof H=="function")Y=function(){H(B)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,_=S.port2;S.port1.onmessage=B,Y=function(){_.postMessage(null)}}else Y=function(){D(B,0)};function C(M){K=M,Q||(Q=!0,Y())}function z(M,N){ne=D(function(){M(n.unstable_now())},N)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_continueExecution=function(){A||k||(A=!0,C(J))},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return i(p)},n.unstable_next=function(M){switch(E){case 1:case 2:case 3:var N=3;break;default:N=E}var T=E;E=N;try{return M()}finally{E=T}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(M,N){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var T=E;E=M;try{return N()}finally{E=T}},n.unstable_scheduleCallback=function(M,N,T){var w=n.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?w+T:w):T=w,M){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=T+I,M={id:m++,callback:N,priorityLevel:M,startTime:T,expirationTime:I,sortIndex:-1},T>w?(M.sortIndex=T,o(g,M),i(p)===null&&M===i(g)&&(j?($(ne),ne=-1):j=!0,z(O,T-w))):(M.sortIndex=I,o(p,M),A||k||(A=!0,C(J))),M},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(M){var N=E;return function(){var T=E;E=N;try{return M.apply(this,arguments)}finally{E=T}}}}(au)),au}var Qd;function Tx(){return Qd||(Qd=1,lu.exports=Mx()),lu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd;function Ix(){if(Zd)return gt;Zd=1;var n=hi(),o=Tx();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,a={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(a[e]=t,e=0;e<t.length;e++)l.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function E(e){return p.call(v,e)?!0:p.call(m,e)?!1:g.test(e)?v[e]=!0:(m[e]=!0,!1)}function k(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,t,r,s){if(t===null||typeof t>"u"||k(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function j(e,t,r,s,u,f,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=y}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){D[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];D[t]=new j(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){D[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){D[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){D[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){D[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){D[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){D[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){D[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function H(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($,H);D[t]=new j(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($,H);D[t]=new j(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($,H);D[t]=new j(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){D[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),D.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){D[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function G(e,t,r,s){var u=D.hasOwnProperty(t)?D[t]:null;(u!==null?u.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A(t,r,u,s)&&(r=null),s||u===null?E(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,s=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),Q=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),b=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),M=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var T=Object.assign,w;function I(e){if(w===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var te=!1;function Z(e,t){if(!e||te)return"";te=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(X){var s=X}Reflect.construct(e,[],t)}else{try{t.call()}catch(X){s=X}e.call(t.prototype)}else{try{throw Error()}catch(X){s=X}e()}}catch(X){if(X&&s&&typeof X.stack=="string"){for(var u=X.stack.split(`
`),f=s.stack.split(`
`),y=u.length-1,P=f.length-1;1<=y&&0<=P&&u[y]!==f[P];)P--;for(;1<=y&&0<=P;y--,P--)if(u[y]!==f[P]){if(y!==1||P!==1)do if(y--,P--,0>P||u[y]!==f[P]){var L=`
`+u[y].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=y&&0<=P);break}}}finally{te=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?I(e):""}function oe(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1),e;case 11:return e=Z(e.type.render,!1),e;case 1:return e=Z(e.type,!0),e;default:return""}}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case Q:return"Portal";case q:return"Profiler";case ne:return"StrictMode";case Y:return"Suspense";case S:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case b:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _:return t=e.displayName||null,t!==null?t:re(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return re(e(t))}catch{}}return null}function ce(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(t);case 8:return t===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Se(e){var t=ve(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Le(e){e._valueTracker||(e._valueTracker=Se(e))}function We(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=ve(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function et(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tt(e,t){var r=t.checked;return T({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fe(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=he(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vt(e,t){t=t.checked,t!=null&&G(e,"checked",t,!1)}function je(e,t){vt(e,t);var r=he(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qe(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qe(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ye(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qe(e,t,r){(t!=="number"||et(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xt=Array.isArray;function jt(e,t,r,s){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&s&&(e[r].defaultSelected=!0)}else{for(r=""+he(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Zt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return T({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dn(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(xt(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:he(r)}}function Pt(e,t){var r=he(t.value),s=he(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function hn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ft,pn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ft=Ft||document.createElement("div"),Ft.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ft.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ot(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Oe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wt=["Webkit","ms","Moz","O"];Object.keys(Oe).forEach(function(e){wt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oe[t]=Oe[e]})});function en(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Oe.hasOwnProperty(e)&&Oe[e]?(""+t).trim():t+"px"}function tn(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,u=en(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,u):e[r]=u}}var mn=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(e,t){if(t){if(mn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function ct(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gn=null;function rr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yn=null,nn=null,vn=null;function rn(e){if(e=Do(e)){if(typeof yn!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Qi(t),yn(e.stateNode,e.type,t))}}function yi(e){nn?vn?vn.push(e):vn=[e]:nn=e}function vi(){if(nn){var e=nn,t=vn;if(vn=nn=null,rn(e),t)for(e=0;e<t.length;e++)rn(t[e])}}function xi(e,t){return e(t)}function wi(){}var fo=!1;function Si(e,t,r){if(fo)return e(t,r);fo=!0;try{return xi(e,t,r)}finally{fo=!1,(nn!==null||vn!==null)&&(wi(),vi())}}function or(e,t){var r=e.stateNode;if(r===null)return null;var s=Qi(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var ho=!1;if(h)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){ho=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{ho=!1}function fl(e,t,r,s,u,f,y,P,L){var X=Array.prototype.slice.call(arguments,3);try{t.apply(r,X)}catch(se){this.onError(se)}}var sr=!1,kr=null,Cr=!1,po=null,dl={onError:function(e){sr=!0,kr=e}};function hl(e,t,r,s,u,f,y,P,L){sr=!1,kr=null,fl.apply(dl,arguments)}function Ei(e,t,r,s,u,f,y,P,L){if(hl.apply(this,arguments),sr){if(sr){var X=kr;sr=!1,kr=null}else throw Error(i(198));Cr||(Cr=!0,po=X)}}function xn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ni(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _i(e){if(xn(e)!==e)throw Error(i(188))}function pl(e){var t=e.alternate;if(!t){if(t=xn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,s=t;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(s=u.return,s!==null){r=s;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return _i(u),e;if(f===s)return _i(u),t;f=f.sibling}throw Error(i(188))}if(r.return!==s.return)r=u,s=f;else{for(var y=!1,P=u.child;P;){if(P===r){y=!0,r=u,s=f;break}if(P===s){y=!0,s=u,r=f;break}P=P.sibling}if(!y){for(P=f.child;P;){if(P===r){y=!0,r=f,s=u;break}if(P===s){y=!0,s=f,r=u;break}P=P.sibling}if(!y)throw Error(i(189))}}if(r.alternate!==s)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function ki(e){return e=pl(e),e!==null?Ci(e):null}function Ci(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ci(e);if(t!==null)return t;e=e.sibling}return null}var ji=o.unstable_scheduleCallback,Pi=o.unstable_cancelCallback,Mi=o.unstable_shouldYield,ml=o.unstable_requestPaint,Re=o.unstable_now,gl=o.unstable_getCurrentPriorityLevel,mo=o.unstable_ImmediatePriority,Ti=o.unstable_UserBlockingPriority,jr=o.unstable_NormalPriority,Ii=o.unstable_LowPriority,zi=o.unstable_IdlePriority,Pr=null,Mt=null;function go(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Pr,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Zp,Kp=Math.log,Qp=Math.LN2;function Zp(e){return e>>>=0,e===0?32:31-(Kp(e)/Qp|0)|0}var Ri=64,Ai=4194304;function yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Di(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,u=e.suspendedLanes,f=e.pingedLanes,y=r&268435455;if(y!==0){var P=y&~u;P!==0?s=yo(P):(f&=y,f!==0&&(s=yo(f)))}else y=r&~u,y!==0?s=yo(y):f!==0&&(s=yo(f));if(s===0)return 0;if(t!==0&&t!==s&&!(t&u)&&(u=s&-s,f=t&-t,u>=f||u===16&&(f&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Ht(t),u=1<<r,s|=e[r],t&=~u;return s}function Jp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function em(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-Ht(f),P=1<<y,L=u[y];L===-1?(!(P&r)||P&s)&&(u[y]=Jp(P,t)):L<=t&&(e.expiredLanes|=P),f&=~P}}function yl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zu(){var e=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),e}function vl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=r}function tm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Ht(r),f=1<<u;t[u]=0,s[u]=-1,e[u]=-1,r&=~f}}function xl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ht(r),u=1<<s;u&t|e[s]&t&&(e[s]|=t),r&=~u}}var Pe=0;function Ju(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ec,wl,tc,nc,rc,Sl=!1,$i=[],Rn=null,An=null,Dn=null,xo=new Map,wo=new Map,$n=[],nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oc(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(t.pointerId)}}function So(e,t,r,s,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Do(t),t!==null&&wl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function rm(e,t,r,s,u){switch(t){case"focusin":return Rn=So(Rn,e,t,r,s,u),!0;case"dragenter":return An=So(An,e,t,r,s,u),!0;case"mouseover":return Dn=So(Dn,e,t,r,s,u),!0;case"pointerover":var f=u.pointerId;return xo.set(f,So(xo.get(f)||null,e,t,r,s,u)),!0;case"gotpointercapture":return f=u.pointerId,wo.set(f,So(wo.get(f)||null,e,t,r,s,u)),!0}return!1}function ic(e){var t=lr(e.target);if(t!==null){var r=xn(t);if(r!==null){if(t=r.tag,t===13){if(t=Ni(r),t!==null){e.blockedOn=t,rc(e.priority,function(){tc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);gn=s,r.target.dispatchEvent(s),gn=null}else return t=Do(r),t!==null&&wl(t),e.blockedOn=r,!1;t.shift()}return!0}function sc(e,t,r){Li(e)&&r.delete(t)}function om(){Sl=!1,Rn!==null&&Li(Rn)&&(Rn=null),An!==null&&Li(An)&&(An=null),Dn!==null&&Li(Dn)&&(Dn=null),xo.forEach(sc),wo.forEach(sc)}function Eo(e,t){e.blockedOn===t&&(e.blockedOn=null,Sl||(Sl=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,om)))}function No(e){function t(u){return Eo(u,e)}if(0<$i.length){Eo($i[0],e);for(var r=1;r<$i.length;r++){var s=$i[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Rn!==null&&Eo(Rn,e),An!==null&&Eo(An,e),Dn!==null&&Eo(Dn,e),xo.forEach(t),wo.forEach(t),r=0;r<$n.length;r++)s=$n[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)ic(r),r.blockedOn===null&&$n.shift()}var Mr=O.ReactCurrentBatchConfig,Fi=!0;function im(e,t,r,s){var u=Pe,f=Mr.transition;Mr.transition=null;try{Pe=1,El(e,t,r,s)}finally{Pe=u,Mr.transition=f}}function sm(e,t,r,s){var u=Pe,f=Mr.transition;Mr.transition=null;try{Pe=4,El(e,t,r,s)}finally{Pe=u,Mr.transition=f}}function El(e,t,r,s){if(Fi){var u=Nl(e,t,r,s);if(u===null)Hl(e,t,s,Oi,r),oc(e,s);else if(rm(u,e,t,r,s))s.stopPropagation();else if(oc(e,s),t&4&&-1<nm.indexOf(e)){for(;u!==null;){var f=Do(u);if(f!==null&&ec(f),f=Nl(e,t,r,s),f===null&&Hl(e,t,s,Oi,r),f===u)break;u=f}u!==null&&s.stopPropagation()}else Hl(e,t,s,null,r)}}var Oi=null;function Nl(e,t,r,s){if(Oi=null,e=rr(s),e=lr(e),e!==null)if(t=xn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ni(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oi=e,null}function lc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gl()){case mo:return 1;case Ti:return 4;case jr:case Ii:return 16;case zi:return 536870912;default:return 16}default:return 16}}var Ln=null,_l=null,Hi=null;function ac(){if(Hi)return Hi;var e,t=_l,r=t.length,s,u="value"in Ln?Ln.value:Ln.textContent,f=u.length;for(e=0;e<r&&t[e]===u[e];e++);var y=r-e;for(s=1;s<=y&&t[r-s]===u[f-s];s++);return Hi=u.slice(e,1<s?1-s:void 0)}function Vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function uc(){return!1}function Et(e){function t(r,s,u,f,y){this._reactName=r,this._targetInst=u,this.type=s,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(r=e[P],this[P]=r?r(f):f[P]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:uc,this.isPropagationStopped=uc,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),t}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=Et(Tr),_o=T({},Tr,{view:0,detail:0}),lm=Et(_o),Cl,jl,ko,qi=T({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ko&&(ko&&e.type==="mousemove"?(Cl=e.screenX-ko.screenX,jl=e.screenY-ko.screenY):jl=Cl=0,ko=e),Cl)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),cc=Et(qi),am=T({},qi,{dataTransfer:0}),um=Et(am),cm=T({},_o,{relatedTarget:0}),Pl=Et(cm),fm=T({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),dm=Et(fm),hm=T({},Tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pm=Et(hm),mm=T({},Tr,{data:0}),fc=Et(mm),gm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vm[e])?!!t[e]:!1}function Ml(){return xm}var wm=T({},_o,{key:function(e){if(e.key){var t=gm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ym[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ml,charCode:function(e){return e.type==="keypress"?Vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sm=Et(wm),Em=T({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=Et(Em),Nm=T({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ml}),_m=Et(Nm),km=T({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cm=Et(km),jm=T({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pm=Et(jm),Mm=[9,13,27,32],Tl=h&&"CompositionEvent"in window,Co=null;h&&"documentMode"in document&&(Co=document.documentMode);var Tm=h&&"TextEvent"in window&&!Co,hc=h&&(!Tl||Co&&8<Co&&11>=Co),pc=" ",mc=!1;function gc(e,t){switch(e){case"keyup":return Mm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function Im(e,t){switch(e){case"compositionend":return yc(t);case"keypress":return t.which!==32?null:(mc=!0,pc);case"textInput":return e=t.data,e===pc&&mc?null:e;default:return null}}function zm(e,t){if(Ir)return e==="compositionend"||!Tl&&gc(e,t)?(e=ac(),Hi=_l=Ln=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hc&&t.locale!=="ko"?null:t.data;default:return null}}var Rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rm[e.type]:t==="textarea"}function xc(e,t,r,s){yi(s),t=Xi(t,"onChange"),0<t.length&&(r=new kl("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var jo=null,Po=null;function Am(e){Lc(e,0)}function bi(e){var t=$r(e);if(We(t))return e}function Dm(e,t){if(e==="change")return t}var wc=!1;if(h){var Il;if(h){var zl="oninput"in document;if(!zl){var Sc=document.createElement("div");Sc.setAttribute("oninput","return;"),zl=typeof Sc.oninput=="function"}Il=zl}else Il=!1;wc=Il&&(!document.documentMode||9<document.documentMode)}function Ec(){jo&&(jo.detachEvent("onpropertychange",Nc),Po=jo=null)}function Nc(e){if(e.propertyName==="value"&&bi(Po)){var t=[];xc(t,Po,e,rr(e)),Si(Am,t)}}function $m(e,t,r){e==="focusin"?(Ec(),jo=t,Po=r,jo.attachEvent("onpropertychange",Nc)):e==="focusout"&&Ec()}function Lm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bi(Po)}function Fm(e,t){if(e==="click")return bi(t)}function Om(e,t){if(e==="input"||e==="change")return bi(t)}function Hm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Hm;function Mo(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var u=r[s];if(!p.call(t,u)||!Vt(e[u],t[u]))return!1}return!0}function _c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kc(e,t){var r=_c(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_c(r)}}function Cc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jc(){for(var e=window,t=et();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=et(e.document)}return t}function Rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vm(e){var t=jc(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Cc(r.ownerDocument.documentElement,r)){if(s!==null&&Rl(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,f=Math.min(s.start,u);s=s.end===void 0?f:Math.min(s.end,u),!e.extend&&f>s&&(u=s,s=f,f=u),u=kc(r,f);var y=kc(r,s);u&&y&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),f>s?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bm=h&&"documentMode"in document&&11>=document.documentMode,zr=null,Al=null,To=null,Dl=!1;function Pc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dl||zr==null||zr!==et(s)||(s=zr,"selectionStart"in s&&Rl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),To&&Mo(To,s)||(To=s,s=Xi(Al,"onSelect"),0<s.length&&(t=new kl("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=zr)))}function Ui(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Rr={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},$l={},Mc={};h&&(Mc=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function Wi(e){if($l[e])return $l[e];if(!Rr[e])return e;var t=Rr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Mc)return $l[e]=t[r];return e}var Tc=Wi("animationend"),Ic=Wi("animationiteration"),zc=Wi("animationstart"),Rc=Wi("transitionend"),Ac=new Map,Dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(e,t){Ac.set(e,t),c(t,[e])}for(var Ll=0;Ll<Dc.length;Ll++){var Fl=Dc[Ll],qm=Fl.toLowerCase(),bm=Fl[0].toUpperCase()+Fl.slice(1);Fn(qm,"on"+bm)}Fn(Tc,"onAnimationEnd"),Fn(Ic,"onAnimationIteration"),Fn(zc,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(Rc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Um=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function $c(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Ei(s,t,void 0,e),e.currentTarget=null}function Lc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],u=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var y=s.length-1;0<=y;y--){var P=s[y],L=P.instance,X=P.currentTarget;if(P=P.listener,L!==f&&u.isPropagationStopped())break e;$c(u,P,X),f=L}else for(y=0;y<s.length;y++){if(P=s[y],L=P.instance,X=P.currentTarget,P=P.listener,L!==f&&u.isPropagationStopped())break e;$c(u,P,X),f=L}}}if(Cr)throw e=po,Cr=!1,po=null,e}function Te(e,t){var r=t[Wl];r===void 0&&(r=t[Wl]=new Set);var s=e+"__bubble";r.has(s)||(Fc(t,e,2,!1),r.add(s))}function Ol(e,t,r){var s=0;t&&(s|=4),Fc(r,e,s,t)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function zo(e){if(!e[Yi]){e[Yi]=!0,l.forEach(function(r){r!=="selectionchange"&&(Um.has(r)||Ol(r,!1,e),Ol(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yi]||(t[Yi]=!0,Ol("selectionchange",!1,t))}}function Fc(e,t,r,s){switch(lc(t)){case 1:var u=im;break;case 4:u=sm;break;default:u=El}r=u.bind(null,t,r,e),u=void 0,!ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Hl(e,t,r,s,u){var f=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var P=s.stateNode.containerInfo;if(P===u||P.nodeType===8&&P.parentNode===u)break;if(y===4)for(y=s.return;y!==null;){var L=y.tag;if((L===3||L===4)&&(L=y.stateNode.containerInfo,L===u||L.nodeType===8&&L.parentNode===u))return;y=y.return}for(;P!==null;){if(y=lr(P),y===null)return;if(L=y.tag,L===5||L===6){s=f=y;continue e}P=P.parentNode}}s=s.return}Si(function(){var X=f,se=rr(r),le=[];e:{var ie=Ac.get(e);if(ie!==void 0){var ue=kl,de=e;switch(e){case"keypress":if(Vi(r)===0)break e;case"keydown":case"keyup":ue=Sm;break;case"focusin":de="focus",ue=Pl;break;case"focusout":de="blur",ue=Pl;break;case"beforeblur":case"afterblur":ue=Pl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=_m;break;case Tc:case Ic:case zc:ue=dm;break;case Rc:ue=Cm;break;case"scroll":ue=lm;break;case"wheel":ue=Pm;break;case"copy":case"cut":case"paste":ue=pm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=dc}var pe=(t&4)!==0,Be=!pe&&e==="scroll",U=pe?ie!==null?ie+"Capture":null:ie;pe=[];for(var F=X,W;F!==null;){W=F;var ae=W.stateNode;if(W.tag===5&&ae!==null&&(W=ae,U!==null&&(ae=or(F,U),ae!=null&&pe.push(Ro(F,ae,W)))),Be)break;F=F.return}0<pe.length&&(ie=new ue(ie,de,null,r,se),le.push({event:ie,listeners:pe}))}}if(!(t&7)){e:{if(ie=e==="mouseover"||e==="pointerover",ue=e==="mouseout"||e==="pointerout",ie&&r!==gn&&(de=r.relatedTarget||r.fromElement)&&(lr(de)||de[wn]))break e;if((ue||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,ue?(de=r.relatedTarget||r.toElement,ue=X,de=de?lr(de):null,de!==null&&(Be=xn(de),de!==Be||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=X),ue!==de)){if(pe=cc,ae="onMouseLeave",U="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(pe=dc,ae="onPointerLeave",U="onPointerEnter",F="pointer"),Be=ue==null?ie:$r(ue),W=de==null?ie:$r(de),ie=new pe(ae,F+"leave",ue,r,se),ie.target=Be,ie.relatedTarget=W,ae=null,lr(se)===X&&(pe=new pe(U,F+"enter",de,r,se),pe.target=W,pe.relatedTarget=Be,ae=pe),Be=ae,ue&&de)t:{for(pe=ue,U=de,F=0,W=pe;W;W=Ar(W))F++;for(W=0,ae=U;ae;ae=Ar(ae))W++;for(;0<F-W;)pe=Ar(pe),F--;for(;0<W-F;)U=Ar(U),W--;for(;F--;){if(pe===U||U!==null&&pe===U.alternate)break t;pe=Ar(pe),U=Ar(U)}pe=null}else pe=null;ue!==null&&Oc(le,ie,ue,pe,!1),de!==null&&Be!==null&&Oc(le,Be,de,pe,!0)}}e:{if(ie=X?$r(X):window,ue=ie.nodeName&&ie.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ie.type==="file")var me=Dm;else if(vc(ie))if(wc)me=Om;else{me=Lm;var xe=$m}else(ue=ie.nodeName)&&ue.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(me=Fm);if(me&&(me=me(e,X))){xc(le,me,r,se);break e}xe&&xe(e,ie,X),e==="focusout"&&(xe=ie._wrapperState)&&xe.controlled&&ie.type==="number"&&Qe(ie,"number",ie.value)}switch(xe=X?$r(X):window,e){case"focusin":(vc(xe)||xe.contentEditable==="true")&&(zr=xe,Al=X,To=null);break;case"focusout":To=Al=zr=null;break;case"mousedown":Dl=!0;break;case"contextmenu":case"mouseup":case"dragend":Dl=!1,Pc(le,r,se);break;case"selectionchange":if(Bm)break;case"keydown":case"keyup":Pc(le,r,se)}var we;if(Tl)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ir?gc(e,r)&&(Ee="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ee="onCompositionStart");Ee&&(hc&&r.locale!=="ko"&&(Ir||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ir&&(we=ac()):(Ln=se,_l="value"in Ln?Ln.value:Ln.textContent,Ir=!0)),xe=Xi(X,Ee),0<xe.length&&(Ee=new fc(Ee,e,null,r,se),le.push({event:Ee,listeners:xe}),we?Ee.data=we:(we=yc(r),we!==null&&(Ee.data=we)))),(we=Tm?Im(e,r):zm(e,r))&&(X=Xi(X,"onBeforeInput"),0<X.length&&(se=new fc("onBeforeInput","beforeinput",null,r,se),le.push({event:se,listeners:X}),se.data=we))}Lc(le,t)})}function Ro(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xi(e,t){for(var r=t+"Capture",s=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=or(e,r),f!=null&&s.unshift(Ro(e,f,u)),f=or(e,t),f!=null&&s.push(Ro(e,f,u))),e=e.return}return s}function Ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Oc(e,t,r,s,u){for(var f=t._reactName,y=[];r!==null&&r!==s;){var P=r,L=P.alternate,X=P.stateNode;if(L!==null&&L===s)break;P.tag===5&&X!==null&&(P=X,u?(L=or(r,f),L!=null&&y.unshift(Ro(r,L,P))):u||(L=or(r,f),L!=null&&y.push(Ro(r,L,P)))),r=r.return}y.length!==0&&e.push({event:t,listeners:y})}var Wm=/\r\n?/g,Ym=/\u0000|\uFFFD/g;function Hc(e){return(typeof e=="string"?e:""+e).replace(Wm,`
`).replace(Ym,"")}function Gi(e,t,r){if(t=Hc(t),Hc(e)!==t&&r)throw Error(i(425))}function Ki(){}var Vl=null,Bl=null;function ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bl=typeof setTimeout=="function"?setTimeout:void 0,Xm=typeof clearTimeout=="function"?clearTimeout:void 0,Vc=typeof Promise=="function"?Promise:void 0,Gm=typeof queueMicrotask=="function"?queueMicrotask:typeof Vc<"u"?function(e){return Vc.resolve(null).then(e).catch(Km)}:bl;function Km(e){setTimeout(function(){throw e})}function Ul(e,t){var r=t,s=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(s===0){e.removeChild(u),No(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=u}while(r);No(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),on="__reactFiber$"+Dr,Ao="__reactProps$"+Dr,wn="__reactContainer$"+Dr,Wl="__reactEvents$"+Dr,Qm="__reactListeners$"+Dr,Zm="__reactHandles$"+Dr;function lr(e){var t=e[on];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wn]||r[on]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bc(e);e!==null;){if(r=e[on])return r;e=Bc(e)}return t}e=r,r=e.parentNode}return null}function Do(e){return e=e[on]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Qi(e){return e[Ao]||null}var Yl=[],Lr=-1;function Hn(e){return{current:e}}function Ie(e){0>Lr||(e.current=Yl[Lr],Yl[Lr]=null,Lr--)}function Me(e,t){Lr++,Yl[Lr]=e.current,e.current=t}var Vn={},nt=Hn(Vn),ft=Hn(!1),ar=Vn;function Fr(e,t){var r=e.type.contextTypes;if(!r)return Vn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in r)u[f]=t[f];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function dt(e){return e=e.childContextTypes,e!=null}function Zi(){Ie(ft),Ie(nt)}function qc(e,t,r){if(nt.current!==Vn)throw Error(i(168));Me(nt,t),Me(ft,r)}function bc(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var u in s)if(!(u in t))throw Error(i(108,ce(e)||"Unknown",u));return T({},r,s)}function Ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,ar=nt.current,Me(nt,e),Me(ft,ft.current),!0}function Uc(e,t,r){var s=e.stateNode;if(!s)throw Error(i(169));r?(e=bc(e,t,ar),s.__reactInternalMemoizedMergedChildContext=e,Ie(ft),Ie(nt),Me(nt,e)):Ie(ft),Me(ft,r)}var Sn=null,es=!1,Xl=!1;function Wc(e){Sn===null?Sn=[e]:Sn.push(e)}function Jm(e){es=!0,Wc(e)}function Bn(){if(!Xl&&Sn!==null){Xl=!0;var e=0,t=Pe;try{var r=Sn;for(Pe=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Sn=null,es=!1}catch(u){throw Sn!==null&&(Sn=Sn.slice(e+1)),ji(mo,Bn),u}finally{Pe=t,Xl=!1}}return null}var Or=[],Hr=0,ts=null,ns=0,Tt=[],It=0,ur=null,En=1,Nn="";function cr(e,t){Or[Hr++]=ns,Or[Hr++]=ts,ts=e,ns=t}function Yc(e,t,r){Tt[It++]=En,Tt[It++]=Nn,Tt[It++]=ur,ur=e;var s=En;e=Nn;var u=32-Ht(s)-1;s&=~(1<<u),r+=1;var f=32-Ht(t)+u;if(30<f){var y=u-u%5;f=(s&(1<<y)-1).toString(32),s>>=y,u-=y,En=1<<32-Ht(t)+u|r<<u|s,Nn=f+e}else En=1<<f|r<<u|s,Nn=e}function Gl(e){e.return!==null&&(cr(e,1),Yc(e,1,0))}function Kl(e){for(;e===ts;)ts=Or[--Hr],Or[Hr]=null,ns=Or[--Hr],Or[Hr]=null;for(;e===ur;)ur=Tt[--It],Tt[It]=null,Nn=Tt[--It],Tt[It]=null,En=Tt[--It],Tt[It]=null}var Nt=null,_t=null,ze=!1,Bt=null;function Xc(e,t){var r=Dt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Gc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,_t=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ur!==null?{id:En,overflow:Nn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nt=e,_t=null,!0):!1;default:return!1}}function Ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zl(e){if(ze){var t=_t;if(t){var r=t;if(!Gc(e,t)){if(Ql(e))throw Error(i(418));t=On(r.nextSibling);var s=Nt;t&&Gc(e,t)?Xc(s,r):(e.flags=e.flags&-4097|2,ze=!1,Nt=e)}}else{if(Ql(e))throw Error(i(418));e.flags=e.flags&-4097|2,ze=!1,Nt=e}}}function Kc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function rs(e){if(e!==Nt)return!1;if(!ze)return Kc(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ql(e.type,e.memoizedProps)),t&&(t=_t)){if(Ql(e))throw Qc(),Error(i(418));for(;t;)Xc(e,t),t=On(t.nextSibling)}if(Kc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_t=On(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Nt?On(e.stateNode.nextSibling):null;return!0}function Qc(){for(var e=_t;e;)e=On(e.nextSibling)}function Vr(){_t=Nt=null,ze=!1}function Jl(e){Bt===null?Bt=[e]:Bt.push(e)}var eg=O.ReactCurrentBatchConfig;function $o(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var s=r.stateNode}if(!s)throw Error(i(147,e));var u=s,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(y){var P=u.refs;y===null?delete P[f]:P[f]=y},t._stringRef=f,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function os(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zc(e){var t=e._init;return t(e._payload)}function Jc(e){function t(U,F){if(e){var W=U.deletions;W===null?(U.deletions=[F],U.flags|=16):W.push(F)}}function r(U,F){if(!e)return null;for(;F!==null;)t(U,F),F=F.sibling;return null}function s(U,F){for(U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function u(U,F){return U=Kn(U,F),U.index=0,U.sibling=null,U}function f(U,F,W){return U.index=W,e?(W=U.alternate,W!==null?(W=W.index,W<F?(U.flags|=2,F):W):(U.flags|=2,F)):(U.flags|=1048576,F)}function y(U){return e&&U.alternate===null&&(U.flags|=2),U}function P(U,F,W,ae){return F===null||F.tag!==6?(F=ba(W,U.mode,ae),F.return=U,F):(F=u(F,W),F.return=U,F)}function L(U,F,W,ae){var me=W.type;return me===K?se(U,F,W.props.children,ae,W.key):F!==null&&(F.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&Zc(me)===F.type)?(ae=u(F,W.props),ae.ref=$o(U,F,W),ae.return=U,ae):(ae=Ps(W.type,W.key,W.props,null,U.mode,ae),ae.ref=$o(U,F,W),ae.return=U,ae)}function X(U,F,W,ae){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=Ua(W,U.mode,ae),F.return=U,F):(F=u(F,W.children||[]),F.return=U,F)}function se(U,F,W,ae,me){return F===null||F.tag!==7?(F=vr(W,U.mode,ae,me),F.return=U,F):(F=u(F,W),F.return=U,F)}function le(U,F,W){if(typeof F=="string"&&F!==""||typeof F=="number")return F=ba(""+F,U.mode,W),F.return=U,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case J:return W=Ps(F.type,F.key,F.props,null,U.mode,W),W.ref=$o(U,null,F),W.return=U,W;case Q:return F=Ua(F,U.mode,W),F.return=U,F;case C:var ae=F._init;return le(U,ae(F._payload),W)}if(xt(F)||N(F))return F=vr(F,U.mode,W,null),F.return=U,F;os(U,F)}return null}function ie(U,F,W,ae){var me=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return me!==null?null:P(U,F,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case J:return W.key===me?L(U,F,W,ae):null;case Q:return W.key===me?X(U,F,W,ae):null;case C:return me=W._init,ie(U,F,me(W._payload),ae)}if(xt(W)||N(W))return me!==null?null:se(U,F,W,ae,null);os(U,W)}return null}function ue(U,F,W,ae,me){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return U=U.get(W)||null,P(F,U,""+ae,me);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case J:return U=U.get(ae.key===null?W:ae.key)||null,L(F,U,ae,me);case Q:return U=U.get(ae.key===null?W:ae.key)||null,X(F,U,ae,me);case C:var xe=ae._init;return ue(U,F,W,xe(ae._payload),me)}if(xt(ae)||N(ae))return U=U.get(W)||null,se(F,U,ae,me,null);os(F,ae)}return null}function de(U,F,W,ae){for(var me=null,xe=null,we=F,Ee=F=0,Ge=null;we!==null&&Ee<W.length;Ee++){we.index>Ee?(Ge=we,we=null):Ge=we.sibling;var Ce=ie(U,we,W[Ee],ae);if(Ce===null){we===null&&(we=Ge);break}e&&we&&Ce.alternate===null&&t(U,we),F=f(Ce,F,Ee),xe===null?me=Ce:xe.sibling=Ce,xe=Ce,we=Ge}if(Ee===W.length)return r(U,we),ze&&cr(U,Ee),me;if(we===null){for(;Ee<W.length;Ee++)we=le(U,W[Ee],ae),we!==null&&(F=f(we,F,Ee),xe===null?me=we:xe.sibling=we,xe=we);return ze&&cr(U,Ee),me}for(we=s(U,we);Ee<W.length;Ee++)Ge=ue(we,U,Ee,W[Ee],ae),Ge!==null&&(e&&Ge.alternate!==null&&we.delete(Ge.key===null?Ee:Ge.key),F=f(Ge,F,Ee),xe===null?me=Ge:xe.sibling=Ge,xe=Ge);return e&&we.forEach(function(Qn){return t(U,Qn)}),ze&&cr(U,Ee),me}function pe(U,F,W,ae){var me=N(W);if(typeof me!="function")throw Error(i(150));if(W=me.call(W),W==null)throw Error(i(151));for(var xe=me=null,we=F,Ee=F=0,Ge=null,Ce=W.next();we!==null&&!Ce.done;Ee++,Ce=W.next()){we.index>Ee?(Ge=we,we=null):Ge=we.sibling;var Qn=ie(U,we,Ce.value,ae);if(Qn===null){we===null&&(we=Ge);break}e&&we&&Qn.alternate===null&&t(U,we),F=f(Qn,F,Ee),xe===null?me=Qn:xe.sibling=Qn,xe=Qn,we=Ge}if(Ce.done)return r(U,we),ze&&cr(U,Ee),me;if(we===null){for(;!Ce.done;Ee++,Ce=W.next())Ce=le(U,Ce.value,ae),Ce!==null&&(F=f(Ce,F,Ee),xe===null?me=Ce:xe.sibling=Ce,xe=Ce);return ze&&cr(U,Ee),me}for(we=s(U,we);!Ce.done;Ee++,Ce=W.next())Ce=ue(we,U,Ee,Ce.value,ae),Ce!==null&&(e&&Ce.alternate!==null&&we.delete(Ce.key===null?Ee:Ce.key),F=f(Ce,F,Ee),xe===null?me=Ce:xe.sibling=Ce,xe=Ce);return e&&we.forEach(function(zg){return t(U,zg)}),ze&&cr(U,Ee),me}function Be(U,F,W,ae){if(typeof W=="object"&&W!==null&&W.type===K&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case J:e:{for(var me=W.key,xe=F;xe!==null;){if(xe.key===me){if(me=W.type,me===K){if(xe.tag===7){r(U,xe.sibling),F=u(xe,W.props.children),F.return=U,U=F;break e}}else if(xe.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&Zc(me)===xe.type){r(U,xe.sibling),F=u(xe,W.props),F.ref=$o(U,xe,W),F.return=U,U=F;break e}r(U,xe);break}else t(U,xe);xe=xe.sibling}W.type===K?(F=vr(W.props.children,U.mode,ae,W.key),F.return=U,U=F):(ae=Ps(W.type,W.key,W.props,null,U.mode,ae),ae.ref=$o(U,F,W),ae.return=U,U=ae)}return y(U);case Q:e:{for(xe=W.key;F!==null;){if(F.key===xe)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){r(U,F.sibling),F=u(F,W.children||[]),F.return=U,U=F;break e}else{r(U,F);break}else t(U,F);F=F.sibling}F=Ua(W,U.mode,ae),F.return=U,U=F}return y(U);case C:return xe=W._init,Be(U,F,xe(W._payload),ae)}if(xt(W))return de(U,F,W,ae);if(N(W))return pe(U,F,W,ae);os(U,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,F!==null&&F.tag===6?(r(U,F.sibling),F=u(F,W),F.return=U,U=F):(r(U,F),F=ba(W,U.mode,ae),F.return=U,U=F),y(U)):r(U,F)}return Be}var Br=Jc(!0),ef=Jc(!1),is=Hn(null),ss=null,qr=null,ea=null;function ta(){ea=qr=ss=null}function na(e){var t=is.current;Ie(is),e._currentValue=t}function ra(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function br(e,t){ss=e,ea=qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ht=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(ea!==e)if(e={context:e,memoizedValue:t,next:null},qr===null){if(ss===null)throw Error(i(308));qr=e,ss.dependencies={lanes:0,firstContext:e}}else qr=qr.next=e;return t}var fr=null;function oa(e){fr===null?fr=[e]:fr.push(e)}function tf(e,t,r,s){var u=t.interleaved;return u===null?(r.next=r,oa(t)):(r.next=u.next,u.next=r),t.interleaved=r,_n(e,s)}function _n(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qn=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ke&2){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,_n(e,r)}return u=s.interleaved,u===null?(t.next=t,oa(s)):(t.next=u.next,u.next=t),s.interleaved=t,_n(e,r)}function ls(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,xl(e,r)}}function rf(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?u=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?u=f=t:f=f.next=t}else u=f=t;r={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function as(e,t,r,s){var u=e.updateQueue;qn=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,P=u.shared.pending;if(P!==null){u.shared.pending=null;var L=P,X=L.next;L.next=null,y===null?f=X:y.next=X,y=L;var se=e.alternate;se!==null&&(se=se.updateQueue,P=se.lastBaseUpdate,P!==y&&(P===null?se.firstBaseUpdate=X:P.next=X,se.lastBaseUpdate=L))}if(f!==null){var le=u.baseState;y=0,se=X=L=null,P=f;do{var ie=P.lane,ue=P.eventTime;if((s&ie)===ie){se!==null&&(se=se.next={eventTime:ue,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var de=e,pe=P;switch(ie=t,ue=r,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){le=de.call(ue,le,ie);break e}le=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,ie=typeof de=="function"?de.call(ue,le,ie):de,ie==null)break e;le=T({},le,ie);break e;case 2:qn=!0}}P.callback!==null&&P.lane!==0&&(e.flags|=64,ie=u.effects,ie===null?u.effects=[P]:ie.push(P))}else ue={eventTime:ue,lane:ie,tag:P.tag,payload:P.payload,callback:P.callback,next:null},se===null?(X=se=ue,L=le):se=se.next=ue,y|=ie;if(P=P.next,P===null){if(P=u.shared.pending,P===null)break;ie=P,P=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);if(se===null&&(L=le),u.baseState=L,u.firstBaseUpdate=X,u.lastBaseUpdate=se,t=u.shared.interleaved,t!==null){u=t;do y|=u.lane,u=u.next;while(u!==t)}else f===null&&(u.shared.lanes=0);pr|=y,e.lanes=y,e.memoizedState=le}}function of(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],u=s.callback;if(u!==null){if(s.callback=null,s=r,typeof u!="function")throw Error(i(191,u));u.call(s)}}}var Lo={},sn=Hn(Lo),Fo=Hn(Lo),Oo=Hn(Lo);function dr(e){if(e===Lo)throw Error(i(174));return e}function sa(e,t){switch(Me(Oo,t),Me(Fo,e),Me(sn,Lo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lt(t,e)}Ie(sn),Me(sn,t)}function Ur(){Ie(sn),Ie(Fo),Ie(Oo)}function sf(e){dr(Oo.current);var t=dr(sn.current),r=Lt(t,e.type);t!==r&&(Me(Fo,e),Me(sn,r))}function la(e){Fo.current===e&&(Ie(sn),Ie(Fo))}var Ae=Hn(0);function us(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function ua(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var cs=O.ReactCurrentDispatcher,ca=O.ReactCurrentBatchConfig,hr=0,De=null,be=null,Ye=null,fs=!1,Ho=!1,Vo=0,tg=0;function rt(){throw Error(i(321))}function fa(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vt(e[r],t[r]))return!1;return!0}function da(e,t,r,s,u,f){if(hr=f,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cs.current=e===null||e.memoizedState===null?ig:sg,e=r(s,u),Ho){f=0;do{if(Ho=!1,Vo=0,25<=f)throw Error(i(301));f+=1,Ye=be=null,t.updateQueue=null,cs.current=lg,e=r(s,u)}while(Ho)}if(cs.current=ps,t=be!==null&&be.next!==null,hr=0,Ye=be=De=null,fs=!1,t)throw Error(i(300));return e}function ha(){var e=Vo!==0;return Vo=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?De.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Rt(){if(be===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Ye===null?De.memoizedState:Ye.next;if(t!==null)Ye=t,be=e;else{if(e===null)throw Error(i(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ye===null?De.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Bo(e,t){return typeof t=="function"?t(e):t}function pa(e){var t=Rt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=be,u=s.baseQueue,f=r.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}s.baseQueue=u=f,r.pending=null}if(u!==null){f=u.next,s=s.baseState;var P=y=null,L=null,X=f;do{var se=X.lane;if((hr&se)===se)L!==null&&(L=L.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),s=X.hasEagerState?X.eagerState:e(s,X.action);else{var le={lane:se,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};L===null?(P=L=le,y=s):L=L.next=le,De.lanes|=se,pr|=se}X=X.next}while(X!==null&&X!==f);L===null?y=s:L.next=P,Vt(s,t.memoizedState)||(ht=!0),t.memoizedState=s,t.baseState=y,t.baseQueue=L,r.lastRenderedState=s}if(e=r.interleaved,e!==null){u=e;do f=u.lane,De.lanes|=f,pr|=f,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ma(e){var t=Rt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=r.dispatch,u=r.pending,f=t.memoizedState;if(u!==null){r.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);Vt(f,t.memoizedState)||(ht=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,s]}function lf(){}function af(e,t){var r=De,s=Rt(),u=t(),f=!Vt(s.memoizedState,u);if(f&&(s.memoizedState=u,ht=!0),s=s.queue,ga(ff.bind(null,r,s,e),[e]),s.getSnapshot!==t||f||Ye!==null&&Ye.memoizedState.tag&1){if(r.flags|=2048,qo(9,cf.bind(null,r,s,u,t),void 0,null),Xe===null)throw Error(i(349));hr&30||uf(r,t,u)}return u}function uf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cf(e,t,r,s){t.value=r,t.getSnapshot=s,df(t)&&hf(e)}function ff(e,t,r){return r(function(){df(t)&&hf(e)})}function df(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vt(e,r)}catch{return!0}}function hf(e){var t=_n(e,1);t!==null&&Wt(t,e,1,-1)}function pf(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:e},t.queue=e,e=e.dispatch=og.bind(null,De,e),[t.memoizedState,e]}function qo(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function mf(){return Rt().memoizedState}function ds(e,t,r,s){var u=ln();De.flags|=e,u.memoizedState=qo(1|t,r,void 0,s===void 0?null:s)}function hs(e,t,r,s){var u=Rt();s=s===void 0?null:s;var f=void 0;if(be!==null){var y=be.memoizedState;if(f=y.destroy,s!==null&&fa(s,y.deps)){u.memoizedState=qo(t,r,f,s);return}}De.flags|=e,u.memoizedState=qo(1|t,r,f,s)}function gf(e,t){return ds(8390656,8,e,t)}function ga(e,t){return hs(2048,8,e,t)}function yf(e,t){return hs(4,2,e,t)}function vf(e,t){return hs(4,4,e,t)}function xf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wf(e,t,r){return r=r!=null?r.concat([e]):null,hs(4,4,xf.bind(null,t,e),r)}function ya(){}function Sf(e,t){var r=Rt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&fa(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Ef(e,t){var r=Rt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&fa(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Nf(e,t,r){return hr&21?(Vt(r,t)||(r=Zu(),De.lanes|=r,pr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=r)}function ng(e,t){var r=Pe;Pe=r!==0&&4>r?r:4,e(!0);var s=ca.transition;ca.transition={};try{e(!1),t()}finally{Pe=r,ca.transition=s}}function _f(){return Rt().memoizedState}function rg(e,t,r){var s=Xn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},kf(e))Cf(t,r);else if(r=tf(e,t,r,s),r!==null){var u=at();Wt(r,e,s,u),jf(r,t,s)}}function og(e,t,r){var s=Xn(e),u={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(kf(e))Cf(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,P=f(y,r);if(u.hasEagerState=!0,u.eagerState=P,Vt(P,y)){var L=t.interleaved;L===null?(u.next=u,oa(t)):(u.next=L.next,L.next=u),t.interleaved=u;return}}catch{}finally{}r=tf(e,t,u,s),r!==null&&(u=at(),Wt(r,e,s,u),jf(r,t,s))}}function kf(e){var t=e.alternate;return e===De||t!==null&&t===De}function Cf(e,t){Ho=fs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jf(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,xl(e,r)}}var ps={readContext:zt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},ig={readContext:zt,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:gf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ds(4194308,4,xf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return ds(4,2,e,t)},useMemo:function(e,t){var r=ln();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=ln();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=rg.bind(null,De,e),[s.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:pf,useDebugValue:ya,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=pf(!1),t=e[0];return e=ng.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=De,u=ln();if(ze){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),Xe===null)throw Error(i(349));hr&30||uf(s,t,r)}u.memoizedState=r;var f={value:r,getSnapshot:t};return u.queue=f,gf(ff.bind(null,s,f,e),[e]),s.flags|=2048,qo(9,cf.bind(null,s,f,r,t),void 0,null),r},useId:function(){var e=ln(),t=Xe.identifierPrefix;if(ze){var r=Nn,s=En;r=(s&~(1<<32-Ht(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=tg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sg={readContext:zt,useCallback:Sf,useContext:zt,useEffect:ga,useImperativeHandle:wf,useInsertionEffect:yf,useLayoutEffect:vf,useMemo:Ef,useReducer:pa,useRef:mf,useState:function(){return pa(Bo)},useDebugValue:ya,useDeferredValue:function(e){var t=Rt();return Nf(t,be.memoizedState,e)},useTransition:function(){var e=pa(Bo)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:lf,useSyncExternalStore:af,useId:_f,unstable_isNewReconciler:!1},lg={readContext:zt,useCallback:Sf,useContext:zt,useEffect:ga,useImperativeHandle:wf,useInsertionEffect:yf,useLayoutEffect:vf,useMemo:Ef,useReducer:ma,useRef:mf,useState:function(){return ma(Bo)},useDebugValue:ya,useDeferredValue:function(e){var t=Rt();return be===null?t.memoizedState=e:Nf(t,be.memoizedState,e)},useTransition:function(){var e=ma(Bo)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:lf,useSyncExternalStore:af,useId:_f,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=T({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function va(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:T({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ms={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=at(),u=Xn(e),f=kn(s,u);f.payload=t,r!=null&&(f.callback=r),t=bn(e,f,u),t!==null&&(Wt(t,e,u,s),ls(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=at(),u=Xn(e),f=kn(s,u);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=bn(e,f,u),t!==null&&(Wt(t,e,u,s),ls(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=at(),s=Xn(e),u=kn(r,s);u.tag=2,t!=null&&(u.callback=t),t=bn(e,u,s),t!==null&&(Wt(t,e,s,r),ls(t,e,s))}};function Pf(e,t,r,s,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,y):t.prototype&&t.prototype.isPureReactComponent?!Mo(r,s)||!Mo(u,f):!0}function Mf(e,t,r){var s=!1,u=Vn,f=t.contextType;return typeof f=="object"&&f!==null?f=zt(f):(u=dt(t)?ar:nt.current,s=t.contextTypes,f=(s=s!=null)?Fr(e,u):Vn),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ms,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),t}function Tf(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&ms.enqueueReplaceState(t,t.state,null)}function xa(e,t,r,s){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},ia(e);var f=t.contextType;typeof f=="object"&&f!==null?u.context=zt(f):(f=dt(t)?ar:nt.current,u.context=Fr(e,f)),u.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(va(e,t,f,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&ms.enqueueReplaceState(u,u.state,null),as(e,r,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Wr(e,t){try{var r="",s=t;do r+=oe(s),s=s.return;while(s);var u=r}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:u,digest:null}}function wa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Sa(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ag=typeof WeakMap=="function"?WeakMap:Map;function If(e,t,r){r=kn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Es||(Es=!0,$a=s),Sa(e,t)},r}function zf(e,t,r){r=kn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=t.value;r.payload=function(){return s(u)},r.callback=function(){Sa(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){Sa(e,t),typeof s!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),r}function Rf(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new ag;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(r)||(u.add(r),e=Eg.bind(null,e,t,r),t.then(e,e))}function Af(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Df(e,t,r,s,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kn(-1,1),t.tag=2,bn(r,t,1))),r.lanes|=1),e)}var ug=O.ReactCurrentOwner,ht=!1;function lt(e,t,r,s){t.child=e===null?ef(t,null,r,s):Br(t,e.child,r,s)}function $f(e,t,r,s,u){r=r.render;var f=t.ref;return br(t,u),s=da(e,t,r,s,f,u),r=ha(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Cn(e,t,u)):(ze&&r&&Gl(t),t.flags|=1,lt(e,t,s,u),t.child)}function Lf(e,t,r,s,u){if(e===null){var f=r.type;return typeof f=="function"&&!qa(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,Ff(e,t,f,s,u)):(e=Ps(r.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&u)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(y,s)&&e.ref===t.ref)return Cn(e,t,u)}return t.flags|=1,e=Kn(f,s),e.ref=t.ref,e.return=t,t.child=e}function Ff(e,t,r,s,u){if(e!==null){var f=e.memoizedProps;if(Mo(f,s)&&e.ref===t.ref)if(ht=!1,t.pendingProps=s=f,(e.lanes&u)!==0)e.flags&131072&&(ht=!0);else return t.lanes=e.lanes,Cn(e,t,u)}return Ea(e,t,r,s,u)}function Of(e,t,r){var s=t.pendingProps,u=s.children,f=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Xr,kt),kt|=r;else{if(!(r&1073741824))return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(Xr,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=f!==null?f.baseLanes:r,Me(Xr,kt),kt|=s}else f!==null?(s=f.baseLanes|r,t.memoizedState=null):s=r,Me(Xr,kt),kt|=s;return lt(e,t,u,r),t.child}function Hf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,r,s,u){var f=dt(r)?ar:nt.current;return f=Fr(t,f),br(t,u),r=da(e,t,r,s,f,u),s=ha(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Cn(e,t,u)):(ze&&s&&Gl(t),t.flags|=1,lt(e,t,r,u),t.child)}function Vf(e,t,r,s,u){if(dt(r)){var f=!0;Ji(t)}else f=!1;if(br(t,u),t.stateNode===null)ys(e,t),Mf(t,r,s),xa(t,r,s,u),s=!0;else if(e===null){var y=t.stateNode,P=t.memoizedProps;y.props=P;var L=y.context,X=r.contextType;typeof X=="object"&&X!==null?X=zt(X):(X=dt(r)?ar:nt.current,X=Fr(t,X));var se=r.getDerivedStateFromProps,le=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function";le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P!==s||L!==X)&&Tf(t,y,s,X),qn=!1;var ie=t.memoizedState;y.state=ie,as(t,s,y,u),L=t.memoizedState,P!==s||ie!==L||ft.current||qn?(typeof se=="function"&&(va(t,r,se,s),L=t.memoizedState),(P=qn||Pf(t,r,P,s,ie,L,X))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=L),y.props=s,y.state=L,y.context=X,s=P):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{y=t.stateNode,nf(e,t),P=t.memoizedProps,X=t.type===t.elementType?P:qt(t.type,P),y.props=X,le=t.pendingProps,ie=y.context,L=r.contextType,typeof L=="object"&&L!==null?L=zt(L):(L=dt(r)?ar:nt.current,L=Fr(t,L));var ue=r.getDerivedStateFromProps;(se=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P!==le||ie!==L)&&Tf(t,y,s,L),qn=!1,ie=t.memoizedState,y.state=ie,as(t,s,y,u);var de=t.memoizedState;P!==le||ie!==de||ft.current||qn?(typeof ue=="function"&&(va(t,r,ue,s),de=t.memoizedState),(X=qn||Pf(t,r,X,s,ie,de,L)||!1)?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,de,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,de,L)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||P===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=de),y.props=s,y.state=de,y.context=L,s=X):(typeof y.componentDidUpdate!="function"||P===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),s=!1)}return Na(e,t,r,s,f,u)}function Na(e,t,r,s,u,f){Hf(e,t);var y=(t.flags&128)!==0;if(!s&&!y)return u&&Uc(t,r,!1),Cn(e,t,f);s=t.stateNode,ug.current=t;var P=y&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&y?(t.child=Br(t,e.child,null,f),t.child=Br(t,null,P,f)):lt(e,t,P,f),t.memoizedState=s.state,u&&Uc(t,r,!0),t.child}function Bf(e){var t=e.stateNode;t.pendingContext?qc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qc(e,t.context,!1),sa(e,t.containerInfo)}function qf(e,t,r,s,u){return Vr(),Jl(u),t.flags|=256,lt(e,t,r,s),t.child}var _a={dehydrated:null,treeContext:null,retryLane:0};function ka(e){return{baseLanes:e,cachePool:null,transitions:null}}function bf(e,t,r){var s=t.pendingProps,u=Ae.current,f=!1,y=(t.flags&128)!==0,P;if((P=y)||(P=e!==null&&e.memoizedState===null?!1:(u&2)!==0),P?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Me(Ae,u&1),e===null)return Zl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(y=s.children,e=s.fallback,f?(s=t.mode,f=t.child,y={mode:"hidden",children:y},!(s&1)&&f!==null?(f.childLanes=0,f.pendingProps=y):f=Ms(y,s,0,null),e=vr(e,s,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=ka(r),t.memoizedState=_a,e):Ca(t,y));if(u=e.memoizedState,u!==null&&(P=u.dehydrated,P!==null))return cg(e,t,y,s,P,u,r);if(f){f=s.fallback,y=t.mode,u=e.child,P=u.sibling;var L={mode:"hidden",children:s.children};return!(y&1)&&t.child!==u?(s=t.child,s.childLanes=0,s.pendingProps=L,t.deletions=null):(s=Kn(u,L),s.subtreeFlags=u.subtreeFlags&14680064),P!==null?f=Kn(P,f):(f=vr(f,y,r,null),f.flags|=2),f.return=t,s.return=t,s.sibling=f,t.child=s,s=f,f=t.child,y=e.child.memoizedState,y=y===null?ka(r):{baseLanes:y.baseLanes|r,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~r,t.memoizedState=_a,s}return f=e.child,e=f.sibling,s=Kn(f,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Ca(e,t){return t=Ms({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gs(e,t,r,s){return s!==null&&Jl(s),Br(t,e.child,null,r),e=Ca(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cg(e,t,r,s,u,f,y){if(r)return t.flags&256?(t.flags&=-257,s=wa(Error(i(422))),gs(e,t,y,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=s.fallback,u=t.mode,s=Ms({mode:"visible",children:s.children},u,0,null),f=vr(f,u,y,null),f.flags|=2,s.return=t,f.return=t,s.sibling=f,t.child=s,t.mode&1&&Br(t,e.child,null,y),t.child.memoizedState=ka(y),t.memoizedState=_a,f);if(!(t.mode&1))return gs(e,t,y,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var P=s.dgst;return s=P,f=Error(i(419)),s=wa(f,s,void 0),gs(e,t,y,s)}if(P=(y&e.childLanes)!==0,ht||P){if(s=Xe,s!==null){switch(y&-y){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(s.suspendedLanes|y)?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,_n(e,u),Wt(s,e,u,-1))}return Ba(),s=wa(Error(i(421))),gs(e,t,y,s)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Ng.bind(null,e),u._reactRetry=t,null):(e=f.treeContext,_t=On(u.nextSibling),Nt=t,ze=!0,Bt=null,e!==null&&(Tt[It++]=En,Tt[It++]=Nn,Tt[It++]=ur,En=e.id,Nn=e.overflow,ur=t),t=Ca(t,s.children),t.flags|=4096,t)}function Uf(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ra(e.return,t,r)}function ja(e,t,r,s,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=r,f.tailMode=u)}function Wf(e,t,r){var s=t.pendingProps,u=s.revealOrder,f=s.tail;if(lt(e,t,s.children,r),s=Ae.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uf(e,r,t);else if(e.tag===19)Uf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Me(Ae,s),!(t.mode&1))t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&us(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),ja(t,!1,u,r,f);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&us(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}ja(t,!0,r,null,f);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ys(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=Kn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function fg(e,t,r){switch(t.tag){case 3:Bf(t),Vr();break;case 5:sf(t);break;case 1:dt(t.type)&&Ji(t);break;case 4:sa(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,u=t.memoizedProps.value;Me(is,s._currentValue),s._currentValue=u;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Me(Ae,Ae.current&1),t.flags|=128,null):r&t.child.childLanes?bf(e,t,r):(Me(Ae,Ae.current&1),e=Cn(e,t,r),e!==null?e.sibling:null);Me(Ae,Ae.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Wf(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Me(Ae,Ae.current),s)break;return null;case 22:case 23:return t.lanes=0,Of(e,t,r)}return Cn(e,t,r)}var Yf,Pa,Xf,Gf;Yf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Pa=function(){},Xf=function(e,t,r,s){var u=e.memoizedProps;if(u!==s){e=t.stateNode,dr(sn.current);var f=null;switch(r){case"input":u=tt(e,u),s=tt(e,s),f=[];break;case"select":u=T({},u,{value:void 0}),s=T({},s,{value:void 0}),f=[];break;case"textarea":u=Zt(e,u),s=Zt(e,s),f=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ki)}St(r,s);var y;r=null;for(X in u)if(!s.hasOwnProperty(X)&&u.hasOwnProperty(X)&&u[X]!=null)if(X==="style"){var P=u[X];for(y in P)P.hasOwnProperty(y)&&(r||(r={}),r[y]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(a.hasOwnProperty(X)?f||(f=[]):(f=f||[]).push(X,null));for(X in s){var L=s[X];if(P=u!=null?u[X]:void 0,s.hasOwnProperty(X)&&L!==P&&(L!=null||P!=null))if(X==="style")if(P){for(y in P)!P.hasOwnProperty(y)||L&&L.hasOwnProperty(y)||(r||(r={}),r[y]="");for(y in L)L.hasOwnProperty(y)&&P[y]!==L[y]&&(r||(r={}),r[y]=L[y])}else r||(f||(f=[]),f.push(X,r)),r=L;else X==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,P=P?P.__html:void 0,L!=null&&P!==L&&(f=f||[]).push(X,L)):X==="children"?typeof L!="string"&&typeof L!="number"||(f=f||[]).push(X,""+L):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(a.hasOwnProperty(X)?(L!=null&&X==="onScroll"&&Te("scroll",e),f||P===L||(f=[])):(f=f||[]).push(X,L))}r&&(f=f||[]).push("style",r);var X=f;(t.updateQueue=X)&&(t.flags|=4)}},Gf=function(e,t,r,s){r!==s&&(t.flags|=4)};function bo(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function dg(e,t,r){var s=t.pendingProps;switch(Kl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return dt(t.type)&&Zi(),ot(t),null;case 3:return s=t.stateNode,Ur(),Ie(ft),Ie(nt),ua(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(Oa(Bt),Bt=null))),Pa(e,t),ot(t),null;case 5:la(t);var u=dr(Oo.current);if(r=t.type,e!==null&&t.stateNode!=null)Xf(e,t,r,s,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return ot(t),null}if(e=dr(sn.current),rs(t)){s=t.stateNode,r=t.type;var f=t.memoizedProps;switch(s[on]=t,s[Ao]=f,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",s),Te("close",s);break;case"iframe":case"object":case"embed":Te("load",s);break;case"video":case"audio":for(u=0;u<Io.length;u++)Te(Io[u],s);break;case"source":Te("error",s);break;case"img":case"image":case"link":Te("error",s),Te("load",s);break;case"details":Te("toggle",s);break;case"input":Fe(s,f),Te("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!f.multiple},Te("invalid",s);break;case"textarea":dn(s,f),Te("invalid",s)}St(r,f),u=null;for(var y in f)if(f.hasOwnProperty(y)){var P=f[y];y==="children"?typeof P=="string"?s.textContent!==P&&(f.suppressHydrationWarning!==!0&&Gi(s.textContent,P,e),u=["children",P]):typeof P=="number"&&s.textContent!==""+P&&(f.suppressHydrationWarning!==!0&&Gi(s.textContent,P,e),u=["children",""+P]):a.hasOwnProperty(y)&&P!=null&&y==="onScroll"&&Te("scroll",s)}switch(r){case"input":Le(s),ye(s,f,!0);break;case"textarea":Le(s),hn(s);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(s.onclick=Ki)}s=u,t.updateQueue=s,s!==null&&(t.flags|=4)}else{y=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jt(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=y.createElement(r,{is:s.is}):(e=y.createElement(r),r==="select"&&(y=e,s.multiple?y.multiple=!0:s.size&&(y.size=s.size))):e=y.createElementNS(e,r),e[on]=t,e[Ao]=s,Yf(e,t,!1,!1),t.stateNode=e;e:{switch(y=ct(r,s),r){case"dialog":Te("cancel",e),Te("close",e),u=s;break;case"iframe":case"object":case"embed":Te("load",e),u=s;break;case"video":case"audio":for(u=0;u<Io.length;u++)Te(Io[u],e);u=s;break;case"source":Te("error",e),u=s;break;case"img":case"image":case"link":Te("error",e),Te("load",e),u=s;break;case"details":Te("toggle",e),u=s;break;case"input":Fe(e,s),u=tt(e,s),Te("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=T({},s,{value:void 0}),Te("invalid",e);break;case"textarea":dn(e,s),u=Zt(e,s),Te("invalid",e);break;default:u=s}St(r,u),P=u;for(f in P)if(P.hasOwnProperty(f)){var L=P[f];f==="style"?tn(e,L):f==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&pn(e,L)):f==="children"?typeof L=="string"?(r!=="textarea"||L!=="")&&Ot(e,L):typeof L=="number"&&Ot(e,""+L):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?L!=null&&f==="onScroll"&&Te("scroll",e):L!=null&&G(e,f,L,y))}switch(r){case"input":Le(e),ye(e,s,!1);break;case"textarea":Le(e),hn(e);break;case"option":s.value!=null&&e.setAttribute("value",""+he(s.value));break;case"select":e.multiple=!!s.multiple,f=s.value,f!=null?jt(e,!!s.multiple,f,!1):s.defaultValue!=null&&jt(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Ki)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)Gf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(r=dr(Oo.current),dr(sn.current),rs(t)){if(s=t.stateNode,r=t.memoizedProps,s[on]=t,(f=s.nodeValue!==r)&&(e=Nt,e!==null))switch(e.tag){case 3:Gi(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gi(s.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[on]=t,t.stateNode=s}return ot(t),null;case 13:if(Ie(Ae),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&_t!==null&&t.mode&1&&!(t.flags&128))Qc(),Vr(),t.flags|=98560,f=!1;else if(f=rs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[on]=t}else Vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),f=!1}else Bt!==null&&(Oa(Bt),Bt=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ae.current&1?Ue===0&&(Ue=3):Ba())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return Ur(),Pa(e,t),e===null&&zo(t.stateNode.containerInfo),ot(t),null;case 10:return na(t.type._context),ot(t),null;case 17:return dt(t.type)&&Zi(),ot(t),null;case 19:if(Ie(Ae),f=t.memoizedState,f===null)return ot(t),null;if(s=(t.flags&128)!==0,y=f.rendering,y===null)if(s)bo(f,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(y=us(e),y!==null){for(t.flags|=128,bo(f,!1),s=y.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)f=r,e=s,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Me(Ae,Ae.current&1|2),t.child}e=e.sibling}f.tail!==null&&Re()>Gr&&(t.flags|=128,s=!0,bo(f,!1),t.lanes=4194304)}else{if(!s)if(e=us(y),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!ze)return ot(t),null}else 2*Re()-f.renderingStartTime>Gr&&r!==1073741824&&(t.flags|=128,s=!0,bo(f,!1),t.lanes=4194304);f.isBackwards?(y.sibling=t.child,t.child=y):(r=f.last,r!==null?r.sibling=y:t.child=y,f.last=y)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Re(),t.sibling=null,r=Ae.current,Me(Ae,s?r&1|2:r&1),t):(ot(t),null);case 22:case 23:return Va(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?kt&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function hg(e,t){switch(Kl(t),t.tag){case 1:return dt(t.type)&&Zi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ur(),Ie(ft),Ie(nt),ua(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return la(t),null;case 13:if(Ie(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Ae),null;case 4:return Ur(),null;case 10:return na(t.type._context),null;case 22:case 23:return Va(),null;case 24:return null;default:return null}}var vs=!1,it=!1,pg=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Yr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){He(e,t,s)}else r.current=null}function Ma(e,t,r){try{r()}catch(s){He(e,t,s)}}var Kf=!1;function mg(e,t){if(Vl=Fi,e=jc(),Rl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var u=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,P=-1,L=-1,X=0,se=0,le=e,ie=null;t:for(;;){for(var ue;le!==r||u!==0&&le.nodeType!==3||(P=y+u),le!==f||s!==0&&le.nodeType!==3||(L=y+s),le.nodeType===3&&(y+=le.nodeValue.length),(ue=le.firstChild)!==null;)ie=le,le=ue;for(;;){if(le===e)break t;if(ie===r&&++X===u&&(P=y),ie===f&&++se===s&&(L=y),(ue=le.nextSibling)!==null)break;le=ie,ie=le.parentNode}le=ue}r=P===-1||L===-1?null:{start:P,end:L}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bl={focusedElem:e,selectionRange:r},Fi=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var de=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,Be=de.memoizedState,U=t.stateNode,F=U.getSnapshotBeforeUpdate(t.elementType===t.type?pe:qt(t.type,pe),Be);U.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var W=t.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ae){He(t,t.return,ae)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return de=Kf,Kf=!1,de}function Uo(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&Ma(t,r,f)}u=u.next}while(u!==s)}}function xs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Ta(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Qf(e){var t=e.alternate;t!==null&&(e.alternate=null,Qf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[on],delete t[Ao],delete t[Wl],delete t[Qm],delete t[Zm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zf(e){return e.tag===5||e.tag===3||e.tag===4}function Jf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ia(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ki));else if(s!==4&&(e=e.child,e!==null))for(Ia(e,t,r),e=e.sibling;e!==null;)Ia(e,t,r),e=e.sibling}function za(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(za(e,t,r),e=e.sibling;e!==null;)za(e,t,r),e=e.sibling}var Ze=null,bt=!1;function Un(e,t,r){for(r=r.child;r!==null;)ed(e,t,r),r=r.sibling}function ed(e,t,r){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Pr,r)}catch{}switch(r.tag){case 5:it||Yr(r,t);case 6:var s=Ze,u=bt;Ze=null,Un(e,t,r),Ze=s,bt=u,Ze!==null&&(bt?(e=Ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ze.removeChild(r.stateNode));break;case 18:Ze!==null&&(bt?(e=Ze,r=r.stateNode,e.nodeType===8?Ul(e.parentNode,r):e.nodeType===1&&Ul(e,r),No(e)):Ul(Ze,r.stateNode));break;case 4:s=Ze,u=bt,Ze=r.stateNode.containerInfo,bt=!0,Un(e,t,r),Ze=s,bt=u;break;case 0:case 11:case 14:case 15:if(!it&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var f=u,y=f.destroy;f=f.tag,y!==void 0&&(f&2||f&4)&&Ma(r,t,y),u=u.next}while(u!==s)}Un(e,t,r);break;case 1:if(!it&&(Yr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(P){He(r,t,P)}Un(e,t,r);break;case 21:Un(e,t,r);break;case 22:r.mode&1?(it=(s=it)||r.memoizedState!==null,Un(e,t,r),it=s):Un(e,t,r);break;default:Un(e,t,r)}}function td(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pg),t.forEach(function(s){var u=_g.bind(null,e,s);r.has(s)||(r.add(s),s.then(u,u))})}}function Ut(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];try{var f=e,y=t,P=y;e:for(;P!==null;){switch(P.tag){case 5:Ze=P.stateNode,bt=!1;break e;case 3:Ze=P.stateNode.containerInfo,bt=!0;break e;case 4:Ze=P.stateNode.containerInfo,bt=!0;break e}P=P.return}if(Ze===null)throw Error(i(160));ed(f,y,u),Ze=null,bt=!1;var L=u.alternate;L!==null&&(L.return=null),u.return=null}catch(X){He(u,t,X)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nd(t,e),t=t.sibling}function nd(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),an(e),s&4){try{Uo(3,e,e.return),xs(3,e)}catch(pe){He(e,e.return,pe)}try{Uo(5,e,e.return)}catch(pe){He(e,e.return,pe)}}break;case 1:Ut(t,e),an(e),s&512&&r!==null&&Yr(r,r.return);break;case 5:if(Ut(t,e),an(e),s&512&&r!==null&&Yr(r,r.return),e.flags&32){var u=e.stateNode;try{Ot(u,"")}catch(pe){He(e,e.return,pe)}}if(s&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,y=r!==null?r.memoizedProps:f,P=e.type,L=e.updateQueue;if(e.updateQueue=null,L!==null)try{P==="input"&&f.type==="radio"&&f.name!=null&&vt(u,f),ct(P,y);var X=ct(P,f);for(y=0;y<L.length;y+=2){var se=L[y],le=L[y+1];se==="style"?tn(u,le):se==="dangerouslySetInnerHTML"?pn(u,le):se==="children"?Ot(u,le):G(u,se,le,X)}switch(P){case"input":je(u,f);break;case"textarea":Pt(u,f);break;case"select":var ie=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var ue=f.value;ue!=null?jt(u,!!f.multiple,ue,!1):ie!==!!f.multiple&&(f.defaultValue!=null?jt(u,!!f.multiple,f.defaultValue,!0):jt(u,!!f.multiple,f.multiple?[]:"",!1))}u[Ao]=f}catch(pe){He(e,e.return,pe)}}break;case 6:if(Ut(t,e),an(e),s&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(pe){He(e,e.return,pe)}}break;case 3:if(Ut(t,e),an(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{No(t.containerInfo)}catch(pe){He(e,e.return,pe)}break;case 4:Ut(t,e),an(e);break;case 13:Ut(t,e),an(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(Da=Re())),s&4&&td(e);break;case 22:if(se=r!==null&&r.memoizedState!==null,e.mode&1?(it=(X=it)||se,Ut(t,e),it=X):Ut(t,e),an(e),s&8192){if(X=e.memoizedState!==null,(e.stateNode.isHidden=X)&&!se&&e.mode&1)for(fe=e,se=e.child;se!==null;){for(le=fe=se;fe!==null;){switch(ie=fe,ue=ie.child,ie.tag){case 0:case 11:case 14:case 15:Uo(4,ie,ie.return);break;case 1:Yr(ie,ie.return);var de=ie.stateNode;if(typeof de.componentWillUnmount=="function"){s=ie,r=ie.return;try{t=s,de.props=t.memoizedProps,de.state=t.memoizedState,de.componentWillUnmount()}catch(pe){He(s,r,pe)}}break;case 5:Yr(ie,ie.return);break;case 22:if(ie.memoizedState!==null){id(le);continue}}ue!==null?(ue.return=ie,fe=ue):id(le)}se=se.sibling}e:for(se=null,le=e;;){if(le.tag===5){if(se===null){se=le;try{u=le.stateNode,X?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(P=le.stateNode,L=le.memoizedProps.style,y=L!=null&&L.hasOwnProperty("display")?L.display:null,P.style.display=en("display",y))}catch(pe){He(e,e.return,pe)}}}else if(le.tag===6){if(se===null)try{le.stateNode.nodeValue=X?"":le.memoizedProps}catch(pe){He(e,e.return,pe)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===e)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===e)break e;for(;le.sibling===null;){if(le.return===null||le.return===e)break e;se===le&&(se=null),le=le.return}se===le&&(se=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Ut(t,e),an(e),s&4&&td(e);break;case 21:break;default:Ut(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Zf(r)){var s=r;break e}r=r.return}throw Error(i(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(Ot(u,""),s.flags&=-33);var f=Jf(e);za(e,f,u);break;case 3:case 4:var y=s.stateNode.containerInfo,P=Jf(e);Ia(e,P,y);break;default:throw Error(i(161))}}catch(L){He(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gg(e,t,r){fe=e,rd(e)}function rd(e,t,r){for(var s=(e.mode&1)!==0;fe!==null;){var u=fe,f=u.child;if(u.tag===22&&s){var y=u.memoizedState!==null||vs;if(!y){var P=u.alternate,L=P!==null&&P.memoizedState!==null||it;P=vs;var X=it;if(vs=y,(it=L)&&!X)for(fe=u;fe!==null;)y=fe,L=y.child,y.tag===22&&y.memoizedState!==null?sd(u):L!==null?(L.return=y,fe=L):sd(u);for(;f!==null;)fe=f,rd(f),f=f.sibling;fe=u,vs=P,it=X}od(e)}else u.subtreeFlags&8772&&f!==null?(f.return=u,fe=f):od(e)}}function od(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||xs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!it)if(r===null)s.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:qt(t.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&of(t,f,s);break;case 3:var y=t.updateQueue;if(y!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}of(t,y,r)}break;case 5:var P=t.stateNode;if(r===null&&t.flags&4){r=P;var L=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&r.focus();break;case"img":L.src&&(r.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var X=t.alternate;if(X!==null){var se=X.memoizedState;if(se!==null){var le=se.dehydrated;le!==null&&No(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}it||t.flags&512&&Ta(t)}catch(ie){He(t,t.return,ie)}}if(t===e){fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,fe=r;break}fe=t.return}}function id(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,fe=r;break}fe=t.return}}function sd(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xs(4,t)}catch(L){He(t,r,L)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var u=t.return;try{s.componentDidMount()}catch(L){He(t,u,L)}}var f=t.return;try{Ta(t)}catch(L){He(t,f,L)}break;case 5:var y=t.return;try{Ta(t)}catch(L){He(t,y,L)}}}catch(L){He(t,t.return,L)}if(t===e){fe=null;break}var P=t.sibling;if(P!==null){P.return=t.return,fe=P;break}fe=t.return}}var yg=Math.ceil,ws=O.ReactCurrentDispatcher,Ra=O.ReactCurrentOwner,At=O.ReactCurrentBatchConfig,ke=0,Xe=null,qe=null,Je=0,kt=0,Xr=Hn(0),Ue=0,Wo=null,pr=0,Ss=0,Aa=0,Yo=null,pt=null,Da=0,Gr=1/0,jn=null,Es=!1,$a=null,Wn=null,Ns=!1,Yn=null,_s=0,Xo=0,La=null,ks=-1,Cs=0;function at(){return ke&6?Re():ks!==-1?ks:ks=Re()}function Xn(e){return e.mode&1?ke&2&&Je!==0?Je&-Je:eg.transition!==null?(Cs===0&&(Cs=Zu()),Cs):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:lc(e.type)),e):1}function Wt(e,t,r,s){if(50<Xo)throw Xo=0,La=null,Error(i(185));vo(e,r,s),(!(ke&2)||e!==Xe)&&(e===Xe&&(!(ke&2)&&(Ss|=r),Ue===4&&Gn(e,Je)),mt(e,s),r===1&&ke===0&&!(t.mode&1)&&(Gr=Re()+500,es&&Bn()))}function mt(e,t){var r=e.callbackNode;em(e,t);var s=Di(e,e===Xe?Je:0);if(s===0)r!==null&&Pi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Pi(r),t===1)e.tag===0?Jm(ad.bind(null,e)):Wc(ad.bind(null,e)),Gm(function(){!(ke&6)&&Bn()}),r=null;else{switch(Ju(s)){case 1:r=mo;break;case 4:r=Ti;break;case 16:r=jr;break;case 536870912:r=zi;break;default:r=jr}r=gd(r,ld.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ld(e,t){if(ks=-1,Cs=0,ke&6)throw Error(i(327));var r=e.callbackNode;if(Kr()&&e.callbackNode!==r)return null;var s=Di(e,e===Xe?Je:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=js(e,s);else{t=s;var u=ke;ke|=2;var f=cd();(Xe!==e||Je!==t)&&(jn=null,Gr=Re()+500,gr(e,t));do try{wg();break}catch(P){ud(e,P)}while(!0);ta(),ws.current=f,ke=u,qe!==null?t=0:(Xe=null,Je=0,t=Ue)}if(t!==0){if(t===2&&(u=yl(e),u!==0&&(s=u,t=Fa(e,u))),t===1)throw r=Wo,gr(e,0),Gn(e,s),mt(e,Re()),r;if(t===6)Gn(e,s);else{if(u=e.current.alternate,!(s&30)&&!vg(u)&&(t=js(e,s),t===2&&(f=yl(e),f!==0&&(s=f,t=Fa(e,f))),t===1))throw r=Wo,gr(e,0),Gn(e,s),mt(e,Re()),r;switch(e.finishedWork=u,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:yr(e,pt,jn);break;case 3:if(Gn(e,s),(s&130023424)===s&&(t=Da+500-Re(),10<t)){if(Di(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){at(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=bl(yr.bind(null,e,pt,jn),t);break}yr(e,pt,jn);break;case 4:if(Gn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,u=-1;0<s;){var y=31-Ht(s);f=1<<y,y=t[y],y>u&&(u=y),s&=~f}if(s=u,s=Re()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*yg(s/1960))-s,10<s){e.timeoutHandle=bl(yr.bind(null,e,pt,jn),s);break}yr(e,pt,jn);break;case 5:yr(e,pt,jn);break;default:throw Error(i(329))}}}return mt(e,Re()),e.callbackNode===r?ld.bind(null,e):null}function Fa(e,t){var r=Yo;return e.current.memoizedState.isDehydrated&&(gr(e,t).flags|=256),e=js(e,t),e!==2&&(t=pt,pt=r,t!==null&&Oa(t)),e}function Oa(e){pt===null?pt=e:pt.push.apply(pt,e)}function vg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var u=r[s],f=u.getSnapshot;u=u.value;try{if(!Vt(f(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t){for(t&=~Aa,t&=~Ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ht(t),s=1<<r;e[r]=-1,t&=~s}}function ad(e){if(ke&6)throw Error(i(327));Kr();var t=Di(e,0);if(!(t&1))return mt(e,Re()),null;var r=js(e,t);if(e.tag!==0&&r===2){var s=yl(e);s!==0&&(t=s,r=Fa(e,s))}if(r===1)throw r=Wo,gr(e,0),Gn(e,t),mt(e,Re()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,pt,jn),mt(e,Re()),null}function Ha(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&(Gr=Re()+500,es&&Bn())}}function mr(e){Yn!==null&&Yn.tag===0&&!(ke&6)&&Kr();var t=ke;ke|=1;var r=At.transition,s=Pe;try{if(At.transition=null,Pe=1,e)return e()}finally{Pe=s,At.transition=r,ke=t,!(ke&6)&&Bn()}}function Va(){kt=Xr.current,Ie(Xr)}function gr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Xm(r)),qe!==null)for(r=qe.return;r!==null;){var s=r;switch(Kl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Zi();break;case 3:Ur(),Ie(ft),Ie(nt),ua();break;case 5:la(s);break;case 4:Ur();break;case 13:Ie(Ae);break;case 19:Ie(Ae);break;case 10:na(s.type._context);break;case 22:case 23:Va()}r=r.return}if(Xe=e,qe=e=Kn(e.current,null),Je=kt=t,Ue=0,Wo=null,Aa=Ss=pr=0,pt=Yo=null,fr!==null){for(t=0;t<fr.length;t++)if(r=fr[t],s=r.interleaved,s!==null){r.interleaved=null;var u=s.next,f=r.pending;if(f!==null){var y=f.next;f.next=u,s.next=y}r.pending=s}fr=null}return e}function ud(e,t){do{var r=qe;try{if(ta(),cs.current=ps,fs){for(var s=De.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}fs=!1}if(hr=0,Ye=be=De=null,Ho=!1,Vo=0,Ra.current=null,r===null||r.return===null){Ue=1,Wo=t,qe=null;break}e:{var f=e,y=r.return,P=r,L=t;if(t=Je,P.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var X=L,se=P,le=se.tag;if(!(se.mode&1)&&(le===0||le===11||le===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var ue=Af(y);if(ue!==null){ue.flags&=-257,Df(ue,y,P,f,t),ue.mode&1&&Rf(f,X,t),t=ue,L=X;var de=t.updateQueue;if(de===null){var pe=new Set;pe.add(L),t.updateQueue=pe}else de.add(L);break e}else{if(!(t&1)){Rf(f,X,t),Ba();break e}L=Error(i(426))}}else if(ze&&P.mode&1){var Be=Af(y);if(Be!==null){!(Be.flags&65536)&&(Be.flags|=256),Df(Be,y,P,f,t),Jl(Wr(L,P));break e}}f=L=Wr(L,P),Ue!==4&&(Ue=2),Yo===null?Yo=[f]:Yo.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var U=If(f,L,t);rf(f,U);break e;case 1:P=L;var F=f.type,W=f.stateNode;if(!(f.flags&128)&&(typeof F.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Wn===null||!Wn.has(W)))){f.flags|=65536,t&=-t,f.lanes|=t;var ae=zf(f,P,t);rf(f,ae);break e}}f=f.return}while(f!==null)}dd(r)}catch(me){t=me,qe===r&&r!==null&&(qe=r=r.return);continue}break}while(!0)}function cd(){var e=ws.current;return ws.current=ps,e===null?ps:e}function Ba(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Xe===null||!(pr&268435455)&&!(Ss&268435455)||Gn(Xe,Je)}function js(e,t){var r=ke;ke|=2;var s=cd();(Xe!==e||Je!==t)&&(jn=null,gr(e,t));do try{xg();break}catch(u){ud(e,u)}while(!0);if(ta(),ke=r,ws.current=s,qe!==null)throw Error(i(261));return Xe=null,Je=0,Ue}function xg(){for(;qe!==null;)fd(qe)}function wg(){for(;qe!==null&&!Mi();)fd(qe)}function fd(e){var t=md(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?dd(e):qe=t,Ra.current=null}function dd(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=hg(r,t),r!==null){r.flags&=32767,qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,qe=null;return}}else if(r=dg(r,t,kt),r!==null){qe=r;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Ue===0&&(Ue=5)}function yr(e,t,r){var s=Pe,u=At.transition;try{At.transition=null,Pe=1,Sg(e,t,r,s)}finally{At.transition=u,Pe=s}return null}function Sg(e,t,r,s){do Kr();while(Yn!==null);if(ke&6)throw Error(i(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(tm(e,f),e===Xe&&(qe=Xe=null,Je=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ns||(Ns=!0,gd(jr,function(){return Kr(),null})),f=(r.flags&15990)!==0,r.subtreeFlags&15990||f){f=At.transition,At.transition=null;var y=Pe;Pe=1;var P=ke;ke|=4,Ra.current=null,mg(e,r),nd(r,e),Vm(Bl),Fi=!!Vl,Bl=Vl=null,e.current=r,gg(r),ml(),ke=P,Pe=y,At.transition=f}else e.current=r;if(Ns&&(Ns=!1,Yn=e,_s=u),f=e.pendingLanes,f===0&&(Wn=null),go(r.stateNode),mt(e,Re()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],s(u.value,{componentStack:u.stack,digest:u.digest});if(Es)throw Es=!1,e=$a,$a=null,e;return _s&1&&e.tag!==0&&Kr(),f=e.pendingLanes,f&1?e===La?Xo++:(Xo=0,La=e):Xo=0,Bn(),null}function Kr(){if(Yn!==null){var e=Ju(_s),t=At.transition,r=Pe;try{if(At.transition=null,Pe=16>e?16:e,Yn===null)var s=!1;else{if(e=Yn,Yn=null,_s=0,ke&6)throw Error(i(331));var u=ke;for(ke|=4,fe=e.current;fe!==null;){var f=fe,y=f.child;if(fe.flags&16){var P=f.deletions;if(P!==null){for(var L=0;L<P.length;L++){var X=P[L];for(fe=X;fe!==null;){var se=fe;switch(se.tag){case 0:case 11:case 15:Uo(8,se,f)}var le=se.child;if(le!==null)le.return=se,fe=le;else for(;fe!==null;){se=fe;var ie=se.sibling,ue=se.return;if(Qf(se),se===X){fe=null;break}if(ie!==null){ie.return=ue,fe=ie;break}fe=ue}}}var de=f.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var Be=pe.sibling;pe.sibling=null,pe=Be}while(pe!==null)}}fe=f}}if(f.subtreeFlags&2064&&y!==null)y.return=f,fe=y;else e:for(;fe!==null;){if(f=fe,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Uo(9,f,f.return)}var U=f.sibling;if(U!==null){U.return=f.return,fe=U;break e}fe=f.return}}var F=e.current;for(fe=F;fe!==null;){y=fe;var W=y.child;if(y.subtreeFlags&2064&&W!==null)W.return=y,fe=W;else e:for(y=F;fe!==null;){if(P=fe,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:xs(9,P)}}catch(me){He(P,P.return,me)}if(P===y){fe=null;break e}var ae=P.sibling;if(ae!==null){ae.return=P.return,fe=ae;break e}fe=P.return}}if(ke=u,Bn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Pr,e)}catch{}s=!0}return s}finally{Pe=r,At.transition=t}}return!1}function hd(e,t,r){t=Wr(r,t),t=If(e,t,1),e=bn(e,t,1),t=at(),e!==null&&(vo(e,1,t),mt(e,t))}function He(e,t,r){if(e.tag===3)hd(e,e,r);else for(;t!==null;){if(t.tag===3){hd(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Wn===null||!Wn.has(s))){e=Wr(r,e),e=zf(t,e,1),t=bn(t,e,1),e=at(),t!==null&&(vo(t,1,e),mt(t,e));break}}t=t.return}}function Eg(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&r,Xe===e&&(Je&r)===r&&(Ue===4||Ue===3&&(Je&130023424)===Je&&500>Re()-Da?gr(e,0):Aa|=r),mt(e,t)}function pd(e,t){t===0&&(e.mode&1?(t=Ai,Ai<<=1,!(Ai&130023424)&&(Ai=4194304)):t=1);var r=at();e=_n(e,t),e!==null&&(vo(e,t,r),mt(e,r))}function Ng(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pd(e,r)}function _g(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),pd(e,r)}var md;md=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)ht=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ht=!1,fg(e,t,r);ht=!!(e.flags&131072)}else ht=!1,ze&&t.flags&1048576&&Yc(t,ns,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ys(e,t),e=t.pendingProps;var u=Fr(t,nt.current);br(t,r),u=da(null,t,s,e,u,r);var f=ha();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(s)?(f=!0,Ji(t)):f=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ia(t),u.updater=ms,t.stateNode=u,u._reactInternals=t,xa(t,s,e,r),t=Na(null,t,s,!0,f,r)):(t.tag=0,ze&&f&&Gl(t),lt(null,t,u,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ys(e,t),e=t.pendingProps,u=s._init,s=u(s._payload),t.type=s,u=t.tag=Cg(s),e=qt(s,e),u){case 0:t=Ea(null,t,s,e,r);break e;case 1:t=Vf(null,t,s,e,r);break e;case 11:t=$f(null,t,s,e,r);break e;case 14:t=Lf(null,t,s,qt(s.type,e),r);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:qt(s,u),Ea(e,t,s,u,r);case 1:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:qt(s,u),Vf(e,t,s,u,r);case 3:e:{if(Bf(t),e===null)throw Error(i(387));s=t.pendingProps,f=t.memoizedState,u=f.element,nf(e,t),as(t,s,null,r);var y=t.memoizedState;if(s=y.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){u=Wr(Error(i(423)),t),t=qf(e,t,s,r,u);break e}else if(s!==u){u=Wr(Error(i(424)),t),t=qf(e,t,s,r,u);break e}else for(_t=On(t.stateNode.containerInfo.firstChild),Nt=t,ze=!0,Bt=null,r=ef(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vr(),s===u){t=Cn(e,t,r);break e}lt(e,t,s,r)}t=t.child}return t;case 5:return sf(t),e===null&&Zl(t),s=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,y=u.children,ql(s,u)?y=null:f!==null&&ql(s,f)&&(t.flags|=32),Hf(e,t),lt(e,t,y,r),t.child;case 6:return e===null&&Zl(t),null;case 13:return bf(e,t,r);case 4:return sa(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Br(t,null,s,r):lt(e,t,s,r),t.child;case 11:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:qt(s,u),$f(e,t,s,u,r);case 7:return lt(e,t,t.pendingProps,r),t.child;case 8:return lt(e,t,t.pendingProps.children,r),t.child;case 12:return lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,u=t.pendingProps,f=t.memoizedProps,y=u.value,Me(is,s._currentValue),s._currentValue=y,f!==null)if(Vt(f.value,y)){if(f.children===u.children&&!ft.current){t=Cn(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var P=f.dependencies;if(P!==null){y=f.child;for(var L=P.firstContext;L!==null;){if(L.context===s){if(f.tag===1){L=kn(-1,r&-r),L.tag=2;var X=f.updateQueue;if(X!==null){X=X.shared;var se=X.pending;se===null?L.next=L:(L.next=se.next,se.next=L),X.pending=L}}f.lanes|=r,L=f.alternate,L!==null&&(L.lanes|=r),ra(f.return,r,t),P.lanes|=r;break}L=L.next}}else if(f.tag===10)y=f.type===t.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(i(341));y.lanes|=r,P=y.alternate,P!==null&&(P.lanes|=r),ra(y,r,t),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}lt(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,s=t.pendingProps.children,br(t,r),u=zt(u),s=s(u),t.flags|=1,lt(e,t,s,r),t.child;case 14:return s=t.type,u=qt(s,t.pendingProps),u=qt(s.type,u),Lf(e,t,s,u,r);case 15:return Ff(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:qt(s,u),ys(e,t),t.tag=1,dt(s)?(e=!0,Ji(t)):e=!1,br(t,r),Mf(t,s,u),xa(t,s,u,r),Na(null,t,s,!0,e,r);case 19:return Wf(e,t,r);case 22:return Of(e,t,r)}throw Error(i(156,t.tag))};function gd(e,t){return ji(e,t)}function kg(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,r,s){return new kg(e,t,r,s)}function qa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cg(e){if(typeof e=="function")return qa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===B)return 11;if(e===_)return 14}return 2}function Kn(e,t){var r=e.alternate;return r===null?(r=Dt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ps(e,t,r,s,u,f){var y=2;if(s=e,typeof e=="function")qa(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case K:return vr(r.children,u,f,t);case ne:y=8,u|=8;break;case q:return e=Dt(12,r,t,u|2),e.elementType=q,e.lanes=f,e;case Y:return e=Dt(13,r,t,u),e.elementType=Y,e.lanes=f,e;case S:return e=Dt(19,r,t,u),e.elementType=S,e.lanes=f,e;case z:return Ms(r,u,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:y=10;break e;case b:y=9;break e;case B:y=11;break e;case _:y=14;break e;case C:y=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Dt(y,r,t,u),t.elementType=e,t.type=s,t.lanes=f,t}function vr(e,t,r,s){return e=Dt(7,e,s,t),e.lanes=r,e}function Ms(e,t,r,s){return e=Dt(22,e,s,t),e.elementType=z,e.lanes=r,e.stateNode={isHidden:!1},e}function ba(e,t,r){return e=Dt(6,e,null,t),e.lanes=r,e}function Ua(e,t,r){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jg(e,t,r,s,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vl(0),this.expirationTimes=vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Wa(e,t,r,s,u,f,y,P,L){return e=new jg(e,t,r,P,L),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Dt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ia(f),e}function Pg(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function yd(e){if(!e)return Vn;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(dt(r))return bc(e,r,t)}return t}function vd(e,t,r,s,u,f,y,P,L){return e=Wa(r,s,!0,e,u,f,y,P,L),e.context=yd(null),r=e.current,s=at(),u=Xn(r),f=kn(s,u),f.callback=t??null,bn(r,f,u),e.current.lanes=u,vo(e,u,s),mt(e,s),e}function Ts(e,t,r,s){var u=t.current,f=at(),y=Xn(u);return r=yd(r),t.context===null?t.context=r:t.pendingContext=r,t=kn(f,y),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=bn(u,t,y),e!==null&&(Wt(e,u,y,f),ls(e,u,y)),y}function Is(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ya(e,t){xd(e,t),(e=e.alternate)&&xd(e,t)}var wd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xa(e){this._internalRoot=e}zs.prototype.render=Xa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Ts(e,t,null,null)},zs.prototype.unmount=Xa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mr(function(){Ts(null,e,null,null)}),t[wn]=null}};function zs(e){this._internalRoot=e}zs.prototype.unstable_scheduleHydration=function(e){if(e){var t=nc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$n.length&&t!==0&&t<$n[r].priority;r++);$n.splice(r,0,e),r===0&&ic(e)}};function Ga(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sd(){}function Mg(e,t,r,s,u){if(u){if(typeof s=="function"){var f=s;s=function(){var X=Is(y);f.call(X)}}var y=vd(t,s,e,0,null,!1,!1,"",Sd);return e._reactRootContainer=y,e[wn]=y.current,zo(e.nodeType===8?e.parentNode:e),mr(),y}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var P=s;s=function(){var X=Is(L);P.call(X)}}var L=Wa(e,0,!1,null,null,!1,!1,"",Sd);return e._reactRootContainer=L,e[wn]=L.current,zo(e.nodeType===8?e.parentNode:e),mr(function(){Ts(t,L,r,s)}),L}function As(e,t,r,s,u){var f=r._reactRootContainer;if(f){var y=f;if(typeof u=="function"){var P=u;u=function(){var L=Is(y);P.call(L)}}Ts(t,y,e,u)}else y=Mg(r,t,e,u,s);return Is(y)}ec=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yo(t.pendingLanes);r!==0&&(xl(t,r|1),mt(t,Re()),!(ke&6)&&(Gr=Re()+500,Bn()))}break;case 13:mr(function(){var s=_n(e,1);if(s!==null){var u=at();Wt(s,e,1,u)}}),Ya(e,1)}},wl=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var r=at();Wt(t,e,134217728,r)}Ya(e,134217728)}},tc=function(e){if(e.tag===13){var t=Xn(e),r=_n(e,t);if(r!==null){var s=at();Wt(r,e,t,s)}Ya(e,t)}},nc=function(){return Pe},rc=function(e,t){var r=Pe;try{return Pe=e,t()}finally{Pe=r}},yn=function(e,t,r){switch(t){case"input":if(je(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var u=Qi(s);if(!u)throw Error(i(90));We(s),je(s,u)}}}break;case"textarea":Pt(e,r);break;case"select":t=r.value,t!=null&&jt(e,!!r.multiple,t,!1)}},xi=Ha,wi=mr;var Tg={usingClientEntryPoint:!1,Events:[Do,$r,Qi,yi,vi,Ha]},Go={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ig={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ki(e),e===null?null:e.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Pr=Ds.inject(Ig),Mt=Ds}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tg,gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ga(t))throw Error(i(200));return Pg(e,t,null,r)},gt.createRoot=function(e,t){if(!Ga(e))throw Error(i(299));var r=!1,s="",u=wd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Wa(e,1,!1,null,null,r,!1,s,u),e[wn]=t.current,zo(e.nodeType===8?e.parentNode:e),new Xa(t)},gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=ki(t),e=e===null?null:e.stateNode,e},gt.flushSync=function(e){return mr(e)},gt.hydrate=function(e,t,r){if(!Rs(t))throw Error(i(200));return As(null,e,t,!0,r)},gt.hydrateRoot=function(e,t,r){if(!Ga(e))throw Error(i(405));var s=r!=null&&r.hydratedSources||null,u=!1,f="",y=wd;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),t=vd(t,null,e,1,r??null,u,!1,f,y),e[wn]=t.current,zo(e),s)for(e=0;e<s.length;e++)r=s[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new zs(t)},gt.render=function(e,t,r){if(!Rs(t))throw Error(i(200));return As(null,e,t,!1,r)},gt.unmountComponentAtNode=function(e){if(!Rs(e))throw Error(i(40));return e._reactRootContainer?(mr(function(){As(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1},gt.unstable_batchedUpdates=Ha,gt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Rs(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return As(e,t,r,!1,s)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var Jd;function tp(){if(Jd)return su.exports;Jd=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),su.exports=Ix(),su.exports}tp();const ul=V.createContext(null),zx=ul.Provider,zn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,o)=>`Couldn't create edge for ${n?"target":"source"} handle id: "${n?o.targetHandle:o.sourceHandle}", edge id: ${o.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},np=zn.error001();function $e(n,o){const i=V.useContext(ul);if(i===null)throw new Error(np);return jh(i,n,o)}const Ke=()=>{const n=V.useContext(ul);if(n===null)throw new Error(np);return V.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe,destroy:n.destroy}),[n])},Rx=n=>n.userSelectionActive?"none":"all";function rp({position:n,children:o,className:i,style:l,...a}){const c=$e(Rx),d=`${n}`.split("-");return ee.createElement("div",{className:ut(["react-flow__panel",i,...d]),style:{...l,pointerEvents:c},...a},o)}function Ax({proOptions:n,position:o="bottom-right"}){return n!=null&&n.hideAttribution?null:ee.createElement(rp,{position:o,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ee.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Dx=({x:n,y:o,label:i,labelStyle:l={},labelShowBg:a=!0,labelBgStyle:c={},labelBgPadding:d=[2,4],labelBgBorderRadius:h=2,children:p,className:g,...m})=>{const v=V.useRef(null),[E,k]=V.useState({x:0,y:0,width:0,height:0}),A=ut(["react-flow__edge-textwrapper",g]);return V.useEffect(()=>{if(v.current){const j=v.current.getBBox();k({x:j.x,y:j.y,width:j.width,height:j.height})}},[i]),typeof i>"u"||!i?null:ee.createElement("g",{transform:`translate(${n-E.width/2} ${o-E.height/2})`,className:A,visibility:E.width?"visible":"hidden",...m},a&&ee.createElement("rect",{width:E.width+2*d[0],x:-d[0],y:-d[1],height:E.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:h,ry:h}),ee.createElement("text",{className:"react-flow__edge-text",y:E.height/2,dy:"0.3em",ref:v,style:l},i),p)};var $x=V.memo(Dx);const Ou=n=>({width:n.offsetWidth,height:n.offsetHeight}),ao=(n,o=0,i=1)=>Math.min(Math.max(n,o),i),Hu=(n={x:0,y:0},o)=>({x:ao(n.x,o[0][0],o[1][0]),y:ao(n.y,o[0][1],o[1][1])}),eh=(n,o,i)=>n<o?ao(Math.abs(n-o),1,50)/50:n>i?-ao(Math.abs(n-i),1,50)/50:0,op=(n,o)=>{const i=eh(n.x,35,o.width-35)*20,l=eh(n.y,35,o.height-35)*20;return[i,l]},ip=n=>{var o;return((o=n.getRootNode)==null?void 0:o.call(n))||(window==null?void 0:window.document)},Lx=(n,o)=>({x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x2,o.x2),y2:Math.max(n.y2,o.y2)}),Vu=({x:n,y:o,width:i,height:l})=>({x:n,y:o,x2:n+i,y2:o+l}),Fx=({x:n,y:o,x2:i,y2:l})=>({x:n,y:o,width:i-n,height:l-o}),th=n=>({...n.positionAbsolute||{x:0,y:0},width:n.width||0,height:n.height||0}),ku=(n,o)=>{const i=Math.max(0,Math.min(n.x+n.width,o.x+o.width)-Math.max(n.x,o.x)),l=Math.max(0,Math.min(n.y+n.height,o.y+o.height)-Math.max(n.y,o.y));return Math.ceil(i*l)},Ox=n=>$t(n.width)&&$t(n.height)&&$t(n.x)&&$t(n.y),$t=n=>!isNaN(n)&&isFinite(n),Ve=Symbol.for("internals"),sp=["Enter"," ","Escape"],Hx=(n,o)=>{},Vx=n=>"nativeEvent"in n;function Cu(n){var a,c;const o=Vx(n)?n.nativeEvent:n,i=((c=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:c[0])||n.target;return["INPUT","SELECT","TEXTAREA"].includes(i==null?void 0:i.nodeName)||(i==null?void 0:i.hasAttribute("contenteditable"))||!!(i!=null&&i.closest(".nokey"))}const lp=n=>"clientX"in n,nr=(n,o)=>{var c,d;const i=lp(n),l=i?n.clientX:(c=n.touches)==null?void 0:c[0].clientX,a=i?n.clientY:(d=n.touches)==null?void 0:d[0].clientY;return{x:l-((o==null?void 0:o.left)??0),y:a-((o==null?void 0:o.top)??0)}},rl=()=>{var n;return typeof navigator<"u"&&((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.indexOf("Mac"))>=0},gi=({id:n,path:o,labelX:i,labelY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:E,interactionWidth:k=20})=>ee.createElement(ee.Fragment,null,ee.createElement("path",{id:n,style:m,d:o,fill:"none",className:"react-flow__edge-path",markerEnd:v,markerStart:E}),k&&ee.createElement("path",{d:o,fill:"none",strokeOpacity:0,strokeWidth:k,className:"react-flow__edge-interaction"}),a&&$t(i)&&$t(l)?ee.createElement($x,{x:i,y:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g}):null);gi.displayName="BaseEdge";function Jo(n,o,i){return i===void 0?i:l=>{const a=o().edges.find(c=>c.id===n);a&&i(l,{...a})}}function ap({sourceX:n,sourceY:o,targetX:i,targetY:l}){const a=Math.abs(i-n)/2,c=i<n?i+a:i-a,d=Math.abs(l-o)/2,h=l<o?l+d:l-d;return[c,h,a,d]}function up({sourceX:n,sourceY:o,targetX:i,targetY:l,sourceControlX:a,sourceControlY:c,targetControlX:d,targetControlY:h}){const p=n*.125+a*.375+d*.375+i*.125,g=o*.125+c*.375+h*.375+l*.125,m=Math.abs(p-n),v=Math.abs(g-o);return[p,g,m,v]}var _r;(function(n){n.Strict="strict",n.Loose="loose"})(_r||(_r={}));var Sr;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(Sr||(Sr={}));var ci;(function(n){n.Partial="partial",n.Full="full"})(ci||(ci={}));var Mn;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(Mn||(Mn={}));var uo;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(uo||(uo={}));var ge;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(ge||(ge={}));function nh({pos:n,x1:o,y1:i,x2:l,y2:a}){return n===ge.Left||n===ge.Right?[.5*(o+l),i]:[o,.5*(i+a)]}function cp({sourceX:n,sourceY:o,sourcePosition:i=ge.Bottom,targetX:l,targetY:a,targetPosition:c=ge.Top}){const[d,h]=nh({pos:i,x1:n,y1:o,x2:l,y2:a}),[p,g]=nh({pos:c,x1:l,y1:a,x2:n,y2:o}),[m,v,E,k]=up({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:d,sourceControlY:h,targetControlX:p,targetControlY:g});return[`M${n},${o} C${d},${h} ${p},${g} ${l},${a}`,m,v,E,k]}const Bu=V.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,sourcePosition:a=ge.Bottom,targetPosition:c=ge.Top,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:E,markerEnd:k,markerStart:A,interactionWidth:j})=>{const[D,$,H]=cp({sourceX:n,sourceY:o,sourcePosition:a,targetX:i,targetY:l,targetPosition:c});return ee.createElement(gi,{path:D,labelX:$,labelY:H,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:E,markerEnd:k,markerStart:A,interactionWidth:j})});Bu.displayName="SimpleBezierEdge";const rh={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},Bx=({source:n,sourcePosition:o=ge.Bottom,target:i})=>o===ge.Left||o===ge.Right?n.x<i.x?{x:1,y:0}:{x:-1,y:0}:n.y<i.y?{x:0,y:1}:{x:0,y:-1},oh=(n,o)=>Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2));function qx({source:n,sourcePosition:o=ge.Bottom,target:i,targetPosition:l=ge.Top,center:a,offset:c}){const d=rh[o],h=rh[l],p={x:n.x+d.x*c,y:n.y+d.y*c},g={x:i.x+h.x*c,y:i.y+h.y*c},m=Bx({source:p,sourcePosition:o,target:g}),v=m.x!==0?"x":"y",E=m[v];let k=[],A,j;const D={x:0,y:0},$={x:0,y:0},[H,G,O,J]=ap({sourceX:n.x,sourceY:n.y,targetX:i.x,targetY:i.y});if(d[v]*h[v]===-1){A=a.x??H,j=a.y??G;const K=[{x:A,y:p.y},{x:A,y:g.y}],ne=[{x:p.x,y:j},{x:g.x,y:j}];d[v]===E?k=v==="x"?K:ne:k=v==="x"?ne:K}else{const K=[{x:p.x,y:g.y}],ne=[{x:g.x,y:p.y}];if(v==="x"?k=d.x===E?ne:K:k=d.y===E?K:ne,o===l){const Y=Math.abs(n[v]-i[v]);if(Y<=c){const S=Math.min(c-1,c-Y);d[v]===E?D[v]=(p[v]>n[v]?-1:1)*S:$[v]=(g[v]>i[v]?-1:1)*S}}if(o!==l){const Y=v==="x"?"y":"x",S=d[v]===h[Y],_=p[Y]>g[Y],C=p[Y]<g[Y];(d[v]===1&&(!S&&_||S&&C)||d[v]!==1&&(!S&&C||S&&_))&&(k=v==="x"?K:ne)}const q={x:p.x+D.x,y:p.y+D.y},R={x:g.x+$.x,y:g.y+$.y},b=Math.max(Math.abs(q.x-k[0].x),Math.abs(R.x-k[0].x)),B=Math.max(Math.abs(q.y-k[0].y),Math.abs(R.y-k[0].y));b>=B?(A=(q.x+R.x)/2,j=k[0].y):(A=k[0].x,j=(q.y+R.y)/2)}return[[n,{x:p.x+D.x,y:p.y+D.y},...k,{x:g.x+$.x,y:g.y+$.y},i],A,j,O,J]}function bx(n,o,i,l){const a=Math.min(oh(n,o)/2,oh(o,i)/2,l),{x:c,y:d}=o;if(n.x===c&&c===i.x||n.y===d&&d===i.y)return`L${c} ${d}`;if(n.y===d){const g=n.x<i.x?-1:1,m=n.y<i.y?1:-1;return`L ${c+a*g},${d}Q ${c},${d} ${c},${d+a*m}`}const h=n.x<i.x?1:-1,p=n.y<i.y?-1:1;return`L ${c},${d+a*p}Q ${c},${d} ${c+a*h},${d}`}function ju({sourceX:n,sourceY:o,sourcePosition:i=ge.Bottom,targetX:l,targetY:a,targetPosition:c=ge.Top,borderRadius:d=5,centerX:h,centerY:p,offset:g=20}){const[m,v,E,k,A]=qx({source:{x:n,y:o},sourcePosition:i,target:{x:l,y:a},targetPosition:c,center:{x:h,y:p},offset:g});return[m.reduce((D,$,H)=>{let G="";return H>0&&H<m.length-1?G=bx(m[H-1],$,m[H+1],d):G=`${H===0?"M":"L"}${$.x} ${$.y}`,D+=G,D},""),v,E,k,A]}const cl=V.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,sourcePosition:v=ge.Bottom,targetPosition:E=ge.Top,markerEnd:k,markerStart:A,pathOptions:j,interactionWidth:D})=>{const[$,H,G]=ju({sourceX:n,sourceY:o,sourcePosition:v,targetX:i,targetY:l,targetPosition:E,borderRadius:j==null?void 0:j.borderRadius,offset:j==null?void 0:j.offset});return ee.createElement(gi,{path:$,labelX:H,labelY:G,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:k,markerStart:A,interactionWidth:D})});cl.displayName="SmoothStepEdge";const qu=V.memo(n=>{var o;return ee.createElement(cl,{...n,pathOptions:V.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})});qu.displayName="StepEdge";function Ux({sourceX:n,sourceY:o,targetX:i,targetY:l}){const[a,c,d,h]=ap({sourceX:n,sourceY:o,targetX:i,targetY:l});return[`M ${n},${o}L ${i},${l}`,a,c,d,h]}const bu=V.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:E,interactionWidth:k})=>{const[A,j,D]=Ux({sourceX:n,sourceY:o,targetX:i,targetY:l});return ee.createElement(gi,{path:A,labelX:j,labelY:D,label:a,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:E,interactionWidth:k})});bu.displayName="StraightEdge";function Vs(n,o){return n>=0?.5*n:o*25*Math.sqrt(-n)}function ih({pos:n,x1:o,y1:i,x2:l,y2:a,c}){switch(n){case ge.Left:return[o-Vs(o-l,c),i];case ge.Right:return[o+Vs(l-o,c),i];case ge.Top:return[o,i-Vs(i-a,c)];case ge.Bottom:return[o,i+Vs(a-i,c)]}}function fp({sourceX:n,sourceY:o,sourcePosition:i=ge.Bottom,targetX:l,targetY:a,targetPosition:c=ge.Top,curvature:d=.25}){const[h,p]=ih({pos:i,x1:n,y1:o,x2:l,y2:a,c:d}),[g,m]=ih({pos:c,x1:l,y1:a,x2:n,y2:o,c:d}),[v,E,k,A]=up({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:h,sourceControlY:p,targetControlX:g,targetControlY:m});return[`M${n},${o} C${h},${p} ${g},${m} ${l},${a}`,v,E,k,A]}const ol=V.memo(({sourceX:n,sourceY:o,targetX:i,targetY:l,sourcePosition:a=ge.Bottom,targetPosition:c=ge.Top,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:E,markerEnd:k,markerStart:A,pathOptions:j,interactionWidth:D})=>{const[$,H,G]=fp({sourceX:n,sourceY:o,sourcePosition:a,targetX:i,targetY:l,targetPosition:c,curvature:j==null?void 0:j.curvature});return ee.createElement(gi,{path:$,labelX:H,labelY:G,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:E,markerEnd:k,markerStart:A,interactionWidth:D})});ol.displayName="BezierEdge";const Uu=V.createContext(null),Wx=Uu.Provider;Uu.Consumer;const Yx=()=>V.useContext(Uu),Xx=n=>"id"in n&&"source"in n&&"target"in n,Gx=({source:n,sourceHandle:o,target:i,targetHandle:l})=>`reactflow__edge-${n}${o||""}-${i}${l||""}`,Pu=(n,o)=>typeof n>"u"?"":typeof n=="string"?n:`${o?`${o}__`:""}${Object.keys(n).sort().map(l=>`${l}=${n[l]}`).join("&")}`,Kx=(n,o)=>o.some(i=>i.source===n.source&&i.target===n.target&&(i.sourceHandle===n.sourceHandle||!i.sourceHandle&&!n.sourceHandle)&&(i.targetHandle===n.targetHandle||!i.targetHandle&&!n.targetHandle)),Qx=(n,o)=>{if(!n.source||!n.target)return o;let i;return Xx(n)?i={...n}:i={...n,id:Gx(n)},Kx(i,o)?o:o.concat(i)},Mu=({x:n,y:o},[i,l,a],c,[d,h])=>{const p={x:(n-i)/a,y:(o-l)/a};return c?{x:d*Math.round(p.x/d),y:h*Math.round(p.y/h)}:p},dp=({x:n,y:o},[i,l,a])=>({x:n*a+i,y:o*a+l}),oo=(n,o=[0,0])=>{if(!n)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const i=(n.width??0)*o[0],l=(n.height??0)*o[1],a={x:n.position.x-i,y:n.position.y-l};return{...a,positionAbsolute:n.positionAbsolute?{x:n.positionAbsolute.x-i,y:n.positionAbsolute.y-l}:a}},Wu=(n,o=[0,0])=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const i=n.reduce((l,a)=>{const{x:c,y:d}=oo(a,o).positionAbsolute;return Lx(l,Vu({x:c,y:d,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Fx(i)},hp=(n,o,[i,l,a]=[0,0,1],c=!1,d=!1,h=[0,0])=>{const p={x:(o.x-i)/a,y:(o.y-l)/a,width:o.width/a,height:o.height/a},g=[];return n.forEach(m=>{const{width:v,height:E,selectable:k=!0,hidden:A=!1}=m;if(d&&!k||A)return!1;const{positionAbsolute:j}=oo(m,h),D={x:j.x,y:j.y,width:v||0,height:E||0},$=ku(p,D),H=typeof v>"u"||typeof E>"u"||v===null||E===null,G=c&&$>0,O=(v||0)*(E||0);(H||G||$>=O||m.dragging)&&g.push(m)}),g},pp=(n,o)=>{const i=n.map(l=>l.id);return o.filter(l=>i.includes(l.source)||i.includes(l.target))},mp=(n,o,i,l,a,c=.1)=>{const d=o/(n.width*(1+c)),h=i/(n.height*(1+c)),p=Math.min(d,h),g=ao(p,l,a),m=n.x+n.width/2,v=n.y+n.height/2,E=o/2-m*g,k=i/2-v*g;return{x:E,y:k,zoom:g}},xr=(n,o=0)=>n.transition().duration(o);function sh(n,o,i,l){return(o[i]||[]).reduce((a,c)=>{var d,h;return`${n.id}-${c.id}-${i}`!==l&&a.push({id:c.id||null,type:i,nodeId:n.id,x:(((d=n.positionAbsolute)==null?void 0:d.x)??0)+c.x+c.width/2,y:(((h=n.positionAbsolute)==null?void 0:h.y)??0)+c.y+c.height/2}),a},[])}function Zx(n,o,i,l,a,c){const{x:d,y:h}=nr(n),g=o.elementsFromPoint(d,h).find(A=>A.classList.contains("react-flow__handle"));if(g){const A=g.getAttribute("data-nodeid");if(A){const j=Yu(void 0,g),D=g.getAttribute("data-handleid"),$=c({nodeId:A,id:D,type:j});if($){const H=a.find(G=>G.nodeId===A&&G.type===j&&G.id===D);return{handle:{id:D,type:j,nodeId:A,x:(H==null?void 0:H.x)||i.x,y:(H==null?void 0:H.y)||i.y},validHandleResult:$}}}}let m=[],v=1/0;if(a.forEach(A=>{const j=Math.sqrt((A.x-i.x)**2+(A.y-i.y)**2);if(j<=l){const D=c(A);j<=v&&(j<v?m=[{handle:A,validHandleResult:D}]:j===v&&m.push({handle:A,validHandleResult:D}),v=j)}}),!m.length)return{handle:null,validHandleResult:gp()};if(m.length===1)return m[0];const E=m.some(({validHandleResult:A})=>A.isValid),k=m.some(({handle:A})=>A.type==="target");return m.find(({handle:A,validHandleResult:j})=>k?A.type==="target":E?j.isValid:!0)||m[0]}const Jx={source:null,target:null,sourceHandle:null,targetHandle:null},gp=()=>({handleDomNode:null,isValid:!1,connection:Jx,endHandle:null});function yp(n,o,i,l,a,c,d){const h=a==="target",p=d.querySelector(`.react-flow__handle[data-id="${n==null?void 0:n.nodeId}-${n==null?void 0:n.id}-${n==null?void 0:n.type}"]`),g={...gp(),handleDomNode:p};if(p){const m=Yu(void 0,p),v=p.getAttribute("data-nodeid"),E=p.getAttribute("data-handleid"),k=p.classList.contains("connectable"),A=p.classList.contains("connectableend"),j={source:h?v:i,sourceHandle:h?E:l,target:h?i:v,targetHandle:h?l:E};g.connection=j,k&&A&&(o===_r.Strict?h&&m==="source"||!h&&m==="target":v!==i||E!==l)&&(g.endHandle={nodeId:v,handleId:E,type:m},g.isValid=c(j))}return g}function ew({nodes:n,nodeId:o,handleId:i,handleType:l}){return n.reduce((a,c)=>{if(c[Ve]){const{handleBounds:d}=c[Ve];let h=[],p=[];d&&(h=sh(c,d,"source",`${o}-${i}-${l}`),p=sh(c,d,"target",`${o}-${i}-${l}`)),a.push(...h,...p)}return a},[])}function Yu(n,o){return n||(o!=null&&o.classList.contains("target")?"target":o!=null&&o.classList.contains("source")?"source":null)}function uu(n){n==null||n.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function tw(n,o){let i=null;return o?i="valid":n&&!o&&(i="invalid"),i}function vp({event:n,handleId:o,nodeId:i,onConnect:l,isTarget:a,getState:c,setState:d,isValidConnection:h,edgeUpdaterType:p,onReconnectEnd:g}){const m=ip(n.target),{connectionMode:v,domNode:E,autoPanOnConnect:k,connectionRadius:A,onConnectStart:j,panBy:D,getNodes:$,cancelConnection:H}=c();let G=0,O;const{x:J,y:Q}=nr(n),K=m==null?void 0:m.elementFromPoint(J,Q),ne=Yu(p,K),q=E==null?void 0:E.getBoundingClientRect();if(!q||!ne)return;let R,b=nr(n,q),B=!1,Y=null,S=!1,_=null;const C=ew({nodes:$(),nodeId:i,handleId:o,handleType:ne}),z=()=>{if(!k)return;const[T,w]=op(b,q);D({x:T,y:w}),G=requestAnimationFrame(z)};d({connectionPosition:b,connectionStatus:null,connectionNodeId:i,connectionHandleId:o,connectionHandleType:ne,connectionStartHandle:{nodeId:i,handleId:o,type:ne},connectionEndHandle:null}),j==null||j(n,{nodeId:i,handleId:o,handleType:ne});function M(T){const{transform:w}=c();b=nr(T,q);const{handle:I,validHandleResult:te}=Zx(T,m,Mu(b,w,!1,[1,1]),A,C,Z=>yp(Z,v,i,o,a?"target":"source",h,m));if(O=I,B||(z(),B=!0),_=te.handleDomNode,Y=te.connection,S=te.isValid,d({connectionPosition:O&&S?dp({x:O.x,y:O.y},w):b,connectionStatus:tw(!!O,S),connectionEndHandle:te.endHandle}),!O&&!S&&!_)return uu(R);Y.source!==Y.target&&_&&(uu(R),R=_,_.classList.add("connecting","react-flow__handle-connecting"),_.classList.toggle("valid",S),_.classList.toggle("react-flow__handle-valid",S))}function N(T){var w,I;(O||_)&&Y&&S&&(l==null||l(Y)),(I=(w=c()).onConnectEnd)==null||I.call(w,T),p&&(g==null||g(T)),uu(R),H(),cancelAnimationFrame(G),B=!1,S=!1,Y=null,_=null,m.removeEventListener("mousemove",M),m.removeEventListener("mouseup",N),m.removeEventListener("touchmove",M),m.removeEventListener("touchend",N)}m.addEventListener("mousemove",M),m.addEventListener("mouseup",N),m.addEventListener("touchmove",M),m.addEventListener("touchend",N)}const lh=()=>!0,nw=n=>({connectionStartHandle:n.connectionStartHandle,connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName}),rw=(n,o,i)=>l=>{const{connectionStartHandle:a,connectionEndHandle:c,connectionClickStartHandle:d}=l;return{connecting:(a==null?void 0:a.nodeId)===n&&(a==null?void 0:a.handleId)===o&&(a==null?void 0:a.type)===i||(c==null?void 0:c.nodeId)===n&&(c==null?void 0:c.handleId)===o&&(c==null?void 0:c.type)===i,clickConnecting:(d==null?void 0:d.nodeId)===n&&(d==null?void 0:d.handleId)===o&&(d==null?void 0:d.type)===i}},xp=V.forwardRef(({type:n="source",position:o=ge.Top,isValidConnection:i,isConnectable:l=!0,isConnectableStart:a=!0,isConnectableEnd:c=!0,id:d,onConnect:h,children:p,className:g,onMouseDown:m,onTouchStart:v,...E},k)=>{var q,R;const A=d||null,j=n==="target",D=Ke(),$=Yx(),{connectOnClick:H,noPanClassName:G}=$e(nw,st),{connecting:O,clickConnecting:J}=$e(rw($,A,n),st);$||(R=(q=D.getState()).onError)==null||R.call(q,"010",zn.error010());const Q=b=>{const{defaultEdgeOptions:B,onConnect:Y,hasDefaultEdges:S}=D.getState(),_={...B,...b};if(S){const{edges:C,setEdges:z}=D.getState();z(Qx(_,C))}Y==null||Y(_),h==null||h(_)},K=b=>{if(!$)return;const B=lp(b);a&&(B&&b.button===0||!B)&&vp({event:b,handleId:A,nodeId:$,onConnect:Q,isTarget:j,getState:D.getState,setState:D.setState,isValidConnection:i||D.getState().isValidConnection||lh}),B?m==null||m(b):v==null||v(b)},ne=b=>{const{onClickConnectStart:B,onClickConnectEnd:Y,connectionClickStartHandle:S,connectionMode:_,isValidConnection:C}=D.getState();if(!$||!S&&!a)return;if(!S){B==null||B(b,{nodeId:$,handleId:A,handleType:n}),D.setState({connectionClickStartHandle:{nodeId:$,type:n,handleId:A}});return}const z=ip(b.target),M=i||C||lh,{connection:N,isValid:T}=yp({nodeId:$,id:A,type:n},_,S.nodeId,S.handleId||null,S.type,M,z);T&&Q(N),Y==null||Y(b),D.setState({connectionClickStartHandle:null})};return ee.createElement("div",{"data-handleid":A,"data-nodeid":$,"data-handlepos":o,"data-id":`${$}-${A}-${n}`,className:ut(["react-flow__handle",`react-flow__handle-${o}`,"nodrag",G,g,{source:!j,target:j,connectable:l,connectablestart:a,connectableend:c,connecting:J,connectionindicator:l&&(a&&!O||c&&O)}]),onMouseDown:K,onTouchStart:K,onClick:H?ne:void 0,ref:k,...E},p)});xp.displayName="Handle";var co=V.memo(xp);const wp=({data:n,isConnectable:o,targetPosition:i=ge.Top,sourcePosition:l=ge.Bottom})=>ee.createElement(ee.Fragment,null,ee.createElement(co,{type:"target",position:i,isConnectable:o}),n==null?void 0:n.label,ee.createElement(co,{type:"source",position:l,isConnectable:o}));wp.displayName="DefaultNode";var Tu=V.memo(wp);const Sp=({data:n,isConnectable:o,sourcePosition:i=ge.Bottom})=>ee.createElement(ee.Fragment,null,n==null?void 0:n.label,ee.createElement(co,{type:"source",position:i,isConnectable:o}));Sp.displayName="InputNode";var Ep=V.memo(Sp);const Np=({data:n,isConnectable:o,targetPosition:i=ge.Top})=>ee.createElement(ee.Fragment,null,ee.createElement(co,{type:"target",position:i,isConnectable:o}),n==null?void 0:n.label);Np.displayName="OutputNode";var _p=V.memo(Np);const Xu=()=>null;Xu.displayName="GroupNode";const ow=n=>({selectedNodes:n.getNodes().filter(o=>o.selected),selectedEdges:n.edges.filter(o=>o.selected).map(o=>({...o}))}),Bs=n=>n.id;function iw(n,o){return st(n.selectedNodes.map(Bs),o.selectedNodes.map(Bs))&&st(n.selectedEdges.map(Bs),o.selectedEdges.map(Bs))}const kp=V.memo(({onSelectionChange:n})=>{const o=Ke(),{selectedNodes:i,selectedEdges:l}=$e(ow,iw);return V.useEffect(()=>{const a={nodes:i,edges:l};n==null||n(a),o.getState().onSelectionChange.forEach(c=>c(a))},[i,l,n]),null});kp.displayName="SelectionListener";const sw=n=>!!n.onSelectionChange;function lw({onSelectionChange:n}){const o=$e(sw);return n||o?ee.createElement(kp,{onSelectionChange:n}):null}const aw=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset});function Qr(n,o){V.useEffect(()=>{typeof n<"u"&&o(n)},[n])}function _e(n,o,i){V.useEffect(()=>{typeof o<"u"&&i({[n]:o})},[o])}const uw=({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,onConnect:a,onConnectStart:c,onConnectEnd:d,onClickConnectStart:h,onClickConnectEnd:p,nodesDraggable:g,nodesConnectable:m,nodesFocusable:v,edgesFocusable:E,edgesUpdatable:k,elevateNodesOnSelect:A,minZoom:j,maxZoom:D,nodeExtent:$,onNodesChange:H,onEdgesChange:G,elementsSelectable:O,connectionMode:J,snapGrid:Q,snapToGrid:K,translateExtent:ne,connectOnClick:q,defaultEdgeOptions:R,fitView:b,fitViewOptions:B,onNodesDelete:Y,onEdgesDelete:S,onNodeDrag:_,onNodeDragStart:C,onNodeDragStop:z,onSelectionDrag:M,onSelectionDragStart:N,onSelectionDragStop:T,noPanClassName:w,nodeOrigin:I,rfId:te,autoPanOnConnect:Z,autoPanOnNodeDrag:oe,onError:re,connectionRadius:ce,isValidConnection:he,nodeDragThreshold:ve})=>{const{setNodes:Se,setEdges:Le,setDefaultNodesAndEdges:We,setMinZoom:et,setMaxZoom:tt,setTranslateExtent:Fe,setNodeExtent:vt,reset:je}=$e(aw,st),ye=Ke();return V.useEffect(()=>{const Qe=l==null?void 0:l.map(xt=>({...xt,...R}));return We(i,Qe),()=>{je()}},[]),_e("defaultEdgeOptions",R,ye.setState),_e("connectionMode",J,ye.setState),_e("onConnect",a,ye.setState),_e("onConnectStart",c,ye.setState),_e("onConnectEnd",d,ye.setState),_e("onClickConnectStart",h,ye.setState),_e("onClickConnectEnd",p,ye.setState),_e("nodesDraggable",g,ye.setState),_e("nodesConnectable",m,ye.setState),_e("nodesFocusable",v,ye.setState),_e("edgesFocusable",E,ye.setState),_e("edgesUpdatable",k,ye.setState),_e("elementsSelectable",O,ye.setState),_e("elevateNodesOnSelect",A,ye.setState),_e("snapToGrid",K,ye.setState),_e("snapGrid",Q,ye.setState),_e("onNodesChange",H,ye.setState),_e("onEdgesChange",G,ye.setState),_e("connectOnClick",q,ye.setState),_e("fitViewOnInit",b,ye.setState),_e("fitViewOnInitOptions",B,ye.setState),_e("onNodesDelete",Y,ye.setState),_e("onEdgesDelete",S,ye.setState),_e("onNodeDrag",_,ye.setState),_e("onNodeDragStart",C,ye.setState),_e("onNodeDragStop",z,ye.setState),_e("onSelectionDrag",M,ye.setState),_e("onSelectionDragStart",N,ye.setState),_e("onSelectionDragStop",T,ye.setState),_e("noPanClassName",w,ye.setState),_e("nodeOrigin",I,ye.setState),_e("rfId",te,ye.setState),_e("autoPanOnConnect",Z,ye.setState),_e("autoPanOnNodeDrag",oe,ye.setState),_e("onError",re,ye.setState),_e("connectionRadius",ce,ye.setState),_e("isValidConnection",he,ye.setState),_e("nodeDragThreshold",ve,ye.setState),Qr(n,Se),Qr(o,Le),Qr(j,et),Qr(D,tt),Qr(ne,Fe),Qr($,vt),null},ah={display:"none"},cw={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Cp="react-flow__node-desc",jp="react-flow__edge-desc",fw="react-flow__aria-live",dw=n=>n.ariaLiveMessage;function hw({rfId:n}){const o=$e(dw);return ee.createElement("div",{id:`${fw}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:cw},o)}function pw({rfId:n,disableKeyboardA11y:o}){return ee.createElement(ee.Fragment,null,ee.createElement("div",{id:`${Cp}-${n}`,style:ah},"Press enter or space to select a node.",!o&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ee.createElement("div",{id:`${jp}-${n}`,style:ah},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!o&&ee.createElement(hw,{rfId:n}))}var fi=(n=null,o={actInsideInputWithModifier:!0})=>{const[i,l]=V.useState(!1),a=V.useRef(!1),c=V.useRef(new Set([])),[d,h]=V.useMemo(()=>{if(n!==null){const g=(Array.isArray(n)?n:[n]).filter(v=>typeof v=="string").map(v=>v.split("+")),m=g.reduce((v,E)=>v.concat(...E),[]);return[g,m]}return[[],[]]},[n]);return V.useEffect(()=>{const p=typeof document<"u"?document:null,g=(o==null?void 0:o.target)||p;if(n!==null){const m=k=>{if(a.current=k.ctrlKey||k.metaKey||k.shiftKey,(!a.current||a.current&&!o.actInsideInputWithModifier)&&Cu(k))return!1;const j=ch(k.code,h);c.current.add(k[j]),uh(d,c.current,!1)&&(k.preventDefault(),l(!0))},v=k=>{if((!a.current||a.current&&!o.actInsideInputWithModifier)&&Cu(k))return!1;const j=ch(k.code,h);uh(d,c.current,!0)?(l(!1),c.current.clear()):c.current.delete(k[j]),k.key==="Meta"&&c.current.clear(),a.current=!1},E=()=>{c.current.clear(),l(!1)};return g==null||g.addEventListener("keydown",m),g==null||g.addEventListener("keyup",v),window.addEventListener("blur",E),()=>{g==null||g.removeEventListener("keydown",m),g==null||g.removeEventListener("keyup",v),window.removeEventListener("blur",E)}}},[n,l]),i};function uh(n,o,i){return n.filter(l=>i||l.length===o.size).some(l=>l.every(a=>o.has(a)))}function ch(n,o){return o.includes(n)?"code":"key"}function Pp(n,o,i,l){var h,p;const a=n.parentNode||n.parentId;if(!a)return i;const c=o.get(a),d=oo(c,l);return Pp(c,o,{x:(i.x??0)+d.x,y:(i.y??0)+d.y,z:(((h=c[Ve])==null?void 0:h.z)??0)>(i.z??0)?((p=c[Ve])==null?void 0:p.z)??0:i.z??0},l)}function Mp(n,o,i){n.forEach(l=>{var c;const a=l.parentNode||l.parentId;if(a&&!n.has(a))throw new Error(`Parent node ${a} not found`);if(a||i!=null&&i[l.id]){const{x:d,y:h,z:p}=Pp(l,n,{...l.position,z:((c=l[Ve])==null?void 0:c.z)??0},o);l.positionAbsolute={x:d,y:h},l[Ve].z=p,i!=null&&i[l.id]&&(l[Ve].isParent=!0)}})}function cu(n,o,i,l){const a=new Map,c={},d=l?1e3:0;return n.forEach(h=>{var k;const p=($t(h.zIndex)?h.zIndex:0)+(h.selected?d:0),g=o.get(h.id),m={...h,positionAbsolute:{x:h.position.x,y:h.position.y}},v=h.parentNode||h.parentId;v&&(c[v]=!0);const E=(g==null?void 0:g.type)&&(g==null?void 0:g.type)!==h.type;Object.defineProperty(m,Ve,{enumerable:!1,value:{handleBounds:E||(k=g==null?void 0:g[Ve])==null?void 0:k.handleBounds,z:p}}),a.set(h.id,m)}),Mp(a,i,c),a}function Tp(n,o={}){const{getNodes:i,width:l,height:a,minZoom:c,maxZoom:d,d3Zoom:h,d3Selection:p,fitViewOnInitDone:g,fitViewOnInit:m,nodeOrigin:v}=n(),E=o.initial&&!g&&m;if(h&&p&&(E||!o.initial)){const A=i().filter(D=>{var H;const $=o.includeHiddenNodes?D.width&&D.height:!D.hidden;return(H=o.nodes)!=null&&H.length?$&&o.nodes.some(G=>G.id===D.id):$}),j=A.every(D=>D.width&&D.height);if(A.length>0&&j){const D=Wu(A,v),{x:$,y:H,zoom:G}=mp(D,l,a,o.minZoom??c,o.maxZoom??d,o.padding??.1),O=tr.translate($,H).scale(G);return typeof o.duration=="number"&&o.duration>0?h.transform(xr(p,o.duration),O):h.transform(p,O),!0}}return!1}function mw(n,o){return n.forEach(i=>{const l=o.get(i.id);l&&o.set(l.id,{...l,[Ve]:l[Ve],selected:i.selected})}),new Map(o)}function gw(n,o){return o.map(i=>{const l=n.find(a=>a.id===i.id);return l&&(i.selected=l.selected),i})}function qs({changedNodes:n,changedEdges:o,get:i,set:l}){const{nodeInternals:a,edges:c,onNodesChange:d,onEdgesChange:h,hasDefaultNodes:p,hasDefaultEdges:g}=i();n!=null&&n.length&&(p&&l({nodeInternals:mw(n,a)}),d==null||d(n)),o!=null&&o.length&&(g&&l({edges:gw(o,c)}),h==null||h(o))}const Zr=()=>{},yw={zoomIn:Zr,zoomOut:Zr,zoomTo:Zr,getZoom:()=>1,setViewport:Zr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Zr,fitBounds:Zr,project:n=>n,screenToFlowPosition:n=>n,flowToScreenPosition:n=>n,viewportInitialized:!1},vw=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection}),xw=()=>{const n=Ke(),{d3Zoom:o,d3Selection:i}=$e(vw,st);return V.useMemo(()=>i&&o?{zoomIn:a=>o.scaleBy(xr(i,a==null?void 0:a.duration),1.2),zoomOut:a=>o.scaleBy(xr(i,a==null?void 0:a.duration),1/1.2),zoomTo:(a,c)=>o.scaleTo(xr(i,c==null?void 0:c.duration),a),getZoom:()=>n.getState().transform[2],setViewport:(a,c)=>{const[d,h,p]=n.getState().transform,g=tr.translate(a.x??d,a.y??h).scale(a.zoom??p);o.transform(xr(i,c==null?void 0:c.duration),g)},getViewport:()=>{const[a,c,d]=n.getState().transform;return{x:a,y:c,zoom:d}},fitView:a=>Tp(n.getState,a),setCenter:(a,c,d)=>{const{width:h,height:p,maxZoom:g}=n.getState(),m=typeof(d==null?void 0:d.zoom)<"u"?d.zoom:g,v=h/2-a*m,E=p/2-c*m,k=tr.translate(v,E).scale(m);o.transform(xr(i,d==null?void 0:d.duration),k)},fitBounds:(a,c)=>{const{width:d,height:h,minZoom:p,maxZoom:g}=n.getState(),{x:m,y:v,zoom:E}=mp(a,d,h,p,g,(c==null?void 0:c.padding)??.1),k=tr.translate(m,v).scale(E);o.transform(xr(i,c==null?void 0:c.duration),k)},project:a=>{const{transform:c,snapToGrid:d,snapGrid:h}=n.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Mu(a,c,d,h)},screenToFlowPosition:a=>{const{transform:c,snapToGrid:d,snapGrid:h,domNode:p}=n.getState();if(!p)return a;const{x:g,y:m}=p.getBoundingClientRect(),v={x:a.x-g,y:a.y-m};return Mu(v,c,d,h)},flowToScreenPosition:a=>{const{transform:c,domNode:d}=n.getState();if(!d)return a;const{x:h,y:p}=d.getBoundingClientRect(),g=dp(a,c);return{x:g.x+h,y:g.y+p}},viewportInitialized:!0}:yw,[o,i])};function Gu(){const n=xw(),o=Ke(),i=V.useCallback(()=>o.getState().getNodes().map(j=>({...j})),[]),l=V.useCallback(j=>o.getState().nodeInternals.get(j),[]),a=V.useCallback(()=>{const{edges:j=[]}=o.getState();return j.map(D=>({...D}))},[]),c=V.useCallback(j=>{const{edges:D=[]}=o.getState();return D.find($=>$.id===j)},[]),d=V.useCallback(j=>{const{getNodes:D,setNodes:$,hasDefaultNodes:H,onNodesChange:G}=o.getState(),O=D(),J=typeof j=="function"?j(O):j;if(H)$(J);else if(G){const Q=J.length===0?O.map(K=>({type:"remove",id:K.id})):J.map(K=>({item:K,type:"reset"}));G(Q)}},[]),h=V.useCallback(j=>{const{edges:D=[],setEdges:$,hasDefaultEdges:H,onEdgesChange:G}=o.getState(),O=typeof j=="function"?j(D):j;if(H)$(O);else if(G){const J=O.length===0?D.map(Q=>({type:"remove",id:Q.id})):O.map(Q=>({item:Q,type:"reset"}));G(J)}},[]),p=V.useCallback(j=>{const D=Array.isArray(j)?j:[j],{getNodes:$,setNodes:H,hasDefaultNodes:G,onNodesChange:O}=o.getState();if(G){const Q=[...$(),...D];H(Q)}else if(O){const J=D.map(Q=>({item:Q,type:"add"}));O(J)}},[]),g=V.useCallback(j=>{const D=Array.isArray(j)?j:[j],{edges:$=[],setEdges:H,hasDefaultEdges:G,onEdgesChange:O}=o.getState();if(G)H([...$,...D]);else if(O){const J=D.map(Q=>({item:Q,type:"add"}));O(J)}},[]),m=V.useCallback(()=>{const{getNodes:j,edges:D=[],transform:$}=o.getState(),[H,G,O]=$;return{nodes:j().map(J=>({...J})),edges:D.map(J=>({...J})),viewport:{x:H,y:G,zoom:O}}},[]),v=V.useCallback(({nodes:j,edges:D})=>{const{nodeInternals:$,getNodes:H,edges:G,hasDefaultNodes:O,hasDefaultEdges:J,onNodesDelete:Q,onEdgesDelete:K,onNodesChange:ne,onEdgesChange:q}=o.getState(),R=(j||[]).map(_=>_.id),b=(D||[]).map(_=>_.id),B=H().reduce((_,C)=>{const z=C.parentNode||C.parentId,M=!R.includes(C.id)&&z&&_.find(T=>T.id===z);return(typeof C.deletable=="boolean"?C.deletable:!0)&&(R.includes(C.id)||M)&&_.push(C),_},[]),Y=G.filter(_=>typeof _.deletable=="boolean"?_.deletable:!0),S=Y.filter(_=>b.includes(_.id));if(B||S){const _=pp(B,Y),C=[...S,..._],z=C.reduce((M,N)=>(M.includes(N.id)||M.push(N.id),M),[]);if((J||O)&&(J&&o.setState({edges:G.filter(M=>!z.includes(M.id))}),O&&(B.forEach(M=>{$.delete(M.id)}),o.setState({nodeInternals:new Map($)}))),z.length>0&&(K==null||K(C),q&&q(z.map(M=>({id:M,type:"remove"})))),B.length>0&&(Q==null||Q(B),ne)){const M=B.map(N=>({id:N.id,type:"remove"}));ne(M)}}},[]),E=V.useCallback(j=>{const D=Ox(j),$=D?null:o.getState().nodeInternals.get(j.id);return!D&&!$?[null,null,D]:[D?j:th($),$,D]},[]),k=V.useCallback((j,D=!0,$)=>{const[H,G,O]=E(j);return H?($||o.getState().getNodes()).filter(J=>{if(!O&&(J.id===G.id||!J.positionAbsolute))return!1;const Q=th(J),K=ku(Q,H);return D&&K>0||K>=H.width*H.height}):[]},[]),A=V.useCallback((j,D,$=!0)=>{const[H]=E(j);if(!H)return!1;const G=ku(H,D);return $&&G>0||G>=H.width*H.height},[]);return V.useMemo(()=>({...n,getNodes:i,getNode:l,getEdges:a,getEdge:c,setNodes:d,setEdges:h,addNodes:p,addEdges:g,toObject:m,deleteElements:v,getIntersectingNodes:k,isNodeIntersecting:A}),[n,i,l,a,c,d,h,p,g,m,v,k,A])}const ww={actInsideInputWithModifier:!1};var Sw=({deleteKeyCode:n,multiSelectionKeyCode:o})=>{const i=Ke(),{deleteElements:l}=Gu(),a=fi(n,ww),c=fi(o);V.useEffect(()=>{if(a){const{edges:d,getNodes:h}=i.getState(),p=h().filter(m=>m.selected),g=d.filter(m=>m.selected);l({nodes:p,edges:g}),i.setState({nodesSelectionActive:!1})}},[a]),V.useEffect(()=>{i.setState({multiSelectionActive:c})},[c])};function Ew(n){const o=Ke();V.useEffect(()=>{let i;const l=()=>{var c,d;if(!n.current)return;const a=Ou(n.current);(a.height===0||a.width===0)&&((d=(c=o.getState()).onError)==null||d.call(c,"004",zn.error004())),o.setState({width:a.width||500,height:a.height||500})};return l(),window.addEventListener("resize",l),n.current&&(i=new ResizeObserver(()=>l()),i.observe(n.current)),()=>{window.removeEventListener("resize",l),i&&n.current&&i.unobserve(n.current)}},[])}const Ku={position:"absolute",width:"100%",height:"100%",top:0,left:0},Nw=(n,o)=>n.x!==o.x||n.y!==o.y||n.zoom!==o.k,bs=n=>({x:n.x,y:n.y,zoom:n.k}),Jr=(n,o)=>n.target.closest(`.${o}`),fh=(n,o)=>o===2&&Array.isArray(n)&&n.includes(2),dh=n=>{const o=n.ctrlKey&&rl()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*o},_w=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection,d3ZoomHandler:n.d3ZoomHandler,userSelectionActive:n.userSelectionActive}),kw=({onMove:n,onMoveStart:o,onMoveEnd:i,onPaneContextMenu:l,zoomOnScroll:a=!0,zoomOnPinch:c=!0,panOnScroll:d=!1,panOnScrollSpeed:h=.5,panOnScrollMode:p=Sr.Free,zoomOnDoubleClick:g=!0,elementsSelectable:m,panOnDrag:v=!0,defaultViewport:E,translateExtent:k,minZoom:A,maxZoom:j,zoomActivationKeyCode:D,preventScrolling:$=!0,children:H,noWheelClassName:G,noPanClassName:O})=>{const J=V.useRef(),Q=Ke(),K=V.useRef(!1),ne=V.useRef(!1),q=V.useRef(null),R=V.useRef({x:0,y:0,zoom:0}),{d3Zoom:b,d3Selection:B,d3ZoomHandler:Y,userSelectionActive:S}=$e(_w,st),_=fi(D),C=V.useRef(0),z=V.useRef(!1),M=V.useRef();return Ew(q),V.useEffect(()=>{if(q.current){const N=q.current.getBoundingClientRect(),T=Px().scaleExtent([A,j]).translateExtent(k),w=Xt(q.current).call(T),I=tr.translate(E.x,E.y).scale(ao(E.zoom,A,j)),te=[[0,0],[N.width,N.height]],Z=T.constrain()(I,te,k);T.transform(w,Z),T.wheelDelta(dh),Q.setState({d3Zoom:T,d3Selection:w,d3ZoomHandler:w.on("wheel.zoom"),transform:[Z.x,Z.y,Z.k],domNode:q.current.closest(".react-flow")})}},[]),V.useEffect(()=>{B&&b&&(d&&!_&&!S?B.on("wheel.zoom",N=>{if(Jr(N,G))return!1;N.preventDefault(),N.stopImmediatePropagation();const T=B.property("__zoom").k||1;if(N.ctrlKey&&c){const he=un(N),ve=dh(N),Se=T*Math.pow(2,ve);b.scaleTo(B,Se,he,N);return}const w=N.deltaMode===1?20:1;let I=p===Sr.Vertical?0:N.deltaX*w,te=p===Sr.Horizontal?0:N.deltaY*w;!rl()&&N.shiftKey&&p!==Sr.Vertical&&(I=N.deltaY*w,te=0),b.translateBy(B,-(I/T)*h,-(te/T)*h,{internal:!0});const Z=bs(B.property("__zoom")),{onViewportChangeStart:oe,onViewportChange:re,onViewportChangeEnd:ce}=Q.getState();clearTimeout(M.current),z.current||(z.current=!0,o==null||o(N,Z),oe==null||oe(Z)),z.current&&(n==null||n(N,Z),re==null||re(Z),M.current=setTimeout(()=>{i==null||i(N,Z),ce==null||ce(Z),z.current=!1},150))},{passive:!1}):typeof Y<"u"&&B.on("wheel.zoom",function(N,T){if(!$&&N.type==="wheel"&&!N.ctrlKey||Jr(N,G))return null;N.preventDefault(),Y.call(this,N,T)},{passive:!1}))},[S,d,p,B,b,Y,_,c,$,G,o,n,i]),V.useEffect(()=>{b&&b.on("start",N=>{var I,te;if(!N.sourceEvent||N.sourceEvent.internal)return null;C.current=(I=N.sourceEvent)==null?void 0:I.button;const{onViewportChangeStart:T}=Q.getState(),w=bs(N.transform);K.current=!0,R.current=w,((te=N.sourceEvent)==null?void 0:te.type)==="mousedown"&&Q.setState({paneDragging:!0}),T==null||T(w),o==null||o(N.sourceEvent,w)})},[b,o]),V.useEffect(()=>{b&&(S&&!K.current?b.on("zoom",null):S||b.on("zoom",N=>{var w;const{onViewportChange:T}=Q.getState();if(Q.setState({transform:[N.transform.x,N.transform.y,N.transform.k]}),ne.current=!!(l&&fh(v,C.current??0)),(n||T)&&!((w=N.sourceEvent)!=null&&w.internal)){const I=bs(N.transform);T==null||T(I),n==null||n(N.sourceEvent,I)}}))},[S,b,n,v,l]),V.useEffect(()=>{b&&b.on("end",N=>{if(!N.sourceEvent||N.sourceEvent.internal)return null;const{onViewportChangeEnd:T}=Q.getState();if(K.current=!1,Q.setState({paneDragging:!1}),l&&fh(v,C.current??0)&&!ne.current&&l(N.sourceEvent),ne.current=!1,(i||T)&&Nw(R.current,N.transform)){const w=bs(N.transform);R.current=w,clearTimeout(J.current),J.current=setTimeout(()=>{T==null||T(w),i==null||i(N.sourceEvent,w)},d?150:0)}})},[b,d,v,i,l]),V.useEffect(()=>{b&&b.filter(N=>{const T=_||a,w=c&&N.ctrlKey;if((v===!0||Array.isArray(v)&&v.includes(1))&&N.button===1&&N.type==="mousedown"&&(Jr(N,"react-flow__node")||Jr(N,"react-flow__edge")))return!0;if(!v&&!T&&!d&&!g&&!c||S||!g&&N.type==="dblclick"||Jr(N,G)&&N.type==="wheel"||Jr(N,O)&&(N.type!=="wheel"||d&&N.type==="wheel"&&!_)||!c&&N.ctrlKey&&N.type==="wheel"||!T&&!d&&!w&&N.type==="wheel"||!v&&(N.type==="mousedown"||N.type==="touchstart")||Array.isArray(v)&&!v.includes(N.button)&&N.type==="mousedown")return!1;const I=Array.isArray(v)&&v.includes(N.button)||!N.button||N.button<=1;return(!N.ctrlKey||N.type==="wheel")&&I})},[S,b,a,c,d,g,v,m,_]),ee.createElement("div",{className:"react-flow__renderer",ref:q,style:Ku},H)},Cw=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function jw(){const{userSelectionActive:n,userSelectionRect:o}=$e(Cw,st);return n&&o?ee.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:o.width,height:o.height,transform:`translate(${o.x}px, ${o.y}px)`}}):null}function hh(n,o){const i=o.parentNode||o.parentId,l=n.find(a=>a.id===i);if(l){const a=o.position.x+o.width-l.width,c=o.position.y+o.height-l.height;if(a>0||c>0||o.position.x<0||o.position.y<0){if(l.style={...l.style},l.style.width=l.style.width??l.width,l.style.height=l.style.height??l.height,a>0&&(l.style.width+=a),c>0&&(l.style.height+=c),o.position.x<0){const d=Math.abs(o.position.x);l.position.x=l.position.x-d,l.style.width+=d,o.position.x=0}if(o.position.y<0){const d=Math.abs(o.position.y);l.position.y=l.position.y-d,l.style.height+=d,o.position.y=0}l.width=l.style.width,l.height=l.style.height}}}function Pw(n,o){if(n.some(l=>l.type==="reset"))return n.filter(l=>l.type==="reset").map(l=>l.item);const i=n.filter(l=>l.type==="add").map(l=>l.item);return o.reduce((l,a)=>{const c=n.filter(h=>h.id===a.id);if(c.length===0)return l.push(a),l;const d={...a};for(const h of c)if(h)switch(h.type){case"select":{d.selected=h.selected;break}case"position":{typeof h.position<"u"&&(d.position=h.position),typeof h.positionAbsolute<"u"&&(d.positionAbsolute=h.positionAbsolute),typeof h.dragging<"u"&&(d.dragging=h.dragging),d.expandParent&&hh(l,d);break}case"dimensions":{typeof h.dimensions<"u"&&(d.width=h.dimensions.width,d.height=h.dimensions.height),typeof h.updateStyle<"u"&&(d.style={...d.style||{},...h.dimensions}),typeof h.resizing=="boolean"&&(d.resizing=h.resizing),d.expandParent&&hh(l,d);break}case"remove":return l}return l.push(d),l},i)}function Ip(n,o){return Pw(n,o)}const er=(n,o)=>({id:n,type:"select",selected:o});function to(n,o){return n.reduce((i,l)=>{const a=o.includes(l.id);return!l.selected&&a?(l.selected=!0,i.push(er(l.id,!0))):l.selected&&!a&&(l.selected=!1,i.push(er(l.id,!1))),i},[])}const fu=(n,o)=>i=>{i.target===o.current&&(n==null||n(i))},Mw=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,dragging:n.paneDragging}),zp=V.memo(({isSelecting:n,selectionMode:o=ci.Full,panOnDrag:i,onSelectionStart:l,onSelectionEnd:a,onPaneClick:c,onPaneContextMenu:d,onPaneScroll:h,onPaneMouseEnter:p,onPaneMouseMove:g,onPaneMouseLeave:m,children:v})=>{const E=V.useRef(null),k=Ke(),A=V.useRef(0),j=V.useRef(0),D=V.useRef(),{userSelectionActive:$,elementsSelectable:H,dragging:G}=$e(Mw,st),O=()=>{k.setState({userSelectionActive:!1,userSelectionRect:null}),A.current=0,j.current=0},J=Y=>{c==null||c(Y),k.getState().resetSelectedElements(),k.setState({nodesSelectionActive:!1})},Q=Y=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){Y.preventDefault();return}d==null||d(Y)},K=h?Y=>h(Y):void 0,ne=Y=>{const{resetSelectedElements:S,domNode:_}=k.getState();if(D.current=_==null?void 0:_.getBoundingClientRect(),!H||!n||Y.button!==0||Y.target!==E.current||!D.current)return;const{x:C,y:z}=nr(Y,D.current);S(),k.setState({userSelectionRect:{width:0,height:0,startX:C,startY:z,x:C,y:z}}),l==null||l(Y)},q=Y=>{const{userSelectionRect:S,nodeInternals:_,edges:C,transform:z,onNodesChange:M,onEdgesChange:N,nodeOrigin:T,getNodes:w}=k.getState();if(!n||!D.current||!S)return;k.setState({userSelectionActive:!0,nodesSelectionActive:!1});const I=nr(Y,D.current),te=S.startX??0,Z=S.startY??0,oe={...S,x:I.x<te?I.x:te,y:I.y<Z?I.y:Z,width:Math.abs(I.x-te),height:Math.abs(I.y-Z)},re=w(),ce=hp(_,oe,z,o===ci.Partial,!0,T),he=pp(ce,C).map(Se=>Se.id),ve=ce.map(Se=>Se.id);if(A.current!==ve.length){A.current=ve.length;const Se=to(re,ve);Se.length&&(M==null||M(Se))}if(j.current!==he.length){j.current=he.length;const Se=to(C,he);Se.length&&(N==null||N(Se))}k.setState({userSelectionRect:oe})},R=Y=>{if(Y.button!==0)return;const{userSelectionRect:S}=k.getState();!$&&S&&Y.target===E.current&&(J==null||J(Y)),k.setState({nodesSelectionActive:A.current>0}),O(),a==null||a(Y)},b=Y=>{$&&(k.setState({nodesSelectionActive:A.current>0}),a==null||a(Y)),O()},B=H&&(n||$);return ee.createElement("div",{className:ut(["react-flow__pane",{dragging:G,selection:n}]),onClick:B?void 0:fu(J,E),onContextMenu:fu(Q,E),onWheel:fu(K,E),onMouseEnter:B?void 0:p,onMouseDown:B?ne:void 0,onMouseMove:B?q:g,onMouseUp:B?R:void 0,onMouseLeave:B?b:m,ref:E,style:Ku},v,ee.createElement(jw,null))});zp.displayName="Pane";function Rp(n,o){const i=n.parentNode||n.parentId;if(!i)return!1;const l=o.get(i);return l?l.selected?!0:Rp(l,o):!1}function ph(n,o,i){let l=n;do{if(l!=null&&l.matches(o))return!0;if(l===i.current)return!1;l=l.parentElement}while(l);return!1}function Tw(n,o,i,l){return Array.from(n.values()).filter(a=>(a.selected||a.id===l)&&(!a.parentNode||a.parentId||!Rp(a,n))&&(a.draggable||o&&typeof a.draggable>"u")).map(a=>{var c,d;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:i.x-(((c=a.positionAbsolute)==null?void 0:c.x)??0),y:i.y-(((d=a.positionAbsolute)==null?void 0:d.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function Iw(n,o){return!o||o==="parent"?o:[o[0],[o[1][0]-(n.width||0),o[1][1]-(n.height||0)]]}function Ap(n,o,i,l,a=[0,0],c){const d=Iw(n,n.extent||l);let h=d;const p=n.parentNode||n.parentId;if(n.extent==="parent"&&!n.expandParent)if(p&&n.width&&n.height){const v=i.get(p),{x:E,y:k}=oo(v,a).positionAbsolute;h=v&&$t(E)&&$t(k)&&$t(v.width)&&$t(v.height)?[[E+n.width*a[0],k+n.height*a[1]],[E+v.width-n.width+n.width*a[0],k+v.height-n.height+n.height*a[1]]]:h}else c==null||c("005",zn.error005()),h=d;else if(n.extent&&p&&n.extent!=="parent"){const v=i.get(p),{x:E,y:k}=oo(v,a).positionAbsolute;h=[[n.extent[0][0]+E,n.extent[0][1]+k],[n.extent[1][0]+E,n.extent[1][1]+k]]}let g={x:0,y:0};if(p){const v=i.get(p);g=oo(v,a).positionAbsolute}const m=h&&h!=="parent"?Hu(o,h):o;return{position:{x:m.x-g.x,y:m.y-g.y},positionAbsolute:m}}function du({nodeId:n,dragItems:o,nodeInternals:i}){const l=o.map(a=>({...i.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[n?l.find(a=>a.id===n):l[0],l]}const mh=(n,o,i,l)=>{const a=o.querySelectorAll(n);if(!a||!a.length)return null;const c=Array.from(a),d=o.getBoundingClientRect(),h={x:d.width*l[0],y:d.height*l[1]};return c.map(p=>{const g=p.getBoundingClientRect();return{id:p.getAttribute("data-handleid"),position:p.getAttribute("data-handlepos"),x:(g.left-d.left-h.x)/i,y:(g.top-d.top-h.y)/i,...Ou(p)}})};function ei(n,o,i){return i===void 0?i:l=>{const a=o().nodeInternals.get(n);a&&i(l,{...a})}}function Iu({id:n,store:o,unselect:i=!1,nodeRef:l}){const{addSelectedNodes:a,unselectNodesAndEdges:c,multiSelectionActive:d,nodeInternals:h,onError:p}=o.getState(),g=h.get(n);if(!g){p==null||p("012",zn.error012(n));return}o.setState({nodesSelectionActive:!1}),g.selected?(i||g.selected&&d)&&(c({nodes:[g],edges:[]}),requestAnimationFrame(()=>{var m;return(m=l==null?void 0:l.current)==null?void 0:m.blur()})):a([n])}function zw(){const n=Ke();return V.useCallback(({sourceEvent:i})=>{const{transform:l,snapGrid:a,snapToGrid:c}=n.getState(),d=i.touches?i.touches[0].clientX:i.clientX,h=i.touches?i.touches[0].clientY:i.clientY,p={x:(d-l[0])/l[2],y:(h-l[1])/l[2]};return{xSnapped:c?a[0]*Math.round(p.x/a[0]):p.x,ySnapped:c?a[1]*Math.round(p.y/a[1]):p.y,...p}},[])}function hu(n){return(o,i,l)=>n==null?void 0:n(o,l)}function Dp({nodeRef:n,disabled:o=!1,noDragClassName:i,handleSelector:l,nodeId:a,isSelectable:c,selectNodesOnDrag:d}){const h=Ke(),[p,g]=V.useState(!1),m=V.useRef([]),v=V.useRef({x:null,y:null}),E=V.useRef(0),k=V.useRef(null),A=V.useRef({x:0,y:0}),j=V.useRef(null),D=V.useRef(!1),$=V.useRef(!1),H=V.useRef(!1),G=zw();return V.useEffect(()=>{if(n!=null&&n.current){const O=Xt(n.current),J=({x:ne,y:q})=>{const{nodeInternals:R,onNodeDrag:b,onSelectionDrag:B,updateNodePositions:Y,nodeExtent:S,snapGrid:_,snapToGrid:C,nodeOrigin:z,onError:M}=h.getState();v.current={x:ne,y:q};let N=!1,T={x:0,y:0,x2:0,y2:0};if(m.current.length>1&&S){const I=Wu(m.current,z);T=Vu(I)}if(m.current=m.current.map(I=>{const te={x:ne-I.distance.x,y:q-I.distance.y};C&&(te.x=_[0]*Math.round(te.x/_[0]),te.y=_[1]*Math.round(te.y/_[1]));const Z=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];m.current.length>1&&S&&!I.extent&&(Z[0][0]=I.positionAbsolute.x-T.x+S[0][0],Z[1][0]=I.positionAbsolute.x+(I.width??0)-T.x2+S[1][0],Z[0][1]=I.positionAbsolute.y-T.y+S[0][1],Z[1][1]=I.positionAbsolute.y+(I.height??0)-T.y2+S[1][1]);const oe=Ap(I,te,R,Z,z,M);return N=N||I.position.x!==oe.position.x||I.position.y!==oe.position.y,I.position=oe.position,I.positionAbsolute=oe.positionAbsolute,I}),!N)return;Y(m.current,!0,!0),g(!0);const w=a?b:hu(B);if(w&&j.current){const[I,te]=du({nodeId:a,dragItems:m.current,nodeInternals:R});w(j.current,I,te)}},Q=()=>{if(!k.current)return;const[ne,q]=op(A.current,k.current);if(ne!==0||q!==0){const{transform:R,panBy:b}=h.getState();v.current.x=(v.current.x??0)-ne/R[2],v.current.y=(v.current.y??0)-q/R[2],b({x:ne,y:q})&&J(v.current)}E.current=requestAnimationFrame(Q)},K=ne=>{var z;const{nodeInternals:q,multiSelectionActive:R,nodesDraggable:b,unselectNodesAndEdges:B,onNodeDragStart:Y,onSelectionDragStart:S}=h.getState();$.current=!0;const _=a?Y:hu(S);(!d||!c)&&!R&&a&&((z=q.get(a))!=null&&z.selected||B()),a&&c&&d&&Iu({id:a,store:h,nodeRef:n});const C=G(ne);if(v.current=C,m.current=Tw(q,b,C,a),_&&m.current){const[M,N]=du({nodeId:a,dragItems:m.current,nodeInternals:q});_(ne.sourceEvent,M,N)}};if(o)O.on(".drag",null);else{const ne=F0().on("start",q=>{const{domNode:R,nodeDragThreshold:b}=h.getState();b===0&&K(q),H.current=!1;const B=G(q);v.current=B,k.current=(R==null?void 0:R.getBoundingClientRect())||null,A.current=nr(q.sourceEvent,k.current)}).on("drag",q=>{var Y,S;const R=G(q),{autoPanOnNodeDrag:b,nodeDragThreshold:B}=h.getState();if(q.sourceEvent.type==="touchmove"&&q.sourceEvent.touches.length>1&&(H.current=!0),!H.current){if(!D.current&&$.current&&b&&(D.current=!0,Q()),!$.current){const _=R.xSnapped-(((Y=v==null?void 0:v.current)==null?void 0:Y.x)??0),C=R.ySnapped-(((S=v==null?void 0:v.current)==null?void 0:S.y)??0);Math.sqrt(_*_+C*C)>B&&K(q)}(v.current.x!==R.xSnapped||v.current.y!==R.ySnapped)&&m.current&&$.current&&(j.current=q.sourceEvent,A.current=nr(q.sourceEvent,k.current),J(R))}}).on("end",q=>{if(!(!$.current||H.current)&&(g(!1),D.current=!1,$.current=!1,cancelAnimationFrame(E.current),m.current)){const{updateNodePositions:R,nodeInternals:b,onNodeDragStop:B,onSelectionDragStop:Y}=h.getState(),S=a?B:hu(Y);if(R(m.current,!1,!1),S){const[_,C]=du({nodeId:a,dragItems:m.current,nodeInternals:b});S(q.sourceEvent,_,C)}}}).filter(q=>{const R=q.target;return!q.button&&(!i||!ph(R,`.${i}`,n))&&(!l||ph(R,l,n))});return O.call(ne),()=>{O.on(".drag",null)}}}},[n,o,i,l,c,h,a,d,G]),p}function $p(){const n=Ke();return V.useCallback(i=>{const{nodeInternals:l,nodeExtent:a,updateNodePositions:c,getNodes:d,snapToGrid:h,snapGrid:p,onError:g,nodesDraggable:m}=n.getState(),v=d().filter(H=>H.selected&&(H.draggable||m&&typeof H.draggable>"u")),E=h?p[0]:5,k=h?p[1]:5,A=i.isShiftPressed?4:1,j=i.x*E*A,D=i.y*k*A,$=v.map(H=>{if(H.positionAbsolute){const G={x:H.positionAbsolute.x+j,y:H.positionAbsolute.y+D};h&&(G.x=p[0]*Math.round(G.x/p[0]),G.y=p[1]*Math.round(G.y/p[1]));const{positionAbsolute:O,position:J}=Ap(H,G,l,a,void 0,g);H.position=J,H.positionAbsolute=O}return H});c($,!0,!1)},[])}const io={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ti=n=>{const o=({id:i,type:l,data:a,xPos:c,yPos:d,xPosOrigin:h,yPosOrigin:p,selected:g,onClick:m,onMouseEnter:v,onMouseMove:E,onMouseLeave:k,onContextMenu:A,onDoubleClick:j,style:D,className:$,isDraggable:H,isSelectable:G,isConnectable:O,isFocusable:J,selectNodesOnDrag:Q,sourcePosition:K,targetPosition:ne,hidden:q,resizeObserver:R,dragHandle:b,zIndex:B,isParent:Y,noDragClassName:S,noPanClassName:_,initialized:C,disableKeyboardA11y:z,ariaLabel:M,rfId:N,hasHandleBounds:T})=>{const w=Ke(),I=V.useRef(null),te=V.useRef(null),Z=V.useRef(K),oe=V.useRef(ne),re=V.useRef(l),ce=G||H||m||v||E||k,he=$p(),ve=ei(i,w.getState,v),Se=ei(i,w.getState,E),Le=ei(i,w.getState,k),We=ei(i,w.getState,A),et=ei(i,w.getState,j),tt=je=>{const{nodeDragThreshold:ye}=w.getState();if(G&&(!Q||!H||ye>0)&&Iu({id:i,store:w,nodeRef:I}),m){const Qe=w.getState().nodeInternals.get(i);Qe&&m(je,{...Qe})}},Fe=je=>{if(!Cu(je)&&!z)if(sp.includes(je.key)&&G){const ye=je.key==="Escape";Iu({id:i,store:w,unselect:ye,nodeRef:I})}else H&&g&&Object.prototype.hasOwnProperty.call(io,je.key)&&(w.setState({ariaLiveMessage:`Moved selected node ${je.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~c}, y: ${~~d}`}),he({x:io[je.key].x,y:io[je.key].y,isShiftPressed:je.shiftKey}))};V.useEffect(()=>()=>{te.current&&(R==null||R.unobserve(te.current),te.current=null)},[]),V.useEffect(()=>{if(I.current&&!q){const je=I.current;(!C||!T||te.current!==je)&&(te.current&&(R==null||R.unobserve(te.current)),R==null||R.observe(je),te.current=je)}},[q,C,T]),V.useEffect(()=>{const je=re.current!==l,ye=Z.current!==K,Qe=oe.current!==ne;I.current&&(je||ye||Qe)&&(je&&(re.current=l),ye&&(Z.current=K),Qe&&(oe.current=ne),w.getState().updateNodeDimensions([{id:i,nodeElement:I.current,forceUpdate:!0}]))},[i,l,K,ne]);const vt=Dp({nodeRef:I,disabled:q||!H,noDragClassName:S,handleSelector:b,nodeId:i,isSelectable:G,selectNodesOnDrag:Q});return q?null:ee.createElement("div",{className:ut(["react-flow__node",`react-flow__node-${l}`,{[_]:H},$,{selected:g,selectable:G,parent:Y,dragging:vt}]),ref:I,style:{zIndex:B,transform:`translate(${h}px,${p}px)`,pointerEvents:ce?"all":"none",visibility:C?"visible":"hidden",...D},"data-id":i,"data-testid":`rf__node-${i}`,onMouseEnter:ve,onMouseMove:Se,onMouseLeave:Le,onContextMenu:We,onClick:tt,onDoubleClick:et,onKeyDown:J?Fe:void 0,tabIndex:J?0:void 0,role:J?"button":void 0,"aria-describedby":z?void 0:`${Cp}-${N}`,"aria-label":M},ee.createElement(Wx,{value:i},ee.createElement(n,{id:i,data:a,type:l,xPos:c,yPos:d,selected:g,isConnectable:O,sourcePosition:K,targetPosition:ne,dragging:vt,dragHandle:b,zIndex:B})))};return o.displayName="NodeWrapper",V.memo(o)};const Rw=n=>{const o=n.getNodes().filter(i=>i.selected);return{...Wu(o,n.nodeOrigin),transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`,userSelectionActive:n.userSelectionActive}};function Aw({onSelectionContextMenu:n,noPanClassName:o,disableKeyboardA11y:i}){const l=Ke(),{width:a,height:c,x:d,y:h,transformString:p,userSelectionActive:g}=$e(Rw,st),m=$p(),v=V.useRef(null);if(V.useEffect(()=>{var A;i||(A=v.current)==null||A.focus({preventScroll:!0})},[i]),Dp({nodeRef:v}),g||!a||!c)return null;const E=n?A=>{const j=l.getState().getNodes().filter(D=>D.selected);n(A,j)}:void 0,k=A=>{Object.prototype.hasOwnProperty.call(io,A.key)&&m({x:io[A.key].x,y:io[A.key].y,isShiftPressed:A.shiftKey})};return ee.createElement("div",{className:ut(["react-flow__nodesselection","react-flow__container",o]),style:{transform:p}},ee.createElement("div",{ref:v,className:"react-flow__nodesselection-rect",onContextMenu:E,tabIndex:i?void 0:-1,onKeyDown:i?void 0:k,style:{width:a,height:c,top:h,left:d}}))}var Dw=V.memo(Aw);const $w=n=>n.nodesSelectionActive,Lp=({children:n,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,deleteKeyCode:h,onMove:p,onMoveStart:g,onMoveEnd:m,selectionKeyCode:v,selectionOnDrag:E,selectionMode:k,onSelectionStart:A,onSelectionEnd:j,multiSelectionKeyCode:D,panActivationKeyCode:$,zoomActivationKeyCode:H,elementsSelectable:G,zoomOnScroll:O,zoomOnPinch:J,panOnScroll:Q,panOnScrollSpeed:K,panOnScrollMode:ne,zoomOnDoubleClick:q,panOnDrag:R,defaultViewport:b,translateExtent:B,minZoom:Y,maxZoom:S,preventScrolling:_,onSelectionContextMenu:C,noWheelClassName:z,noPanClassName:M,disableKeyboardA11y:N})=>{const T=$e($w),w=fi(v),I=fi($),te=I||R,Z=I||Q,oe=w||E&&te!==!0;return Sw({deleteKeyCode:h,multiSelectionKeyCode:D}),ee.createElement(kw,{onMove:p,onMoveStart:g,onMoveEnd:m,onPaneContextMenu:c,elementsSelectable:G,zoomOnScroll:O,zoomOnPinch:J,panOnScroll:Z,panOnScrollSpeed:K,panOnScrollMode:ne,zoomOnDoubleClick:q,panOnDrag:!w&&te,defaultViewport:b,translateExtent:B,minZoom:Y,maxZoom:S,zoomActivationKeyCode:H,preventScrolling:_,noWheelClassName:z,noPanClassName:M},ee.createElement(zp,{onSelectionStart:A,onSelectionEnd:j,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,panOnDrag:te,isSelecting:!!oe,selectionMode:k},n,T&&ee.createElement(Dw,{onSelectionContextMenu:C,noPanClassName:M,disableKeyboardA11y:N})))};Lp.displayName="FlowRenderer";var Lw=V.memo(Lp);function Fw(n){return $e(V.useCallback(i=>n?hp(i.nodeInternals,{x:0,y:0,width:i.width,height:i.height},i.transform,!0):i.getNodes(),[n]))}function Ow(n){const o={input:ti(n.input||Ep),default:ti(n.default||Tu),output:ti(n.output||_p),group:ti(n.group||Xu)},i={},l=Object.keys(n).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,c)=>(a[c]=ti(n[c]||Tu),a),i);return{...o,...l}}const Hw=({x:n,y:o,width:i,height:l,origin:a})=>!i||!l?{x:n,y:o}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:n,y:o}:{x:n-i*a[0],y:o-l*a[1]},Vw=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,updateNodeDimensions:n.updateNodeDimensions,onError:n.onError}),Fp=n=>{const{nodesDraggable:o,nodesConnectable:i,nodesFocusable:l,elementsSelectable:a,updateNodeDimensions:c,onError:d}=$e(Vw,st),h=Fw(n.onlyRenderVisibleElements),p=V.useRef(),g=V.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const m=new ResizeObserver(v=>{const E=v.map(k=>({id:k.target.getAttribute("data-id"),nodeElement:k.target,forceUpdate:!0}));c(E)});return p.current=m,m},[]);return V.useEffect(()=>()=>{var m;(m=p==null?void 0:p.current)==null||m.disconnect()},[]),ee.createElement("div",{className:"react-flow__nodes",style:Ku},h.map(m=>{var J,Q,K;let v=m.type||"default";n.nodeTypes[v]||(d==null||d("003",zn.error003(v)),v="default");const E=n.nodeTypes[v]||n.nodeTypes.default,k=!!(m.draggable||o&&typeof m.draggable>"u"),A=!!(m.selectable||a&&typeof m.selectable>"u"),j=!!(m.connectable||i&&typeof m.connectable>"u"),D=!!(m.focusable||l&&typeof m.focusable>"u"),$=n.nodeExtent?Hu(m.positionAbsolute,n.nodeExtent):m.positionAbsolute,H=($==null?void 0:$.x)??0,G=($==null?void 0:$.y)??0,O=Hw({x:H,y:G,width:m.width??0,height:m.height??0,origin:n.nodeOrigin});return ee.createElement(E,{key:m.id,id:m.id,className:m.className,style:m.style,type:v,data:m.data,sourcePosition:m.sourcePosition||ge.Bottom,targetPosition:m.targetPosition||ge.Top,hidden:m.hidden,xPos:H,yPos:G,xPosOrigin:O.x,yPosOrigin:O.y,selectNodesOnDrag:n.selectNodesOnDrag,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,selected:!!m.selected,isDraggable:k,isSelectable:A,isConnectable:j,isFocusable:D,resizeObserver:g,dragHandle:m.dragHandle,zIndex:((J=m[Ve])==null?void 0:J.z)??0,isParent:!!((Q=m[Ve])!=null&&Q.isParent),noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,initialized:!!m.width&&!!m.height,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,ariaLabel:m.ariaLabel,hasHandleBounds:!!((K=m[Ve])!=null&&K.handleBounds)})}))};Fp.displayName="NodeRenderer";var Bw=V.memo(Fp);const qw=(n,o,i)=>i===ge.Left?n-o:i===ge.Right?n+o:n,bw=(n,o,i)=>i===ge.Top?n-o:i===ge.Bottom?n+o:n,gh="react-flow__edgeupdater",yh=({position:n,centerX:o,centerY:i,radius:l=10,onMouseDown:a,onMouseEnter:c,onMouseOut:d,type:h})=>ee.createElement("circle",{onMouseDown:a,onMouseEnter:c,onMouseOut:d,className:ut([gh,`${gh}-${h}`]),cx:qw(o,l,n),cy:bw(i,l,n),r:l,stroke:"transparent",fill:"transparent"}),Uw=()=>!0;var eo=n=>{const o=({id:i,className:l,type:a,data:c,onClick:d,onEdgeDoubleClick:h,selected:p,animated:g,label:m,labelStyle:v,labelShowBg:E,labelBgStyle:k,labelBgPadding:A,labelBgBorderRadius:j,style:D,source:$,target:H,sourceX:G,sourceY:O,targetX:J,targetY:Q,sourcePosition:K,targetPosition:ne,elementsSelectable:q,hidden:R,sourceHandleId:b,targetHandleId:B,onContextMenu:Y,onMouseEnter:S,onMouseMove:_,onMouseLeave:C,reconnectRadius:z,onReconnect:M,onReconnectStart:N,onReconnectEnd:T,markerEnd:w,markerStart:I,rfId:te,ariaLabel:Z,isFocusable:oe,isReconnectable:re,pathOptions:ce,interactionWidth:he,disableKeyboardA11y:ve})=>{const Se=V.useRef(null),[Le,We]=V.useState(!1),[et,tt]=V.useState(!1),Fe=Ke(),vt=V.useMemo(()=>`url('#${Pu(I,te)}')`,[I,te]),je=V.useMemo(()=>`url('#${Pu(w,te)}')`,[w,te]);if(R)return null;const ye=Oe=>{var ct;const{edges:wt,addSelectedEdges:en,unselectNodesAndEdges:tn,multiSelectionActive:mn}=Fe.getState(),St=wt.find(gn=>gn.id===i);St&&(q&&(Fe.setState({nodesSelectionActive:!1}),St.selected&&mn?(tn({nodes:[],edges:[St]}),(ct=Se.current)==null||ct.blur()):en([i])),d&&d(Oe,St))},Qe=Jo(i,Fe.getState,h),xt=Jo(i,Fe.getState,Y),jt=Jo(i,Fe.getState,S),Zt=Jo(i,Fe.getState,_),dn=Jo(i,Fe.getState,C),Pt=(Oe,wt)=>{if(Oe.button!==0)return;const{edges:en,isValidConnection:tn}=Fe.getState(),mn=wt?H:$,St=(wt?B:b)||null,ct=wt?"target":"source",gn=tn||Uw,rr=wt,yn=en.find(rn=>rn.id===i);tt(!0),N==null||N(Oe,yn,ct);const nn=rn=>{tt(!1),T==null||T(rn,yn,ct)};vp({event:Oe,handleId:St,nodeId:mn,onConnect:rn=>M==null?void 0:M(yn,rn),isTarget:rr,getState:Fe.getState,setState:Fe.setState,isValidConnection:gn,edgeUpdaterType:ct,onReconnectEnd:nn})},hn=Oe=>Pt(Oe,!0),Jt=Oe=>Pt(Oe,!1),Lt=()=>We(!0),Ft=()=>We(!1),pn=!q&&!d,Ot=Oe=>{var wt;if(!ve&&sp.includes(Oe.key)&&q){const{unselectNodesAndEdges:en,addSelectedEdges:tn,edges:mn}=Fe.getState();Oe.key==="Escape"?((wt=Se.current)==null||wt.blur(),en({edges:[mn.find(ct=>ct.id===i)]})):tn([i])}};return ee.createElement("g",{className:ut(["react-flow__edge",`react-flow__edge-${a}`,l,{selected:p,animated:g,inactive:pn,updating:Le}]),onClick:ye,onDoubleClick:Qe,onContextMenu:xt,onMouseEnter:jt,onMouseMove:Zt,onMouseLeave:dn,onKeyDown:oe?Ot:void 0,tabIndex:oe?0:void 0,role:oe?"button":"img","data-testid":`rf__edge-${i}`,"aria-label":Z===null?void 0:Z||`Edge from ${$} to ${H}`,"aria-describedby":oe?`${jp}-${te}`:void 0,ref:Se},!et&&ee.createElement(n,{id:i,source:$,target:H,selected:p,animated:g,label:m,labelStyle:v,labelShowBg:E,labelBgStyle:k,labelBgPadding:A,labelBgBorderRadius:j,data:c,style:D,sourceX:G,sourceY:O,targetX:J,targetY:Q,sourcePosition:K,targetPosition:ne,sourceHandleId:b,targetHandleId:B,markerStart:vt,markerEnd:je,pathOptions:ce,interactionWidth:he}),re&&ee.createElement(ee.Fragment,null,(re==="source"||re===!0)&&ee.createElement(yh,{position:K,centerX:G,centerY:O,radius:z,onMouseDown:hn,onMouseEnter:Lt,onMouseOut:Ft,type:"source"}),(re==="target"||re===!0)&&ee.createElement(yh,{position:ne,centerX:J,centerY:Q,radius:z,onMouseDown:Jt,onMouseEnter:Lt,onMouseOut:Ft,type:"target"})))};return o.displayName="EdgeWrapper",V.memo(o)};function Ww(n){const o={default:eo(n.default||ol),straight:eo(n.bezier||bu),step:eo(n.step||qu),smoothstep:eo(n.step||cl),simplebezier:eo(n.simplebezier||Bu)},i={},l=Object.keys(n).filter(a=>!["default","bezier"].includes(a)).reduce((a,c)=>(a[c]=eo(n[c]||ol),a),i);return{...o,...l}}function vh(n,o,i=null){const l=((i==null?void 0:i.x)||0)+o.x,a=((i==null?void 0:i.y)||0)+o.y,c=(i==null?void 0:i.width)||o.width,d=(i==null?void 0:i.height)||o.height;switch(n){case ge.Top:return{x:l+c/2,y:a};case ge.Right:return{x:l+c,y:a+d/2};case ge.Bottom:return{x:l+c/2,y:a+d};case ge.Left:return{x:l,y:a+d/2}}}function xh(n,o){return n?n.length===1||!o?n[0]:o&&n.find(i=>i.id===o)||null:null}const Yw=(n,o,i,l,a,c)=>{const d=vh(i,n,o),h=vh(c,l,a);return{sourceX:d.x,sourceY:d.y,targetX:h.x,targetY:h.y}};function Xw({sourcePos:n,targetPos:o,sourceWidth:i,sourceHeight:l,targetWidth:a,targetHeight:c,width:d,height:h,transform:p}){const g={x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x+i,o.x+a),y2:Math.max(n.y+l,o.y+c)};g.x===g.x2&&(g.x2+=1),g.y===g.y2&&(g.y2+=1);const m=Vu({x:(0-p[0])/p[2],y:(0-p[1])/p[2],width:d/p[2],height:h/p[2]}),v=Math.max(0,Math.min(m.x2,g.x2)-Math.max(m.x,g.x)),E=Math.max(0,Math.min(m.y2,g.y2)-Math.max(m.y,g.y));return Math.ceil(v*E)>0}function wh(n){var l,a,c,d,h;const o=((l=n==null?void 0:n[Ve])==null?void 0:l.handleBounds)||null,i=o&&(n==null?void 0:n.width)&&(n==null?void 0:n.height)&&typeof((a=n==null?void 0:n.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((c=n==null?void 0:n.positionAbsolute)==null?void 0:c.y)<"u";return[{x:((d=n==null?void 0:n.positionAbsolute)==null?void 0:d.x)||0,y:((h=n==null?void 0:n.positionAbsolute)==null?void 0:h.y)||0,width:(n==null?void 0:n.width)||0,height:(n==null?void 0:n.height)||0},o,!!i]}const Gw=[{level:0,isMaxLevel:!0,edges:[]}];function Kw(n,o,i=!1){let l=-1;const a=n.reduce((d,h)=>{var m,v;const p=$t(h.zIndex);let g=p?h.zIndex:0;if(i){const E=o.get(h.target),k=o.get(h.source),A=h.selected||(E==null?void 0:E.selected)||(k==null?void 0:k.selected),j=Math.max(((m=k==null?void 0:k[Ve])==null?void 0:m.z)||0,((v=E==null?void 0:E[Ve])==null?void 0:v.z)||0,1e3);g=(p?h.zIndex:0)+(A?j:0)}return d[g]?d[g].push(h):d[g]=[h],l=g>l?g:l,d},{}),c=Object.entries(a).map(([d,h])=>{const p=+d;return{edges:h,level:p,isMaxLevel:p===l}});return c.length===0?Gw:c}function Qw(n,o,i){const l=$e(V.useCallback(a=>n?a.edges.filter(c=>{const d=o.get(c.source),h=o.get(c.target);return(d==null?void 0:d.width)&&(d==null?void 0:d.height)&&(h==null?void 0:h.width)&&(h==null?void 0:h.height)&&Xw({sourcePos:d.positionAbsolute||{x:0,y:0},targetPos:h.positionAbsolute||{x:0,y:0},sourceWidth:d.width,sourceHeight:d.height,targetWidth:h.width,targetHeight:h.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[n,o]));return Kw(l,o,i)}const Zw=({color:n="none",strokeWidth:o=1})=>ee.createElement("polyline",{style:{stroke:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Jw=({color:n="none",strokeWidth:o=1})=>ee.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Sh={[uo.Arrow]:Zw,[uo.ArrowClosed]:Jw};function e1(n){const o=Ke();return V.useMemo(()=>{var a,c;return Object.prototype.hasOwnProperty.call(Sh,n)?Sh[n]:((c=(a=o.getState()).onError)==null||c.call(a,"009",zn.error009(n)),null)},[n])}const t1=({id:n,type:o,color:i,width:l=12.5,height:a=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:h="auto-start-reverse"})=>{const p=e1(o);return p?ee.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${l}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:h,refX:"0",refY:"0"},ee.createElement(p,{color:i,strokeWidth:d})):null},n1=({defaultColor:n,rfId:o})=>i=>{const l=[];return i.edges.reduce((a,c)=>([c.markerStart,c.markerEnd].forEach(d=>{if(d&&typeof d=="object"){const h=Pu(d,o);l.includes(h)||(a.push({id:h,color:d.color||n,...d}),l.push(h))}}),a),[]).sort((a,c)=>a.id.localeCompare(c.id))},Op=({defaultColor:n,rfId:o})=>{const i=$e(V.useCallback(n1({defaultColor:n,rfId:o}),[n,o]),(l,a)=>!(l.length!==a.length||l.some((c,d)=>c.id!==a[d].id)));return ee.createElement("defs",null,i.map(l=>ee.createElement(t1,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient})))};Op.displayName="MarkerDefinitions";var r1=V.memo(Op);const o1=n=>({nodesConnectable:n.nodesConnectable,edgesFocusable:n.edgesFocusable,edgesUpdatable:n.edgesUpdatable,elementsSelectable:n.elementsSelectable,width:n.width,height:n.height,connectionMode:n.connectionMode,nodeInternals:n.nodeInternals,onError:n.onError}),Hp=({defaultMarkerColor:n,onlyRenderVisibleElements:o,elevateEdgesOnSelect:i,rfId:l,edgeTypes:a,noPanClassName:c,onEdgeContextMenu:d,onEdgeMouseEnter:h,onEdgeMouseMove:p,onEdgeMouseLeave:g,onEdgeClick:m,onEdgeDoubleClick:v,onReconnect:E,onReconnectStart:k,onReconnectEnd:A,reconnectRadius:j,children:D,disableKeyboardA11y:$})=>{const{edgesFocusable:H,edgesUpdatable:G,elementsSelectable:O,width:J,height:Q,connectionMode:K,nodeInternals:ne,onError:q}=$e(o1,st),R=Qw(o,ne,i);return J?ee.createElement(ee.Fragment,null,R.map(({level:b,edges:B,isMaxLevel:Y})=>ee.createElement("svg",{key:b,style:{zIndex:b},width:J,height:Q,className:"react-flow__edges react-flow__container"},Y&&ee.createElement(r1,{defaultColor:n,rfId:l}),ee.createElement("g",null,B.map(S=>{const[_,C,z]=wh(ne.get(S.source)),[M,N,T]=wh(ne.get(S.target));if(!z||!T)return null;let w=S.type||"default";a[w]||(q==null||q("011",zn.error011(w)),w="default");const I=a[w]||a.default,te=K===_r.Strict?N.target:(N.target??[]).concat(N.source??[]),Z=xh(C.source,S.sourceHandle),oe=xh(te,S.targetHandle),re=(Z==null?void 0:Z.position)||ge.Bottom,ce=(oe==null?void 0:oe.position)||ge.Top,he=!!(S.focusable||H&&typeof S.focusable>"u"),ve=S.reconnectable||S.updatable,Se=typeof E<"u"&&(ve||G&&typeof ve>"u");if(!Z||!oe)return q==null||q("008",zn.error008(Z,S)),null;const{sourceX:Le,sourceY:We,targetX:et,targetY:tt}=Yw(_,Z,re,M,oe,ce);return ee.createElement(I,{key:S.id,id:S.id,className:ut([S.className,c]),type:w,data:S.data,selected:!!S.selected,animated:!!S.animated,hidden:!!S.hidden,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,style:S.style,source:S.source,target:S.target,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerEnd:S.markerEnd,markerStart:S.markerStart,sourceX:Le,sourceY:We,targetX:et,targetY:tt,sourcePosition:re,targetPosition:ce,elementsSelectable:O,onContextMenu:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:g,onClick:m,onEdgeDoubleClick:v,onReconnect:E,onReconnectStart:k,onReconnectEnd:A,reconnectRadius:j,rfId:l,ariaLabel:S.ariaLabel,isFocusable:he,isReconnectable:Se,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth,disableKeyboardA11y:$})})))),D):null};Hp.displayName="EdgeRenderer";var i1=V.memo(Hp);const s1=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function l1({children:n}){const o=$e(s1);return ee.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:o}},n)}function a1(n){const o=Gu(),i=V.useRef(!1);V.useEffect(()=>{!i.current&&o.viewportInitialized&&n&&(setTimeout(()=>n(o),1),i.current=!0)},[n,o.viewportInitialized])}const u1={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top},Vp=({nodeId:n,handleType:o,style:i,type:l=Mn.Bezier,CustomComponent:a,connectionStatus:c})=>{var Q,K,ne;const{fromNode:d,handleId:h,toX:p,toY:g,connectionMode:m}=$e(V.useCallback(q=>({fromNode:q.nodeInternals.get(n),handleId:q.connectionHandleId,toX:(q.connectionPosition.x-q.transform[0])/q.transform[2],toY:(q.connectionPosition.y-q.transform[1])/q.transform[2],connectionMode:q.connectionMode}),[n]),st),v=(Q=d==null?void 0:d[Ve])==null?void 0:Q.handleBounds;let E=v==null?void 0:v[o];if(m===_r.Loose&&(E=E||(v==null?void 0:v[o==="source"?"target":"source"])),!d||!E)return null;const k=h?E.find(q=>q.id===h):E[0],A=k?k.x+k.width/2:(d.width??0)/2,j=k?k.y+k.height/2:d.height??0,D=(((K=d.positionAbsolute)==null?void 0:K.x)??0)+A,$=(((ne=d.positionAbsolute)==null?void 0:ne.y)??0)+j,H=k==null?void 0:k.position,G=H?u1[H]:null;if(!H||!G)return null;if(a)return ee.createElement(a,{connectionLineType:l,connectionLineStyle:i,fromNode:d,fromHandle:k,fromX:D,fromY:$,toX:p,toY:g,fromPosition:H,toPosition:G,connectionStatus:c});let O="";const J={sourceX:D,sourceY:$,sourcePosition:H,targetX:p,targetY:g,targetPosition:G};return l===Mn.Bezier?[O]=fp(J):l===Mn.Step?[O]=ju({...J,borderRadius:0}):l===Mn.SmoothStep?[O]=ju(J):l===Mn.SimpleBezier?[O]=cp(J):O=`M${D},${$} ${p},${g}`,ee.createElement("path",{d:O,fill:"none",className:"react-flow__connection-path",style:i})};Vp.displayName="ConnectionLine";const c1=n=>({nodeId:n.connectionNodeId,handleType:n.connectionHandleType,nodesConnectable:n.nodesConnectable,connectionStatus:n.connectionStatus,width:n.width,height:n.height});function f1({containerStyle:n,style:o,type:i,component:l}){const{nodeId:a,handleType:c,nodesConnectable:d,width:h,height:p,connectionStatus:g}=$e(c1,st);return!(a&&c&&h&&d)?null:ee.createElement("svg",{style:n,width:h,height:p,className:"react-flow__edges react-flow__connectionline react-flow__container"},ee.createElement("g",{className:ut(["react-flow__connection",g])},ee.createElement(Vp,{nodeId:a,handleType:c,style:o,type:i,CustomComponent:l,connectionStatus:g})))}function Eh(n,o){return V.useRef(null),Ke(),V.useMemo(()=>o(n),[n])}const Bp=({nodeTypes:n,edgeTypes:o,onMove:i,onMoveStart:l,onMoveEnd:a,onInit:c,onNodeClick:d,onEdgeClick:h,onNodeDoubleClick:p,onEdgeDoubleClick:g,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:E,onNodeContextMenu:k,onSelectionContextMenu:A,onSelectionStart:j,onSelectionEnd:D,connectionLineType:$,connectionLineStyle:H,connectionLineComponent:G,connectionLineContainerStyle:O,selectionKeyCode:J,selectionOnDrag:Q,selectionMode:K,multiSelectionKeyCode:ne,panActivationKeyCode:q,zoomActivationKeyCode:R,deleteKeyCode:b,onlyRenderVisibleElements:B,elementsSelectable:Y,selectNodesOnDrag:S,defaultViewport:_,translateExtent:C,minZoom:z,maxZoom:M,preventScrolling:N,defaultMarkerColor:T,zoomOnScroll:w,zoomOnPinch:I,panOnScroll:te,panOnScrollSpeed:Z,panOnScrollMode:oe,zoomOnDoubleClick:re,panOnDrag:ce,onPaneClick:he,onPaneMouseEnter:ve,onPaneMouseMove:Se,onPaneMouseLeave:Le,onPaneScroll:We,onPaneContextMenu:et,onEdgeContextMenu:tt,onEdgeMouseEnter:Fe,onEdgeMouseMove:vt,onEdgeMouseLeave:je,onReconnect:ye,onReconnectStart:Qe,onReconnectEnd:xt,reconnectRadius:jt,noDragClassName:Zt,noWheelClassName:dn,noPanClassName:Pt,elevateEdgesOnSelect:hn,disableKeyboardA11y:Jt,nodeOrigin:Lt,nodeExtent:Ft,rfId:pn})=>{const Ot=Eh(n,Ow),Oe=Eh(o,Ww);return a1(c),ee.createElement(Lw,{onPaneClick:he,onPaneMouseEnter:ve,onPaneMouseMove:Se,onPaneMouseLeave:Le,onPaneContextMenu:et,onPaneScroll:We,deleteKeyCode:b,selectionKeyCode:J,selectionOnDrag:Q,selectionMode:K,onSelectionStart:j,onSelectionEnd:D,multiSelectionKeyCode:ne,panActivationKeyCode:q,zoomActivationKeyCode:R,elementsSelectable:Y,onMove:i,onMoveStart:l,onMoveEnd:a,zoomOnScroll:w,zoomOnPinch:I,zoomOnDoubleClick:re,panOnScroll:te,panOnScrollSpeed:Z,panOnScrollMode:oe,panOnDrag:ce,defaultViewport:_,translateExtent:C,minZoom:z,maxZoom:M,onSelectionContextMenu:A,preventScrolling:N,noDragClassName:Zt,noWheelClassName:dn,noPanClassName:Pt,disableKeyboardA11y:Jt},ee.createElement(l1,null,ee.createElement(i1,{edgeTypes:Oe,onEdgeClick:h,onEdgeDoubleClick:g,onlyRenderVisibleElements:B,onEdgeContextMenu:tt,onEdgeMouseEnter:Fe,onEdgeMouseMove:vt,onEdgeMouseLeave:je,onReconnect:ye,onReconnectStart:Qe,onReconnectEnd:xt,reconnectRadius:jt,defaultMarkerColor:T,noPanClassName:Pt,elevateEdgesOnSelect:!!hn,disableKeyboardA11y:Jt,rfId:pn},ee.createElement(f1,{style:H,type:$,component:G,containerStyle:O})),ee.createElement("div",{className:"react-flow__edgelabel-renderer"}),ee.createElement(Bw,{nodeTypes:Ot,onNodeClick:d,onNodeDoubleClick:p,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:E,onNodeContextMenu:k,selectNodesOnDrag:S,onlyRenderVisibleElements:B,noPanClassName:Pt,noDragClassName:Zt,disableKeyboardA11y:Jt,nodeOrigin:Lt,nodeExtent:Ft,rfId:pn})))};Bp.displayName="GraphView";var d1=V.memo(Bp);const zu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Zn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:zu,nodeExtent:zu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:_r.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Hx,isValidConnection:void 0},h1=()=>Kg((n,o)=>({...Zn,setNodes:i=>{const{nodeInternals:l,nodeOrigin:a,elevateNodesOnSelect:c}=o();n({nodeInternals:cu(i,l,a,c)})},getNodes:()=>Array.from(o().nodeInternals.values()),setEdges:i=>{const{defaultEdgeOptions:l={}}=o();n({edges:i.map(a=>({...l,...a}))})},setDefaultNodesAndEdges:(i,l)=>{const a=typeof i<"u",c=typeof l<"u",d=a?cu(i,new Map,o().nodeOrigin,o().elevateNodesOnSelect):new Map;n({nodeInternals:d,edges:c?l:[],hasDefaultNodes:a,hasDefaultEdges:c})},updateNodeDimensions:i=>{const{onNodesChange:l,nodeInternals:a,fitViewOnInit:c,fitViewOnInitDone:d,fitViewOnInitOptions:h,domNode:p,nodeOrigin:g}=o(),m=p==null?void 0:p.querySelector(".react-flow__viewport");if(!m)return;const v=window.getComputedStyle(m),{m22:E}=new window.DOMMatrixReadOnly(v.transform),k=i.reduce((j,D)=>{const $=a.get(D.id);if($!=null&&$.hidden)a.set($.id,{...$,[Ve]:{...$[Ve],handleBounds:void 0}});else if($){const H=Ou(D.nodeElement);!!(H.width&&H.height&&($.width!==H.width||$.height!==H.height||D.forceUpdate))&&(a.set($.id,{...$,[Ve]:{...$[Ve],handleBounds:{source:mh(".source",D.nodeElement,E,g),target:mh(".target",D.nodeElement,E,g)}},...H}),j.push({id:$.id,type:"dimensions",dimensions:H}))}return j},[]);Mp(a,g);const A=d||c&&!d&&Tp(o,{initial:!0,...h});n({nodeInternals:new Map(a),fitViewOnInitDone:A}),(k==null?void 0:k.length)>0&&(l==null||l(k))},updateNodePositions:(i,l=!0,a=!1)=>{const{triggerNodeChanges:c}=o(),d=i.map(h=>{const p={id:h.id,type:"position",dragging:a};return l&&(p.positionAbsolute=h.positionAbsolute,p.position=h.position),p});c(d)},triggerNodeChanges:i=>{const{onNodesChange:l,nodeInternals:a,hasDefaultNodes:c,nodeOrigin:d,getNodes:h,elevateNodesOnSelect:p}=o();if(i!=null&&i.length){if(c){const g=Ip(i,h()),m=cu(g,a,d,p);n({nodeInternals:m})}l==null||l(i)}},addSelectedNodes:i=>{const{multiSelectionActive:l,edges:a,getNodes:c}=o();let d,h=null;l?d=i.map(p=>er(p,!0)):(d=to(c(),i),h=to(a,[])),qs({changedNodes:d,changedEdges:h,get:o,set:n})},addSelectedEdges:i=>{const{multiSelectionActive:l,edges:a,getNodes:c}=o();let d,h=null;l?d=i.map(p=>er(p,!0)):(d=to(a,i),h=to(c(),[])),qs({changedNodes:h,changedEdges:d,get:o,set:n})},unselectNodesAndEdges:({nodes:i,edges:l}={})=>{const{edges:a,getNodes:c}=o(),d=i||c(),h=l||a,p=d.map(m=>(m.selected=!1,er(m.id,!1))),g=h.map(m=>er(m.id,!1));qs({changedNodes:p,changedEdges:g,get:o,set:n})},setMinZoom:i=>{const{d3Zoom:l,maxZoom:a}=o();l==null||l.scaleExtent([i,a]),n({minZoom:i})},setMaxZoom:i=>{const{d3Zoom:l,minZoom:a}=o();l==null||l.scaleExtent([a,i]),n({maxZoom:i})},setTranslateExtent:i=>{var l;(l=o().d3Zoom)==null||l.translateExtent(i),n({translateExtent:i})},resetSelectedElements:()=>{const{edges:i,getNodes:l}=o(),c=l().filter(h=>h.selected).map(h=>er(h.id,!1)),d=i.filter(h=>h.selected).map(h=>er(h.id,!1));qs({changedNodes:c,changedEdges:d,get:o,set:n})},setNodeExtent:i=>{const{nodeInternals:l}=o();l.forEach(a=>{a.positionAbsolute=Hu(a.position,i)}),n({nodeExtent:i,nodeInternals:new Map(l)})},panBy:i=>{const{transform:l,width:a,height:c,d3Zoom:d,d3Selection:h,translateExtent:p}=o();if(!d||!h||!i.x&&!i.y)return!1;const g=tr.translate(l[0]+i.x,l[1]+i.y).scale(l[2]),m=[[0,0],[a,c]],v=d==null?void 0:d.constrain()(g,m,p);return d.transform(h,v),l[0]!==v.x||l[1]!==v.y||l[2]!==v.k},cancelConnection:()=>n({connectionNodeId:Zn.connectionNodeId,connectionHandleId:Zn.connectionHandleId,connectionHandleType:Zn.connectionHandleType,connectionStatus:Zn.connectionStatus,connectionStartHandle:Zn.connectionStartHandle,connectionEndHandle:Zn.connectionEndHandle}),reset:()=>n({...Zn})}),Object.is),qp=({children:n})=>{const o=V.useRef(null);return o.current||(o.current=h1()),ee.createElement(zx,{value:o.current},n)};qp.displayName="ReactFlowProvider";const bp=({children:n})=>V.useContext(ul)?ee.createElement(ee.Fragment,null,n):ee.createElement(qp,null,n);bp.displayName="ReactFlowWrapper";const p1={input:Ep,default:Tu,output:_p,group:Xu},m1={default:ol,straight:bu,step:qu,smoothstep:cl,simplebezier:Bu},g1=[0,0],y1=[15,15],v1={x:0,y:0,zoom:1},x1={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Up=V.forwardRef(({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,className:a,nodeTypes:c=p1,edgeTypes:d=m1,onNodeClick:h,onEdgeClick:p,onInit:g,onMove:m,onMoveStart:v,onMoveEnd:E,onConnect:k,onConnectStart:A,onConnectEnd:j,onClickConnectStart:D,onClickConnectEnd:$,onNodeMouseEnter:H,onNodeMouseMove:G,onNodeMouseLeave:O,onNodeContextMenu:J,onNodeDoubleClick:Q,onNodeDragStart:K,onNodeDrag:ne,onNodeDragStop:q,onNodesDelete:R,onEdgesDelete:b,onSelectionChange:B,onSelectionDragStart:Y,onSelectionDrag:S,onSelectionDragStop:_,onSelectionContextMenu:C,onSelectionStart:z,onSelectionEnd:M,connectionMode:N=_r.Strict,connectionLineType:T=Mn.Bezier,connectionLineStyle:w,connectionLineComponent:I,connectionLineContainerStyle:te,deleteKeyCode:Z="Backspace",selectionKeyCode:oe="Shift",selectionOnDrag:re=!1,selectionMode:ce=ci.Full,panActivationKeyCode:he="Space",multiSelectionKeyCode:ve=rl()?"Meta":"Control",zoomActivationKeyCode:Se=rl()?"Meta":"Control",snapToGrid:Le=!1,snapGrid:We=y1,onlyRenderVisibleElements:et=!1,selectNodesOnDrag:tt=!0,nodesDraggable:Fe,nodesConnectable:vt,nodesFocusable:je,nodeOrigin:ye=g1,edgesFocusable:Qe,edgesUpdatable:xt,elementsSelectable:jt,defaultViewport:Zt=v1,minZoom:dn=.5,maxZoom:Pt=2,translateExtent:hn=zu,preventScrolling:Jt=!0,nodeExtent:Lt,defaultMarkerColor:Ft="#b1b1b7",zoomOnScroll:pn=!0,zoomOnPinch:Ot=!0,panOnScroll:Oe=!1,panOnScrollSpeed:wt=.5,panOnScrollMode:en=Sr.Free,zoomOnDoubleClick:tn=!0,panOnDrag:mn=!0,onPaneClick:St,onPaneMouseEnter:ct,onPaneMouseMove:gn,onPaneMouseLeave:rr,onPaneScroll:yn,onPaneContextMenu:nn,children:vn,onEdgeContextMenu:rn,onEdgeDoubleClick:yi,onEdgeMouseEnter:vi,onEdgeMouseMove:xi,onEdgeMouseLeave:wi,onEdgeUpdate:fo,onEdgeUpdateStart:Si,onEdgeUpdateEnd:or,onReconnect:ho,onReconnectStart:ir,onReconnectEnd:fl,reconnectRadius:sr=10,edgeUpdaterRadius:kr=10,onNodesChange:Cr,onEdgesChange:po,noDragClassName:dl="nodrag",noWheelClassName:hl="nowheel",noPanClassName:Ei="nopan",fitView:xn=!1,fitViewOptions:Ni,connectOnClick:_i=!0,attributionPosition:pl,proOptions:ki,defaultEdgeOptions:Ci,elevateNodesOnSelect:ji=!0,elevateEdgesOnSelect:Pi=!1,disableKeyboardA11y:Mi=!1,autoPanOnConnect:ml=!0,autoPanOnNodeDrag:Re=!0,connectionRadius:gl=20,isValidConnection:mo,onError:Ti,style:jr,id:Ii,nodeDragThreshold:zi,...Pr},Mt)=>{const go=Ii||"1";return ee.createElement("div",{...Pr,style:{...jr,...x1},ref:Mt,className:ut(["react-flow",a]),"data-testid":"rf__wrapper",id:Ii},ee.createElement(bp,null,ee.createElement(d1,{onInit:g,onMove:m,onMoveStart:v,onMoveEnd:E,onNodeClick:h,onEdgeClick:p,onNodeMouseEnter:H,onNodeMouseMove:G,onNodeMouseLeave:O,onNodeContextMenu:J,onNodeDoubleClick:Q,nodeTypes:c,edgeTypes:d,connectionLineType:T,connectionLineStyle:w,connectionLineComponent:I,connectionLineContainerStyle:te,selectionKeyCode:oe,selectionOnDrag:re,selectionMode:ce,deleteKeyCode:Z,multiSelectionKeyCode:ve,panActivationKeyCode:he,zoomActivationKeyCode:Se,onlyRenderVisibleElements:et,selectNodesOnDrag:tt,defaultViewport:Zt,translateExtent:hn,minZoom:dn,maxZoom:Pt,preventScrolling:Jt,zoomOnScroll:pn,zoomOnPinch:Ot,zoomOnDoubleClick:tn,panOnScroll:Oe,panOnScrollSpeed:wt,panOnScrollMode:en,panOnDrag:mn,onPaneClick:St,onPaneMouseEnter:ct,onPaneMouseMove:gn,onPaneMouseLeave:rr,onPaneScroll:yn,onPaneContextMenu:nn,onSelectionContextMenu:C,onSelectionStart:z,onSelectionEnd:M,onEdgeContextMenu:rn,onEdgeDoubleClick:yi,onEdgeMouseEnter:vi,onEdgeMouseMove:xi,onEdgeMouseLeave:wi,onReconnect:ho??fo,onReconnectStart:ir??Si,onReconnectEnd:fl??or,reconnectRadius:sr??kr,defaultMarkerColor:Ft,noDragClassName:dl,noWheelClassName:hl,noPanClassName:Ei,elevateEdgesOnSelect:Pi,rfId:go,disableKeyboardA11y:Mi,nodeOrigin:ye,nodeExtent:Lt}),ee.createElement(uw,{nodes:n,edges:o,defaultNodes:i,defaultEdges:l,onConnect:k,onConnectStart:A,onConnectEnd:j,onClickConnectStart:D,onClickConnectEnd:$,nodesDraggable:Fe,nodesConnectable:vt,nodesFocusable:je,edgesFocusable:Qe,edgesUpdatable:xt,elementsSelectable:jt,elevateNodesOnSelect:ji,minZoom:dn,maxZoom:Pt,nodeExtent:Lt,onNodesChange:Cr,onEdgesChange:po,snapToGrid:Le,snapGrid:We,connectionMode:N,translateExtent:hn,connectOnClick:_i,defaultEdgeOptions:Ci,fitView:xn,fitViewOptions:Ni,onNodesDelete:R,onEdgesDelete:b,onNodeDragStart:K,onNodeDrag:ne,onNodeDragStop:q,onSelectionDrag:S,onSelectionDragStart:Y,onSelectionDragStop:_,noPanClassName:Ei,nodeOrigin:ye,rfId:go,autoPanOnConnect:ml,autoPanOnNodeDrag:Re,onError:Ti,connectionRadius:gl,isValidConnection:mo,nodeDragThreshold:zi}),ee.createElement(lw,{onSelectionChange:B}),vn,ee.createElement(Ax,{proOptions:ki,position:pl}),ee.createElement(pw,{rfId:go,disableKeyboardA11y:Mi})))});Up.displayName="ReactFlow";function w1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ee.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function S1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ee.createElement("path",{d:"M0 0h32v4.2H0z"}))}function E1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ee.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function N1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ee.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function _1(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ee.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const oi=({children:n,className:o,...i})=>ee.createElement("button",{type:"button",className:ut(["react-flow__controls-button",o]),...i},n);oi.displayName="ControlButton";const k1=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom}),Wp=({style:n,showZoom:o=!0,showFitView:i=!0,showInteractive:l=!0,fitViewOptions:a,onZoomIn:c,onZoomOut:d,onFitView:h,onInteractiveChange:p,className:g,children:m,position:v="bottom-left"})=>{const E=Ke(),[k,A]=V.useState(!1),{isInteractive:j,minZoomReached:D,maxZoomReached:$}=$e(k1,st),{zoomIn:H,zoomOut:G,fitView:O}=Gu();if(V.useEffect(()=>{A(!0)},[]),!k)return null;const J=()=>{H(),c==null||c()},Q=()=>{G(),d==null||d()},K=()=>{O(a),h==null||h()},ne=()=>{E.setState({nodesDraggable:!j,nodesConnectable:!j,elementsSelectable:!j}),p==null||p(!j)};return ee.createElement(rp,{className:ut(["react-flow__controls",g]),position:v,style:n,"data-testid":"rf__controls"},o&&ee.createElement(ee.Fragment,null,ee.createElement(oi,{onClick:J,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:$},ee.createElement(w1,null)),ee.createElement(oi,{onClick:Q,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:D},ee.createElement(S1,null))),i&&ee.createElement(oi,{className:"react-flow__controls-fitview",onClick:K,title:"fit view","aria-label":"fit view"},ee.createElement(E1,null)),l&&ee.createElement(oi,{className:"react-flow__controls-interactive",onClick:ne,title:"toggle interactivity","aria-label":"toggle interactivity"},j?ee.createElement(_1,null):ee.createElement(N1,null)),m)};Wp.displayName="Controls";var C1=V.memo(Wp),Kt;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(Kt||(Kt={}));function j1({color:n,dimensions:o,lineWidth:i}){return ee.createElement("path",{stroke:n,strokeWidth:i,d:`M${o[0]/2} 0 V${o[1]} M0 ${o[1]/2} H${o[0]}`})}function P1({color:n,radius:o}){return ee.createElement("circle",{cx:o,cy:o,r:o,fill:n})}const M1={[Kt.Dots]:"#91919a",[Kt.Lines]:"#eee",[Kt.Cross]:"#e2e2e2"},T1={[Kt.Dots]:1,[Kt.Lines]:1,[Kt.Cross]:6},I1=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function Yp({id:n,variant:o=Kt.Dots,gap:i=20,size:l,lineWidth:a=1,offset:c=2,color:d,style:h,className:p}){const g=V.useRef(null),{transform:m,patternId:v}=$e(I1,st),E=d||M1[o],k=l||T1[o],A=o===Kt.Dots,j=o===Kt.Cross,D=Array.isArray(i)?i:[i,i],$=[D[0]*m[2]||1,D[1]*m[2]||1],H=k*m[2],G=j?[H,H]:$,O=A?[H/c,H/c]:[G[0]/c,G[1]/c];return ee.createElement("svg",{className:ut(["react-flow__background",p]),style:{...h,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:g,"data-testid":"rf__background"},ee.createElement("pattern",{id:v+n,x:m[0]%$[0],y:m[1]%$[1],width:$[0],height:$[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${O[0]},-${O[1]})`},A?ee.createElement(P1,{color:E,radius:H/c}):ee.createElement(j1,{dimensions:G,color:E,lineWidth:a})),ee.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${v+n})`}))}Yp.displayName="Background";var z1=V.memo(Yp);const R1=({onFormat:n})=>{const[o,i]=V.useState(!1),l=[{label:"B",format:"b",title:"Bold"},{label:"I",format:"i",title:"Italic"},{label:"~",format:"s",title:"Strikethrough"}],a={"Text Colors":["black","white","gray","silver","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua"],"Extended Colors":["darkred","crimson","tomato","coral","indianred","lightcoral","darkorange","orange","darkgreen","forestgreen","seagreen","darkseagreen","darkcyan","lightseagreen","darkturquoise","turquoise","darkblue","mediumblue","royalblue","cornflowerblue","darkviolet","blueviolet","darkorchid","mediumorchid"]};return x.jsxs("div",{className:"text-format-toolbar",children:[l.map(({label:c,format:d,title:h})=>x.jsx("button",{onClick:()=>n(d),title:h,className:"format-button",children:c},d)),x.jsx("div",{className:"format-divider"}),x.jsxs("div",{className:"color-picker-container",children:[x.jsxs("button",{onClick:()=>i(!o),className:"format-button color-picker-button",title:"Text Color",children:[x.jsx("span",{className:"color-icon",children:"A"}),x.jsx("span",{className:"color-dropdown-arrow",children:"â–¼"})]}),o&&x.jsx("div",{className:"color-picker-dropdown",children:Object.entries(a).map(([c,d])=>x.jsxs("div",{className:"color-category",children:[x.jsx("div",{className:"color-category-label",children:c}),x.jsx("div",{className:"color-grid",children:d.map(h=>x.jsx("button",{onClick:()=>{n("color",h),i(!1)},className:"color-option",style:{backgroundColor:h},title:h.charAt(0).toUpperCase()+h.slice(1)},h))})]},c))})]})]})},A1=(n,o,i,l,a)=>{const c=n.slice(o,i),d=n.slice(0,o),h=n.slice(i);if(l==="color"&&a){const v=`[color=${a}]`,E="[/color]";return o===i?{text:`${d}${v}${E}${h}`,newCursorPos:o+v.length}:{text:`${d}${v}${c}${E}${h}`,newCursorPos:i+v.length+E.length}}const p=`[${l}]`,g=`[/${l}]`;return o===i?{text:`${d}${p}${g}${h}`,newCursorPos:o+p.length}:{text:`${d}${p}${c}${g}${h}`,newCursorPos:i+p.length+g.length}},Qu=({value:n,onChange:o,placeholder:i,className:l=""})=>{const a=V.useRef(null),[c,d]=ee.useState(n);V.useEffect(()=>{d(n)},[n]);const h=(g,m)=>{const v=a.current;if(!v)return;const{selectionStart:E,selectionEnd:k}=v,{text:A,newCursorPos:j}=A1(c,E,k,g,m);d(A),o(A),setTimeout(()=>{v.focus(),v.setSelectionRange(j,j)},0)},p=g=>{const m=g.target.value;d(m),console.log("TextInput handleChange:",m),o(m)};return x.jsxs("div",{className:"text-input-with-toolbar",children:[x.jsx(R1,{onFormat:h}),x.jsx("textarea",{ref:a,value:c,onChange:p,placeholder:i,className:`text-input ${l}`})]})},D1=({node:n,onUpdate:o})=>{const i=l=>{const a={...n,text:l};console.log("NodeInspector handleTextChange - after:",a),o(a)};return x.jsxs("div",{className:"inspector-content",children:[x.jsx("h3",{className:"inspector-title",children:"Node Settings"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Speaker:"}),x.jsx("input",{type:"text",value:n.speaker,onChange:l=>o({...n,speaker:l.target.value}),placeholder:"Who is speaking..."})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Default Text:"}),x.jsx(Qu,{value:n.text,onChange:i,placeholder:"Enter node text...",className:"node-text-input"}),x.jsxs("div",{className:"help-text",children:["Supports BBCode formatting: [b]bold[/b], [i]italic[/i], [s]strikethrough[/s], [color=red]colors[/color], and variables using ","{","$$variable_name","}"]})]})]})},Yt=({value:n,onChange:o,onEnter:i,suggestions:l=[],placeholder:a,className:c})=>{const[d,h]=V.useState(!1),[p,g]=V.useState(-1),m=V.useRef(null),v=V.useRef(null),E=V.useMemo(()=>n?l.filter(A=>A.toLowerCase().includes(n.toLowerCase())):l,[n,l]),k=A=>{A.key==="ArrowDown"?(A.preventDefault(),g(j=>Math.min(j+1,E.length-1))):A.key==="ArrowUp"?(A.preventDefault(),g(j=>Math.max(j-1,-1))):A.key==="Enter"&&i?(A.preventDefault(),i(n)):A.key==="Escape"&&h(!1)};return V.useEffect(()=>{const A=j=>{m.current&&!m.current.contains(j.target)&&v.current&&!v.current.contains(j.target)&&h(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),x.jsxs("div",{className:"autocomplete-container",children:[x.jsx("input",{ref:m,type:"text",value:n,onChange:A=>{o(A.target.value),h(!0)},onFocus:()=>h(!0),onKeyDown:k,placeholder:a,className:c}),d&&E.length>0&&x.jsx("div",{ref:v,className:"suggestions-list",children:E.map((A,j)=>x.jsx("div",{className:`suggestion-item ${j===p?"focused":""}`,onClick:()=>{o(A),h(!1)},onMouseEnter:()=>g(j),children:A},A))})]})},$1=({choice:n,onUpdate:o,availableNodes:i,onCreateNode:l,existingFlags:a,existingStateKeys:c})=>{var H,G,O,J,Q,K,ne;const[d,h]=ee.useState(""),[p,g]=ee.useState(""),m=q=>{o({...n,text:q})},v=q=>{o({...n,nextNodeId:q})},E=(q,R=!1,b)=>{var B;q&&(i.includes(q)?o(R&&b!==void 0?{...n,alternateDestinations:(B=n.alternateDestinations)==null?void 0:B.map((Y,S)=>S===b?{...Y,nextNodeId:q}:Y)}:{...n,nextNodeId:q}):l==null||l(q))},k=()=>{o({...n,alternateDestinations:[...n.alternateDestinations||[],{nextNodeId:"",prerequisites:{requiredFlags:[],blockedFlags:[],stateConditions:[]}}]})},A=(q,R,b)=>{const B=[...n.stateChanges||[]];for(;B.length<=q;)B.push({key:"",value:0});B[q]={...B[q],[R]:b},console.log("Updating state changes:",B);const Y={...n,stateChanges:B};o(Y)},j=(q,R)=>{if(!o)return;const b={...n.flagChanges,[q]:R};o({...n,flagChanges:b})},D=q=>{var b;if(!q)return;const R=((b=n.flagChanges)==null?void 0:b.add)||[];j("add",[...R,q]),h("")},$=q=>{var b;if(!q)return;const R=((b=n.flagChanges)==null?void 0:b.remove)||[];j("remove",[...R,q]),g("")};return x.jsxs("div",{className:"inspector-content",children:[x.jsx("h3",{className:"inspector-title",children:"Choice Settings"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Text:"}),x.jsx(Qu,{value:n.text,onChange:m,placeholder:"Enter choice text...",className:"choice-text-input"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Next Node:"}),x.jsx("div",{className:"next-node-selector",children:x.jsxs("div",{className:"node-id-input",children:[x.jsx(Yt,{value:n.nextNodeId,onChange:v,onEnter:q=>E(q),suggestions:i,placeholder:"Select or create node..."}),x.jsx("button",{onClick:()=>E(n.nextNodeId),className:"quick-create-button",disabled:!n.nextNodeId||i.includes(n.nextNodeId),children:"Create Node"})]})})]}),x.jsxs("div",{className:"prerequisites-section",children:[x.jsx("h4",{children:"Prerequisites"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Required Flags:"}),x.jsx(Yt,{value:"",onChange:q=>{var R,b;o({...n,prerequisites:{...n.prerequisites||{},requiredFlags:((b=(R=n.prerequisites)==null?void 0:R.requiredFlags)==null?void 0:b.filter(B=>B!==q))||[]}})},suggestions:a,placeholder:"Add required flag..."}),x.jsx("div",{className:"flag-chips",children:(G=(H=n.prerequisites)==null?void 0:H.requiredFlags)==null?void 0:G.map(q=>x.jsxs("div",{className:"flag-chip",children:[q,x.jsx("button",{onClick:()=>{var R,b;return o({...n,prerequisites:{...n.prerequisites,requiredFlags:((b=(R=n.prerequisites)==null?void 0:R.requiredFlags)==null?void 0:b.filter(B=>B!==q))||[]}})},children:"Ã—"})]},q))})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"State Conditions:"}),x.jsx("button",{onClick:()=>{var q;return o({...n,prerequisites:{...n.prerequisites,stateConditions:[...((q=n.prerequisites)==null?void 0:q.stateConditions)||[],{key:"",operator:"=",value:0}]}})},className:"add-condition-button",children:"Add Condition"}),(J=(O=n.prerequisites)==null?void 0:O.stateConditions)==null?void 0:J.map((q,R)=>x.jsxs("div",{className:"state-condition",children:[x.jsx(Yt,{value:q.key,onChange:b=>{var B,Y;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(Y=(B=n.prerequisites)==null?void 0:B.stateConditions)==null?void 0:Y.map((S,_)=>_===R?{...S,key:b}:S)}})},suggestions:c,placeholder:"State key"}),x.jsxs("select",{className:"operator-select",value:q.operator,onChange:b=>{var B,Y;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(Y=(B=n.prerequisites)==null?void 0:B.stateConditions)==null?void 0:Y.map((S,_)=>_===R?{...S,operator:b.target.value}:S)}})},children:[x.jsx("option",{value:"=",children:"="}),x.jsx("option",{value:">",children:">"}),x.jsx("option",{value:"<",children:"<"}),x.jsx("option",{value:">=",children:"â‰¥"}),x.jsx("option",{value:"<=",children:"â‰¤"})]}),x.jsx("input",{type:"number",value:q.value,onChange:b=>{var B,Y;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(Y=(B=n.prerequisites)==null?void 0:B.stateConditions)==null?void 0:Y.map((S,_)=>_===R?{...S,value:Number(b.target.value)}:S)}})}}),x.jsx("button",{onClick:()=>{var b,B;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(B=(b=n.prerequisites)==null?void 0:b.stateConditions)==null?void 0:B.filter((Y,S)=>S!==R)}})},className:"remove-condition-button",children:"Ã—"})]},R))]})]}),x.jsxs("div",{className:"alternate-destinations-section",children:[x.jsxs("div",{className:"section-header",children:[x.jsx("h4",{children:"Alternate Destinations"}),x.jsx("button",{onClick:k,className:"add-section-button",children:"Add Alternate Path"})]}),(Q=n.alternateDestinations)==null?void 0:Q.map((q,R)=>{var b,B,Y,S;return x.jsxs("div",{className:"alternate-destination",children:[x.jsxs("div",{className:"destination-header",children:[x.jsxs("h5",{children:["Alternate Path ",R+1]}),x.jsx("button",{onClick:()=>{var _;return o({...n,alternateDestinations:(_=n.alternateDestinations)==null?void 0:_.filter((C,z)=>z!==R)})},className:"remove-destination-button",children:"Remove"})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Next Node:"}),x.jsx("div",{className:"next-node-selector",children:x.jsxs("div",{className:"node-id-input",children:[x.jsx(Yt,{value:q.nextNodeId,onChange:_=>{var C;return o({...n,alternateDestinations:(C=n.alternateDestinations)==null?void 0:C.map((z,M)=>M===R?{...z,nextNodeId:_}:z)})},onEnter:_=>E(_,!0,R),suggestions:i,placeholder:"Select or create node..."}),x.jsx("button",{onClick:()=>E(q.nextNodeId,!0,R),className:"quick-create-button",disabled:!q.nextNodeId||i.includes(q.nextNodeId),children:"Create Node"})]})})]}),x.jsxs("div",{className:"prerequisites-section",children:[x.jsx("h4",{children:"Prerequisites"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Required Flags:"}),x.jsx(Yt,{value:"",onChange:_=>{var z,M;const C=((z=q.prerequisites)==null?void 0:z.requiredFlags)||[];o({...n,alternateDestinations:(M=n.alternateDestinations)==null?void 0:M.map((N,T)=>T===R?{...N,prerequisites:{...N.prerequisites,requiredFlags:[...C,_]}}:N)})},suggestions:a,placeholder:"Add required flag..."}),x.jsx("div",{className:"flag-chips",children:(B=(b=q.prerequisites)==null?void 0:b.requiredFlags)==null?void 0:B.map(_=>x.jsxs("div",{className:"flag-chip",children:[_,x.jsx("button",{onClick:()=>{var C;return o({...n,alternateDestinations:(C=n.alternateDestinations)==null?void 0:C.map((z,M)=>{var N;return M===R?{...z,prerequisites:{...z.prerequisites,requiredFlags:(N=z.prerequisites.requiredFlags)==null?void 0:N.filter(T=>T!==_)}}:z})})},children:"Ã—"})]},_))})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"State Conditions:"}),x.jsx("button",{onClick:()=>{var _;return o({...n,alternateDestinations:(_=n.alternateDestinations)==null?void 0:_.map((C,z)=>{var M;return z===R?{...C,prerequisites:{...C.prerequisites,stateConditions:[...((M=C.prerequisites)==null?void 0:M.stateConditions)||[],{key:"",operator:"=",value:0}]}}:C})})},className:"add-condition-button",children:"Add Condition"}),(S=(Y=q.prerequisites)==null?void 0:Y.stateConditions)==null?void 0:S.map((_,C)=>x.jsxs("div",{className:"state-condition",children:[x.jsx(Yt,{value:_.key,onChange:z=>{var M;return o({...n,alternateDestinations:(M=n.alternateDestinations)==null?void 0:M.map((N,T)=>{var w;return T===R?{...N,prerequisites:{...N.prerequisites,stateConditions:(w=N.prerequisites.stateConditions)==null?void 0:w.map((I,te)=>te===C?{...I,key:z}:I)}}:N})})},suggestions:c,placeholder:"State key"}),x.jsxs("select",{className:"operator-select",value:_.operator,onChange:z=>{var M;return o({...n,alternateDestinations:(M=n.alternateDestinations)==null?void 0:M.map((N,T)=>{var w;return T===R?{...N,prerequisites:{...N.prerequisites,stateConditions:(w=N.prerequisites.stateConditions)==null?void 0:w.map((I,te)=>te===C?{...I,operator:z.target.value}:I)}}:N})})},children:[x.jsx("option",{value:"=",children:"="}),x.jsx("option",{value:">",children:">"}),x.jsx("option",{value:"<",children:"<"}),x.jsx("option",{value:">=",children:"â‰¥"}),x.jsx("option",{value:"<=",children:"â‰¤"})]}),x.jsx("input",{type:"number",value:_.value,onChange:z=>{var M;return o({...n,alternateDestinations:(M=n.alternateDestinations)==null?void 0:M.map((N,T)=>{var w;return T===R?{...N,prerequisites:{...N.prerequisites,stateConditions:(w=N.prerequisites.stateConditions)==null?void 0:w.map((I,te)=>te===C?{...I,value:Number(z.target.value)}:I)}}:N})})}}),x.jsx("button",{onClick:()=>{var z;return o({...n,alternateDestinations:(z=n.alternateDestinations)==null?void 0:z.map((M,N)=>{var T;return N===R?{...M,prerequisites:{...M.prerequisites,stateConditions:(T=M.prerequisites.stateConditions)==null?void 0:T.filter((w,I)=>I!==C)}}:M})})},className:"remove-condition-button",children:"Ã—"})]},C))]})]})]},R)})]}),x.jsxs("div",{className:"effects-section",children:[x.jsx("h4",{children:"Effects"}),x.jsxs("div",{className:"state-changes",children:[x.jsx("h5",{children:"State Changes"}),(n.stateChanges||[]).map((q,R)=>x.jsxs("div",{className:"state-change-row",children:[x.jsx(Yt,{value:q.key||"",onChange:b=>A(R,"key",b),suggestions:c,placeholder:"State key..."}),x.jsxs("select",{value:q.operation||"set",onChange:b=>A(R,"operation",b.target.value),children:[x.jsx("option",{value:"set",children:"Set"}),x.jsx("option",{value:"add",children:"Add"}),x.jsx("option",{value:"subtract",children:"Subtract"})]}),x.jsx("input",{type:"number",value:q.value||0,onChange:b=>A(R,"value",Number(b.target.value)),placeholder:"Value"}),x.jsx("button",{onClick:()=>{var B;const b=((B=n.stateChanges)==null?void 0:B.filter((Y,S)=>S!==R))||[];o({...n,stateChanges:b})},children:"Ã—"})]},R)),x.jsx("button",{onClick:()=>{const q=[...n.stateChanges||[]];q.push({key:"",value:0,operation:"set"}),o({...n,stateChanges:q})},className:"add-state-change-button",children:"Add State Change"})]}),x.jsxs("div",{className:"flag-changes",children:[x.jsx("h5",{children:"Flag Changes"}),x.jsxs("div",{className:"flag-section",children:[x.jsx("label",{children:"Add Flags:"}),x.jsx(Yt,{value:d,onChange:h,onEnter:D,suggestions:a,placeholder:"Add flags... (press Enter)"}),x.jsx("div",{className:"flag-chips",children:(((K=n.flagChanges)==null?void 0:K.add)||[]).map(q=>x.jsxs("div",{className:"flag-chip",children:[q,x.jsx("button",{onClick:()=>{var b;const R=((b=n.flagChanges)==null?void 0:b.add)||[];j("add",R.filter(B=>B!==q))},children:"Ã—"})]},q))})]}),x.jsxs("div",{className:"flag-section",children:[x.jsx("label",{children:"Remove Flags:"}),x.jsx(Yt,{value:p,onChange:g,onEnter:$,suggestions:a,placeholder:"Remove flags... (press Enter)"}),x.jsx("div",{className:"flag-chips",children:(((ne=n.flagChanges)==null?void 0:ne.remove)||[]).map(q=>x.jsxs("div",{className:"flag-chip",children:[q,x.jsx("button",{onClick:()=>{var b;const R=((b=n.flagChanges)==null?void 0:b.remove)||[];j("remove",R.filter(B=>B!==q))},children:"Ã—"})]},q))})]})]})]})]})},L1=({alternateText:n,onUpdate:o,existingFlags:i=[],existingStateKeys:l=[]})=>{var a,c,d,h;return x.jsxs("div",{className:"inspector-content",children:[x.jsx("h3",{className:"inspector-title",children:"Alternate Text Settings"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Text:"}),x.jsx(Qu,{value:n.text,onChange:p=>o({...n,text:p}),placeholder:"Enter alternate text...",className:"alternate-text-input"}),x.jsxs("div",{className:"help-text",children:["Supports markdown and variables using ","{","$$variable_name","}"]})]}),x.jsxs("div",{className:"prerequisites-section",children:[x.jsx("h4",{children:"Prerequisites"}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Required Flags:"}),x.jsx(Yt,{value:"",onChange:p=>{var v;const g=((v=n.prerequisites)==null?void 0:v.requiredFlags)||[],m={...n.prerequisites,requiredFlags:g.filter(E=>E!==p)||[]};o({...n,prerequisites:m})},suggestions:i,placeholder:"Add required flag..."}),x.jsx("div",{className:"flag-chips",children:(c=(a=n.prerequisites)==null?void 0:a.requiredFlags)==null?void 0:c.map(p=>x.jsxs("div",{className:"flag-chip",children:[p,x.jsx("button",{onClick:()=>{var g,m;return o({...n,prerequisites:{...n.prerequisites,requiredFlags:((m=(g=n==null?void 0:n.prerequisites)==null?void 0:g.requiredFlags)==null?void 0:m.filter(v=>v!==p))||[]}})},children:"Ã—"})]},p))})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"State Conditions:"}),x.jsx("button",{onClick:()=>{var p;return o({...n,prerequisites:{...n.prerequisites,stateConditions:[...((p=n.prerequisites)==null?void 0:p.stateConditions)||[],{key:"",operator:"=",value:0}]}})},className:"add-condition-button",children:"Add Condition"}),(h=(d=n.prerequisites)==null?void 0:d.stateConditions)==null?void 0:h.map((p,g)=>x.jsxs("div",{className:"state-condition",children:[x.jsx(Yt,{value:p.key,onChange:m=>{var v,E;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(E=(v=n==null?void 0:n.prerequisites)==null?void 0:v.stateConditions)==null?void 0:E.map((k,A)=>A===g?{...k,key:m}:k)}})},suggestions:l,placeholder:"State key"}),x.jsxs("select",{value:p.operator,onChange:m=>{var v,E;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(E=(v=n==null?void 0:n.prerequisites)==null?void 0:v.stateConditions)==null?void 0:E.map((k,A)=>A===g?{...k,operator:m.target.value}:k)}})},children:[x.jsx("option",{value:"=",children:"="}),x.jsx("option",{value:">",children:">"}),x.jsx("option",{value:"<",children:"<"}),x.jsx("option",{value:">=",children:"â‰¥"}),x.jsx("option",{value:"<=",children:"â‰¤"})]}),x.jsx("input",{type:"number",value:p.value,onChange:m=>{var v,E;return o({...n,prerequisites:{...n.prerequisites,stateConditions:(E=(v=n==null?void 0:n.prerequisites)==null?void 0:v.stateConditions)==null?void 0:E.map((k,A)=>A===g?{...k,value:Number(m.target.value)}:k)}})}}),x.jsx("button",{onClick:()=>{var m,v;return o({...n,prerequisites:{...n.prerequisites,stateConditions:((v=(m=n==null?void 0:n.prerequisites)==null?void 0:m.stateConditions)==null?void 0:v.filter((E,k)=>k!==g))||[]}})},className:"remove-condition-button",children:"Ã—"})]},g))]})]})]})},F1=({target:n,node:o,onUpdate:i,availableNodes:l,onCreateNode:a,existingFlags:c,existingStateKeys:d})=>{console.log("Inspector render - target:",n),console.log("Inspector render - node:",o);const h=()=>{switch(n.type){case"node":return x.jsx(D1,{node:o,onUpdate:i});case"choice":return n.index&&x.jsx($1,{choice:o.choices[n.index],onUpdate:p=>{const g={...o,choices:o.choices.map((m,v)=>v===n.index?p:m)};i(g)},availableNodes:l,onCreateNode:a,existingFlags:c,existingStateKeys:d});case"alternateText":return x.jsx(L1,{alternateText:o.alternateTexts[n.index],onUpdate:p=>{i({...o,alternateTexts:o.alternateTexts.map((g,m)=>m===n.index?p:g)})},existingFlags:c,existingStateKeys:d});default:return null}};return x.jsx("div",{className:"inspector",children:h()})},di=({text:n})=>{const o=i=>{const l=[];let a="",c=0;const d=/\[(\/?)(b|i|s|color=([^\]]+))\]/g;let h;for(;(h=d.exec(i))!==null;){const g=i.slice(c,h.index);g&&(a+=g);const[m,v,E,k]=h;if(v)a&&(l.push(x.jsx("span",{children:a},l.length)),a="");else if(a&&(l.push(x.jsx("span",{children:a},l.length)),a=""),E.startsWith("color=")){const A=k,j=i.indexOf("[/color]",h.index);if(j!==-1){const D=i.slice(h.index+m.length,j);l.push(x.jsx("span",{style:{color:A},children:D},l.length)),d.lastIndex=j+8}}else{const A={b:{fontWeight:"bold"},i:{fontStyle:"italic"},s:{textDecoration:"line-through"}},j=i.indexOf(`[/${E}]`,h.index);if(j!==-1){const D=i.slice(h.index+m.length,j);l.push(x.jsx("span",{style:A[E],children:D},l.length)),d.lastIndex=j+E.length+3}}c=d.lastIndex}const p=i.slice(c);return p&&l.push(x.jsx("span",{children:p},l.length)),l};return x.jsx("div",{className:"bbcode-text",children:o(n)})},Xp=({node:n,dialogueTree:o,isOpen:i,onClose:l,onSave:a,availableNodes:c,onCreateNode:d})=>{var K,ne,q;const[h,p]=V.useState({...n}),[g,m]=V.useState(null),[v,E]=V.useState(n.emotion||""),[k,A]=V.useState(n.character||Object.keys(o.characters)[0]),[j,D]=V.useState(n.speaker||((K=o.characters[k])==null?void 0:K.name)||""),$=Object.keys(((ne=o.characters[k])==null?void 0:ne.portraits)||{}),{existingFlags:H,existingStateKeys:G}=ee.useMemo(()=>{const R=new Set,b=new Set;return Object.values(o.nodes).forEach(B=>{var Y;(Y=B.alternateTexts)==null||Y.forEach(S=>{var _,C,z,M,N,T;(C=(_=S.prerequisites)==null?void 0:_.requiredFlags)==null||C.forEach(w=>R.add(w)),(M=(z=S.prerequisites)==null?void 0:z.blockedFlags)==null||M.forEach(w=>R.add(w)),(T=(N=S.prerequisites)==null?void 0:N.stateConditions)==null||T.forEach(w=>{b.add(w.key)})}),B.choices.forEach(S=>{var _,C,z,M,N,T,w,I,te,Z,oe;(C=(_=S.prerequisites)==null?void 0:_.requiredFlags)==null||C.forEach(re=>R.add(re)),(M=(z=S.prerequisites)==null?void 0:z.blockedFlags)==null||M.forEach(re=>R.add(re)),(T=(N=S.prerequisites)==null?void 0:N.stateConditions)==null||T.forEach(re=>{b.add(re.key)}),(I=(w=S.flagChanges)==null?void 0:w.add)==null||I.forEach(re=>R.add(re)),(Z=(te=S.flagChanges)==null?void 0:te.remove)==null||Z.forEach(re=>R.add(re)),(oe=S.stateChanges)==null||oe.forEach(re=>{b.add(re.key)})})}),{existingFlags:Array.from(R).sort(),existingStateKeys:Array.from(b).sort()}},[o]),O=()=>{p(R=>({...R,choices:[...R.choices,{id:`choice_${Date.now()}`,text:"New choice",nextNodeId:c[0]||""}]}))},J=R=>{console.log("DialogueNodeEditor handleInspectorUpdate - before:",h),console.log("DialogueNodeEditor handleInspectorUpdate - update:",R),p(R),console.log("DialogueNodeEditor handleInspectorUpdate - after state set")},Q=()=>{console.log("DialogueNodeEditor handleSave - before:",h);const R={...h,emotion:v,character:k,speaker:j};console.log("DialogueNodeEditor handleSave - after:",R),console.log("DialogueNodeEditor calling onSave with:",R),a(R),console.log("DialogueNodeEditor onSave called"),l()};return V.useEffect(()=>{E(n.emotion||"")},[n]),V.useEffect(()=>{p(R=>({...R,emotion:v}))},[v]),V.useEffect(()=>{p({...n})},[n]),V.useEffect(()=>{console.log("DialogueNodeEditor editedNode changed:",h)},[h]),V.useEffect(()=>{var R;n.speaker||D(((R=o.characters[k])==null?void 0:R.name)||"")},[k]),i?x.jsx("div",{className:"modal-overlay",children:x.jsxs("div",{className:"node-editor-modal",children:[x.jsxs("div",{className:"node-editor-header",children:[x.jsxs("div",{className:"node-editor-title",children:[x.jsx("h3",{children:"Edit Node"}),x.jsx("span",{className:"node-id",children:h.id})]}),x.jsx("button",{onClick:l,className:"close-button",children:"Ã—"})]}),x.jsxs("div",{className:"node-editor-content",children:[x.jsxs("div",{className:"node-editor-main",children:[x.jsxs("div",{className:"editor-section",children:[x.jsx("div",{className:"editor-section-header",children:x.jsx("h4",{children:"Character"})}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{children:"Character:"}),x.jsx("select",{value:k,onChange:R=>A(R.target.value),children:Object.entries(o.characters).map(([R,b])=>x.jsx("option",{value:R,children:b.name},R))})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{children:"Display Name:"}),x.jsx("input",{type:"text",value:j,onChange:R=>D(R.target.value),placeholder:"Custom speaker name..."})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{children:"Emotion"}),x.jsxs("select",{value:v,onChange:R=>E(R.target.value),children:[x.jsx("option",{value:"",children:"Default"}),$.map(R=>x.jsx("option",{value:R,children:R},R))]})]})]}),x.jsxs("div",{className:"editor-section",children:[x.jsx("div",{className:"editor-section-header",children:x.jsx("h4",{children:"Default Text"})}),x.jsxs("div",{className:"node-preview",onClick:()=>m({type:"node",id:h.id}),children:[x.jsx("div",{className:"node-speaker",children:h.speaker}),x.jsx("div",{className:"node-text",children:x.jsx(di,{text:h.text})})]})]}),x.jsxs("div",{className:"editor-section",children:[x.jsxs("div",{className:"editor-section-header",children:[x.jsx("h4",{children:"Alternate Texts"}),x.jsx("button",{onClick:()=>{p(R=>({...R,alternateTexts:[...R.alternateTexts||[],{text:"",prerequisites:{}}]}))},className:"add-section-button",children:"Add Alternate Text"})]}),(q=h.alternateTexts)==null?void 0:q.map((R,b)=>{var B,Y,S,_;return x.jsxs("div",{className:"alternate-text-preview",onClick:()=>m({type:"alternateText",id:h.id,index:b}),children:[x.jsxs("div",{className:"alternate-text-content",children:[x.jsx(di,{text:R.text||"(Empty text)"}),R.emotion&&x.jsxs("span",{className:"alternate-text-emotion",children:["â€¢ ",R.emotion]})]}),x.jsxs("div",{className:"alternate-text-conditions",children:[(Y=(B=R.prerequisites)==null?void 0:B.requiredFlags)!=null&&Y.length?x.jsxs("div",{className:"condition-tag",children:["Required: ",R.prerequisites.requiredFlags.join(", ")]}):null,(_=(S=R.prerequisites)==null?void 0:S.stateConditions)!=null&&_.length?x.jsxs("div",{className:"condition-tag",children:[R.prerequisites.stateConditions.length," condition(s)"]}):null]})]},b)})]}),x.jsxs("div",{className:"editor-section",children:[x.jsxs("div",{className:"editor-section-header",children:[x.jsx("h4",{children:"Choices"}),x.jsx("button",{onClick:O,className:"add-section-button",children:"Add Choice"})]}),h.choices.map((R,b)=>x.jsxs("div",{className:"choice-preview",onClick:()=>m({type:"choice",id:R.id,index:b}),children:[x.jsx("div",{className:"choice-text",children:R.text}),x.jsxs("div",{className:"choice-meta",children:[R.prerequisites&&x.jsx("span",{className:"condition-badge",children:"âš¡"}),R.flagChanges&&x.jsx("span",{className:"flag-badge",children:"ðŸš©"}),R.stateChanges&&R.stateChanges.length>0&&x.jsx("span",{className:"state-badge",children:"ðŸ“Š"}),"â†’ ",R.nextNodeId||"???"]})]},R.id))]})]}),g&&x.jsx("div",{className:"node-editor-inspector",children:x.jsx(F1,{target:g,node:h,onUpdate:J,availableNodes:c,onCreateNode:d,existingFlags:H,existingStateKeys:G})})]}),x.jsxs("div",{className:"node-editor-footer",children:[x.jsx("button",{onClick:Q,className:"save-button",children:"Save Changes"}),x.jsx("button",{onClick:l,className:"cancel-button",children:"Cancel"})]})]})}):null},O1=({data:n,style:o})=>x.jsxs("div",{className:"dialogue-node",style:o,children:[x.jsx(co,{type:"target",position:ge.Left}),x.jsxs("div",{className:"dialogue-node-speaker",children:[n.speaker,n.emotion&&x.jsxs("span",{className:"dialogue-node-emotion",children:["â€¢ ",n.emotion]})]}),x.jsx("div",{className:"dialogue-node-text",children:x.jsx(di,{text:n.text})}),x.jsxs("div",{className:"dialogue-node-choices",children:[x.jsx("div",{className:"dialogue-node-choices-label",children:"Player options:"}),n.choices.map((i,l)=>{var a,c;return x.jsxs("div",{className:`dialogue-node-choice ${i.isLocked?"locked":""} ${i.isBlockable?"blockable":""} ${i.isBroken?"broken":""}`,title:i.isBroken?"Missing target node!":i.isLocked?`Required: ${(a=i.requiredFlags)==null?void 0:a.join(", ")}${i.blockedFlags?`
Blocked by: ${i.blockedFlags.join(", ")}`:""}`:i.isBlockable?`Can be blocked by: ${(c=i.blockedFlags)==null?void 0:c.join(", ")}`:"",children:["â€¢ ",i.text,i.isLocked&&x.jsx("span",{className:"lock-icon",children:"ðŸ”’"}),i.isBlockable&&x.jsx("span",{className:"block-icon",children:"âš ï¸"}),i.isBroken&&x.jsx("span",{className:"broken-icon",children:"âš¡"})]},l)})]}),x.jsx(co,{type:"source",position:ge.Right})]}),H1={dialogueNode:O1},V1=n=>{const h=Math.ceil(n.text.length/35)*20,p=n.choices.length*30,g=n.choices.length>0?p+20:0;return 80+h+g},B1=({dialogueTree:n,onCreateNode:o,onUpdate:i})=>{const[l,a]=V.useState([]),[c,d]=V.useState([]),[h,p]=V.useState(null),[g,m]=V.useState(null),v=400,E=200,k=50,A=V.useCallback(()=>{const R=[],b=[],B=new Map,Y=new Map,S=new Map;Object.entries(n.nodes).forEach(([C,z])=>{Y.set(C,V1(z))});const _=(C,z,M)=>{if(M.has(C))return;M.add(C);const N=n.nodes[C];N&&(S.has(z)||S.set(z,[]),S.get(z).push(C),N.choices.forEach(T=>{var w;T.nextNodeId&&n.nodes[T.nextNodeId]&&_(T.nextNodeId,z+1,M),(w=T.alternateDestinations)==null||w.forEach(I=>{I.nextNodeId&&n.nodes[I.nextNodeId]&&_(I.nextNodeId,z+1,M)})}))};_(n.startNodeId,0,new Set),S.forEach((C,z)=>{const M=C.length;C.forEach((Z,oe)=>{var ve;const re=z*v;let ce=(oe-(M-1)/2)*E;const he=B.get(C[oe-1]);if(he){const Se=Y.get(C[oe-1])||0,Le=he.y+Se+k;ce<Le&&(ce=Le)}if(oe>0){const Se=((ve=B.get(C[oe-1]))==null?void 0:ve.y)||0,We=(Y.get(C[oe-1])||0)+k;ce-Se<We&&(ce=Se+We)}B.set(Z,{x:re,y:ce})});const N=C.map(Z=>{const oe=B.get(Z),re=Y.get(Z)||0;return{y:(oe==null?void 0:oe.y)||0,height:re}}),T=Math.min(...N.map(Z=>Z.y)),te=-(Math.max(...N.map(Z=>Z.y+Z.height))-T)/2;C.forEach(Z=>{const oe=B.get(Z);oe&&B.set(Z,{x:oe.x,y:oe.y+te})})}),Object.entries(n.nodes).forEach(([C,z])=>{const M=B.get(C)||{x:0,y:0};R.push({id:C,type:"dialogueNode",position:M,data:{text:z.text,speaker:z.speaker,emotion:z.emotion,choices:z.choices.map(N=>{var T,w,I,te,Z;return{text:N.text,isLocked:((T=N.prerequisites)==null?void 0:T.requiredFlags)!==void 0,isBlockable:((w=N.prerequisites)==null?void 0:w.blockedFlags)!==void 0&&((I=N.prerequisites)==null?void 0:I.requiredFlags)===void 0,requiredFlags:(te=N.prerequisites)==null?void 0:te.requiredFlags,blockedFlags:(Z=N.prerequisites)==null?void 0:Z.blockedFlags,isBroken:!n.nodes[N.nextNodeId]}})},style:{width:250},draggable:!0}),z.choices.forEach((N,T)=>{var te,Z,oe,re,ce,he,ve;const w=((Z=(te=N.prerequisites)==null?void 0:te.requiredFlags)==null?void 0:Z.length)||((re=(oe=N.prerequisites)==null?void 0:oe.blockedFlags)==null?void 0:re.length)||((he=(ce=N.prerequisites)==null?void 0:ce.stateConditions)==null?void 0:he.length),I={type:"bezier",sourceHandle:ge.Right,targetHandle:ge.Left,labelStyle:{fill:"var(--color-text)",fontWeight:500},labelBgStyle:{fill:"var(--color-background-tertiary)",stroke:"var(--color-border)",strokeWidth:1,color:"white",rx:4,ry:4},labelBgPadding:[4,4],labelBgBorderRadius:4};(ve=N.alternateDestinations)!=null&&ve.length?N.alternateDestinations.forEach((Se,Le)=>{b.push({...I,id:`${C}-${Se.nextNodeId}-alt-${Le}`,source:C,target:Se.nextNodeId,label:N.text,animated:!0,style:{strokeWidth:2,stroke:w?"var(--color-text-tertiary)":"var(--color-border)",strokeDasharray:w?"5 5":void 0},markerEnd:{type:uo.ArrowClosed,width:20,height:20,color:w?"var(--color-text-tertiary)":"var(--color-primary)"}})}):b.push({...I,id:`${C}-${N.nextNodeId}-${T}`,source:C,target:N.nextNodeId,label:N.text,style:{strokeWidth:2,stroke:w?"var(--color-text-tertiary)":"var(--color-border)",strokeDasharray:w?"5 5":void 0},markerEnd:{type:uo.ArrowClosed,width:20,height:20,color:w?"var(--color-text-tertiary)":"var(--color-border)"}})})}),a(R),d(b)},[n]);ee.useEffect(()=>{A()},[n,A]);const j=V.useCallback(R=>{a(b=>Ip(R,b))},[]),D=V.useCallback((R,b)=>{b&&typeof b=="object"&&"id"in b&&typeof b.id=="string"&&(p(b.id),m(b.id))},[]),$=V.useCallback(R=>{if(!n)return;const b={...n,nodes:{...n.nodes,[R.id]:R}};i(b),p(null)},[n,i]),H=V.useCallback(R=>{h&&(o==null||o(R))},[h,o]),G=V.useCallback((R,b)=>{b&&typeof b.id=="string"&&m(b.id)},[]),O=V.useCallback((R,b)=>{b&&typeof b.id=="string"&&m(b.id)},[]);V.useEffect(()=>{h||m(null)},[h]);const J=(R,b,B="both")=>{const Y=new Set;return Y.add(R),b.forEach(S=>{(B==="outgoing"||B==="both")&&S.source===R&&Y.add(S.target),(B==="incoming"||B==="both")&&S.target===R&&Y.add(S.source)}),Y},Q=V.useMemo(()=>g?J(g,c):null,[g,c]),K=V.useMemo(()=>Q?l.map(R=>({...R,style:{...R.style,opacity:Q.has(R.id)?1:.2,transition:"opacity 0.3s ease-in-out"},className:Q.has(R.id)?"connected-node":"unconnected-node"})):l,[l,Q]),ne=V.useMemo(()=>Q?c.map(R=>({...R,style:{...R.style,opacity:Q.has(R.source)&&Q.has(R.target)?1:.2,transition:"opacity 0.3s ease-in-out"},className:Q.has(R.source)&&Q.has(R.target)?"connected-edge":"unconnected-edge"})):c,[c,Q]),q=V.useCallback(()=>{m(null)},[]);return x.jsxs(x.Fragment,{children:[x.jsx("div",{style:{height:"calc(100vh - 160px)",width:"100%"},children:x.jsxs(Up,{nodes:K,edges:ne,nodeTypes:H1,connectionLineType:Mn.SmoothStep,onNodesChange:j,onNodeDoubleClick:D,onNodeClick:G,onNodeDragStart:O,onPaneClick:q,fitView:!0,children:[x.jsx(z1,{}),x.jsx(C1,{})]})}),h&&x.jsx(Xp,{node:n.nodes[h],dialogueTree:n,isOpen:!0,onClose:()=>p(null),onSave:$,availableNodes:Object.keys(n.nodes),onCreateNode:H})]})},Nh=(n,o)=>{console.log("Input text:",n),console.log("Variables:",o);const i=/\{\$\$([^}]+)\}/g,l=n.replace(i,(a,c)=>{const d=c.trim(),h=o[d];return console.log(`Matching: "${a}"`),console.log(`Variable name: "${d}"`),console.log(`Value found: ${h}`),h!==void 0?h.toString():"VALUE_NOT_FOUND"});return console.log("Output text:",l),l},pu=n=>{const o=/\{\$\$([^}]+)\}/g;return(n.match(o)||[]).map(l=>l.slice(3,-1).trim())},mu="./characters/default/default.webp",q1=({dialogueTree:n,isOpen:o,onClose:i})=>{var Y,S;const[l,a]=V.useState(n.startNodeId),[c,d]=V.useState([]),[h,p]=V.useState(new Set),[g,m]=V.useState({}),[v,E]=V.useState(!1),[k,A]=V.useState(new Set),j=V.useRef(null),D=()=>{var _;(_=j.current)==null||_.scrollIntoView({behavior:"smooth"})};V.useEffect(()=>{D()},[c]);const{allFlags:$,allStateKeys:H}=ee.useMemo(()=>{const _=new Set,C=new Set;return Object.values(n.nodes).forEach(z=>{var M;pu(z.text).forEach(N=>C.add(N)),(M=z.alternateTexts)==null||M.forEach(N=>{var T,w,I,te,Z,oe;pu(N.text).forEach(re=>C.add(re)),(w=(T=N.prerequisites)==null?void 0:T.requiredFlags)==null||w.forEach(re=>_.add(re)),(te=(I=N.prerequisites)==null?void 0:I.blockedFlags)==null||te.forEach(re=>_.add(re)),(oe=(Z=N.prerequisites)==null?void 0:Z.stateConditions)==null||oe.forEach(re=>{C.add(re.key)})}),z.choices.forEach(N=>{var T,w,I,te,Z,oe;pu(N.text).forEach(re=>C.add(re)),N.prerequisites&&((T=N.prerequisites.requiredFlags)==null||T.forEach(re=>_.add(re)),(w=N.prerequisites.blockedFlags)==null||w.forEach(re=>_.add(re)),(I=N.prerequisites.stateConditions)==null||I.forEach(re=>{C.add(re.key)})),N.flagChanges&&((te=N.flagChanges.add)==null||te.forEach(re=>_.add(re)),(Z=N.flagChanges.remove)==null||Z.forEach(re=>_.add(re))),(oe=N.stateChanges)==null||oe.forEach(re=>{C.add(re.key)})})}),{allFlags:Array.from(_).sort(),allStateKeys:Array.from(C).sort()}},[n]);ee.useEffect(()=>{m(_=>{const C={..._};return H.forEach(z=>{z in C||(z==="jonas_weight"?C[z]=450:C[z]=0)}),C})},[H]);const G=_=>{p(C=>{const z=new Set(C);return z.has(_)?z.delete(_):z.add(_),z})},O=_=>{var z;if(!_)return{text:""};const C=(z=_.alternateTexts)==null?void 0:z.find(M=>{if(!M.prerequisites)return!1;const{requiredFlags:N,blockedFlags:T,stateConditions:w}=M.prerequisites;return!(N!=null&&N.some(I=>!h.has(I))||T!=null&&T.some(I=>h.has(I))||w!=null&&w.some(I=>!b(I,g)))});return C?{text:C.text,emotion:C.emotion||_.emotion}:{text:_.text,emotion:_.emotion}};ee.useEffect(()=>{l&&d(_=>_.map(C=>{if(C.isPlayer)return C;const z=Object.values(n.nodes).find(M=>M.speaker===C.speaker&&M.text===C.originalText);return z?{...C,text:O(z).text,originalText:z.text,emotion:z.emotion}:C}))},[h,g,l,n.nodes]);const J=ee.useCallback(()=>{const _=n.nodes[n.startNodeId];a(n.startNodeId),d([{text:O(_).text,originalText:_.text,speaker:_.speaker,emotion:_.emotion,isPlayer:!1}])},[n]);ee.useEffect(()=>{o&&J()},[o,n,J]);const Q=(_,C)=>{if(!_||!C||!n.characters[_])return mu;const z=n.characters[_].portraits,M=z[C]||z[n.characters[_].defaultEmotion];if(!M)return mu;if(M.startsWith("res://")||!M.startsWith("/characters/"))return"Godot Image Path";try{return"./"+M.replace(/^\//,"")}catch{return mu}},K=n==null?void 0:n.nodes[l],ne=Q(K==null?void 0:K.character,K==null?void 0:K.emotion),q=_=>{let C=_.nextNodeId;if(_.alternateDestinations){for(const M of _.alternateDestinations)if(M.prerequisites&&R({prerequisites:M.prerequisites},h,g)){C=M.nextNodeId;break}}const z=n.nodes[C];if(!z){console.error("Next node not found:",C);return}_.flagChanges&&p(M=>{var T,w,I,te;const N=new Set(M);return(w=(T=_.flagChanges)==null?void 0:T.add)==null||w.forEach(Z=>N.add(Z)),(te=(I=_.flagChanges)==null?void 0:I.remove)==null||te.forEach(Z=>N.delete(Z)),N}),_.stateChanges&&m(M=>{var T;const N={...M};return(T=_.stateChanges)==null||T.forEach(w=>{const I=N[w.key]??0;switch(w.operation){case"add":N[w.key]=I+w.value;break;case"subtract":N[w.key]=I-w.value;break;default:N[w.key]=w.value}}),N}),d(M=>[...M,{text:_.text,speaker:"You",isPlayer:!0},{text:O(z).text,originalText:z.text,speaker:z.speaker,emotion:z.emotion,isPlayer:!1}]),a(C)},R=(_,C,z)=>{if(!_.prerequisites)return!0;const{requiredFlags:M,blockedFlags:N,stateConditions:T}=_.prerequisites;return!(M!=null&&M.some(w=>!C.has(w))||N!=null&&N.some(w=>C.has(w))||T!=null&&T.some(w=>!b(w,z)))},b=(_,C)=>{const z=C[_.key]??0;switch(_.operator){case"=":return z===_.value;case">":return z>_.value;case"<":return z<_.value;case">=":return z>=_.value;case"<=":return z<=_.value;default:return!1}},B=(_,C)=>{if(!_.prerequisites)return"";const{requiredFlags:z,blockedFlags:M,stateConditions:N}=_.prerequisites,T=[];return z!=null&&z.some(w=>!C.has(w))&&T.push(`Required flags: ${z.join(", ")}`),M!=null&&M.some(w=>C.has(w))&&T.push(`Blocked by flags: ${M.join(", ")}`),N!=null&&N.length&&T.push("State conditions not met"),T.join(`
`)};return!o||!n||!K?null:x.jsx("div",{className:"modal-overlay",children:x.jsxs("div",{className:"dialogue-preview-modal",children:[x.jsxs("div",{className:"preview-header",children:[x.jsxs("h3",{children:["Dialogue Preview - ",K==null?void 0:K.speaker]}),x.jsxs("div",{className:"preview-controls",children:[x.jsx("button",{onClick:()=>E(!v),className:"flag-manager-button",title:"Toggle game flags",children:"ðŸš© Game Flags"}),x.jsx("button",{onClick:i,className:"close-button",children:"Ã—"})]})]}),x.jsxs("div",{className:"preview-content",children:[v&&x.jsxs("div",{className:"flag-manager",children:[x.jsxs("div",{className:"flag-manager-header",children:[x.jsx("h4",{children:"Game State"}),x.jsx("button",{onClick:()=>{p(new Set),m(Object.fromEntries([...H].map(_=>[_,0])))},className:"clear-flags-button",children:"Reset All"})]}),x.jsx("div",{className:"state-list",children:H.length>0&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"state-section-header",children:"State Values"}),H.map(_=>x.jsxs("div",{className:`state-item ${_==="jonas_weight"?"variable-item":""}`,children:[x.jsx("span",{className:"state-name",children:_}),x.jsx("input",{type:"number",value:g[_]??0,onChange:C=>m(z=>({...z,[_]:Number(C.target.value)})),className:"state-input"})]},_))]})}),x.jsx("div",{className:"flag-list",children:$.map(_=>x.jsxs("label",{className:"flag-item",children:[x.jsx("input",{type:"checkbox",checked:h.has(_),onChange:()=>G(_)}),x.jsx("span",{className:"flag-name",children:_})]},_))})]}),x.jsxs("div",{className:"character-portrait-container",children:[x.jsx("img",{className:"character-portrait",src:ne,alt:`${(K==null?void 0:K.speaker)||"Unknown"} - ${(K==null?void 0:K.emotion)||"default"}`,onError:_=>{var M,N;const C=_.target,z=C.src;if(!k.has(z)){A(w=>new Set([...w,z]));const T=n.characters[K.character];((M=T==null?void 0:T.portraits)==null?void 0:M.default)!==z&&(C.src=(N=T==null?void 0:T.portraits)==null?void 0:N.default)}}}),x.jsxs("div",{className:"character-portrait-info",children:[x.jsx("div",{className:"character-portrait-name",children:K==null?void 0:K.speaker}),((Y=c[c.length-1])==null?void 0:Y.emotion)&&x.jsx("div",{className:"character-portrait-emotion",children:c[c.length-1].emotion})]})]}),x.jsxs("div",{className:"dialogue-container",children:[x.jsxs("div",{className:"messages-container",children:[c.map((_,C)=>{const z=Nh(_.text,g);return x.jsxs("div",{className:`message ${_.isPlayer?"player":"npc"}`,children:[x.jsx("div",{className:"message-speaker",children:_.speaker}),x.jsx("div",{className:"message-text",children:x.jsx(di,{text:z})})]},C)}),x.jsx("div",{ref:j})," "]}),x.jsx("div",{className:"choices-container",children:(S=K==null?void 0:K.choices)==null?void 0:S.map(_=>{const C=R(_,h,g),z=C?"":B(_,h),M=Nh(_.text,g);return x.jsxs("button",{onClick:()=>C&&q(_),className:`choice-button ${C?"":"locked"}`,disabled:!n.nodes[_.nextNodeId],title:z,children:[!C&&x.jsx("span",{className:"lock-icon",children:"ðŸ”’"}),x.jsx("div",{className:"choice-text",children:x.jsx(di,{text:M})})]},_.id)})}),x.jsx("div",{className:"preview-footer",children:x.jsx("button",{onClick:J,className:"reset-button",children:"Reset Conversation"})})]})]})]})})},b1=n=>{const o=l=>l.replace(/[A-Z]/g,a=>`_${a.toLowerCase()}`).replace(/^_/,""),i=(l,a="")=>{if(Array.isArray(l))return l.length===0?"[]":`[${l.map(c=>i(c,a)).join(", ")}]`;if(typeof l=="object"&&l!==null){const c=Object.entries(l).filter(([,d])=>d!==void 0).map(([d,h])=>{const p=o(d);return d==="text"?`"${p}": "${h}"`:`"${p}": ${i(h,a)}`});return c.length===0?"{}":`{${c.join(", ")}}`}return typeof l=="string"?`"${l.replace(/"/g,'\\"')}"`:String(l)};return`[gd_resource type="Resource" script_class="DialogueTree" load_steps=2 format=3]

[ext_resource type="Script" path="res://addons/dialogue_tree/dialogue_tree.gd" id="1_script"]

[resource]
script = ExtResource("1_script")
name = "${n.name}"
characters = ${i(n.characters)}
start_node_id = "${n.startNodeId}"
nodes = ${i(n.nodes)}`},Gp=async(n,o,i)=>{try{const a=await(await window.showSaveFilePicker({suggestedName:o,...i})).createWritable();await a.write(n),await a.close()}catch(l){if(l instanceof Error&&l.name!=="AbortError"){console.error("Error saving file:",l);const a=document.createElement("a"),c=new Blob([n],{type:"text/plain"});a.href=URL.createObjectURL(c),a.download=o,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},U1=async n=>{const o=b1(n),i=`${n.name.toLowerCase().replace(/\s+/g,"_")}.tres`;await Gp(o,i,{types:[{description:"Godot Resource",accept:{"application/tres":[".tres"]}}]})},W1=async()=>{try{const o=await(await fetch("/src/assets/dialogueTree.gd")).text();await Gp(o,"dialogue_tree.gd",{types:[{description:"GDScript File",accept:{"text/x-gdscript":[".gd"]}}]})}catch(n){console.error("Error downloading script:",n)}},Y1=({dialogueTree:n,isOpen:o,onClose:i,onUpdate:l})=>{const[a,c]=V.useState(n.characters),[d,h]=V.useState(""),[p,g]=V.useState("");V.useEffect(()=>{o&&c(n.characters)},[o,n.characters]);const m=()=>{const D=`character_${Date.now()}`;c($=>({...$,[D]:{name:"New Character",defaultEmotion:"default",portraits:{default:"/characters/default/default.png"}}}))},v=(D,$)=>{c(H=>({...H,[D]:{...H[D],...$}}))},E=D=>{!d||!p||(c($=>({...$,[D]:{...$[D],portraits:{...$[D].portraits,[d]:p}}})),h(""),g(""))},k=D=>{c($=>{const H={...$};return delete H[D],H})},A=()=>{l({...n,characters:a}),i()},j=()=>{c(n.characters),i()};return o?x.jsx("div",{className:"modal-overlay",children:x.jsxs("div",{className:"character-manager-modal",children:[x.jsxs("div",{className:"character-manager-header",children:[x.jsx("h3",{children:"Character Manager"}),x.jsx("button",{onClick:j,className:"close-button",children:"Ã—"})]}),x.jsxs("div",{className:"character-manager-content",children:[x.jsx("button",{onClick:m,className:"add-character-button",children:"Add Character"}),x.jsx("div",{className:"character-list",children:Object.entries(a).map(([D,$])=>x.jsxs("div",{className:"character-item",children:[x.jsxs("div",{className:"character-header",children:[x.jsx("input",{type:"text",value:$.name,onChange:H=>v(D,{name:H.target.value}),className:"character-name-input"}),x.jsx("select",{value:$.defaultEmotion,onChange:H=>v(D,{defaultEmotion:H.target.value}),className:"default-emotion-select",children:Object.keys($.portraits).map(H=>x.jsx("option",{value:H,children:H},H))}),x.jsx("button",{onClick:()=>k(D),className:"delete-character-button",title:"Delete Character",children:"ðŸ—‘ï¸"})]}),x.jsxs("div",{className:"portrait-list",children:[Object.entries($.portraits).map(([H,G])=>x.jsxs("div",{className:"portrait-item",children:[x.jsx("span",{className:"portrait-emotion",children:H}),x.jsx("input",{type:"text",value:G,onChange:O=>v(D,{portraits:{...$.portraits,[H]:O.target.value}}),className:"portrait-url-input"})]},H)),x.jsxs("div",{className:"add-portrait",children:[x.jsx("input",{type:"text",value:d,onChange:H=>h(H.target.value),placeholder:"Emotion name...",className:"new-emotion-input"}),x.jsx("input",{type:"text",value:p,onChange:H=>g(H.target.value),placeholder:"Portrait URL...",className:"new-url-input"}),x.jsx("button",{onClick:()=>E(D),className:"add-portrait-button",children:"Add Portrait"})]})]})]},D))})]}),x.jsxs("div",{className:"character-manager-footer",children:[x.jsx("button",{onClick:j,className:"cancel-button",children:"Cancel"}),x.jsx("button",{onClick:A,className:"save-button",children:"Save Changes"})]})]})}):null},gu="dialogue_tree_data",Us="./characters/default/default.webp",X1=()=>{var ne,q,R,b;const[n,o]=V.useState(null),[i,l]=V.useState(null),[a,c]=V.useState(!1),[d,h]=V.useState(!1),[p,g]=V.useState(!1),[m,v]=V.useState(""),[E]=V.useState(Og()),[k,A]=V.useState(((ne=E[0])==null?void 0:ne.path)||""),[j,D]=V.useState(!1);V.useEffect(()=>{const B=localStorage.getItem(gu);if(B)try{o(JSON.parse(B))}catch(Y){console.error("Error loading saved data:",Y),K()}else K()},[]),V.useEffect(()=>{n&&localStorage.setItem(gu,JSON.stringify(n))},[n]);const $=async()=>{if(!n)return;const B=JSON.stringify(n,null,2),Y=`${n.name}.json`;try{if("showSaveFilePicker"in window){const _=await(await window.showSaveFilePicker({suggestedName:Y,types:[{description:"JSON File",accept:{"application/json":[".json"]}}]})).createWritable();await _.write(B),await _.close()}else throw new Error("File system API not supported")}catch(S){if(S&&typeof S=="object"&&"name"in S&&S.name!=="AbortError"){console.error("Error saving file:",S);const _=document.createElement("a"),C=new Blob([B],{type:"application/json"});_.href=URL.createObjectURL(C),_.download=Y,document.body.appendChild(_),_.click(),document.body.removeChild(_)}}},H=async B=>{if(B&&window.confirm("Loading a file will discard any unsaved changes. Continue?"))try{const Y=await B.text();if(B.name.endsWith(".tres"))console.log("Not yet implemented");else{const S=JSON.parse(Y);o(S)}l(null),localStorage.removeItem(gu)}catch(Y){console.error("Error loading file:",Y)}},G=()=>{var B,Y,S;if(n){if(!n.characters.default){o({...n,characters:{...n.characters,default:{name:"Default",defaultEmotion:"default",portraits:{default:Us}}}});return}p?(o({...n,characters:{...n.characters,default:{...n.characters.default,portraits:{...n.characters.default.portraits,default:m}}}}),g(!1)):(v(((S=(Y=(B=n==null?void 0:n.characters)==null?void 0:B.default)==null?void 0:Y.portraits)==null?void 0:S.default)||Us),g(!0))}},O=B=>{l(B),c(!0)},J=B=>{if(console.log("DialogueEditor handleNodeSave called"),console.log("DialogueEditor handleNodeSave - before:",n==null?void 0:n.nodes[B.id]),console.log("DialogueEditor handleNodeSave - update:",B),!n)return;const Y={...n,nodes:{...n.nodes,[B.id]:{...B}}};console.log("DialogueEditor handleNodeSave - after:",Y.nodes[B.id]),o(Y),l(null),c(!1)},Q=B=>{if(!n)return;const Y={id:B,character:Object.keys(n.characters)[0],speaker:n.characters[Object.keys(n.characters)[0]].name,text:"New dialogue node",choices:[{id:`choice_${Date.now()}`,text:"Continue",nextNodeId:""}]};o(S=>S&&{...S,nodes:{...S.nodes,[B]:Y}})},K=async()=>{try{const B=E.find(Y=>Y.path===k);if(B){const S=await(await fetch(B.path)).json();S.characters||(S.characters={default:{name:"Default",defaultEmotion:"default",portraits:{default:Us}}}),o(S)}}catch(B){console.error("Error loading template:",B),o({name:"New Dialogue",characters:{default:{name:"Default",defaultEmotion:"default",portraits:{default:Us}}},startNodeId:"start",nodes:{}})}};return n?x.jsxs("div",{className:"dialogue-editor",children:[x.jsx("div",{className:"editor-header",children:x.jsxs("div",{className:"editor-controls",children:[x.jsx("select",{value:k,onChange:B=>A(B.target.value),className:"template-select",children:E.map(B=>x.jsx("option",{value:B.path,children:B.name},B.path))}),x.jsx("button",{onClick:K,className:"template-button",children:"New from Template"}),x.jsx("div",{className:"editor-controls-divider"}),x.jsxs("div",{className:"picture-edit-container",children:[p?x.jsx("input",{type:"text",value:m,onChange:B=>v(B.target.value),placeholder:"Character picture URL...",className:"picture-url-input"}):x.jsx("span",{className:"current-picture",children:((b=(R=(q=n==null?void 0:n.characters)==null?void 0:q.default)==null?void 0:R.portraits)==null?void 0:b.default)||"No picture set"}),x.jsx("button",{onClick:G,className:"picture-edit-button",children:p?"Save":"Edit Picture"})]}),x.jsx("div",{className:"editor-controls-divider"}),x.jsx("button",{onClick:$,className:"save-button",children:"Save"}),x.jsx("input",{type:"file",accept:".json,.tres",onChange:B=>{var S;const Y=(S=B.target.files)==null?void 0:S[0];Y&&H(Y),B.target.value=""},style:{display:"none"},id:"load-file"}),x.jsx("label",{htmlFor:"load-file",className:"load-button",children:"Load"}),x.jsx("button",{onClick:()=>h(!0),className:"preview-button",children:"Preview"}),x.jsx("button",{onClick:()=>U1(n),className:"export-button",children:"Export Resource"}),x.jsx("button",{onClick:W1,className:"export-button",children:"Export Script"}),x.jsx("button",{onClick:()=>D(!0),className:"character-manager-button",children:"ðŸ‘¥ Characters"})]})}),x.jsx("div",{className:"editor-content",children:x.jsx(B1,{dialogueTree:n,onNodeSelect:O,onCreateNode:Q,onUpdate:B=>{console.log("DialogueEditor onUpdate called with:",B),o(B)}})}),i&&x.jsx(Xp,{node:i,dialogueTree:n,isOpen:a,onClose:()=>c(!1),onSave:J,availableNodes:Object.keys(n.nodes),onCreateNode:Q}),x.jsx(q1,{dialogueTree:n,isOpen:d,onClose:()=>h(!1)}),x.jsx(Y1,{dialogueTree:n,isOpen:j,onClose:()=>D(!1),onUpdate:o})]}):x.jsx("div",{children:"Loading..."})};function G1(){return x.jsx(Lg,{children:x.jsxs("div",{className:"App",children:[x.jsx("header",{children:x.jsx("h1",{children:"Dialogue Tree Editor"})}),x.jsxs("main",{children:[x.jsx(X1,{}),x.jsx(Fg,{})]})]})})}var Ws={},_h;function K1(){if(_h)return Ws;_h=1;var n=tp();return Ws.createRoot=n.createRoot,Ws.hydrateRoot=n.hydrateRoot,Ws}var Q1=K1();const Z1=Q1.createRoot(document.getElementById("root"));Z1.render(x.jsx(G1,{}));
